(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();function t2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sc={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function v3(){if(Rm)return wl;Rm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:t,type:a,key:c,ref:l!==void 0?l:null,props:o}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var km;function y3(){return km||(km=1,sc.exports=v3()),sc.exports}var v=y3(),oc={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function x3(){if(Im)return Le;Im=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function U(L,$,de){this.props=L,this.context=$,this.refs=k,this.updater=de||_}U.prototype.isReactComponent={},U.prototype.setState=function(L,$){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,$,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function P(){}P.prototype=U.prototype;function J(L,$,de){this.props=L,this.context=$,this.refs=k,this.updater=de||_}var ee=J.prototype=new P;ee.constructor=J,R(ee,U.prototype),ee.isPureReactComponent=!0;var ae=Array.isArray;function te(){}var q={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function Z(L,$,de){var xe=de.ref;return{$$typeof:t,type:L,key:$,ref:xe!==void 0?xe:null,props:de}}function me(L,$){return Z(L.type,$,L.props)}function Se(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function pe(L){var $={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return $[de]})}var Me=/\/+/g;function Ge(L,$){return typeof L=="object"&&L!==null&&L.key!=null?pe(""+L.key):$.toString(36)}function Ye(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(te,te):(L.status="pending",L.then(function($){L.status==="pending"&&(L.status="fulfilled",L.value=$)},function($){L.status==="pending"&&(L.status="rejected",L.reason=$)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function j(L,$,de,xe,Ae){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(Q){case"bigint":case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case t:case e:se=!0;break;case x:return se=L._init,j(se(L._payload),$,de,xe,Ae)}}if(se)return Ae=Ae(L),se=xe===""?"."+Ge(L,0):xe,ae(Ae)?(de="",se!=null&&(de=se.replace(Me,"$&/")+"/"),j(Ae,$,de,"",function(bn){return bn})):Ae!=null&&(Se(Ae)&&(Ae=me(Ae,de+(Ae.key==null||L&&L.key===Ae.key?"":(""+Ae.key).replace(Me,"$&/")+"/")+se)),$.push(Ae)),1;se=0;var Pe=xe===""?".":xe+":";if(ae(L))for(var it=0;it<L.length;it++)xe=L[it],Q=Pe+Ge(xe,it),se+=j(xe,$,de,Q,Ae);else if(it=E(L),typeof it=="function")for(L=it.call(L),it=0;!(xe=L.next()).done;)xe=xe.value,Q=Pe+Ge(xe,it++),se+=j(xe,$,de,Q,Ae);else if(Q==="object"){if(typeof L.then=="function")return j(Ye(L),$,de,xe,Ae);throw $=String(L),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return se}function ie(L,$,de){if(L==null)return L;var xe=[],Ae=0;return j(L,xe,"","",function(Q){return $.call(de,Q,Ae++)}),xe}function fe(L){if(L._status===-1){var $=L._result;$=$(),$.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=$)}if(L._status===1)return L._result.default;throw L._result}var Ne=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ee={map:ie,forEach:function(L,$,de){ie(L,function(){$.apply(this,arguments)},de)},count:function(L){var $=0;return ie(L,function(){$++}),$},toArray:function(L){return ie(L,function($){return $})||[]},only:function(L){if(!Se(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Le.Activity=S,Le.Children=Ee,Le.Component=U,Le.Fragment=i,Le.Profiler=l,Le.PureComponent=J,Le.StrictMode=a,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Le.__COMPILER_RUNTIME={__proto__:null,c:function(L){return q.H.useMemoCache(L)}},Le.cache=function(L){return function(){return L.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(L,$,de){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var xe=R({},L.props),Ae=L.key;if($!=null)for(Q in $.key!==void 0&&(Ae=""+$.key),$)!K.call($,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&$.ref===void 0||(xe[Q]=$[Q]);var Q=arguments.length-2;if(Q===1)xe.children=de;else if(1<Q){for(var se=Array(Q),Pe=0;Pe<Q;Pe++)se[Pe]=arguments[Pe+2];xe.children=se}return Z(L.type,Ae,xe)},Le.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Le.createElement=function(L,$,de){var xe,Ae={},Q=null;if($!=null)for(xe in $.key!==void 0&&(Q=""+$.key),$)K.call($,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Ae[xe]=$[xe]);var se=arguments.length-2;if(se===1)Ae.children=de;else if(1<se){for(var Pe=Array(se),it=0;it<se;it++)Pe[it]=arguments[it+2];Ae.children=Pe}if(L&&L.defaultProps)for(xe in se=L.defaultProps,se)Ae[xe]===void 0&&(Ae[xe]=se[xe]);return Z(L,Q,Ae)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(L){return{$$typeof:f,render:L}},Le.isValidElement=Se,Le.lazy=function(L){return{$$typeof:x,_payload:{_status:-1,_result:L},_init:fe}},Le.memo=function(L,$){return{$$typeof:m,type:L,compare:$===void 0?null:$}},Le.startTransition=function(L){var $=q.T,de={};q.T=de;try{var xe=L(),Ae=q.S;Ae!==null&&Ae(de,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(te,Ne)}catch(Q){Ne(Q)}finally{$!==null&&de.types!==null&&($.types=de.types),q.T=$}},Le.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Le.use=function(L){return q.H.use(L)},Le.useActionState=function(L,$,de){return q.H.useActionState(L,$,de)},Le.useCallback=function(L,$){return q.H.useCallback(L,$)},Le.useContext=function(L){return q.H.useContext(L)},Le.useDebugValue=function(){},Le.useDeferredValue=function(L,$){return q.H.useDeferredValue(L,$)},Le.useEffect=function(L,$){return q.H.useEffect(L,$)},Le.useEffectEvent=function(L){return q.H.useEffectEvent(L)},Le.useId=function(){return q.H.useId()},Le.useImperativeHandle=function(L,$,de){return q.H.useImperativeHandle(L,$,de)},Le.useInsertionEffect=function(L,$){return q.H.useInsertionEffect(L,$)},Le.useLayoutEffect=function(L,$){return q.H.useLayoutEffect(L,$)},Le.useMemo=function(L,$){return q.H.useMemo(L,$)},Le.useOptimistic=function(L,$){return q.H.useOptimistic(L,$)},Le.useReducer=function(L,$,de){return q.H.useReducer(L,$,de)},Le.useRef=function(L){return q.H.useRef(L)},Le.useState=function(L){return q.H.useState(L)},Le.useSyncExternalStore=function(L,$,de){return q.H.useSyncExternalStore(L,$,de)},Le.useTransition=function(){return q.H.useTransition()},Le.version="19.2.3",Le}var Dm;function Wc(){return Dm||(Dm=1,oc.exports=x3()),oc.exports}var ge=Wc();const b3=t2(ge);var uc={exports:{}},Al={},cc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function S3(){return zm||(zm=1,(function(t){function e(j,ie){var fe=j.length;j.push(ie);e:for(;0<fe;){var Ne=fe-1>>>1,Ee=j[Ne];if(0<l(Ee,ie))j[Ne]=ie,j[fe]=Ee,fe=Ne;else break e}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var ie=j[0],fe=j.pop();if(fe!==ie){j[0]=fe;e:for(var Ne=0,Ee=j.length,L=Ee>>>1;Ne<L;){var $=2*(Ne+1)-1,de=j[$],xe=$+1,Ae=j[xe];if(0>l(de,fe))xe<Ee&&0>l(Ae,de)?(j[Ne]=Ae,j[xe]=fe,Ne=xe):(j[Ne]=de,j[$]=fe,Ne=$);else if(xe<Ee&&0>l(Ae,fe))j[Ne]=Ae,j[xe]=fe,Ne=xe;else break e}}return ie}function l(j,ie){var fe=j.sortIndex-ie.sortIndex;return fe!==0?fe:j.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],x=1,S=null,T=3,E=!1,_=!1,R=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ee(j){for(var ie=i(m);ie!==null;){if(ie.callback===null)a(m);else if(ie.startTime<=j)a(m),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(m)}}function ae(j){if(R=!1,ee(j),!_)if(i(p)!==null)_=!0,te||(te=!0,pe());else{var ie=i(m);ie!==null&&Ye(ae,ie.startTime-j)}}var te=!1,q=-1,K=5,Z=-1;function me(){return k?!0:!(t.unstable_now()-Z<K)}function Se(){if(k=!1,te){var j=t.unstable_now();Z=j;var ie=!0;try{e:{_=!1,R&&(R=!1,P(q),q=-1),E=!0;var fe=T;try{t:{for(ee(j),S=i(p);S!==null&&!(S.expirationTime>j&&me());){var Ne=S.callback;if(typeof Ne=="function"){S.callback=null,T=S.priorityLevel;var Ee=Ne(S.expirationTime<=j);if(j=t.unstable_now(),typeof Ee=="function"){S.callback=Ee,ee(j),ie=!0;break t}S===i(p)&&a(p),ee(j)}else a(p);S=i(p)}if(S!==null)ie=!0;else{var L=i(m);L!==null&&Ye(ae,L.startTime-j),ie=!1}}break e}finally{S=null,T=fe,E=!1}ie=void 0}}finally{ie?pe():te=!1}}}var pe;if(typeof J=="function")pe=function(){J(Se)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Ge=Me.port2;Me.port1.onmessage=Se,pe=function(){Ge.postMessage(null)}}else pe=function(){U(Se,0)};function Ye(j,ie){q=U(function(){j(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(j){switch(T){case 1:case 2:case 3:var ie=3;break;default:ie=T}var fe=T;T=ie;try{return j()}finally{T=fe}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(j,ie){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var fe=T;T=j;try{return ie()}finally{T=fe}},t.unstable_scheduleCallback=function(j,ie,fe){var Ne=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ne+fe:Ne):fe=Ne,j){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=fe+Ee,j={id:x++,callback:ie,priorityLevel:j,startTime:fe,expirationTime:Ee,sortIndex:-1},fe>Ne?(j.sortIndex=fe,e(m,j),i(p)===null&&j===i(m)&&(R?(P(q),q=-1):R=!0,Ye(ae,fe-Ne))):(j.sortIndex=Ee,e(p,j),_||E||(_=!0,te||(te=!0,pe()))),j},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(j){var ie=T;return function(){var fe=T;T=ie;try{return j.apply(this,arguments)}finally{T=fe}}}})(dc)),dc}var Lm;function T3(){return Lm||(Lm=1,cc.exports=S3()),cc.exports}var fc={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function w3(){if(Um)return Ot;Um=1;var t=Wc();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(p,m,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:m,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ot.createPortal=function(p,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(p,m,null,x)},Ot.flushSync=function(p){var m=c.T,x=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=m,a.p=x,a.d.f()}},Ot.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},Ot.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ot.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var x=m.as,S=f(x,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:E}):x==="script"&&a.d.X(p,{crossOrigin:S,integrity:T,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ot.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=f(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},Ot.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,S=f(x,m.crossOrigin);a.d.L(p,x,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ot.preloadModule=function(p,m){if(typeof p=="string")if(m){var x=f(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},Ot.requestFormReset=function(p){a.d.r(p)},Ot.unstable_batchedUpdates=function(p,m){return p(m)},Ot.useFormState=function(p,m,x){return c.H.useFormState(p,m,x)},Ot.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ot.version="19.2.3",Ot}var Bm;function A3(){if(Bm)return fc.exports;Bm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fc.exports=w3(),fc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function E3(){if(Hm)return Al;Hm=1;var t=T3(),e=Wc(),i=A3();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(o(n)!==n)throw Error(a(188))}function m(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(a(188));return r!==n?null:n}for(var s=n,u=r;;){var g=s.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){s=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===s)return p(g),n;if(y===u)return p(g),r;y=y.sibling}throw Error(a(188))}if(s.return!==u.return)s=g,u=y;else{for(var A=!1,N=g.child;N;){if(N===s){A=!0,s=g,u=y;break}if(N===u){A=!0,u=g,s=y;break}N=N.sibling}if(!A){for(N=y.child;N;){if(N===s){A=!0,s=y,u=g;break}if(N===u){A=!0,u=y,s=g;break}N=N.sibling}if(!A)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:r}function x(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=x(n),r!==null)return r;n=n.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=Se&&n[Se]||n["@@iterator"],typeof n=="function"?n:null)}var Me=Symbol.for("react.client.reference");function Ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Me?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case J:return n.displayName||"Context";case P:return(n._context.displayName||"Context")+".Consumer";case ee:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return r=n.displayName||null,r!==null?r:Ge(n.type)||"Memo";case K:r=n._payload,n=n._init;try{return Ge(n(r))}catch{}}return null}var Ye=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ne=[],Ee=-1;function L(n){return{current:n}}function $(n){0>Ee||(n.current=Ne[Ee],Ne[Ee]=null,Ee--)}function de(n,r){Ee++,Ne[Ee]=n.current,n.current=r}var xe=L(null),Ae=L(null),Q=L(null),se=L(null);function Pe(n,r){switch(de(Q,r),de(Ae,n),de(xe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?W1(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=W1(r),n=em(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(xe),de(xe,n)}function it(){$(xe),$(Ae),$(Q)}function bn(n){n.memoizedState!==null&&de(se,n);var r=xe.current,s=em(r,n.type);r!==s&&(de(Ae,n),de(xe,s))}function _i(n){Ae.current===n&&($(xe),$(Ae)),se.current===n&&($(se),xl._currentValue=fe)}var cr,Wn;function ue(n){if(cr===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);cr=r&&r[1]||"",Wn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cr+n+Wn}var qe=!1;function De(n,r){if(!n||qe)return"";qe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Y=X}Reflect.construct(n,[],re)}else{try{re.call()}catch(X){Y=X}n.call(re.prototype)}}else{try{throw Error()}catch(X){Y=X}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),A=y[0],N=y[1];if(A&&N){var z=A.split(`
`),F=N.split(`
`);for(g=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===z.length||g===F.length)for(u=z.length-1,g=F.length-1;1<=u&&0<=g&&z[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(z[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||z[u]!==F[g]){var W=`
`+z[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=g);break}}}finally{qe=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?ue(s):""}function rt(n,r){switch(n.tag){case 26:case 27:case 5:return ue(n.type);case 16:return ue("Lazy");case 13:return n.child!==r&&r!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return De(n.type,!1);case 11:return De(n.type.render,!1);case 1:return De(n.type,!0);case 31:return ue("Activity");default:return""}}function Dt(n){try{var r="",s=null;do r+=rt(n,s),s=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ri=Object.prototype.hasOwnProperty,Jo=t.unstable_scheduleCallback,Xo=t.unstable_cancelCallback,Kg=t.unstable_shouldYield,$g=t.unstable_requestPaint,sn=t.unstable_now,Qg=t.unstable_getCurrentPriorityLevel,Rd=t.unstable_ImmediatePriority,kd=t.unstable_UserBlockingPriority,Bl=t.unstable_NormalPriority,Zg=t.unstable_LowPriority,Id=t.unstable_IdlePriority,Wg=t.log,ev=t.unstable_setDisableYieldValue,ka=null,on=null;function ki(n){if(typeof Wg=="function"&&ev(n),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(ka,n)}catch{}}var un=Math.clz32?Math.clz32:iv,tv=Math.log,nv=Math.LN2;function iv(n){return n>>>=0,n===0?32:31-(tv(n)/nv|0)|0}var Hl=256,Gl=262144,ql=4194304;function dr(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Pl(n,r,s){var u=n.pendingLanes;if(u===0)return 0;var g=0,y=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var N=u&134217727;return N!==0?(u=N&~y,u!==0?g=dr(u):(A&=N,A!==0?g=dr(A):s||(s=N&~n,s!==0&&(g=dr(s))))):(N=u&~y,N!==0?g=dr(N):A!==0?g=dr(A):s||(s=u&~n,s!==0&&(g=dr(s)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,s=r&-r,y>=s||y===32&&(s&4194048)!==0)?r:g}function Ia(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function rv(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dd(){var n=ql;return ql<<=1,(ql&62914560)===0&&(ql=4194304),n}function Ko(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Da(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function av(n,r,s,u,g,y){var A=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var N=n.entanglements,z=n.expirationTimes,F=n.hiddenUpdates;for(s=A&~s;0<s;){var W=31-un(s),re=1<<W;N[W]=0,z[W]=-1;var Y=F[W];if(Y!==null)for(F[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}s&=~re}u!==0&&zd(n,u,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(A&~r))}function zd(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-un(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function Ld(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var u=31-un(s),g=1<<u;g&r|n[u]&r&&(n[u]|=r),s&=~g}}function Ud(n,r){var s=r&-r;return s=(s&42)!==0?1:$o(s),(s&(n.suspendedLanes|r))!==0?0:s}function $o(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Qo(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Bd(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:wm(n.type))}function Hd(n,r){var s=ie.p;try{return ie.p=n,r()}finally{ie.p=s}}var Ii=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Ii,$t="__reactProps$"+Ii,zr="__reactContainer$"+Ii,Zo="__reactEvents$"+Ii,lv="__reactListeners$"+Ii,sv="__reactHandles$"+Ii,Gd="__reactResources$"+Ii,za="__reactMarker$"+Ii;function Wo(n){delete n[Bt],delete n[$t],delete n[Zo],delete n[lv],delete n[sv]}function Lr(n){var r=n[Bt];if(r)return r;for(var s=n.parentNode;s;){if(r=s[zr]||s[Bt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=sm(n);n!==null;){if(s=n[Bt])return s;n=sm(n)}return r}n=s,s=n.parentNode}return null}function Ur(n){if(n=n[Bt]||n[zr]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function La(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function Br(n){var r=n[Gd];return r||(r=n[Gd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(n){n[za]=!0}var qd=new Set,Pd={};function fr(n,r){Hr(n,r),Hr(n+"Capture",r)}function Hr(n,r){for(Pd[n]=r,n=0;n<r.length;n++)qd.add(r[n])}var ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Od={},Vd={};function uv(n){return Ri.call(Vd,n)?!0:Ri.call(Od,n)?!1:ov.test(n)?Vd[n]=!0:(Od[n]=!0,!1)}function Ol(n,r,s){if(uv(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function Vl(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function ei(n,r,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+u)}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fd(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cv(n,r,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(A){s=""+A,y.call(this,A)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(A){s=""+A},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function e0(n){if(!n._valueTracker){var r=Fd(n)?"checked":"value";n._valueTracker=cv(n,r,""+n[r])}}function jd(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return n&&(u=Fd(n)?n.checked?"true":"false":n.value),n=u,n!==s?(r.setValue(n),!0):!1}function Fl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var dv=/[\n"\\]/g;function Tn(n){return n.replace(dv,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function t0(n,r,s,u,g,y,A,N){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),r!=null?A==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Sn(r)):n.value!==""+Sn(r)&&(n.value=""+Sn(r)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),r!=null?n0(n,A,Sn(r)):s!=null?n0(n,A,Sn(s)):u!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+Sn(N):n.removeAttribute("name")}function Yd(n,r,s,u,g,y,A,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),r!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){e0(n);return}s=s!=null?""+Sn(s):"",r=r!=null?""+Sn(r):s,N||r===n.value||(n.value=r),n.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=N?n.checked:!!u,n.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),e0(n)}function n0(n,r,s){r==="number"&&Fl(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Gr(n,r,s,u){if(n=n.options,r){r={};for(var g=0;g<s.length;g++)r["$"+s[g]]=!0;for(s=0;s<n.length;s++)g=r.hasOwnProperty("$"+n[s].value),n[s].selected!==g&&(n[s].selected=g),g&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Sn(s),r=null,g=0;g<n.length;g++){if(n[g].value===s){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function Jd(n,r,s){if(r!=null&&(r=""+Sn(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Sn(s):""}function Xd(n,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(a(92));if(Ye(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=Sn(r),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),e0(n)}function qr(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var fv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(n,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,s):typeof s!="number"||s===0||fv.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function $d(n,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&s[g]!==u&&Kd(n,g,u)}else for(var y in r)r.hasOwnProperty(y)&&Kd(n,y,r[y])}function i0(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(n){return mv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ti(){}var r0=null;function a0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pr=null,Or=null;function Qd(n){var r=Ur(n);if(r&&(n=r.stateNode)){var s=n[$t]||null;e:switch(n=r.stateNode,r.type){case"input":if(t0(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==n&&u.form===n.form){var g=u[$t]||null;if(!g)throw Error(a(90));t0(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===n.form&&jd(u)}break e;case"textarea":Jd(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Gr(n,!!s.multiple,r,!1)}}}var l0=!1;function Zd(n,r,s){if(l0)return n(r,s);l0=!0;try{var u=n(r);return u}finally{if(l0=!1,(Pr!==null||Or!==null)&&(Is(),Pr&&(r=Pr,n=Or,Or=Pr=null,Qd(r),n)))for(r=0;r<n.length;r++)Qd(n[r])}}function Ua(n,r){var s=n.stateNode;if(s===null)return null;var u=s[$t]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s0=!1;if(ni)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){s0=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{s0=!1}var Di=null,o0=null,Yl=null;function Wd(){if(Yl)return Yl;var n,r=o0,s=r.length,u,g="value"in Di?Di.value:Di.textContent,y=g.length;for(n=0;n<s&&r[n]===g[n];n++);var A=s-n;for(u=1;u<=A&&r[s-u]===g[y-u];u++);return Yl=g.slice(n,1<u?1-u:void 0)}function Jl(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Xl(){return!0}function ef(){return!1}function Qt(n){function r(s,u,g,y,A){this._reactName=s,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(s=n[N],this[N]=s?s(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xl:ef,this.isPropagationStopped=ef,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),r}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=Qt(hr),Ha=S({},hr,{view:0,detail:0}),pv=Qt(Ha),u0,c0,Ga,$l=S({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ga&&(Ga&&n.type==="mousemove"?(u0=n.screenX-Ga.screenX,c0=n.screenY-Ga.screenY):c0=u0=0,Ga=n),u0)},movementY:function(n){return"movementY"in n?n.movementY:c0}}),tf=Qt($l),gv=S({},$l,{dataTransfer:0}),vv=Qt(gv),yv=S({},Ha,{relatedTarget:0}),d0=Qt(yv),xv=S({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=Qt(xv),Sv=S({},hr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Tv=Qt(Sv),wv=S({},hr,{data:0}),nf=Qt(wv),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Cv[n])?!!r[n]:!1}function f0(){return Nv}var Mv=S({},Ha,{key:function(n){if(n.key){var r=Av[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Jl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ev[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f0,charCode:function(n){return n.type==="keypress"?Jl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Jl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_v=Qt(Mv),Rv=S({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Qt(Rv),kv=S({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f0}),Iv=Qt(kv),Dv=S({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zv=Qt(Dv),Lv=S({},$l,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=Qt(Lv),Bv=S({},hr,{newState:0,oldState:0}),Hv=Qt(Bv),Gv=[9,13,27,32],h0=ni&&"CompositionEvent"in window,qa=null;ni&&"documentMode"in document&&(qa=document.documentMode);var qv=ni&&"TextEvent"in window&&!qa,af=ni&&(!h0||qa&&8<qa&&11>=qa),lf=" ",sf=!1;function of(n,r){switch(n){case"keyup":return Gv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vr=!1;function Pv(n,r){switch(n){case"compositionend":return uf(r);case"keypress":return r.which!==32?null:(sf=!0,lf);case"textInput":return n=r.data,n===lf&&sf?null:n;default:return null}}function Ov(n,r){if(Vr)return n==="compositionend"||!h0&&of(n,r)?(n=Wd(),Yl=o0=Di=null,Vr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return af&&r.locale!=="ko"?null:r.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vv[n.type]:r==="textarea"}function df(n,r,s,u){Pr?Or?Or.push(u):Or=[u]:Pr=u,r=Gs(r,"onChange"),0<r.length&&(s=new Kl("onChange","change",null,s,u),n.push({event:s,listeners:r}))}var Pa=null,Oa=null;function Fv(n){J1(n,0)}function Ql(n){var r=La(n);if(jd(r))return n}function ff(n,r){if(n==="change")return r}var hf=!1;if(ni){var m0;if(ni){var p0="oninput"in document;if(!p0){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),p0=typeof mf.oninput=="function"}m0=p0}else m0=!1;hf=m0&&(!document.documentMode||9<document.documentMode)}function pf(){Pa&&(Pa.detachEvent("onpropertychange",gf),Oa=Pa=null)}function gf(n){if(n.propertyName==="value"&&Ql(Oa)){var r=[];df(r,Oa,n,a0(n)),Zd(Fv,r)}}function jv(n,r,s){n==="focusin"?(pf(),Pa=r,Oa=s,Pa.attachEvent("onpropertychange",gf)):n==="focusout"&&pf()}function Yv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ql(Oa)}function Jv(n,r){if(n==="click")return Ql(r)}function Xv(n,r){if(n==="input"||n==="change")return Ql(r)}function Kv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var cn=typeof Object.is=="function"?Object.is:Kv;function Va(n,r){if(cn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var g=s[u];if(!Ri.call(r,g)||!cn(n[g],r[g]))return!1}return!0}function vf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yf(n,r){var s=vf(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=r&&u>=r)return{node:s,offset:r-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=vf(s)}}function xf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?xf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function bf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Fl(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Fl(n.document)}return r}function g0(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var $v=ni&&"documentMode"in document&&11>=document.documentMode,Fr=null,v0=null,Fa=null,y0=!1;function Sf(n,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;y0||Fr==null||Fr!==Fl(u)||(u=Fr,"selectionStart"in u&&g0(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fa&&Va(Fa,u)||(Fa=u,u=Gs(v0,"onSelect"),0<u.length&&(r=new Kl("onSelect","select",null,r,s),n.push({event:r,listeners:u}),r.target=Fr)))}function mr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var jr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},x0={},Tf={};ni&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function pr(n){if(x0[n])return x0[n];if(!jr[n])return n;var r=jr[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in Tf)return x0[n]=r[s];return n}var wf=pr("animationend"),Af=pr("animationiteration"),Ef=pr("animationstart"),Qv=pr("transitionrun"),Zv=pr("transitionstart"),Wv=pr("transitioncancel"),Cf=pr("transitionend"),Nf=new Map,b0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");b0.push("scrollEnd");function Un(n,r){Nf.set(n,r),fr(r,[n])}var Zl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},wn=[],Yr=0,S0=0;function Wl(){for(var n=Yr,r=S0=Yr=0;r<n;){var s=wn[r];wn[r++]=null;var u=wn[r];wn[r++]=null;var g=wn[r];wn[r++]=null;var y=wn[r];if(wn[r++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}y!==0&&Mf(s,g,y)}}function es(n,r,s,u){wn[Yr++]=n,wn[Yr++]=r,wn[Yr++]=s,wn[Yr++]=u,S0|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function T0(n,r,s,u){return es(n,r,s,u),ts(n)}function gr(n,r){return es(n,null,null,r),ts(n)}function Mf(n,r,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var g=!1,y=n.return;y!==null;)y.childLanes|=s,u=y.alternate,u!==null&&(u.childLanes|=s),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&r!==null&&(g=31-un(s),n=y.hiddenUpdates,u=n[g],u===null?n[g]=[r]:u.push(r),r.lane=s|536870912),y):null}function ts(n){if(50<fl)throw fl=0,ku=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Jr={};function e5(n,r,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(n,r,s,u){return new e5(n,r,s,u)}function w0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ii(n,r){var s=n.alternate;return s===null?(s=dn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function _f(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function ns(n,r,s,u,g,y){var A=0;if(u=n,typeof n=="function")w0(n)&&(A=1);else if(typeof n=="string")A=a3(n,s,xe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=dn(31,s,r,g),n.elementType=Z,n.lanes=y,n;case R:return vr(s.children,g,y,r);case k:A=8,g|=24;break;case U:return n=dn(12,s,r,g|2),n.elementType=U,n.lanes=y,n;case ae:return n=dn(13,s,r,g),n.elementType=ae,n.lanes=y,n;case te:return n=dn(19,s,r,g),n.elementType=te,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:A=10;break e;case P:A=9;break e;case ee:A=11;break e;case q:A=14;break e;case K:A=16,u=null;break e}A=29,s=Error(a(130,n===null?"null":typeof n,"")),u=null}return r=dn(A,s,r,g),r.elementType=n,r.type=u,r.lanes=y,r}function vr(n,r,s,u){return n=dn(7,n,u,r),n.lanes=s,n}function A0(n,r,s){return n=dn(6,n,null,r),n.lanes=s,n}function Rf(n){var r=dn(18,null,null,0);return r.stateNode=n,r}function E0(n,r,s){return r=dn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var kf=new WeakMap;function An(n,r){if(typeof n=="object"&&n!==null){var s=kf.get(n);return s!==void 0?s:(r={value:n,source:r,stack:Dt(r)},kf.set(n,r),r)}return{value:n,source:r,stack:Dt(r)}}var Xr=[],Kr=0,is=null,ja=0,En=[],Cn=0,zi=null,Vn=1,Fn="";function ri(n,r){Xr[Kr++]=ja,Xr[Kr++]=is,is=n,ja=r}function If(n,r,s){En[Cn++]=Vn,En[Cn++]=Fn,En[Cn++]=zi,zi=n;var u=Vn;n=Fn;var g=32-un(u)-1;u&=~(1<<g),s+=1;var y=32-un(r)+g;if(30<y){var A=g-g%5;y=(u&(1<<A)-1).toString(32),u>>=A,g-=A,Vn=1<<32-un(r)+g|s<<g|u,Fn=y+n}else Vn=1<<y|s<<g|u,Fn=n}function C0(n){n.return!==null&&(ri(n,1),If(n,1,0))}function N0(n){for(;n===is;)is=Xr[--Kr],Xr[Kr]=null,ja=Xr[--Kr],Xr[Kr]=null;for(;n===zi;)zi=En[--Cn],En[Cn]=null,Fn=En[--Cn],En[Cn]=null,Vn=En[--Cn],En[Cn]=null}function Df(n,r){En[Cn++]=Vn,En[Cn++]=Fn,En[Cn++]=zi,Vn=r.id,Fn=r.overflow,zi=n}var Ht=null,dt=null,Je=!1,Li=null,Nn=!1,M0=Error(a(519));function Ui(n){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ya(An(r,n)),M0}function zf(n){var r=n.stateNode,s=n.type,u=n.memoizedProps;switch(r[Bt]=n,r[$t]=u,s){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<ml.length;s++)Ve(ml[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),Yd(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Xd(r,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||Q1(r.textContent,s)?(u.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),u.onScroll!=null&&Ve("scroll",r),u.onScrollEnd!=null&&Ve("scrollend",r),u.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Ui(n,!0)}function Lf(n){for(Ht=n.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Ht=Ht.return}}function $r(n){if(n!==Ht)return!1;if(!Je)return Lf(n),Je=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Yu(n.type,n.memoizedProps)),s=!s),s&&dt&&Ui(n),Lf(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));dt=lm(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));dt=lm(n)}else r===27?(r=dt,$i(n.type)?(n=Qu,Qu=null,dt=n):dt=r):dt=Ht?_n(n.stateNode.nextSibling):null;return!0}function yr(){dt=Ht=null,Je=!1}function _0(){var n=Li;return n!==null&&(tn===null?tn=n:tn.push.apply(tn,n),Li=null),n}function Ya(n){Li===null?Li=[n]:Li.push(n)}var R0=L(null),xr=null,ai=null;function Bi(n,r,s){de(R0,r._currentValue),r._currentValue=s}function li(n){n._currentValue=R0.current,$(R0)}function k0(n,r,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===s)break;n=n.return}}function I0(n,r,s,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=g;for(var z=0;z<r.length;z++)if(N.context===r[z]){y.lanes|=s,N=y.alternate,N!==null&&(N.lanes|=s),k0(y.return,s,n),u||(A=null);break e}y=N.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(a(341));A.lanes|=s,y=A.alternate,y!==null&&(y.lanes|=s),k0(A,s,n),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===n){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Qr(n,r,s,u){n=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var N=g.type;cn(g.pendingProps.value,A.value)||(n!==null?n.push(N):n=[N])}}else if(g===se.current){if(A=g.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(xl):n=[xl])}g=g.return}n!==null&&I0(r,n,s,u),r.flags|=262144}function rs(n){for(n=n.firstContext;n!==null;){if(!cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function br(n){xr=n,ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Gt(n){return Uf(xr,n)}function as(n,r){return xr===null&&br(n),Uf(n,r)}function Uf(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},ai===null){if(n===null)throw Error(a(308));ai=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ai=ai.next=r;return s}var t5=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},n5=t.unstable_scheduleCallback,i5=t.unstable_NormalPriority,At={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function D0(){return{controller:new t5,data:new Map,refCount:0}}function Ja(n){n.refCount--,n.refCount===0&&n5(i5,function(){n.controller.abort()})}var Xa=null,z0=0,Zr=0,Wr=null;function r5(n,r){if(Xa===null){var s=Xa=[];z0=0,Zr=Bu(),Wr={status:"pending",value:void 0,then:function(u){s.push(u)}}}return z0++,r.then(Bf,Bf),r}function Bf(){if(--z0===0&&Xa!==null){Wr!==null&&(Wr.status="fulfilled");var n=Xa;Xa=null,Zr=0,Wr=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function a5(n,r){var s=[],u={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<s.length;g++)(0,s[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),u}var Hf=j.S;j.S=function(n,r){S1=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r5(n,r),Hf!==null&&Hf(n,r)};var Sr=L(null);function L0(){var n=Sr.current;return n!==null?n:ot.pooledCache}function ls(n,r){r===null?de(Sr,Sr.current):de(Sr,r.pool)}function Gf(){var n=L0();return n===null?null:{parent:At._currentValue,pool:n}}var ea=Error(a(460)),U0=Error(a(474)),ss=Error(a(542)),os={then:function(){}};function qf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Pf(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(ti,ti),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Vf(n),n;default:if(typeof r.status=="string")r.then(ti,ti);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Vf(n),n}throw wr=r,ea}}function Tr(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,ea):s}}var wr=null;function Of(){if(wr===null)throw Error(a(459));var n=wr;return wr=null,n}function Vf(n){if(n===ea||n===ss)throw Error(a(483))}var ta=null,Ka=0;function us(n){var r=Ka;return Ka+=1,ta===null&&(ta=[]),Pf(ta,n,r)}function $a(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function cs(n,r){throw r.$$typeof===T?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ff(n){function r(G,B){if(n){var O=G.deletions;O===null?(G.deletions=[B],G.flags|=16):O.push(B)}}function s(G,B){if(!n)return null;for(;B!==null;)r(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function g(G,B){return G=ii(G,B),G.index=0,G.sibling=null,G}function y(G,B,O){return G.index=O,n?(O=G.alternate,O!==null?(O=O.index,O<B?(G.flags|=67108866,B):O):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function A(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function N(G,B,O,ne){return B===null||B.tag!==6?(B=A0(O,G.mode,ne),B.return=G,B):(B=g(B,O),B.return=G,B)}function z(G,B,O,ne){var Ce=O.type;return Ce===R?W(G,B,O.props.children,ne,O.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===K&&Tr(Ce)===B.type)?(B=g(B,O.props),$a(B,O),B.return=G,B):(B=ns(O.type,O.key,O.props,null,G.mode,ne),$a(B,O),B.return=G,B)}function F(G,B,O,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==O.containerInfo||B.stateNode.implementation!==O.implementation?(B=E0(O,G.mode,ne),B.return=G,B):(B=g(B,O.children||[]),B.return=G,B)}function W(G,B,O,ne,Ce){return B===null||B.tag!==7?(B=vr(O,G.mode,ne,Ce),B.return=G,B):(B=g(B,O),B.return=G,B)}function re(G,B,O){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=A0(""+B,G.mode,O),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return O=ns(B.type,B.key,B.props,null,G.mode,O),$a(O,B),O.return=G,O;case _:return B=E0(B,G.mode,O),B.return=G,B;case K:return B=Tr(B),re(G,B,O)}if(Ye(B)||pe(B))return B=vr(B,G.mode,O,null),B.return=G,B;if(typeof B.then=="function")return re(G,us(B),O);if(B.$$typeof===J)return re(G,as(G,B),O);cs(G,B)}return null}function Y(G,B,O,ne){var Ce=B!==null?B.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return Ce!==null?null:N(G,B,""+O,ne);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===Ce?z(G,B,O,ne):null;case _:return O.key===Ce?F(G,B,O,ne):null;case K:return O=Tr(O),Y(G,B,O,ne)}if(Ye(O)||pe(O))return Ce!==null?null:W(G,B,O,ne,null);if(typeof O.then=="function")return Y(G,B,us(O),ne);if(O.$$typeof===J)return Y(G,B,as(G,O),ne);cs(G,O)}return null}function X(G,B,O,ne,Ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return G=G.get(O)||null,N(B,G,""+ne,Ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return G=G.get(ne.key===null?O:ne.key)||null,z(B,G,ne,Ce);case _:return G=G.get(ne.key===null?O:ne.key)||null,F(B,G,ne,Ce);case K:return ne=Tr(ne),X(G,B,O,ne,Ce)}if(Ye(ne)||pe(ne))return G=G.get(O)||null,W(B,G,ne,Ce,null);if(typeof ne.then=="function")return X(G,B,O,us(ne),Ce);if(ne.$$typeof===J)return X(G,B,O,as(B,ne),Ce);cs(B,ne)}return null}function Te(G,B,O,ne){for(var Ce=null,Ke=null,we=B,Be=B=0,je=null;we!==null&&Be<O.length;Be++){we.index>Be?(je=we,we=null):je=we.sibling;var $e=Y(G,we,O[Be],ne);if($e===null){we===null&&(we=je);break}n&&we&&$e.alternate===null&&r(G,we),B=y($e,B,Be),Ke===null?Ce=$e:Ke.sibling=$e,Ke=$e,we=je}if(Be===O.length)return s(G,we),Je&&ri(G,Be),Ce;if(we===null){for(;Be<O.length;Be++)we=re(G,O[Be],ne),we!==null&&(B=y(we,B,Be),Ke===null?Ce=we:Ke.sibling=we,Ke=we);return Je&&ri(G,Be),Ce}for(we=u(we);Be<O.length;Be++)je=X(we,G,Be,O[Be],ne),je!==null&&(n&&je.alternate!==null&&we.delete(je.key===null?Be:je.key),B=y(je,B,Be),Ke===null?Ce=je:Ke.sibling=je,Ke=je);return n&&we.forEach(function(tr){return r(G,tr)}),Je&&ri(G,Be),Ce}function ke(G,B,O,ne){if(O==null)throw Error(a(151));for(var Ce=null,Ke=null,we=B,Be=B=0,je=null,$e=O.next();we!==null&&!$e.done;Be++,$e=O.next()){we.index>Be?(je=we,we=null):je=we.sibling;var tr=Y(G,we,$e.value,ne);if(tr===null){we===null&&(we=je);break}n&&we&&tr.alternate===null&&r(G,we),B=y(tr,B,Be),Ke===null?Ce=tr:Ke.sibling=tr,Ke=tr,we=je}if($e.done)return s(G,we),Je&&ri(G,Be),Ce;if(we===null){for(;!$e.done;Be++,$e=O.next())$e=re(G,$e.value,ne),$e!==null&&(B=y($e,B,Be),Ke===null?Ce=$e:Ke.sibling=$e,Ke=$e);return Je&&ri(G,Be),Ce}for(we=u(we);!$e.done;Be++,$e=O.next())$e=X(we,G,Be,$e.value,ne),$e!==null&&(n&&$e.alternate!==null&&we.delete($e.key===null?Be:$e.key),B=y($e,B,Be),Ke===null?Ce=$e:Ke.sibling=$e,Ke=$e);return n&&we.forEach(function(g3){return r(G,g3)}),Je&&ri(G,Be),Ce}function st(G,B,O,ne){if(typeof O=="object"&&O!==null&&O.type===R&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var Ce=O.key;B!==null;){if(B.key===Ce){if(Ce=O.type,Ce===R){if(B.tag===7){s(G,B.sibling),ne=g(B,O.props.children),ne.return=G,G=ne;break e}}else if(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===K&&Tr(Ce)===B.type){s(G,B.sibling),ne=g(B,O.props),$a(ne,O),ne.return=G,G=ne;break e}s(G,B);break}else r(G,B);B=B.sibling}O.type===R?(ne=vr(O.props.children,G.mode,ne,O.key),ne.return=G,G=ne):(ne=ns(O.type,O.key,O.props,null,G.mode,ne),$a(ne,O),ne.return=G,G=ne)}return A(G);case _:e:{for(Ce=O.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===O.containerInfo&&B.stateNode.implementation===O.implementation){s(G,B.sibling),ne=g(B,O.children||[]),ne.return=G,G=ne;break e}else{s(G,B);break}else r(G,B);B=B.sibling}ne=E0(O,G.mode,ne),ne.return=G,G=ne}return A(G);case K:return O=Tr(O),st(G,B,O,ne)}if(Ye(O))return Te(G,B,O,ne);if(pe(O)){if(Ce=pe(O),typeof Ce!="function")throw Error(a(150));return O=Ce.call(O),ke(G,B,O,ne)}if(typeof O.then=="function")return st(G,B,us(O),ne);if(O.$$typeof===J)return st(G,B,as(G,O),ne);cs(G,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,B!==null&&B.tag===6?(s(G,B.sibling),ne=g(B,O),ne.return=G,G=ne):(s(G,B),ne=A0(O,G.mode,ne),ne.return=G,G=ne),A(G)):s(G,B)}return function(G,B,O,ne){try{Ka=0;var Ce=st(G,B,O,ne);return ta=null,Ce}catch(we){if(we===ea||we===ss)throw we;var Ke=dn(29,we,null,G.mode);return Ke.lanes=ne,Ke.return=G,Ke}finally{}}}var Ar=Ff(!0),jf=Ff(!1),Hi=!1;function B0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H0(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Gi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qi(n,r,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=ts(n),Mf(n,null,s),r}return es(n,u,r,s),ts(n)}function Qa(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Ld(n,s)}}function G0(n,r){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var g=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,s=s.next}while(s!==null);y===null?g=y=r:y=y.next=r}else g=y=r;s={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var q0=!1;function Za(){if(q0){var n=Wr;if(n!==null)throw n}}function Wa(n,r,s,u){q0=!1;var g=n.updateQueue;Hi=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var z=N,F=z.next;z.next=null,A===null?y=F:A.next=F,A=z;var W=n.alternate;W!==null&&(W=W.updateQueue,N=W.lastBaseUpdate,N!==A&&(N===null?W.firstBaseUpdate=F:N.next=F,W.lastBaseUpdate=z))}if(y!==null){var re=g.baseState;A=0,W=F=z=null,N=y;do{var Y=N.lane&-536870913,X=Y!==N.lane;if(X?(Fe&Y)===Y:(u&Y)===Y){Y!==0&&Y===Zr&&(q0=!0),W!==null&&(W=W.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Te=n,ke=N;Y=r;var st=s;switch(ke.tag){case 1:if(Te=ke.payload,typeof Te=="function"){re=Te.call(st,re,Y);break e}re=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ke.payload,Y=typeof Te=="function"?Te.call(st,re,Y):Te,Y==null)break e;re=S({},re,Y);break e;case 2:Hi=!0}}Y=N.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=g.callbacks,X===null?g.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:N.tag,payload:N.payload,callback:N.callback,next:null},W===null?(F=W=X,z=re):W=W.next=X,A|=Y;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;X=N,N=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);W===null&&(z=re),g.baseState=z,g.firstBaseUpdate=F,g.lastBaseUpdate=W,y===null&&(g.shared.lanes=0),ji|=A,n.lanes=A,n.memoizedState=re}}function Yf(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function Jf(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Yf(s[n],r)}var na=L(null),ds=L(0);function Xf(n,r){n=pi,de(ds,n),de(na,r),pi=n|r.baseLanes}function P0(){de(ds,pi),de(na,na.current)}function O0(){pi=ds.current,$(na),$(ds)}var fn=L(null),Mn=null;function Pi(n){var r=n.alternate;de(St,St.current&1),de(fn,n),Mn===null&&(r===null||na.current!==null||r.memoizedState!==null)&&(Mn=n)}function V0(n){de(St,St.current),de(fn,n),Mn===null&&(Mn=n)}function Kf(n){n.tag===22?(de(St,St.current),de(fn,n),Mn===null&&(Mn=n)):Oi()}function Oi(){de(St,St.current),de(fn,fn.current)}function hn(n){$(fn),Mn===n&&(Mn=null),$(St)}var St=L(0);function fs(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ku(s)||$u(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var si=0,Ue=null,at=null,Et=null,hs=!1,ia=!1,Er=!1,ms=0,el=0,ra=null,l5=0;function yt(){throw Error(a(321))}function F0(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!cn(n[s],r[s]))return!1;return!0}function j0(n,r,s,u,g,y){return si=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,j.H=n===null||n.memoizedState===null?Ih:lu,Er=!1,y=s(u,g),Er=!1,ia&&(y=Qf(r,s,u,g)),$f(n),y}function $f(n){j.H=il;var r=at!==null&&at.next!==null;if(si=0,Et=at=Ue=null,hs=!1,el=0,ra=null,r)throw Error(a(300));n===null||Ct||(n=n.dependencies,n!==null&&rs(n)&&(Ct=!0))}function Qf(n,r,s,u){Ue=n;var g=0;do{if(ia&&(ra=null),el=0,ia=!1,25<=g)throw Error(a(301));if(g+=1,Et=at=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=Dh,y=r(s,u)}while(ia);return y}function s5(){var n=j.H,r=n.useState()[0];return r=typeof r.then=="function"?tl(r):r,n=n.useState()[0],(at!==null?at.memoizedState:null)!==n&&(Ue.flags|=1024),r}function Y0(){var n=ms!==0;return ms=0,n}function J0(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function X0(n){if(hs){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}hs=!1}si=0,Et=at=Ue=null,ia=!1,el=ms=0,ra=null}function Ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ue.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(at===null){var n=Ue.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var r=Et===null?Ue.memoizedState:Et.next;if(r!==null)Et=r,at=n;else{if(n===null)throw Ue.alternate===null?Error(a(467)):Error(a(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Et===null?Ue.memoizedState=Et=n:Et=Et.next=n}return Et}function ps(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(n){var r=el;return el+=1,ra===null&&(ra=[]),n=Pf(ra,n,r),r=Ue,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,j.H=r===null||r.memoizedState===null?Ih:lu),n}function gs(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return tl(n);if(n.$$typeof===J)return Gt(n)}throw Error(a(438,String(n)))}function K0(n){var r=null,s=Ue.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=ps(),Ue.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),u=0;u<n;u++)s[u]=me;return r.index++,s}function oi(n,r){return typeof r=="function"?r(n):r}function vs(n){var r=Tt();return $0(r,at,n)}function $0(n,r,s){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var g=n.baseQueue,y=u.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}r.baseQueue=g=y,u.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{r=g.next;var N=A=null,z=null,F=r,W=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(Fe&re)===re:(si&re)===re){var Y=F.revertLane;if(Y===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===Zr&&(W=!0);else if((si&Y)===Y){F=F.next,Y===Zr&&(W=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},z===null?(N=z=re,A=y):z=z.next=re,Ue.lanes|=Y,ji|=Y;re=F.action,Er&&s(y,re),y=F.hasEagerState?F.eagerState:s(y,re)}else Y={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},z===null?(N=z=Y,A=y):z=z.next=Y,Ue.lanes|=re,ji|=re;F=F.next}while(F!==null&&F!==r);if(z===null?A=y:z.next=N,!cn(y,n.memoizedState)&&(Ct=!0,W&&(s=Wr,s!==null)))throw s;n.memoizedState=y,n.baseState=A,n.baseQueue=z,u.lastRenderedState=y}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Q0(n){var r=Tt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var u=s.dispatch,g=s.pending,y=r.memoizedState;if(g!==null){s.pending=null;var A=g=g.next;do y=n(y,A.action),A=A.next;while(A!==g);cn(y,r.memoizedState)||(Ct=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),s.lastRenderedState=y}return[y,u]}function Zf(n,r,s){var u=Ue,g=Tt(),y=Je;if(y){if(s===void 0)throw Error(a(407));s=s()}else s=r();var A=!cn((at||g).memoizedState,s);if(A&&(g.memoizedState=s,Ct=!0),g=g.queue,eu(th.bind(null,u,g,n),[n]),g.getSnapshot!==r||A||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,aa(9,{destroy:void 0},eh.bind(null,u,g,s,r),null),ot===null)throw Error(a(349));y||(si&127)!==0||Wf(u,r,s)}return s}function Wf(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Ue.updateQueue,r===null?(r=ps(),Ue.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function eh(n,r,s,u){r.value=s,r.getSnapshot=u,nh(r)&&ih(n)}function th(n,r,s){return s(function(){nh(r)&&ih(n)})}function nh(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!cn(n,s)}catch{return!0}}function ih(n){var r=gr(n,2);r!==null&&nn(r,n,2)}function Z0(n){var r=Ft();if(typeof n=="function"){var s=n;if(n=s(),Er){ki(!0);try{s()}finally{ki(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},r}function rh(n,r,s,u){return n.baseState=s,$0(n,at,typeof u=="function"?u:oi)}function o5(n,r,s,u,g){if(bs(n))throw Error(a(485));if(n=r.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};j.T!==null?s(!0):y.isTransition=!1,u(y),s=r.pending,s===null?(y.next=r.pending=y,ah(r,y)):(y.next=s.next,r.pending=s.next=y)}}function ah(n,r){var s=r.action,u=r.payload,g=n.state;if(r.isTransition){var y=j.T,A={};j.T=A;try{var N=s(g,u),z=j.S;z!==null&&z(A,N),lh(n,r,N)}catch(F){W0(n,r,F)}finally{y!==null&&A.types!==null&&(y.types=A.types),j.T=y}}else try{y=s(g,u),lh(n,r,y)}catch(F){W0(n,r,F)}}function lh(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){sh(n,r,u)},function(u){return W0(n,r,u)}):sh(n,r,s)}function sh(n,r,s){r.status="fulfilled",r.value=s,oh(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,ah(n,s)))}function W0(n,r,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,oh(r),r=r.next;while(r!==u)}n.action=null}function oh(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function uh(n,r){return r}function ch(n,r){if(Je){var s=ot.formState;if(s!==null){e:{var u=Ue;if(Je){if(dt){t:{for(var g=dt,y=Nn;g.nodeType!==8;){if(!y){g=null;break t}if(g=_n(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){dt=_n(g.nextSibling),u=g.data==="F!";break e}}Ui(u)}u=!1}u&&(r=s[0])}}return s=Ft(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:r},s.queue=u,s=_h.bind(null,Ue,u),u.dispatch=s,u=Z0(!1),y=au.bind(null,Ue,!1,u.queue),u=Ft(),g={state:r,dispatch:null,action:n,pending:null},u.queue=g,s=o5.bind(null,Ue,g,y,s),g.dispatch=s,u.memoizedState=n,[r,s,!1]}function dh(n){var r=Tt();return fh(r,at,n)}function fh(n,r,s){if(r=$0(n,r,uh)[0],n=vs(oi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=tl(r)}catch(A){throw A===ea?ss:A}else u=r;r=Tt();var g=r.queue,y=g.dispatch;return s!==r.memoizedState&&(Ue.flags|=2048,aa(9,{destroy:void 0},u5.bind(null,g,s),null)),[u,y,n]}function u5(n,r){n.action=r}function hh(n){var r=Tt(),s=at;if(s!==null)return fh(r,s,n);Tt(),r=r.memoizedState,s=Tt();var u=s.queue.dispatch;return s.memoizedState=n,[r,u,!1]}function aa(n,r,s,u){return n={tag:n,create:s,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=ps(),Ue.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,r.lastEffect=n),n}function mh(){return Tt().memoizedState}function ys(n,r,s,u){var g=Ft();Ue.flags|=n,g.memoizedState=aa(1|r,{destroy:void 0},s,u===void 0?null:u)}function xs(n,r,s,u){var g=Tt();u=u===void 0?null:u;var y=g.memoizedState.inst;at!==null&&u!==null&&F0(u,at.memoizedState.deps)?g.memoizedState=aa(r,y,s,u):(Ue.flags|=n,g.memoizedState=aa(1|r,y,s,u))}function ph(n,r){ys(8390656,8,n,r)}function eu(n,r){xs(2048,8,n,r)}function c5(n){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=ps(),Ue.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function gh(n){var r=Tt().memoizedState;return c5({ref:r,nextImpl:n}),function(){if((et&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function vh(n,r){return xs(4,2,n,r)}function yh(n,r){return xs(4,4,n,r)}function xh(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function bh(n,r,s){s=s!=null?s.concat([n]):null,xs(4,4,xh.bind(null,r,n),s)}function tu(){}function Sh(n,r){var s=Tt();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&F0(r,u[1])?u[0]:(s.memoizedState=[n,r],n)}function Th(n,r){var s=Tt();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&F0(r,u[1]))return u[0];if(u=n(),Er){ki(!0);try{n()}finally{ki(!1)}}return s.memoizedState=[u,r],u}function nu(n,r,s){return s===void 0||(si&1073741824)!==0&&(Fe&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=w1(),Ue.lanes|=n,ji|=n,s)}function wh(n,r,s,u){return cn(s,r)?s:na.current!==null?(n=nu(n,s,u),cn(n,r)||(Ct=!0),n):(si&42)===0||(si&1073741824)!==0&&(Fe&261930)===0?(Ct=!0,n.memoizedState=s):(n=w1(),Ue.lanes|=n,ji|=n,r)}function Ah(n,r,s,u,g){var y=ie.p;ie.p=y!==0&&8>y?y:8;var A=j.T,N={};j.T=N,au(n,!1,r,s);try{var z=g(),F=j.S;if(F!==null&&F(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var W=a5(z,u);nl(n,r,W,gn(n))}else nl(n,r,u,gn(n))}catch(re){nl(n,r,{then:function(){},status:"rejected",reason:re},gn())}finally{ie.p=y,A!==null&&N.types!==null&&(A.types=N.types),j.T=A}}function d5(){}function iu(n,r,s,u){if(n.tag!==5)throw Error(a(476));var g=Eh(n).queue;Ah(n,g,r,fe,s===null?d5:function(){return Ch(n),s(u)})}function Eh(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:fe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Ch(n){var r=Eh(n);r.next===null&&(r=n.alternate.memoizedState),nl(n,r.next.queue,{},gn())}function ru(){return Gt(xl)}function Nh(){return Tt().memoizedState}function Mh(){return Tt().memoizedState}function f5(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=gn();n=Gi(s);var u=qi(r,n,s);u!==null&&(nn(u,r,s),Qa(u,r,s)),r={cache:D0()},n.payload=r;return}r=r.return}}function h5(n,r,s){var u=gn();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},bs(n)?Rh(r,s):(s=T0(n,r,s,u),s!==null&&(nn(s,n,u),kh(s,r,u)))}function _h(n,r,s){var u=gn();nl(n,r,s,u)}function nl(n,r,s,u){var g={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(bs(n))Rh(r,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var A=r.lastRenderedState,N=y(A,s);if(g.hasEagerState=!0,g.eagerState=N,cn(N,A))return es(n,r,g,0),ot===null&&Wl(),!1}catch{}finally{}if(s=T0(n,r,g,u),s!==null)return nn(s,n,u),kh(s,r,u),!0}return!1}function au(n,r,s,u){if(u={lane:2,revertLane:Bu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bs(n)){if(r)throw Error(a(479))}else r=T0(n,s,u,2),r!==null&&nn(r,n,2)}function bs(n){var r=n.alternate;return n===Ue||r!==null&&r===Ue}function Rh(n,r){ia=hs=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function kh(n,r,s){if((s&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Ld(n,s)}}var il={readContext:Gt,use:gs,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};il.useEffectEvent=yt;var Ih={readContext:Gt,use:gs,useCallback:function(n,r){return Ft().memoizedState=[n,r===void 0?null:r],n},useContext:Gt,useEffect:ph,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,ys(4194308,4,xh.bind(null,r,n),s)},useLayoutEffect:function(n,r){return ys(4194308,4,n,r)},useInsertionEffect:function(n,r){ys(4,2,n,r)},useMemo:function(n,r){var s=Ft();r=r===void 0?null:r;var u=n();if(Er){ki(!0);try{n()}finally{ki(!1)}}return s.memoizedState=[u,r],u},useReducer:function(n,r,s){var u=Ft();if(s!==void 0){var g=s(r);if(Er){ki(!0);try{s(r)}finally{ki(!1)}}}else g=r;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=h5.bind(null,Ue,n),[u.memoizedState,n]},useRef:function(n){var r=Ft();return n={current:n},r.memoizedState=n},useState:function(n){n=Z0(n);var r=n.queue,s=_h.bind(null,Ue,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:tu,useDeferredValue:function(n,r){var s=Ft();return nu(s,n,r)},useTransition:function(){var n=Z0(!1);return n=Ah.bind(null,Ue,n.queue,!0,!1),Ft().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var u=Ue,g=Ft();if(Je){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ot===null)throw Error(a(349));(Fe&127)!==0||Wf(u,r,s)}g.memoizedState=s;var y={value:s,getSnapshot:r};return g.queue=y,ph(th.bind(null,u,y,n),[n]),u.flags|=2048,aa(9,{destroy:void 0},eh.bind(null,u,y,s,r),null),s},useId:function(){var n=Ft(),r=ot.identifierPrefix;if(Je){var s=Fn,u=Vn;s=(u&~(1<<32-un(u)-1)).toString(32)+s,r="_"+r+"R_"+s,s=ms++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=l5++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:ru,useFormState:ch,useActionState:ch,useOptimistic:function(n){var r=Ft();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=au.bind(null,Ue,!0,s),s.dispatch=r,[n,r]},useMemoCache:K0,useCacheRefresh:function(){return Ft().memoizedState=f5.bind(null,Ue)},useEffectEvent:function(n){var r=Ft(),s={impl:n};return r.memoizedState=s,function(){if((et&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},lu={readContext:Gt,use:gs,useCallback:Sh,useContext:Gt,useEffect:eu,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:yh,useMemo:Th,useReducer:vs,useRef:mh,useState:function(){return vs(oi)},useDebugValue:tu,useDeferredValue:function(n,r){var s=Tt();return wh(s,at.memoizedState,n,r)},useTransition:function(){var n=vs(oi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:tl(n),r]},useSyncExternalStore:Zf,useId:Nh,useHostTransitionStatus:ru,useFormState:dh,useActionState:dh,useOptimistic:function(n,r){var s=Tt();return rh(s,at,n,r)},useMemoCache:K0,useCacheRefresh:Mh};lu.useEffectEvent=gh;var Dh={readContext:Gt,use:gs,useCallback:Sh,useContext:Gt,useEffect:eu,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:yh,useMemo:Th,useReducer:Q0,useRef:mh,useState:function(){return Q0(oi)},useDebugValue:tu,useDeferredValue:function(n,r){var s=Tt();return at===null?nu(s,n,r):wh(s,at.memoizedState,n,r)},useTransition:function(){var n=Q0(oi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:tl(n),r]},useSyncExternalStore:Zf,useId:Nh,useHostTransitionStatus:ru,useFormState:hh,useActionState:hh,useOptimistic:function(n,r){var s=Tt();return at!==null?rh(s,at,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:K0,useCacheRefresh:Mh};Dh.useEffectEvent=gh;function su(n,r,s,u){r=n.memoizedState,s=s(u,r),s=s==null?r:S({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var ou={enqueueSetState:function(n,r,s){n=n._reactInternals;var u=gn(),g=Gi(u);g.payload=r,s!=null&&(g.callback=s),r=qi(n,g,u),r!==null&&(nn(r,n,u),Qa(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var u=gn(),g=Gi(u);g.tag=1,g.payload=r,s!=null&&(g.callback=s),r=qi(n,g,u),r!==null&&(nn(r,n,u),Qa(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=gn(),u=Gi(s);u.tag=2,r!=null&&(u.callback=r),r=qi(n,u,s),r!==null&&(nn(r,n,s),Qa(r,n,s))}};function zh(n,r,s,u,g,y,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,A):r.prototype&&r.prototype.isPureReactComponent?!Va(s,u)||!Va(g,y):!0}function Lh(n,r,s,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==n&&ou.enqueueReplaceState(r,r.state,null)}function Cr(n,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(n=n.defaultProps){s===r&&(s=S({},s));for(var g in n)s[g]===void 0&&(s[g]=n[g])}return s}function Uh(n){Zl(n)}function Bh(n){console.error(n)}function Hh(n){Zl(n)}function Ss(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Gh(n,r,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function uu(n,r,s){return s=Gi(s),s.tag=3,s.payload={element:null},s.callback=function(){Ss(n,r)},s}function qh(n){return n=Gi(n),n.tag=3,n}function Ph(n,r,s,u){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;n.payload=function(){return g(y)},n.callback=function(){Gh(r,s,u)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Gh(r,s,u),typeof g!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function m5(n,r,s,u,g){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&Qr(r,s,g,!0),s=fn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Ds():s.alternate===null&&xt===0&&(xt=3),s.flags&=-257,s.flags|=65536,s.lanes=g,u===os?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),zu(n,u,g)),!1;case 22:return s.flags|=65536,u===os?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),zu(n,u,g)),!1}throw Error(a(435,s.tag))}return zu(n,u,g),Ds(),!1}if(Je)return r=fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==M0&&(n=Error(a(422),{cause:u}),Ya(An(n,s)))):(u!==M0&&(r=Error(a(423),{cause:u}),Ya(An(r,s))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=An(u,s),g=uu(n.stateNode,u,g),G0(n,g),xt!==4&&(xt=2)),!1;var y=Error(a(520),{cause:u});if(y=An(y,s),dl===null?dl=[y]:dl.push(y),xt!==4&&(xt=2),r===null)return!0;u=An(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=g&-g,s.lanes|=n,n=uu(s.stateNode,u,n),G0(s,n),!1;case 1:if(r=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yi===null||!Yi.has(y))))return s.flags|=65536,g&=-g,s.lanes|=g,g=qh(g),Ph(g,n,s,u),G0(s,g),!1}s=s.return}while(s!==null);return!1}var cu=Error(a(461)),Ct=!1;function qt(n,r,s,u){r.child=n===null?jf(r,null,s,u):Ar(r,n.child,s,u)}function Oh(n,r,s,u,g){s=s.render;var y=r.ref;if("ref"in u){var A={};for(var N in u)N!=="ref"&&(A[N]=u[N])}else A=u;return br(r),u=j0(n,r,s,A,y,g),N=Y0(),n!==null&&!Ct?(J0(n,r,g),ui(n,r,g)):(Je&&N&&C0(r),r.flags|=1,qt(n,r,u,g),r.child)}function Vh(n,r,s,u,g){if(n===null){var y=s.type;return typeof y=="function"&&!w0(y)&&y.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=y,Fh(n,r,y,u,g)):(n=ns(s.type,null,u,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,!yu(n,g)){var A=y.memoizedProps;if(s=s.compare,s=s!==null?s:Va,s(A,u)&&n.ref===r.ref)return ui(n,r,g)}return r.flags|=1,n=ii(y,u),n.ref=r.ref,n.return=r,r.child=n}function Fh(n,r,s,u,g){if(n!==null){var y=n.memoizedProps;if(Va(y,u)&&n.ref===r.ref)if(Ct=!1,r.pendingProps=u=y,yu(n,g))(n.flags&131072)!==0&&(Ct=!0);else return r.lanes=n.lanes,ui(n,r,g)}return du(n,r,s,u,g)}function jh(n,r,s,u){var g=u.children,y=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,n!==null){for(u=r.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,r.child=null;return Yh(n,r,y,s,u)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ls(r,y!==null?y.cachePool:null),y!==null?Xf(r,y):P0(),Kf(r);else return u=r.lanes=536870912,Yh(n,r,y!==null?y.baseLanes|s:s,s,u)}else y!==null?(ls(r,y.cachePool),Xf(r,y),Oi(),r.memoizedState=null):(n!==null&&ls(r,null),P0(),Oi());return qt(n,r,g,s),r.child}function rl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Yh(n,r,s,u,g){var y=L0();return y=y===null?null:{parent:At._currentValue,pool:y},r.memoizedState={baseLanes:s,cachePool:y},n!==null&&ls(r,null),P0(),Kf(r),n!==null&&Qr(n,r,u,!0),r.childLanes=g,null}function Ts(n,r){return r=As({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Jh(n,r,s){return Ar(r,n.child,null,s),n=Ts(r,r.pendingProps),n.flags|=2,hn(r),r.memoizedState=null,n}function p5(n,r,s){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Je){if(u.mode==="hidden")return n=Ts(r,u),r.lanes=536870912,rl(null,n);if(V0(r),(n=dt)?(n=am(n,Nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:zi!==null?{id:Vn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},s=Rf(n),s.return=r,r.child=s,Ht=r,dt=null)):n=null,n===null)throw Ui(r);return r.lanes=536870912,null}return Ts(r,u)}var y=n.memoizedState;if(y!==null){var A=y.dehydrated;if(V0(r),g)if(r.flags&256)r.flags&=-257,r=Jh(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(a(558));else if(Ct||Qr(n,r,s,!1),g=(s&n.childLanes)!==0,Ct||g){if(u=ot,u!==null&&(A=Ud(u,s),A!==0&&A!==y.retryLane))throw y.retryLane=A,gr(n,A),nn(u,n,A),cu;Ds(),r=Jh(n,r,s)}else n=y.treeContext,dt=_n(A.nextSibling),Ht=r,Je=!0,Li=null,Nn=!1,n!==null&&Df(r,n),r=Ts(r,u),r.flags|=4096;return r}return n=ii(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function ws(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function du(n,r,s,u,g){return br(r),s=j0(n,r,s,u,void 0,g),u=Y0(),n!==null&&!Ct?(J0(n,r,g),ui(n,r,g)):(Je&&u&&C0(r),r.flags|=1,qt(n,r,s,g),r.child)}function Xh(n,r,s,u,g,y){return br(r),r.updateQueue=null,s=Qf(r,u,s,g),$f(n),u=Y0(),n!==null&&!Ct?(J0(n,r,y),ui(n,r,y)):(Je&&u&&C0(r),r.flags|=1,qt(n,r,s,y),r.child)}function Kh(n,r,s,u,g){if(br(r),r.stateNode===null){var y=Jr,A=s.contextType;typeof A=="object"&&A!==null&&(y=Gt(A)),y=new s(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ou,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},B0(r),A=s.contextType,y.context=typeof A=="object"&&A!==null?Gt(A):Jr,y.state=r.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(su(r,s,A,u),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&ou.enqueueReplaceState(y,y.state,null),Wa(r,u,y,g),Za(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){y=r.stateNode;var N=r.memoizedProps,z=Cr(s,N);y.props=z;var F=y.context,W=s.contextType;A=Jr,typeof W=="object"&&W!==null&&(A=Gt(W));var re=s.getDerivedStateFromProps;W=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||F!==A)&&Lh(r,y,u,A),Hi=!1;var Y=r.memoizedState;y.state=Y,Wa(r,u,y,g),Za(),F=r.memoizedState,N||Y!==F||Hi?(typeof re=="function"&&(su(r,s,re,u),F=r.memoizedState),(z=Hi||zh(r,s,z,u,Y,F,A))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),y.props=u,y.state=F,y.context=A,u=z):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,H0(n,r),A=r.memoizedProps,W=Cr(s,A),y.props=W,re=r.pendingProps,Y=y.context,F=s.contextType,z=Jr,typeof F=="object"&&F!==null&&(z=Gt(F)),N=s.getDerivedStateFromProps,(F=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==re||Y!==z)&&Lh(r,y,u,z),Hi=!1,Y=r.memoizedState,y.state=Y,Wa(r,u,y,g),Za();var X=r.memoizedState;A!==re||Y!==X||Hi||n!==null&&n.dependencies!==null&&rs(n.dependencies)?(typeof N=="function"&&(su(r,s,N,u),X=r.memoizedState),(W=Hi||zh(r,s,W,u,Y,X,z)||n!==null&&n.dependencies!==null&&rs(n.dependencies))?(F||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,z)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),y.props=u,y.state=X,y.context=z,u=W):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),u=!1)}return y=u,ws(n,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,n!==null&&u?(r.child=Ar(r,n.child,null,g),r.child=Ar(r,null,s,g)):qt(n,r,s,g),r.memoizedState=y.state,n=r.child):n=ui(n,r,g),n}function $h(n,r,s,u){return yr(),r.flags|=256,qt(n,r,s,u),r.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(n){return{baseLanes:n,cachePool:Gf()}}function mu(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=pn),n}function Qh(n,r,s){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,A;if((A=y)||(A=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),A&&(g=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,n===null){if(Je){if(g?Pi(r):Oi(),(n=dt)?(n=am(n,Nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:zi!==null?{id:Vn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},s=Rf(n),s.return=r,r.child=s,Ht=r,dt=null)):n=null,n===null)throw Ui(r);return $u(n)?r.lanes=32:r.lanes=536870912,null}var N=u.children;return u=u.fallback,g?(Oi(),g=r.mode,N=As({mode:"hidden",children:N},g),u=vr(u,g,s,null),N.return=r,u.return=r,N.sibling=u,r.child=N,u=r.child,u.memoizedState=hu(s),u.childLanes=mu(n,A,s),r.memoizedState=fu,rl(null,u)):(Pi(r),pu(r,N))}var z=n.memoizedState;if(z!==null&&(N=z.dehydrated,N!==null)){if(y)r.flags&256?(Pi(r),r.flags&=-257,r=gu(n,r,s)):r.memoizedState!==null?(Oi(),r.child=n.child,r.flags|=128,r=null):(Oi(),N=u.fallback,g=r.mode,u=As({mode:"visible",children:u.children},g),N=vr(N,g,s,null),N.flags|=2,u.return=r,N.return=r,u.sibling=N,r.child=u,Ar(r,n.child,null,s),u=r.child,u.memoizedState=hu(s),u.childLanes=mu(n,A,s),r.memoizedState=fu,r=rl(null,u));else if(Pi(r),$u(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var F=A.dgst;A=F,u=Error(a(419)),u.stack="",u.digest=A,Ya({value:u,source:null,stack:null}),r=gu(n,r,s)}else if(Ct||Qr(n,r,s,!1),A=(s&n.childLanes)!==0,Ct||A){if(A=ot,A!==null&&(u=Ud(A,s),u!==0&&u!==z.retryLane))throw z.retryLane=u,gr(n,u),nn(A,n,u),cu;Ku(N)||Ds(),r=gu(n,r,s)}else Ku(N)?(r.flags|=192,r.child=n.child,r=null):(n=z.treeContext,dt=_n(N.nextSibling),Ht=r,Je=!0,Li=null,Nn=!1,n!==null&&Df(r,n),r=pu(r,u.children),r.flags|=4096);return r}return g?(Oi(),N=u.fallback,g=r.mode,z=n.child,F=z.sibling,u=ii(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,F!==null?N=ii(F,N):(N=vr(N,g,s,null),N.flags|=2),N.return=r,u.return=r,u.sibling=N,r.child=u,rl(null,u),u=r.child,N=n.child.memoizedState,N===null?N=hu(s):(g=N.cachePool,g!==null?(z=At._currentValue,g=g.parent!==z?{parent:z,pool:z}:g):g=Gf(),N={baseLanes:N.baseLanes|s,cachePool:g}),u.memoizedState=N,u.childLanes=mu(n,A,s),r.memoizedState=fu,rl(n.child,u)):(Pi(r),s=n.child,n=s.sibling,s=ii(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,n!==null&&(A=r.deletions,A===null?(r.deletions=[n],r.flags|=16):A.push(n)),r.child=s,r.memoizedState=null,s)}function pu(n,r){return r=As({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function As(n,r){return n=dn(22,n,null,r),n.lanes=0,n}function gu(n,r,s){return Ar(r,n.child,null,s),n=pu(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Zh(n,r,s){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),k0(n.return,r,s)}function vu(n,r,s,u,g,y){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:g,treeForkCount:y}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=s,A.tailMode=g,A.treeForkCount=y)}function Wh(n,r,s){var u=r.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var A=St.current,N=(A&2)!==0;if(N?(A=A&1|2,r.flags|=128):A&=1,de(St,A),qt(n,r,u,s),u=Je?ja:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zh(n,s,r);else if(n.tag===19)Zh(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(s=r.child,g=null;s!==null;)n=s.alternate,n!==null&&fs(n)===null&&(g=s),s=s.sibling;s=g,s===null?(g=r.child,r.child=null):(g=s.sibling,s.sibling=null),vu(r,!1,g,s,y,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&fs(n)===null){r.child=g;break}n=g.sibling,g.sibling=s,s=g,g=n}vu(r,!0,s,null,y,u);break;case"together":vu(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ui(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),ji|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(Qr(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,s=ii(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=ii(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function yu(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&rs(n)))}function g5(n,r,s){switch(r.tag){case 3:Pe(r,r.stateNode.containerInfo),Bi(r,At,n.memoizedState.cache),yr();break;case 27:case 5:bn(r);break;case 4:Pe(r,r.stateNode.containerInfo);break;case 10:Bi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,V0(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Pi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Qh(n,r,s):(Pi(r),n=ui(n,r,s),n!==null?n.sibling:null);Pi(r);break;case 19:var g=(n.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(Qr(n,r,s,!1),u=(s&r.childLanes)!==0),g){if(u)return Wh(n,r,s);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),de(St,St.current),u)break;return null;case 22:return r.lanes=0,jh(n,r,s,r.pendingProps);case 24:Bi(r,At,n.memoizedState.cache)}return ui(n,r,s)}function e1(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ct=!0;else{if(!yu(n,s)&&(r.flags&128)===0)return Ct=!1,g5(n,r,s);Ct=(n.flags&131072)!==0}else Ct=!1,Je&&(r.flags&1048576)!==0&&If(r,ja,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Tr(r.elementType),r.type=n,typeof n=="function")w0(n)?(u=Cr(n,u),r.tag=1,r=Kh(null,r,n,u,s)):(r.tag=0,r=du(null,r,n,u,s));else{if(n!=null){var g=n.$$typeof;if(g===ee){r.tag=11,r=Oh(null,r,n,u,s);break e}else if(g===q){r.tag=14,r=Vh(null,r,n,u,s);break e}}throw r=Ge(n)||n,Error(a(306,r,""))}}return r;case 0:return du(n,r,r.type,r.pendingProps,s);case 1:return u=r.type,g=Cr(u,r.pendingProps),Kh(n,r,u,g,s);case 3:e:{if(Pe(r,r.stateNode.containerInfo),n===null)throw Error(a(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,H0(n,r),Wa(r,u,null,s);var A=r.memoizedState;if(u=A.cache,Bi(r,At,u),u!==y.cache&&I0(r,[At],s,!0),Za(),u=A.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=$h(n,r,u,s);break e}else if(u!==g){g=An(Error(a(424)),r),Ya(g),r=$h(n,r,u,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=_n(n.firstChild),Ht=r,Je=!0,Li=null,Nn=!0,s=jf(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(yr(),u===g){r=ui(n,r,s);break e}qt(n,r,u,s)}r=r.child}return r;case 26:return ws(n,r),n===null?(s=dm(r.type,null,r.pendingProps,null))?r.memoizedState=s:Je||(s=r.type,n=r.pendingProps,u=qs(Q.current).createElement(s),u[Bt]=r,u[$t]=n,Pt(u,s,n),zt(u),r.stateNode=u):r.memoizedState=dm(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return bn(r),n===null&&Je&&(u=r.stateNode=om(r.type,r.pendingProps,Q.current),Ht=r,Nn=!0,g=dt,$i(r.type)?(Qu=g,dt=_n(u.firstChild)):dt=g),qt(n,r,r.pendingProps.children,s),ws(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Je&&((g=u=dt)&&(u=Y5(u,r.type,r.pendingProps,Nn),u!==null?(r.stateNode=u,Ht=r,dt=_n(u.firstChild),Nn=!1,g=!0):g=!1),g||Ui(r)),bn(r),g=r.type,y=r.pendingProps,A=n!==null?n.memoizedProps:null,u=y.children,Yu(g,y)?u=null:A!==null&&Yu(g,A)&&(r.flags|=32),r.memoizedState!==null&&(g=j0(n,r,s5,null,null,s),xl._currentValue=g),ws(n,r),qt(n,r,u,s),r.child;case 6:return n===null&&Je&&((n=s=dt)&&(s=J5(s,r.pendingProps,Nn),s!==null?(r.stateNode=s,Ht=r,dt=null,n=!0):n=!1),n||Ui(r)),null;case 13:return Qh(n,r,s);case 4:return Pe(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ar(r,null,u,s):qt(n,r,u,s),r.child;case 11:return Oh(n,r,r.type,r.pendingProps,s);case 7:return qt(n,r,r.pendingProps,s),r.child;case 8:return qt(n,r,r.pendingProps.children,s),r.child;case 12:return qt(n,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Bi(r,r.type,u.value),qt(n,r,u.children,s),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,br(r),g=Gt(g),u=u(g),r.flags|=1,qt(n,r,u,s),r.child;case 14:return Vh(n,r,r.type,r.pendingProps,s);case 15:return Fh(n,r,r.type,r.pendingProps,s);case 19:return Wh(n,r,s);case 31:return p5(n,r,s);case 22:return jh(n,r,s,r.pendingProps);case 24:return br(r),u=Gt(At),n===null?(g=L0(),g===null&&(g=ot,y=D0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=s),g=y),r.memoizedState={parent:u,cache:g},B0(r),Bi(r,At,g)):((n.lanes&s)!==0&&(H0(n,r),Wa(r,null,null,s),Za()),g=n.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Bi(r,At,u)):(u=y.cache,Bi(r,At,u),u!==g.cache&&I0(r,[At],s,!0))),qt(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ci(n){n.flags|=4}function xu(n,r,s,u,g){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(N1())n.flags|=8192;else throw wr=os,U0}else n.flags&=-16777217}function t1(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!gm(r))if(N1())n.flags|=8192;else throw wr=os,U0}function Es(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Dd():536870912,n.lanes|=r,ua|=r)}function al(n,r){if(!Je)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ft(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(r)for(var g=n.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=s,r}function v5(n,r,s){var u=r.pendingProps;switch(N0(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return s=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),li(At),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&($r(r)?ci(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_0())),ft(r),null;case 26:var g=r.type,y=r.memoizedState;return n===null?(ci(r),y!==null?(ft(r),t1(r,y)):(ft(r),xu(r,g,null,u,s))):y?y!==n.memoizedState?(ci(r),ft(r),t1(r,y)):(ft(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&ci(r),ft(r),xu(r,g,n,u,s)),null;case 27:if(_i(r),s=Q.current,g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ci(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return ft(r),null}n=xe.current,$r(r)?zf(r):(n=om(g,u,s),r.stateNode=n,ci(r))}return ft(r),null;case 5:if(_i(r),g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ci(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return ft(r),null}if(y=xe.current,$r(r))zf(r);else{var A=qs(Q.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?A.createElement(g,{is:u.is}):A.createElement(g)}}y[Bt]=r,y[$t]=u;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=y;e:switch(Pt(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ci(r)}}return ft(r),xu(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ci(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(a(166));if(n=Q.current,$r(r)){if(n=r.stateNode,s=r.memoizedProps,u=null,g=Ht,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Bt]=r,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Q1(n.nodeValue,s)),n||Ui(r,!0)}else n=qs(n).createTextNode(u),n[Bt]=r,r.stateNode=n}return ft(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(u=$r(r),s!==null){if(n===null){if(!u)throw Error(a(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Bt]=r}else yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),n=!1}else s=_0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(hn(r),r):(hn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ft(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=$r(r),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(a(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[Bt]=r}else yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),g=!1}else g=_0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(hn(r),r):(hn(r),null)}return hn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),Es(r,r.updateQueue),ft(r),null);case 4:return it(),n===null&&Pu(r.stateNode.containerInfo),ft(r),null;case 10:return li(r.type),ft(r),null;case 19:if($(St),u=r.memoizedState,u===null)return ft(r),null;if(g=(r.flags&128)!==0,y=u.rendering,y===null)if(g)al(u,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=fs(n),y!==null){for(r.flags|=128,al(u,!1),n=y.updateQueue,r.updateQueue=n,Es(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)_f(s,n),s=s.sibling;return de(St,St.current&1|2),Je&&ri(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&sn()>Rs&&(r.flags|=128,g=!0,al(u,!1),r.lanes=4194304)}else{if(!g)if(n=fs(y),n!==null){if(r.flags|=128,g=!0,n=n.updateQueue,r.updateQueue=n,Es(r,n),al(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Je)return ft(r),null}else 2*sn()-u.renderingStartTime>Rs&&s!==536870912&&(r.flags|=128,g=!0,al(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(n=u.last,n!==null?n.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=sn(),n.sibling=null,s=St.current,de(St,g?s&1|2:s&1),Je&&ri(r,u.treeForkCount),n):(ft(r),null);case 22:case 23:return hn(r),O0(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),s=r.updateQueue,s!==null&&Es(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),n!==null&&$(Sr),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),li(At),ft(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function y5(n,r){switch(N0(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return li(At),it(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return _i(r),null;case 31:if(r.memoizedState!==null){if(hn(r),r.alternate===null)throw Error(a(340));yr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(hn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));yr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return $(St),null;case 4:return it(),null;case 10:return li(r.type),null;case 22:case 23:return hn(r),O0(),n!==null&&$(Sr),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return li(At),null;case 25:return null;default:return null}}function n1(n,r){switch(N0(r),r.tag){case 3:li(At),it();break;case 26:case 27:case 5:_i(r);break;case 4:it();break;case 31:r.memoizedState!==null&&hn(r);break;case 13:hn(r);break;case 19:$(St);break;case 10:li(r.type);break;case 22:case 23:hn(r),O0(),n!==null&&$(Sr);break;case 24:li(At)}}function ll(n,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var g=u.next;s=g;do{if((s.tag&n)===n){u=void 0;var y=s.create,A=s.inst;u=y(),A.destroy=u}s=s.next}while(s!==g)}}catch(N){nt(r,r.return,N)}}function Vi(n,r,s){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&n)===n){var A=u.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,g=r;var z=s,F=N;try{F()}catch(W){nt(g,z,W)}}}u=u.next}while(u!==y)}}catch(W){nt(r,r.return,W)}}function i1(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{Jf(r,s)}catch(u){nt(n,n.return,u)}}}function r1(n,r,s){s.props=Cr(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){nt(n,r,u)}}function sl(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(g){nt(n,r,g)}}function jn(n,r){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(g){nt(n,r,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){nt(n,r,g)}else s.current=null}function a1(n){var r=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(g){nt(n,n.return,g)}}function bu(n,r,s){try{var u=n.stateNode;q5(u,n.type,s,r),u[$t]=r}catch(g){nt(n,n.return,g)}}function l1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&$i(n.type)||n.tag===4}function Su(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||l1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&$i(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tu(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ti));else if(u!==4&&(u===27&&$i(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Tu(n,r,s),n=n.sibling;n!==null;)Tu(n,r,s),n=n.sibling}function Cs(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(u!==4&&(u===27&&$i(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Cs(n,r,s),n=n.sibling;n!==null;)Cs(n,r,s),n=n.sibling}function s1(n){var r=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Pt(r,u,s),r[Bt]=n,r[$t]=s}catch(y){nt(n,n.return,y)}}var di=!1,Nt=!1,wu=!1,o1=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function x5(n,r){if(n=n.containerInfo,Fu=Js,n=bf(n),g0(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var A=0,N=-1,z=-1,F=0,W=0,re=n,Y=null;t:for(;;){for(var X;re!==s||g!==0&&re.nodeType!==3||(N=A+g),re!==y||u!==0&&re.nodeType!==3||(z=A+u),re.nodeType===3&&(A+=re.nodeValue.length),(X=re.firstChild)!==null;)Y=re,re=X;for(;;){if(re===n)break t;if(Y===s&&++F===g&&(N=A),Y===y&&++W===u&&(z=A),(X=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=X}s=N===-1||z===-1?null:{start:N,end:z}}else s=null}s=s||{start:0,end:0}}else s=null;for(ju={focusedElem:n,selectionRange:s},Js=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,y=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)g=n[s],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,s=r,g=y.memoizedProps,y=y.memoizedState,u=s.stateNode;try{var Te=Cr(s.type,g);n=u.getSnapshotBeforeUpdate(Te,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(ke){nt(s,s.return,ke)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)Xu(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xu(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function u1(n,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:hi(n,s),u&4&&ll(5,s);break;case 1:if(hi(n,s),u&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(A){nt(s,s.return,A)}else{var g=Cr(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(g,r,n.__reactInternalSnapshotBeforeUpdate)}catch(A){nt(s,s.return,A)}}u&64&&i1(s),u&512&&sl(s,s.return);break;case 3:if(hi(n,s),u&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Jf(n,r)}catch(A){nt(s,s.return,A)}}break;case 27:r===null&&u&4&&s1(s);case 26:case 5:hi(n,s),r===null&&u&4&&a1(s),u&512&&sl(s,s.return);break;case 12:hi(n,s);break;case 31:hi(n,s),u&4&&f1(n,s);break;case 13:hi(n,s),u&4&&h1(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=M5.bind(null,s),X5(n,s))));break;case 22:if(u=s.memoizedState!==null||di,!u){r=r!==null&&r.memoizedState!==null||Nt,g=di;var y=Nt;di=u,(Nt=r)&&!y?mi(n,s,(s.subtreeFlags&8772)!==0):hi(n,s),di=g,Nt=y}break;case 30:break;default:hi(n,s)}}function c1(n){var r=n.alternate;r!==null&&(n.alternate=null,c1(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Wo(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,Zt=!1;function fi(n,r,s){for(s=s.child;s!==null;)d1(n,r,s),s=s.sibling}function d1(n,r,s){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ka,s)}catch{}switch(s.tag){case 26:Nt||jn(s,r),fi(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||jn(s,r);var u=mt,g=Zt;$i(s.type)&&(mt=s.stateNode,Zt=!1),fi(n,r,s),gl(s.stateNode),mt=u,Zt=g;break;case 5:Nt||jn(s,r);case 6:if(u=mt,g=Zt,mt=null,fi(n,r,s),mt=u,Zt=g,mt!==null)if(Zt)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(s.stateNode)}catch(y){nt(s,r,y)}else try{mt.removeChild(s.stateNode)}catch(y){nt(s,r,y)}break;case 18:mt!==null&&(Zt?(n=mt,im(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),va(n)):im(mt,s.stateNode));break;case 4:u=mt,g=Zt,mt=s.stateNode.containerInfo,Zt=!0,fi(n,r,s),mt=u,Zt=g;break;case 0:case 11:case 14:case 15:Vi(2,s,r),Nt||Vi(4,s,r),fi(n,r,s);break;case 1:Nt||(jn(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&r1(s,r,u)),fi(n,r,s);break;case 21:fi(n,r,s);break;case 22:Nt=(u=Nt)||s.memoizedState!==null,fi(n,r,s),Nt=u;break;default:fi(n,r,s)}}function f1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{va(n)}catch(s){nt(r,r.return,s)}}}function h1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{va(n)}catch(s){nt(r,r.return,s)}}function b5(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new o1),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new o1),r;default:throw Error(a(435,n.tag))}}function Ns(n,r){var s=b5(n);r.forEach(function(u){if(!s.has(u)){s.add(u);var g=_5.bind(null,n,u);u.then(g,g)}})}function Wt(n,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var g=s[u],y=n,A=r,N=A;e:for(;N!==null;){switch(N.tag){case 27:if($i(N.type)){mt=N.stateNode,Zt=!1;break e}break;case 5:mt=N.stateNode,Zt=!1;break e;case 3:case 4:mt=N.stateNode.containerInfo,Zt=!0;break e}N=N.return}if(mt===null)throw Error(a(160));d1(y,A,g),mt=null,Zt=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)m1(r,n),r=r.sibling}var Bn=null;function m1(n,r){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wt(r,n),en(n),u&4&&(Vi(3,n,n.return),ll(3,n),Vi(5,n,n.return));break;case 1:Wt(r,n),en(n),u&512&&(Nt||s===null||jn(s,s.return)),u&64&&di&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var g=Bn;if(Wt(r,n),en(n),u&512&&(Nt||s===null||jn(s,s.return)),u&4){var y=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[za]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Pt(y,u,s),y[Bt]=n,zt(y),u=y;break e;case"link":var A=mm("link","href",g).get(u+(s.href||""));if(A){for(var N=0;N<A.length;N++)if(y=A[N],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(N,1);break t}}y=g.createElement(u),Pt(y,u,s),g.head.appendChild(y);break;case"meta":if(A=mm("meta","content",g).get(u+(s.content||""))){for(N=0;N<A.length;N++)if(y=A[N],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(N,1);break t}}y=g.createElement(u),Pt(y,u,s),g.head.appendChild(y);break;default:throw Error(a(468,u))}y[Bt]=n,zt(y),u=y}n.stateNode=u}else pm(g,n.type,n.stateNode);else n.stateNode=hm(g,u,n.memoizedProps);else y!==u?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,u===null?pm(g,n.type,n.stateNode):hm(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&bu(n,n.memoizedProps,s.memoizedProps)}break;case 27:Wt(r,n),en(n),u&512&&(Nt||s===null||jn(s,s.return)),s!==null&&u&4&&bu(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Wt(r,n),en(n),u&512&&(Nt||s===null||jn(s,s.return)),n.flags&32){g=n.stateNode;try{qr(g,"")}catch(Te){nt(n,n.return,Te)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,bu(n,g,s!==null?s.memoizedProps:g)),u&1024&&(wu=!0);break;case 6:if(Wt(r,n),en(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(Te){nt(n,n.return,Te)}}break;case 3:if(Vs=null,g=Bn,Bn=Ps(r.containerInfo),Wt(r,n),Bn=g,en(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{va(r.containerInfo)}catch(Te){nt(n,n.return,Te)}wu&&(wu=!1,p1(n));break;case 4:u=Bn,Bn=Ps(n.stateNode.containerInfo),Wt(r,n),en(n),Bn=u;break;case 12:Wt(r,n),en(n);break;case 31:Wt(r,n),en(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ns(n,u)));break;case 13:Wt(r,n),en(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(_s=sn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ns(n,u)));break;case 22:g=n.memoizedState!==null;var z=s!==null&&s.memoizedState!==null,F=di,W=Nt;if(di=F||g,Nt=W||z,Wt(r,n),Nt=W,di=F,en(n),u&8192)e:for(r=n.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(s===null||z||di||Nt||Nr(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){z=s=r;try{if(y=z.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=z.stateNode;var re=z.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;N.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Te){nt(z,z.return,Te)}}}else if(r.tag===6){if(s===null){z=r;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(Te){nt(z,z.return,Te)}}}else if(r.tag===18){if(s===null){z=r;try{var X=z.stateNode;g?rm(X,!0):rm(z.stateNode,!1)}catch(Te){nt(z,z.return,Te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Ns(n,s))));break;case 19:Wt(r,n),en(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ns(n,u)));break;case 30:break;case 21:break;default:Wt(r,n),en(n)}}function en(n){var r=n.flags;if(r&2){try{for(var s,u=n.return;u!==null;){if(l1(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var g=s.stateNode,y=Su(n);Cs(n,y,g);break;case 5:var A=s.stateNode;s.flags&32&&(qr(A,""),s.flags&=-33);var N=Su(n);Cs(n,N,A);break;case 3:case 4:var z=s.stateNode.containerInfo,F=Su(n);Tu(n,F,z);break;default:throw Error(a(161))}}catch(W){nt(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function p1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;p1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function hi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)u1(n,r.alternate,r),r=r.sibling}function Nr(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Vi(4,r,r.return),Nr(r);break;case 1:jn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&r1(r,r.return,s),Nr(r);break;case 27:gl(r.stateNode);case 26:case 5:jn(r,r.return),Nr(r);break;case 22:r.memoizedState===null&&Nr(r);break;case 30:Nr(r);break;default:Nr(r)}n=n.sibling}}function mi(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=n,y=r,A=y.flags;switch(y.tag){case 0:case 11:case 15:mi(g,y,s),ll(4,y);break;case 1:if(mi(g,y,s),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){nt(u,u.return,F)}if(u=y,g=u.updateQueue,g!==null){var N=u.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)Yf(z[g],N)}catch(F){nt(u,u.return,F)}}s&&A&64&&i1(y),sl(y,y.return);break;case 27:s1(y);case 26:case 5:mi(g,y,s),s&&u===null&&A&4&&a1(y),sl(y,y.return);break;case 12:mi(g,y,s);break;case 31:mi(g,y,s),s&&A&4&&f1(g,y);break;case 13:mi(g,y,s),s&&A&4&&h1(g,y);break;case 22:y.memoizedState===null&&mi(g,y,s),sl(y,y.return);break;case 30:break;default:mi(g,y,s)}r=r.sibling}}function Au(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Ja(s))}function Eu(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ja(n))}function Hn(n,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g1(n,r,s,u),r=r.sibling}function g1(n,r,s,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Hn(n,r,s,u),g&2048&&ll(9,r);break;case 1:Hn(n,r,s,u);break;case 3:Hn(n,r,s,u),g&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ja(n)));break;case 12:if(g&2048){Hn(n,r,s,u),n=r.stateNode;try{var y=r.memoizedProps,A=y.id,N=y.onPostCommit;typeof N=="function"&&N(A,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(z){nt(r,r.return,z)}}else Hn(n,r,s,u);break;case 31:Hn(n,r,s,u);break;case 13:Hn(n,r,s,u);break;case 23:break;case 22:y=r.stateNode,A=r.alternate,r.memoizedState!==null?y._visibility&2?Hn(n,r,s,u):ol(n,r):y._visibility&2?Hn(n,r,s,u):(y._visibility|=2,la(n,r,s,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Au(A,r);break;case 24:Hn(n,r,s,u),g&2048&&Eu(r.alternate,r);break;default:Hn(n,r,s,u)}}function la(n,r,s,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=n,A=r,N=s,z=u,F=A.flags;switch(A.tag){case 0:case 11:case 15:la(y,A,N,z,g),ll(8,A);break;case 23:break;case 22:var W=A.stateNode;A.memoizedState!==null?W._visibility&2?la(y,A,N,z,g):ol(y,A):(W._visibility|=2,la(y,A,N,z,g)),g&&F&2048&&Au(A.alternate,A);break;case 24:la(y,A,N,z,g),g&&F&2048&&Eu(A.alternate,A);break;default:la(y,A,N,z,g)}r=r.sibling}}function ol(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,u=r,g=u.flags;switch(u.tag){case 22:ol(s,u),g&2048&&Au(u.alternate,u);break;case 24:ol(s,u),g&2048&&Eu(u.alternate,u);break;default:ol(s,u)}r=r.sibling}}var ul=8192;function sa(n,r,s){if(n.subtreeFlags&ul)for(n=n.child;n!==null;)v1(n,r,s),n=n.sibling}function v1(n,r,s){switch(n.tag){case 26:sa(n,r,s),n.flags&ul&&n.memoizedState!==null&&l3(s,Bn,n.memoizedState,n.memoizedProps);break;case 5:sa(n,r,s);break;case 3:case 4:var u=Bn;Bn=Ps(n.stateNode.containerInfo),sa(n,r,s),Bn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=ul,ul=16777216,sa(n,r,s),ul=u):sa(n,r,s));break;default:sa(n,r,s)}}function y1(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function cl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Lt=u,b1(u,n)}y1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)x1(n),n=n.sibling}function x1(n){switch(n.tag){case 0:case 11:case 15:cl(n),n.flags&2048&&Vi(9,n,n.return);break;case 3:cl(n);break;case 12:cl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Ms(n)):cl(n);break;default:cl(n)}}function Ms(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Lt=u,b1(u,n)}y1(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Vi(8,r,r.return),Ms(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Ms(r));break;default:Ms(r)}n=n.sibling}}function b1(n,r){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:Vi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ja(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Lt=u;else e:for(s=n;Lt!==null;){u=Lt;var g=u.sibling,y=u.return;if(c1(u),u===s){Lt=null;break e}if(g!==null){g.return=y,Lt=g;break e}Lt=y}}}var S5={getCacheForType:function(n){var r=Gt(At),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return Gt(At).controller.signal}},T5=typeof WeakMap=="function"?WeakMap:Map,et=0,ot=null,Oe=null,Fe=0,tt=0,mn=null,Fi=!1,oa=!1,Cu=!1,pi=0,xt=0,ji=0,Mr=0,Nu=0,pn=0,ua=0,dl=null,tn=null,Mu=!1,_s=0,S1=0,Rs=1/0,ks=null,Yi=null,Rt=0,Ji=null,ca=null,gi=0,_u=0,Ru=null,T1=null,fl=0,ku=null;function gn(){return(et&2)!==0&&Fe!==0?Fe&-Fe:j.T!==null?Bu():Bd()}function w1(){if(pn===0)if((Fe&536870912)===0||Je){var n=Gl;Gl<<=1,(Gl&3932160)===0&&(Gl=262144),pn=n}else pn=536870912;return n=fn.current,n!==null&&(n.flags|=32),pn}function nn(n,r,s){(n===ot&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(da(n,0),Xi(n,Fe,pn,!1)),Da(n,s),((et&2)===0||n!==ot)&&(n===ot&&((et&2)===0&&(Mr|=s),xt===4&&Xi(n,Fe,pn,!1)),Yn(n))}function A1(n,r,s){if((et&6)!==0)throw Error(a(327));var u=!s&&(r&127)===0&&(r&n.expiredLanes)===0||Ia(n,r),g=u?E5(n,r):Du(n,r,!0),y=u;do{if(g===0){oa&&!u&&Xi(n,r,0,!1);break}else{if(s=n.current.alternate,y&&!w5(s)){g=Du(n,r,!1),y=!1;continue}if(g===2){if(y=r,n.errorRecoveryDisabledLanes&y)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var N=n;g=dl;var z=N.current.memoizedState.isDehydrated;if(z&&(da(N,A).flags|=256),A=Du(N,A,!1),A!==2){if(Cu&&!z){N.errorRecoveryDisabledLanes|=y,Mr|=y,g=4;break e}y=tn,tn=g,y!==null&&(tn===null?tn=y:tn.push.apply(tn,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){da(n,0),Xi(n,r,0,!0);break}e:{switch(u=n,y=g,y){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Xi(u,r,pn,!Fi);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(g=_s+300-sn(),10<g)){if(Xi(u,r,pn,!Fi),Pl(u,0,!0)!==0)break e;gi=r,u.timeoutHandle=tm(E1.bind(null,u,s,tn,ks,Mu,r,pn,Mr,ua,Fi,y,"Throttled",-0,0),g);break e}E1(u,s,tn,ks,Mu,r,pn,Mr,ua,Fi,y,null,-0,0)}}break}while(!0);Yn(n)}function E1(n,r,s,u,g,y,A,N,z,F,W,re,Y,X){if(n.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},v1(r,y,re);var Te=(y&62914560)===y?_s-sn():(y&4194048)===y?S1-sn():0;if(Te=s3(re,Te),Te!==null){gi=y,n.cancelPendingCommit=Te(D1.bind(null,n,r,y,s,u,g,A,N,z,W,re,null,Y,X)),Xi(n,y,A,!F);return}}D1(n,r,y,s,u,g,A,N,z)}function w5(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var g=s[u],y=g.getSnapshot;g=g.value;try{if(!cn(y(),g))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xi(n,r,s,u){r&=~Nu,r&=~Mr,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var g=r;0<g;){var y=31-un(g),A=1<<y;u[y]=-1,g&=~A}s!==0&&zd(n,s,r)}function Is(){return(et&6)===0?(hl(0),!1):!0}function Iu(){if(Oe!==null){if(tt===0)var n=Oe.return;else n=Oe,ai=xr=null,X0(n),ta=null,Ka=0,n=Oe;for(;n!==null;)n1(n.alternate,n),n=n.return;Oe=null}}function da(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,V5(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),gi=0,Iu(),ot=n,Oe=s=ii(n.current,null),Fe=r,tt=0,mn=null,Fi=!1,oa=Ia(n,r),Cu=!1,ua=pn=Nu=Mr=ji=xt=0,tn=dl=null,Mu=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var g=31-un(u),y=1<<g;r|=n[g],u&=~y}return pi=r,Wl(),s}function C1(n,r){Ue=null,j.H=il,r===ea||r===ss?(r=Of(),tt=3):r===U0?(r=Of(),tt=4):tt=r===cu?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mn=r,Oe===null&&(xt=1,Ss(n,An(r,n.current)))}function N1(){var n=fn.current;return n===null?!0:(Fe&4194048)===Fe?Mn===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?n===Mn:!1}function M1(){var n=j.H;return j.H=il,n===null?il:n}function _1(){var n=j.A;return j.A=S5,n}function Ds(){xt=4,Fi||(Fe&4194048)!==Fe&&fn.current!==null||(oa=!0),(ji&134217727)===0&&(Mr&134217727)===0||ot===null||Xi(ot,Fe,pn,!1)}function Du(n,r,s){var u=et;et|=2;var g=M1(),y=_1();(ot!==n||Fe!==r)&&(ks=null,da(n,r)),r=!1;var A=xt;e:do try{if(tt!==0&&Oe!==null){var N=Oe,z=mn;switch(tt){case 8:Iu(),A=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(r=!0);var F=tt;if(tt=0,mn=null,fa(n,N,z,F),s&&oa){A=0;break e}break;default:F=tt,tt=0,mn=null,fa(n,N,z,F)}}A5(),A=xt;break}catch(W){C1(n,W)}while(!0);return r&&n.shellSuspendCounter++,ai=xr=null,et=u,j.H=g,j.A=y,Oe===null&&(ot=null,Fe=0,Wl()),A}function A5(){for(;Oe!==null;)R1(Oe)}function E5(n,r){var s=et;et|=2;var u=M1(),g=_1();ot!==n||Fe!==r?(ks=null,Rs=sn()+500,da(n,r)):oa=Ia(n,r);e:do try{if(tt!==0&&Oe!==null){r=Oe;var y=mn;t:switch(tt){case 1:tt=0,mn=null,fa(n,r,y,1);break;case 2:case 9:if(qf(y)){tt=0,mn=null,k1(r);break}r=function(){tt!==2&&tt!==9||ot!==n||(tt=7),Yn(n)},y.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:qf(y)?(tt=0,mn=null,k1(r)):(tt=0,mn=null,fa(n,r,y,7));break;case 5:var A=null;switch(Oe.tag){case 26:A=Oe.memoizedState;case 5:case 27:var N=Oe;if(A?gm(A):N.stateNode.complete){tt=0,mn=null;var z=N.sibling;if(z!==null)Oe=z;else{var F=N.return;F!==null?(Oe=F,zs(F)):Oe=null}break t}}tt=0,mn=null,fa(n,r,y,5);break;case 6:tt=0,mn=null,fa(n,r,y,6);break;case 8:Iu(),xt=6;break e;default:throw Error(a(462))}}C5();break}catch(W){C1(n,W)}while(!0);return ai=xr=null,j.H=u,j.A=g,et=s,Oe!==null?0:(ot=null,Fe=0,Wl(),xt)}function C5(){for(;Oe!==null&&!Kg();)R1(Oe)}function R1(n){var r=e1(n.alternate,n,pi);n.memoizedProps=n.pendingProps,r===null?zs(n):Oe=r}function k1(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=Xh(s,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=Xh(s,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:X0(r);default:n1(s,r),r=Oe=_f(r,pi),r=e1(s,r,pi)}n.memoizedProps=n.pendingProps,r===null?zs(n):Oe=r}function fa(n,r,s,u){ai=xr=null,X0(r),ta=null,Ka=0;var g=r.return;try{if(m5(n,g,r,s,Fe)){xt=1,Ss(n,An(s,n.current)),Oe=null;return}}catch(y){if(g!==null)throw Oe=g,y;xt=1,Ss(n,An(s,n.current)),Oe=null;return}r.flags&32768?(Je||u===1?n=!0:oa||(Fe&536870912)!==0?n=!1:(Fi=n=!0,(u===2||u===9||u===3||u===6)&&(u=fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),I1(r,n)):zs(r)}function zs(n){var r=n;do{if((r.flags&32768)!==0){I1(r,Fi);return}n=r.return;var s=v5(r.alternate,r,pi);if(s!==null){Oe=s;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);xt===0&&(xt=5)}function I1(n,r){do{var s=y5(n.alternate,n);if(s!==null){s.flags&=32767,Oe=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=s}while(n!==null);xt=6,Oe=null}function D1(n,r,s,u,g,y,A,N,z){n.cancelPendingCommit=null;do Ls();while(Rt!==0);if((et&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(y=r.lanes|r.childLanes,y|=S0,av(n,s,y,A,N,z),n===ot&&(Oe=ot=null,Fe=0),ca=r,Ji=n,gi=s,_u=y,Ru=g,T1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,R5(Bl,function(){return H1(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,g=ie.p,ie.p=2,A=et,et|=4;try{x5(n,r,s)}finally{et=A,ie.p=g,j.T=u}}Rt=1,z1(),L1(),U1()}}function z1(){if(Rt===1){Rt=0;var n=Ji,r=ca,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var u=ie.p;ie.p=2;var g=et;et|=4;try{m1(r,n);var y=ju,A=bf(n.containerInfo),N=y.focusedElem,z=y.selectionRange;if(A!==N&&N&&N.ownerDocument&&xf(N.ownerDocument.documentElement,N)){if(z!==null&&g0(N)){var F=z.start,W=z.end;if(W===void 0&&(W=F),"selectionStart"in N)N.selectionStart=F,N.selectionEnd=Math.min(W,N.value.length);else{var re=N.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Te=N.textContent.length,ke=Math.min(z.start,Te),st=z.end===void 0?ke:Math.min(z.end,Te);!X.extend&&ke>st&&(A=st,st=ke,ke=A);var G=yf(N,ke),B=yf(N,st);if(G&&B&&(X.rangeCount!==1||X.anchorNode!==G.node||X.anchorOffset!==G.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var O=re.createRange();O.setStart(G.node,G.offset),X.removeAllRanges(),ke>st?(X.addRange(O),X.extend(B.node,B.offset)):(O.setEnd(B.node,B.offset),X.addRange(O))}}}}for(re=[],X=N;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<re.length;N++){var ne=re[N];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Js=!!Fu,ju=Fu=null}finally{et=g,ie.p=u,j.T=s}}n.current=r,Rt=2}}function L1(){if(Rt===2){Rt=0;var n=Ji,r=ca,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var u=ie.p;ie.p=2;var g=et;et|=4;try{u1(n,r.alternate,r)}finally{et=g,ie.p=u,j.T=s}}Rt=3}}function U1(){if(Rt===4||Rt===3){Rt=0,$g();var n=Ji,r=ca,s=gi,u=T1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rt=5:(Rt=0,ca=Ji=null,B1(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Yi=null),Qo(s),r=r.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ka,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=j.T,g=ie.p,ie.p=2,j.T=null;try{for(var y=n.onRecoverableError,A=0;A<u.length;A++){var N=u[A];y(N.value,{componentStack:N.stack})}}finally{j.T=r,ie.p=g}}(gi&3)!==0&&Ls(),Yn(n),g=n.pendingLanes,(s&261930)!==0&&(g&42)!==0?n===ku?fl++:(fl=0,ku=n):fl=0,hl(0)}}function B1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Ja(r)))}function Ls(){return z1(),L1(),U1(),H1()}function H1(){if(Rt!==5)return!1;var n=Ji,r=_u;_u=0;var s=Qo(gi),u=j.T,g=ie.p;try{ie.p=32>s?32:s,j.T=null,s=Ru,Ru=null;var y=Ji,A=gi;if(Rt=0,ca=Ji=null,gi=0,(et&6)!==0)throw Error(a(331));var N=et;if(et|=4,x1(y.current),g1(y,y.current,A,s),et=N,hl(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ka,y)}catch{}return!0}finally{ie.p=g,j.T=u,B1(n,r)}}function G1(n,r,s){r=An(s,r),r=uu(n.stateNode,r,2),n=qi(n,r,2),n!==null&&(Da(n,2),Yn(n))}function nt(n,r,s){if(n.tag===3)G1(n,n,s);else for(;r!==null;){if(r.tag===3){G1(r,n,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yi===null||!Yi.has(u))){n=An(s,n),s=qh(2),u=qi(r,s,2),u!==null&&(Ph(s,u,r,n),Da(u,2),Yn(u));break}}r=r.return}}function zu(n,r,s){var u=n.pingCache;if(u===null){u=n.pingCache=new T5;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(s)||(Cu=!0,g.add(s),n=N5.bind(null,n,r,s),r.then(n,n))}function N5(n,r,s){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ot===n&&(Fe&s)===s&&(xt===4||xt===3&&(Fe&62914560)===Fe&&300>sn()-_s?(et&2)===0&&da(n,0):Nu|=s,ua===Fe&&(ua=0)),Yn(n)}function q1(n,r){r===0&&(r=Dd()),n=gr(n,r),n!==null&&(Da(n,r),Yn(n))}function M5(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),q1(n,s)}function _5(n,r){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(s=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(r),q1(n,s)}function R5(n,r){return Jo(n,r)}var Us=null,ha=null,Lu=!1,Bs=!1,Uu=!1,Ki=0;function Yn(n){n!==ha&&n.next===null&&(ha===null?Us=ha=n:ha=ha.next=n),Bs=!0,Lu||(Lu=!0,I5())}function hl(n,r){if(!Uu&&Bs){Uu=!0;do for(var s=!1,u=Us;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var A=u.suspendedLanes,N=u.pingedLanes;y=(1<<31-un(42|n)+1)-1,y&=g&~(A&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,F1(u,y))}else y=Fe,y=Pl(u,u===ot?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Ia(u,y)||(s=!0,F1(u,y));u=u.next}while(s);Uu=!1}}function k5(){P1()}function P1(){Bs=Lu=!1;var n=0;Ki!==0&&O5()&&(n=Ki);for(var r=sn(),s=null,u=Us;u!==null;){var g=u.next,y=O1(u,r);y===0?(u.next=null,s===null?Us=g:s.next=g,g===null&&(ha=s)):(s=u,(n!==0||(y&3)!==0)&&(Bs=!0)),u=g}Rt!==0&&Rt!==5||hl(n),Ki!==0&&(Ki=0)}function O1(n,r){for(var s=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var A=31-un(y),N=1<<A,z=g[A];z===-1?((N&s)===0||(N&u)!==0)&&(g[A]=rv(N,r)):z<=r&&(n.expiredLanes|=N),y&=~N}if(r=ot,s=Fe,s=Pl(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===r&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Xo(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ia(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(u!==null&&Xo(u),Qo(s)){case 2:case 8:s=kd;break;case 32:s=Bl;break;case 268435456:s=Id;break;default:s=Bl}return u=V1.bind(null,n),s=Jo(s,u),n.callbackPriority=r,n.callbackNode=s,r}return u!==null&&u!==null&&Xo(u),n.callbackPriority=2,n.callbackNode=null,2}function V1(n,r){if(Rt!==0&&Rt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Ls()&&n.callbackNode!==s)return null;var u=Fe;return u=Pl(n,n===ot?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(A1(n,u,r),O1(n,sn()),n.callbackNode!=null&&n.callbackNode===s?V1.bind(null,n):null)}function F1(n,r){if(Ls())return null;A1(n,r,!0)}function I5(){F5(function(){(et&6)!==0?Jo(Rd,k5):P1()})}function Bu(){if(Ki===0){var n=Zr;n===0&&(n=Hl,Hl<<=1,(Hl&261888)===0&&(Hl=256)),Ki=n}return Ki}function j1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:jl(""+n)}function Y1(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function D5(n,r,s,u,g){if(r==="submit"&&s&&s.stateNode===g){var y=j1((g[$t]||null).action),A=u.submitter;A&&(r=(r=A[$t]||null)?j1(r.formAction):A.getAttribute("formAction"),r!==null&&(y=r,A=null));var N=new Kl("action","action",null,u,g);n.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ki!==0){var z=A?Y1(g,A):new FormData(g);iu(s,{pending:!0,data:z,method:g.method,action:y},null,z)}}else typeof y=="function"&&(N.preventDefault(),z=A?Y1(g,A):new FormData(g),iu(s,{pending:!0,data:z,method:g.method,action:y},y,z))},currentTarget:g}]})}}for(var Hu=0;Hu<b0.length;Hu++){var Gu=b0[Hu],z5=Gu.toLowerCase(),L5=Gu[0].toUpperCase()+Gu.slice(1);Un(z5,"on"+L5)}Un(wf,"onAnimationEnd"),Un(Af,"onAnimationIteration"),Un(Ef,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Qv,"onTransitionRun"),Un(Zv,"onTransitionStart"),Un(Wv,"onTransitionCancel"),Un(Cf,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function J1(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var A=u.length-1;0<=A;A--){var N=u[A],z=N.instance,F=N.currentTarget;if(N=N.listener,z!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=F;try{y(g)}catch(W){Zl(W)}g.currentTarget=null,y=z}else for(A=0;A<u.length;A++){if(N=u[A],z=N.instance,F=N.currentTarget,N=N.listener,z!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=F;try{y(g)}catch(W){Zl(W)}g.currentTarget=null,y=z}}}}function Ve(n,r){var s=r[Zo];s===void 0&&(s=r[Zo]=new Set);var u=n+"__bubble";s.has(u)||(X1(r,n,2,!1),s.add(u))}function qu(n,r,s){var u=0;r&&(u|=4),X1(s,n,u,r)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function Pu(n){if(!n[Hs]){n[Hs]=!0,qd.forEach(function(s){s!=="selectionchange"&&(U5.has(s)||qu(s,!1,n),qu(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Hs]||(r[Hs]=!0,qu("selectionchange",!1,r))}}function X1(n,r,s,u){switch(wm(r)){case 2:var g=c3;break;case 8:g=d3;break;default:g=nc}s=g.bind(null,r,s,n),g=void 0,!s0||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(r,s,{capture:!0,passive:g}):n.addEventListener(r,s,!0):g!==void 0?n.addEventListener(r,s,{passive:g}):n.addEventListener(r,s,!1)}function Ou(n,r,s,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var N=u.stateNode.containerInfo;if(N===g)break;if(A===4)for(A=u.return;A!==null;){var z=A.tag;if((z===3||z===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;N!==null;){if(A=Lr(N),A===null)return;if(z=A.tag,z===5||z===6||z===26||z===27){u=y=A;continue e}N=N.parentNode}}u=u.return}Zd(function(){var F=y,W=a0(s),re=[];e:{var Y=Nf.get(n);if(Y!==void 0){var X=Kl,Te=n;switch(n){case"keypress":if(Jl(s)===0)break e;case"keydown":case"keyup":X=_v;break;case"focusin":Te="focus",X=d0;break;case"focusout":Te="blur",X=d0;break;case"beforeblur":case"afterblur":X=d0;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Iv;break;case wf:case Af:case Ef:X=bv;break;case Cf:X=zv;break;case"scroll":case"scrollend":X=pv;break;case"wheel":X=Uv;break;case"copy":case"cut":case"paste":X=Tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=rf;break;case"toggle":case"beforetoggle":X=Hv}var ke=(r&4)!==0,st=!ke&&(n==="scroll"||n==="scrollend"),G=ke?Y!==null?Y+"Capture":null:Y;ke=[];for(var B=F,O;B!==null;){var ne=B;if(O=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||O===null||G===null||(ne=Ua(B,G),ne!=null&&ke.push(pl(B,ne,O))),st)break;B=B.return}0<ke.length&&(Y=new X(Y,Te,null,s,W),re.push({event:Y,listeners:ke}))}}if((r&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&s!==r0&&(Te=s.relatedTarget||s.fromElement)&&(Lr(Te)||Te[zr]))break e;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Te=s.relatedTarget||s.toElement,X=F,Te=Te?Lr(Te):null,Te!==null&&(st=o(Te),ke=Te.tag,Te!==st||ke!==5&&ke!==27&&ke!==6)&&(Te=null)):(X=null,Te=F),X!==Te)){if(ke=tf,ne="onMouseLeave",G="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(ke=rf,ne="onPointerLeave",G="onPointerEnter",B="pointer"),st=X==null?Y:La(X),O=Te==null?Y:La(Te),Y=new ke(ne,B+"leave",X,s,W),Y.target=st,Y.relatedTarget=O,ne=null,Lr(W)===F&&(ke=new ke(G,B+"enter",Te,s,W),ke.target=O,ke.relatedTarget=st,ne=ke),st=ne,X&&Te)t:{for(ke=B5,G=X,B=Te,O=0,ne=G;ne;ne=ke(ne))O++;ne=0;for(var Ce=B;Ce;Ce=ke(Ce))ne++;for(;0<O-ne;)G=ke(G),O--;for(;0<ne-O;)B=ke(B),ne--;for(;O--;){if(G===B||B!==null&&G===B.alternate){ke=G;break t}G=ke(G),B=ke(B)}ke=null}else ke=null;X!==null&&K1(re,Y,X,ke,!1),Te!==null&&st!==null&&K1(re,st,Te,ke,!0)}}e:{if(Y=F?La(F):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Ke=ff;else if(cf(Y))if(hf)Ke=Xv;else{Ke=Yv;var we=jv}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&i0(F.elementType)&&(Ke=ff):Ke=Jv;if(Ke&&(Ke=Ke(n,F))){df(re,Ke,s,W);break e}we&&we(n,Y,F),n==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&n0(Y,"number",Y.value)}switch(we=F?La(F):window,n){case"focusin":(cf(we)||we.contentEditable==="true")&&(Fr=we,v0=F,Fa=null);break;case"focusout":Fa=v0=Fr=null;break;case"mousedown":y0=!0;break;case"contextmenu":case"mouseup":case"dragend":y0=!1,Sf(re,s,W);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Sf(re,s,W)}var Be;if(h0)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Vr?of(n,s)&&(je="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(af&&s.locale!=="ko"&&(Vr||je!=="onCompositionStart"?je==="onCompositionEnd"&&Vr&&(Be=Wd()):(Di=W,o0="value"in Di?Di.value:Di.textContent,Vr=!0)),we=Gs(F,je),0<we.length&&(je=new nf(je,n,null,s,W),re.push({event:je,listeners:we}),Be?je.data=Be:(Be=uf(s),Be!==null&&(je.data=Be)))),(Be=qv?Pv(n,s):Ov(n,s))&&(je=Gs(F,"onBeforeInput"),0<je.length&&(we=new nf("onBeforeInput","beforeinput",null,s,W),re.push({event:we,listeners:je}),we.data=Be)),D5(re,n,F,s,W)}J1(re,r)})}function pl(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Gs(n,r){for(var s=r+"Capture",u=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Ua(n,s),g!=null&&u.unshift(pl(n,g,y)),g=Ua(n,r),g!=null&&u.push(pl(n,g,y))),n.tag===3)return u;n=n.return}return[]}function B5(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function K1(n,r,s,u,g){for(var y=r._reactName,A=[];s!==null&&s!==u;){var N=s,z=N.alternate,F=N.stateNode;if(N=N.tag,z!==null&&z===u)break;N!==5&&N!==26&&N!==27||F===null||(z=F,g?(F=Ua(s,y),F!=null&&A.unshift(pl(s,F,z))):g||(F=Ua(s,y),F!=null&&A.push(pl(s,F,z)))),s=s.return}A.length!==0&&n.push({event:r,listeners:A})}var H5=/\r\n?/g,G5=/\u0000|\uFFFD/g;function $1(n){return(typeof n=="string"?n:""+n).replace(H5,`
`).replace(G5,"")}function Q1(n,r){return r=$1(r),$1(n)===r}function lt(n,r,s,u,g,y){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||qr(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&qr(n,""+u);break;case"className":Vl(n,"class",u);break;case"tabIndex":Vl(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(n,s,u);break;case"style":$d(n,u,y);break;case"data":if(r!=="object"){Vl(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=jl(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(r!=="input"&&lt(n,r,"name",g.name,g,null),lt(n,r,"formEncType",g.formEncType,g,null),lt(n,r,"formMethod",g.formMethod,g,null),lt(n,r,"formTarget",g.formTarget,g,null)):(lt(n,r,"encType",g.encType,g,null),lt(n,r,"method",g.method,g,null),lt(n,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=jl(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=ti);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=jl(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Ol(n,"popover",u);break;case"xlinkActuate":ei(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ei(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ei(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ei(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ei(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ei(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ei(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ei(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ei(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ol(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hv.get(s)||s,Ol(n,s,u))}}function Vu(n,r,s,u,g,y){switch(s){case"style":$d(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof u=="string"?qr(n,u):(typeof u=="number"||typeof u=="bigint")&&qr(n,""+u);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),r=s.slice(2,g?s.length-7:void 0),y=n[$t]||null,y=y!=null?y[s]:null,typeof y=="function"&&n.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,u,g);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Ol(n,s,u)}}}function Pt(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var u=!1,g=!1,y;for(y in s)if(s.hasOwnProperty(y)){var A=s[y];if(A!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:lt(n,r,y,A,s,null)}}g&&lt(n,r,"srcSet",s.srcSet,s,null),u&&lt(n,r,"src",s.src,s,null);return;case"input":Ve("invalid",n);var N=y=A=g=null,z=null,F=null;for(u in s)if(s.hasOwnProperty(u)){var W=s[u];if(W!=null)switch(u){case"name":g=W;break;case"type":A=W;break;case"checked":z=W;break;case"defaultChecked":F=W;break;case"value":y=W;break;case"defaultValue":N=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:lt(n,r,u,W,s,null)}}Yd(n,y,N,z,F,A,g,!1);return;case"select":Ve("invalid",n),u=A=y=null;for(g in s)if(s.hasOwnProperty(g)&&(N=s[g],N!=null))switch(g){case"value":y=N;break;case"defaultValue":A=N;break;case"multiple":u=N;default:lt(n,r,g,N,s,null)}r=y,s=A,n.multiple=!!u,r!=null?Gr(n,!!u,r,!1):s!=null&&Gr(n,!!u,s,!0);return;case"textarea":Ve("invalid",n),y=g=u=null;for(A in s)if(s.hasOwnProperty(A)&&(N=s[A],N!=null))switch(A){case"value":u=N;break;case"defaultValue":g=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:lt(n,r,A,N,s,null)}Xd(n,u,g,y);return;case"option":for(z in s)if(s.hasOwnProperty(z)&&(u=s[z],u!=null))switch(z){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(n,r,z,u,s,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(u=0;u<ml.length;u++)Ve(ml[u],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(u=s[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:lt(n,r,F,u,s,null)}return;default:if(i0(r)){for(W in s)s.hasOwnProperty(W)&&(u=s[W],u!==void 0&&Vu(n,r,W,u,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(u=s[N],u!=null&&lt(n,r,N,u,s,null))}function q5(n,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,N=null,z=null,F=null,W=null;for(X in s){var re=s[X];if(s.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":z=re;default:u.hasOwnProperty(X)||lt(n,r,X,null,u,re)}}for(var Y in u){var X=u[Y];if(re=s[Y],u.hasOwnProperty(Y)&&(X!=null||re!=null))switch(Y){case"type":y=X;break;case"name":g=X;break;case"checked":F=X;break;case"defaultChecked":W=X;break;case"value":A=X;break;case"defaultValue":N=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:X!==re&&lt(n,r,Y,X,u,re)}}t0(n,A,N,z,F,W,y,g);return;case"select":X=A=N=Y=null;for(y in s)if(z=s[y],s.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":X=z;default:u.hasOwnProperty(y)||lt(n,r,y,null,u,z)}for(g in u)if(y=u[g],z=s[g],u.hasOwnProperty(g)&&(y!=null||z!=null))switch(g){case"value":Y=y;break;case"defaultValue":N=y;break;case"multiple":A=y;default:y!==z&&lt(n,r,g,y,u,z)}r=N,s=A,u=X,Y!=null?Gr(n,!!s,Y,!1):!!u!=!!s&&(r!=null?Gr(n,!!s,r,!0):Gr(n,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(N in s)if(g=s[N],s.hasOwnProperty(N)&&g!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:lt(n,r,N,null,u,g)}for(A in u)if(g=u[A],y=s[A],u.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":Y=g;break;case"defaultValue":X=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==y&&lt(n,r,A,g,u,y)}Jd(n,Y,X);return;case"option":for(var Te in s)if(Y=s[Te],s.hasOwnProperty(Te)&&Y!=null&&!u.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:lt(n,r,Te,null,u,Y)}for(z in u)if(Y=u[z],X=s[z],u.hasOwnProperty(z)&&Y!==X&&(Y!=null||X!=null))switch(z){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:lt(n,r,z,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in s)Y=s[ke],s.hasOwnProperty(ke)&&Y!=null&&!u.hasOwnProperty(ke)&&lt(n,r,ke,null,u,Y);for(F in u)if(Y=u[F],X=s[F],u.hasOwnProperty(F)&&Y!==X&&(Y!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:lt(n,r,F,Y,u,X)}return;default:if(i0(r)){for(var st in s)Y=s[st],s.hasOwnProperty(st)&&Y!==void 0&&!u.hasOwnProperty(st)&&Vu(n,r,st,void 0,u,Y);for(W in u)Y=u[W],X=s[W],!u.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||Vu(n,r,W,Y,u,X);return}}for(var G in s)Y=s[G],s.hasOwnProperty(G)&&Y!=null&&!u.hasOwnProperty(G)&&lt(n,r,G,null,u,Y);for(re in u)Y=u[re],X=s[re],!u.hasOwnProperty(re)||Y===X||Y==null&&X==null||lt(n,r,re,Y,u,X)}function Z1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P5(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var g=s[u],y=g.transferSize,A=g.initiatorType,N=g.duration;if(y&&N&&Z1(A)){for(A=0,N=g.responseEnd,u+=1;u<s.length;u++){var z=s[u],F=z.startTime;if(F>N)break;var W=z.transferSize,re=z.initiatorType;W&&Z1(re)&&(z=z.responseEnd,A+=W*(z<N?1:(N-F)/(z-F)))}if(--u,r+=8*(y+A)/(g.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Fu=null,ju=null;function qs(n){return n.nodeType===9?n:n.ownerDocument}function W1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function em(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Yu(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ju=null;function O5(){var n=window.event;return n&&n.type==="popstate"?n===Ju?!1:(Ju=n,!0):(Ju=null,!1)}var tm=typeof setTimeout=="function"?setTimeout:void 0,V5=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,F5=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(n){return nm.resolve(null).then(n).catch(j5)}:tm;function j5(n){setTimeout(function(){throw n})}function $i(n){return n==="head"}function im(n,r){var s=r,u=0;do{var g=s.nextSibling;if(n.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(g),va(r);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")gl(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,gl(s);for(var y=s.firstChild;y;){var A=y.nextSibling,N=y.nodeName;y[za]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=A}}else s==="body"&&gl(n.ownerDocument.body);s=g}while(s);va(r)}function rm(n,r){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function Xu(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xu(s),Wo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function Y5(n,r,s,u){for(;n.nodeType===1;){var g=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[za])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=_n(n.nextSibling),n===null)break}return null}function J5(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=_n(n.nextSibling),n===null))return null;return n}function am(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=_n(n.nextSibling),n===null))return null;return n}function Ku(n){return n.data==="$?"||n.data==="$~"}function $u(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function X5(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function _n(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Qu=null;function lm(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return _n(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function sm(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function om(n,r,s){switch(r=qs(s),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function gl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Wo(n)}var Rn=new Map,um=new Set;function Ps(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var vi=ie.d;ie.d={f:K5,r:$5,D:Q5,C:Z5,L:W5,m:e3,X:n3,S:t3,M:i3};function K5(){var n=vi.f(),r=Is();return n||r}function $5(n){var r=Ur(n);r!==null&&r.tag===5&&r.type==="form"?Ch(r):vi.r(n)}var ma=typeof document>"u"?null:document;function cm(n,r,s){var u=ma;if(u&&typeof r=="string"&&r){var g=Tn(r);g='link[rel="'+n+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),um.has(g)||(um.add(g),n={rel:n,crossOrigin:s,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),Pt(r,"link",n),zt(r),u.head.appendChild(r)))}}function Q5(n){vi.D(n),cm("dns-prefetch",n,null)}function Z5(n,r){vi.C(n,r),cm("preconnect",n,r)}function W5(n,r,s){vi.L(n,r,s);var u=ma;if(u&&n&&r){var g='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+Tn(s.imageSizes)+'"]')):g+='[href="'+Tn(n)+'"]';var y=g;switch(r){case"style":y=pa(n);break;case"script":y=ga(n)}Rn.has(y)||(n=S({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Rn.set(y,n),u.querySelector(g)!==null||r==="style"&&u.querySelector(vl(y))||r==="script"&&u.querySelector(yl(y))||(r=u.createElement("link"),Pt(r,"link",n),zt(r),u.head.appendChild(r)))}}function e3(n,r){vi.m(n,r);var s=ma;if(s&&n){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Tn(u)+'"][href="'+Tn(n)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ga(n)}if(!Rn.has(y)&&(n=S({rel:"modulepreload",href:n},r),Rn.set(y,n),s.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(y)))return}u=s.createElement("link"),Pt(u,"link",n),zt(u),s.head.appendChild(u)}}}function t3(n,r,s){vi.S(n,r,s);var u=ma;if(u&&n){var g=Br(u).hoistableStyles,y=pa(n);r=r||"default";var A=g.get(y);if(!A){var N={loading:0,preload:null};if(A=u.querySelector(vl(y)))N.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Rn.get(y))&&Zu(n,s);var z=A=u.createElement("link");zt(z),Pt(z,"link",n),z._p=new Promise(function(F,W){z.onload=F,z.onerror=W}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Os(A,r,u)}A={type:"stylesheet",instance:A,count:1,state:N},g.set(y,A)}}}function n3(n,r){vi.X(n,r);var s=ma;if(s&&n){var u=Br(s).hoistableScripts,g=ga(n),y=u.get(g);y||(y=s.querySelector(yl(g)),y||(n=S({src:n,async:!0},r),(r=Rn.get(g))&&Wu(n,r),y=s.createElement("script"),zt(y),Pt(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function i3(n,r){vi.M(n,r);var s=ma;if(s&&n){var u=Br(s).hoistableScripts,g=ga(n),y=u.get(g);y||(y=s.querySelector(yl(g)),y||(n=S({src:n,async:!0,type:"module"},r),(r=Rn.get(g))&&Wu(n,r),y=s.createElement("script"),zt(y),Pt(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function dm(n,r,s,u){var g=(g=Q.current)?Ps(g):null;if(!g)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=pa(s.href),s=Br(g).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=pa(s.href);var y=Br(g).hoistableStyles,A=y.get(n);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,A),(y=g.querySelector(vl(n)))&&!y._p&&(A.instance=y,A.state.loading=5),Rn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Rn.set(n,s),y||r3(g,n,s,A.state))),r&&u===null)throw Error(a(528,""));return A}if(r&&u!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ga(s),s=Br(g).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function pa(n){return'href="'+Tn(n)+'"'}function vl(n){return'link[rel="stylesheet"]['+n+"]"}function fm(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function r3(n,r,s,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Pt(r,"link",s),zt(r),n.head.appendChild(r))}function ga(n){return'[src="'+Tn(n)+'"]'}function yl(n){return"script[async]"+n}function hm(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(u)return r.instance=u,zt(u),u;var g=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),zt(u),Pt(u,"style",g),Os(u,s.precedence,n),r.instance=u;case"stylesheet":g=pa(s.href);var y=n.querySelector(vl(g));if(y)return r.state.loading|=4,r.instance=y,zt(y),y;u=fm(s),(g=Rn.get(g))&&Zu(u,g),y=(n.ownerDocument||n).createElement("link"),zt(y);var A=y;return A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),Pt(y,"link",u),r.state.loading|=4,Os(y,s.precedence,n),r.instance=y;case"script":return y=ga(s.src),(g=n.querySelector(yl(y)))?(r.instance=g,zt(g),g):(u=s,(g=Rn.get(y))&&(u=S({},s),Wu(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),zt(g),Pt(g,"link",u),n.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Os(u,s.precedence,n));return r.instance}function Os(n,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,A=0;A<u.length;A++){var N=u[A];if(N.dataset.precedence===r)y=N;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Zu(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Wu(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Vs=null;function mm(n,r,s){if(Vs===null){var u=new Map,g=Vs=new Map;g.set(s,u)}else g=Vs,u=g.get(s),u||(u=new Map,g.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),g=0;g<s.length;g++){var y=s[g];if(!(y[za]||y[Bt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(r)||"";A=n+A;var N=u.get(A);N?N.push(y):u.set(A,[y])}}return u}function pm(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function a3(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function gm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function l3(n,r,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=pa(u.href),y=r.querySelector(vl(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Fs.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=y,zt(y);return}y=r.ownerDocument||r,u=fm(u),(g=Rn.get(g))&&Zu(u,g),y=y.createElement("link"),zt(y);var A=y;A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),Pt(y,"link",u),s.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Fs.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var ec=0;function s3(n,r){return n.stylesheets&&n.count===0&&Ys(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&Ys(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+r);0<n.imgBytes&&ec===0&&(ec=62500*P5());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ys(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>ec?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Fs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ys(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var js=null;function Ys(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,js=new Map,r.forEach(o3,n),js=null,Fs.call(n))}function o3(n,r){if(!(r.state.loading&4)){var s=js.get(n);if(s)var u=s.get(null);else{s=new Map,js.set(n,s);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),u=A)}u&&s.set(null,u)}g=r.instance,A=g.getAttribute("data-precedence"),y=s.get(A)||u,y===u&&s.set(null,g),s.set(A,g),this.count++,u=Fs.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),r.state.loading|=4}}var xl={$$typeof:J,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function u3(n,r,s,u,g,y,A,N,z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ko(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.hiddenUpdates=Ko(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function vm(n,r,s,u,g,y,A,N,z,F,W,re){return n=new u3(n,r,s,A,z,F,W,re,N),r=1,y===!0&&(r|=24),y=dn(3,null,null,r),n.current=y,y.stateNode=n,r=D0(),r.refCount++,n.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:s,cache:r},B0(y),n}function ym(n){return n?(n=Jr,n):Jr}function xm(n,r,s,u,g,y){g=ym(g),u.context===null?u.context=g:u.pendingContext=g,u=Gi(r),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=qi(n,u,r),s!==null&&(nn(s,n,r),Qa(s,n,r))}function bm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function tc(n,r){bm(n,r),(n=n.alternate)&&bm(n,r)}function Sm(n){if(n.tag===13||n.tag===31){var r=gr(n,67108864);r!==null&&nn(r,n,67108864),tc(n,67108864)}}function Tm(n){if(n.tag===13||n.tag===31){var r=gn();r=$o(r);var s=gr(n,r);s!==null&&nn(s,n,r),tc(n,r)}}var Js=!0;function c3(n,r,s,u){var g=j.T;j.T=null;var y=ie.p;try{ie.p=2,nc(n,r,s,u)}finally{ie.p=y,j.T=g}}function d3(n,r,s,u){var g=j.T;j.T=null;var y=ie.p;try{ie.p=8,nc(n,r,s,u)}finally{ie.p=y,j.T=g}}function nc(n,r,s,u){if(Js){var g=ic(u);if(g===null)Ou(n,r,u,Xs,s),Am(n,u);else if(h3(g,n,r,s,u))u.stopPropagation();else if(Am(n,u),r&4&&-1<f3.indexOf(n)){for(;g!==null;){var y=Ur(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=dr(y.pendingLanes);if(A!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var z=1<<31-un(A);N.entanglements[1]|=z,A&=~z}Yn(y),(et&6)===0&&(Rs=sn()+500,hl(0))}}break;case 31:case 13:N=gr(y,2),N!==null&&nn(N,y,2),Is(),tc(y,2)}if(y=ic(u),y===null&&Ou(n,r,u,Xs,s),y===g)break;g=y}g!==null&&u.stopPropagation()}else Ou(n,r,u,null,s)}}function ic(n){return n=a0(n),rc(n)}var Xs=null;function rc(n){if(Xs=null,n=Lr(n),n!==null){var r=o(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Xs=n,null}function wm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qg()){case Rd:return 2;case kd:return 8;case Bl:case Zg:return 32;case Id:return 268435456;default:return 32}default:return 32}}var ac=!1,Qi=null,Zi=null,Wi=null,bl=new Map,Sl=new Map,er=[],f3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Am(n,r){switch(n){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(r.pointerId)}}function Tl(n,r,s,u,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=Ur(r),r!==null&&Sm(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function h3(n,r,s,u,g){switch(r){case"focusin":return Qi=Tl(Qi,n,r,s,u,g),!0;case"dragenter":return Zi=Tl(Zi,n,r,s,u,g),!0;case"mouseover":return Wi=Tl(Wi,n,r,s,u,g),!0;case"pointerover":var y=g.pointerId;return bl.set(y,Tl(bl.get(y)||null,n,r,s,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Sl.set(y,Tl(Sl.get(y)||null,n,r,s,u,g)),!0}return!1}function Em(n){var r=Lr(n.target);if(r!==null){var s=o(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,Hd(n.priority,function(){Tm(s)});return}}else if(r===31){if(r=f(s),r!==null){n.blockedOn=r,Hd(n.priority,function(){Tm(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ks(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=ic(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);r0=u,s.target.dispatchEvent(u),r0=null}else return r=Ur(s),r!==null&&Sm(r),n.blockedOn=s,!1;r.shift()}return!0}function Cm(n,r,s){Ks(n)&&s.delete(r)}function m3(){ac=!1,Qi!==null&&Ks(Qi)&&(Qi=null),Zi!==null&&Ks(Zi)&&(Zi=null),Wi!==null&&Ks(Wi)&&(Wi=null),bl.forEach(Cm),Sl.forEach(Cm)}function $s(n,r){n.blockedOn===r&&(n.blockedOn=null,ac||(ac=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,m3)))}var Qs=null;function Nm(n){Qs!==n&&(Qs=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qs===n&&(Qs=null);for(var r=0;r<n.length;r+=3){var s=n[r],u=n[r+1],g=n[r+2];if(typeof u!="function"){if(rc(u||s)===null)continue;break}var y=Ur(s);y!==null&&(n.splice(r,3),r-=3,iu(y,{pending:!0,data:g,method:s.method,action:u},u,g))}}))}function va(n){function r(z){return $s(z,n)}Qi!==null&&$s(Qi,n),Zi!==null&&$s(Zi,n),Wi!==null&&$s(Wi,n),bl.forEach(r),Sl.forEach(r);for(var s=0;s<er.length;s++){var u=er[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<er.length&&(s=er[0],s.blockedOn===null);)Em(s),s.blockedOn===null&&er.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var g=s[u],y=s[u+1],A=g[$t]||null;if(typeof y=="function")A||Nm(s);else if(A){var N=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[$t]||null)N=A.formAction;else if(rc(g)!==null)continue}else N=A.action;typeof N=="function"?s[u+1]=N:(s.splice(u,3),u-=3),Nm(s)}}}function Mm(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function lc(n){this._internalRoot=n}Zs.prototype.render=lc.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,u=gn();xm(s,u,n,r,null,null)},Zs.prototype.unmount=lc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;xm(n.current,2,null,n,null,null),Is(),r[zr]=null}};function Zs(n){this._internalRoot=n}Zs.prototype.unstable_scheduleHydration=function(n){if(n){var r=Bd();n={blockedOn:null,target:n,priority:r};for(var s=0;s<er.length&&r!==0&&r<er[s].priority;s++);er.splice(s,0,n),s===0&&Em(n)}};var _m=e.version;if(_m!=="19.2.3")throw Error(a(527,_m,"19.2.3"));ie.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(r),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var p3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{ka=Ws.inject(p3),on=Ws}catch{}}return Al.createRoot=function(n,r){if(!l(n))throw Error(a(299));var s=!1,u="",g=Uh,y=Bh,A=Hh;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=vm(n,1,!1,null,null,s,u,null,g,y,A,Mm),n[zr]=r.current,Pu(n),new lc(r)},Al.hydrateRoot=function(n,r,s){if(!l(n))throw Error(a(299));var u=!1,g="",y=Uh,A=Bh,N=Hh,z=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.formState!==void 0&&(z=s.formState)),r=vm(n,1,!0,r,s??null,u,g,z,y,A,N,Mm),r.context=ym(null),s=r.current,u=gn(),u=$o(u),g=Gi(u),g.callback=null,qi(s,g,u),s=u,r.current.lanes=s,Da(r,s),Yn(r),n[zr]=r.current,Pu(n),new Zs(r)},Al.version="19.2.3",Al}var Gm;function C3(){if(Gm)return uc.exports;Gm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uc.exports=E3(),uc.exports}var N3=C3();const M3=t2(N3);var Io=(t=>(t.MATH="",t.PHYSICS="",t.CHEMISTRY="",t.BIOLOGY="",t.ENGLISH="",t.CHINESE="",t.OTHER="",t))(Io||{}),Qe=(t=>(t.GEMINI="GEMINI",t.QWEN="QWEN",t.DOUBAO="DOUBAO",t.OPENAI="OPENAI",t))(Qe||{}),_3={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R3,k3;function I3(){return{geminiUrl:R3,vertexUrl:k3}}function D3(t,e,i,a){var l,o;if(!(t!=null&&t.baseUrl)){const c=I3();return e?(l=c.vertexUrl)!==null&&l!==void 0?l:i:(o=c.geminiUrl)!==null&&o!==void 0?o:a}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ci{}function ve(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(a,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function h(t,e,i){for(let o=0;o<e.length-1;o++){const c=e[o];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(i))t[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(i))for(let m=0;m<p.length;m++){const x=p[m];h(x,e.slice(o+1),i[m])}else for(const m of p)h(m,e.slice(o+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];h(p[0],e.slice(o+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const a=e[e.length-1],l=t[a];if(l!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===l)return;if(typeof l=="object"&&typeof i=="object"&&l!==null&&i!==null)Object.assign(l,i);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[a]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let a=0;a<e.length;a++){if(typeof t!="object"||t===null)return i;const l=e[a];if(l.endsWith("[]")){const o=l.slice(0,-2);if(o in t){const c=t[o];return Array.isArray(c)?c.map(f=>d(f,e.slice(a+1),i)):i}else return i}else t=t[l]}return t}catch(a){if(a instanceof TypeError)return i;throw a}}function z3(t,e){for(const[i,a]of Object.entries(e)){const l=i.split("."),o=a.split("."),c=new Set;let f=-1;for(let p=0;p<l.length;p++)if(l[p]==="*"){f=p;break}if(f!==-1&&o.length>f)for(let p=f;p<o.length;p++){const m=o[p];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&c.add(m)}Rc(t,l,o,0,c)}}function Rc(t,e,i,a,l){if(a>=e.length||typeof t!="object"||t===null)return;const o=e[a];if(o.endsWith("[]")){const c=o.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const p of f[c])Rc(p,e,i,a+1,l)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(m=>!m.startsWith("_")&&!l.has(m)),p={};for(const m of f)p[m]=c[m];for(const[m,x]of Object.entries(p)){const S=[];for(const T of i.slice(a))T==="*"?S.push(m):S.push(T);h(c,S,x)}for(const m of f)delete c[m]}}else{const c=t;o in c&&Rc(c[o],e,i,a+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ed(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L3(t){const e={},i=d(t,["operationName"]);i!=null&&h(e,["operationName"],i);const a=d(t,["resourceName"]);return a!=null&&h(e,["_url","resourceName"],a),e}function U3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["metadata"]);a!=null&&h(e,["metadata"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],H3(c)),e}function B3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["metadata"]);a!=null&&h(e,["metadata"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],G3(c)),e}function H3(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>q3(c))),h(e,["generatedVideos"],o)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&h(e,["raiMediaFilteredCount"],a);const l=d(t,["raiMediaFilteredReasons"]);return l!=null&&h(e,["raiMediaFilteredReasons"],l),e}function G3(t){const e={},i=d(t,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>P3(c))),h(e,["generatedVideos"],o)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&h(e,["raiMediaFilteredCount"],a);const l=d(t,["raiMediaFilteredReasons"]);return l!=null&&h(e,["raiMediaFilteredReasons"],l),e}function q3(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],J3(i)),e}function P3(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],X3(i)),e}function O3(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function V3(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function F3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["metadata"]);a!=null&&h(e,["metadata"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],j3(c)),e}function j3(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["parent"]);a!=null&&h(e,["parent"],a);const l=d(t,["documentName"]);return l!=null&&h(e,["documentName"],l),e}function n2(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["metadata"]);a!=null&&h(e,["metadata"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],Y3(c)),e}function Y3(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["parent"]);a!=null&&h(e,["parent"],a);const l=d(t,["documentName"]);return l!=null&&h(e,["documentName"],l),e}function J3(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const a=d(t,["encodedVideo"]);a!=null&&h(e,["videoBytes"],ed(a));const l=d(t,["encoding"]);return l!=null&&h(e,["mimeType"],l),e}function X3(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const a=d(t,["bytesBase64Encoded"]);a!=null&&h(e,["videoBytes"],ed(a));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qm||(qm={}));var Pm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Pm||(Pm={}));var Om;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Om||(Om={}));var Mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mt||(Mt={}));var Vm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Vm||(Vm={}));var Fm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Fm||(Fm={}));var jm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(jm||(jm={}));var Ym;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ym||(Ym={}));var Jm;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Jm||(Jm={}));var Xm;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Xm||(Xm={}));var Km;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Km||(Km={}));var $m;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})($m||($m={}));var Qm;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Qm||(Qm={}));var Zm;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Zm||(Zm={}));var Wm;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Wm||(Wm={}));var ep;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ep||(ep={}));var tp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tp||(tp={}));var np;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(np||(np={}));var ip;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ip||(ip={}));var bo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(bo||(bo={}));var rp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rp||(rp={}));var ap;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ap||(ap={}));var lp;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lp||(lp={}));var kc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kc||(kc={}));var sp;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sp||(sp={}));var op;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(op||(op={}));var up;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(up||(up={}));var cp;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(cp||(cp={}));var dp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dp||(dp={}));var fp;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fp||(fp={}));var hp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(hp||(hp={}));var mp;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(mp||(mp={}));var pp;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(pp||(pp={}));var gp;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(gp||(gp={}));var vp;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vp||(vp={}));var yp;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yp||(yp={}));var xp;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xp||(xp={}));var bp;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bp||(bp={}));var Sp;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Sp||(Sp={}));var Tp;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Tp||(Tp={}));var wp;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(wp||(wp={}));var Ap;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ap||(Ap={}));var Ep;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ep||(Ep={}));var Cp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Cp||(Cp={}));var Np;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Np||(Np={}));var Mp;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Mp||(Mp={}));var _p;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_p||(_p={}));var Rp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Rp||(Rp={}));var kp;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(kp||(kp={}));var Ip;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ip||(Ip={}));var Dp;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dp||(Dp={}));var zp;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(zp||(zp={}));var Lp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Lp||(Lp={}));var Up;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Up||(Up={}));var Bp;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Bp||(Bp={}));var ba;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ba||(ba={}));class Ic{constructor(e){const i={};for(const a of e.headers.entries())i[a[0]]=a[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class El{get text(){var e,i,a,l,o,c,f,p;if(((l=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",x=!1;const S=[];for(const T of(p=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[E,_]of Object.entries(T))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(_!==null||_!==void 0)&&S.push(E);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;x=!0,m+=T.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?m:void 0}get data(){var e,i,a,l,o,c,f,p;if(((l=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const x=[];for(const S of(p=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[T,E]of Object.entries(S))T!=="inlineData"&&(E!==null||E!==void 0)&&x.push(T);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,a,l,o,c,f,p;if(((l=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,a,l,o,c,f,p,m;if(((l=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(p=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,a,l,o,c,f,p,m;if(((l=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(p=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.output}}class Hp{}class Gp{}class K3{}class $3{}class Q3{}class Z3{}class qp{}class Pp{}class Op{}class W3{}class So{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const a=new So;let l;const o=e;return i?l=B3(o):l=U3(o),Object.assign(a,l),a}}class Vp{}class Fp{}class jp{}class Yp{}class e6{}class t6{}class n6{}class td{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const a=new td,o=F3(e);return Object.assign(a,o),a}}class i6{}class r6{}class a6{}class Jp{}class l6{get text(){var e,i,a;let l="",o=!1;const c=[];for(const f of(a=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[p,m]of Object.entries(f))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;o=!0,l+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,i,a;let l="";const o=[];for(const c of(a=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[f,p]of Object.entries(c))f!=="inlineData"&&p!==null&&o.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(l+=atob(c.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class s6{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class nd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const a=new nd,o=n2(e);return Object.assign(a,o),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function i2(t,e){const i=We(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function r2(t){return Array.isArray(t)?t.map(e=>To(e)):[To(t)]}function To(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function a2(t){const e=To(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function l2(t){const e=To(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function s2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Xp(e)):[Xp(t)]}function Dc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Kp(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function $p(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Vt(t){if(t==null)throw new Error("ContentUnion is required");return Dc(t)?t:{role:"user",parts:s2(t)}}function id(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const a=Vt(i);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(t.isVertexAI()){const i=Vt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Vt(i)):[Vt(e)]}function In(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Kp(t)||$p(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vt(t)]}const e=[],i=[],a=Dc(t[0]);for(const l of t){const o=Dc(l);if(o!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(l);else{if(Kp(l)||$p(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(l)}}return a||e.push({role:"user",parts:s2(i)}),e}function o6(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(a=>a!=="null");if(i.length===1)e.type=Object.values(Mt).includes(i[0].toUpperCase())?i[0].toUpperCase():Mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of i)e.anyOf.push({type:Object.values(Mt).includes(a.toUpperCase())?a.toUpperCase():Mt.TYPE_UNSPECIFIED})}}function Ta(t){const e={},i=["items"],a=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&o6(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Mt).includes(f.toUpperCase())?f.toUpperCase():Mt.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Ta(f);else if(a.includes(c)){const p=[];for(const m of f){if(m.type=="null"){e.nullable=!0;continue}p.push(Ta(m))}e[c]=p}else if(l.includes(c)){const p={};for(const[m,x]of Object.entries(f))p[m]=Ta(x);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=f}return e}function rd(t){return Ta(t)}function ad(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ld(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ca(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ta(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ta(e.response));return t}function Na(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function u6(t,e,i,a=1){const l=!e.startsWith(`${i}/`)&&e.split("/").length===a;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:l?`${i}/${e}`:e}function Ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return u6(t,e,"cachedContents")}function o2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function or(t){return ed(t)}function c6(t){return t!=null&&typeof t=="object"&&"name"in t}function d6(t){return t!=null&&typeof t=="object"&&"video"in t}function f6(t){return t!=null&&typeof t=="object"&&"uri"in t}function u2(t){var e;let i;if(c6(t)&&(i=t.name),!(f6(t)&&(i=t.uri,i===void 0))&&!(d6(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const l=i.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${i}`);i=l[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function c2(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function d2(t){for(const e of["models","tunedModels","publisherModels"])if(h6(t,e))return t[e];return[]}function h6(t,e){return t!==null&&typeof t=="object"&&e in t}function m6(t,e={}){const i=t,a={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(a.responseJsonSchema=i.outputSchema),e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function p6(t,e={}){const i=[],a=new Set;for(const l of t){const o=l.name;if(a.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);a.add(o);const c=m6(l,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function f2(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const a=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,l=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(l>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function g6(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function h2(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const l=i.inlinedResponses;if(!Array.isArray(l)||l.length===0)return t;let o=!1;for(const c of l){if(typeof c!="object"||c===null)continue;const p=c.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ma(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function m2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v6(t){const e={},i=d(t,["responsesFile"]);i!=null&&h(e,["fileName"],i);const a=d(t,["inlinedResponses","inlinedResponses"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>Q6(c))),h(e,["inlinedResponses"],o)}const l=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["inlinedEmbedContentResponses"],o)}return e}function y6(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&h(e,["format"],i);const a=d(t,["gcsDestination","outputUriPrefix"]);a!=null&&h(e,["gcsUri"],a);const l=d(t,["bigqueryDestination","outputUri"]);return l!=null&&h(e,["bigqueryUri"],l),e}function x6(t){const e={},i=d(t,["format"]);i!=null&&h(e,["predictionsFormat"],i);const a=d(t,["gcsUri"]);a!=null&&h(e,["gcsDestination","outputUriPrefix"],a);const l=d(t,["bigqueryUri"]);if(l!=null&&h(e,["bigqueryDestination","outputUri"],l),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function go(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["metadata","displayName"]);a!=null&&h(e,["displayName"],a);const l=d(t,["metadata","state"]);l!=null&&h(e,["state"],m2(l));const o=d(t,["metadata","createTime"]);o!=null&&h(e,["createTime"],o);const c=d(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&h(e,["updateTime"],f);const p=d(t,["metadata","model"]);p!=null&&h(e,["model"],p);const m=d(t,["metadata","output"]);return m!=null&&h(e,["dest"],v6(h2(m))),e}function zc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["displayName"]);a!=null&&h(e,["displayName"],a);const l=d(t,["state"]);l!=null&&h(e,["state"],m2(l));const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["createTime"]);c!=null&&h(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(e,["startTime"],f);const p=d(t,["endTime"]);p!=null&&h(e,["endTime"],p);const m=d(t,["updateTime"]);m!=null&&h(e,["updateTime"],m);const x=d(t,["model"]);x!=null&&h(e,["model"],x);const S=d(t,["inputConfig"]);S!=null&&h(e,["src"],b6(S));const T=d(t,["outputConfig"]);T!=null&&h(e,["dest"],y6(h2(T)));const E=d(t,["completionStats"]);return E!=null&&h(e,["completionStats"],E),e}function b6(t){const e={},i=d(t,["instancesFormat"]);i!=null&&h(e,["format"],i);const a=d(t,["gcsSource","uris"]);a!=null&&h(e,["gcsUri"],a);const l=d(t,["bigquerySource","inputUri"]);return l!=null&&h(e,["bigqueryUri"],l),e}function S6(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=d(e,["fileName"]);a!=null&&h(i,["fileName"],a);const l=d(e,["inlinedRequests"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>$6(t,c))),h(i,["requests","requests"],o)}return i}function T6(t){const e={},i=d(t,["format"]);i!=null&&h(e,["instancesFormat"],i);const a=d(t,["gcsUri"]);a!=null&&h(e,["gcsSource","uris"],a);const l=d(t,["bigqueryUri"]);if(l!=null&&h(e,["bigquerySource","inputUri"],l),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function w6(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function A6(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ma(t,a)),i}function E6(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ma(t,a)),i}function C6(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const a=d(t,["citationMetadata"]);a!=null&&h(e,["citationMetadata"],N6(a));const l=d(t,["tokenCount"]);l!=null&&h(e,["tokenCount"],l);const o=d(t,["finishReason"]);o!=null&&h(e,["finishReason"],o);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&h(e,["index"],p);const m=d(t,["logprobsResult"]);m!=null&&h(e,["logprobsResult"],m);const x=d(t,["safetyRatings"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["safetyRatings"],T)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function N6(t){const e={},i=d(t,["citationSources"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),h(e,["citations"],a)}return e}function p2(t){const e={},i=d(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>r7(o))),h(e,["parts"],l)}const a=d(t,["role"]);return a!=null&&h(e,["role"],a),e}function M6(t,e){const i={},a=d(t,["displayName"]);if(e!==void 0&&a!=null&&h(e,["batch","displayName"],a),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function _6(t,e){const i={},a=d(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const l=d(t,["dest"]);return e!==void 0&&l!=null&&h(e,["outputConfig"],x6(g6(l))),i}function Qp(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["src"]);l!=null&&h(i,["batch","inputConfig"],S6(t,f2(t,l)));const o=d(e,["config"]);return o!=null&&M6(o,i),i}function R6(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["model"],We(t,a));const l=d(e,["src"]);l!=null&&h(i,["inputConfig"],T6(f2(t,l)));const o=d(e,["config"]);return o!=null&&_6(o,i),i}function k6(t,e){const i={},a=d(t,["displayName"]);return e!==void 0&&a!=null&&h(e,["batch","displayName"],a),i}function I6(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["src"]);l!=null&&h(i,["batch","inputConfig"],G6(t,l));const o=d(e,["config"]);return o!=null&&k6(o,i),i}function D6(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ma(t,a)),i}function z6(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ma(t,a)),i}function L6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["name"]);a!=null&&h(e,["name"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function U6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["name"]);a!=null&&h(e,["name"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function B6(t,e){const i={},a=d(e,["contents"]);if(a!=null){let o=id(t,a);Array.isArray(o)&&(o=o.map(c=>c)),h(i,["requests[]","request","content"],o)}const l=d(e,["config"]);return l!=null&&(h(i,["_self"],H6(l,i)),z3(i,{"requests[].*":"requests[].request.*"})),i}function H6(t,e){const i={},a=d(t,["taskType"]);e!==void 0&&a!=null&&h(e,["requests[]","taskType"],a);const l=d(t,["title"]);e!==void 0&&l!=null&&h(e,["requests[]","title"],l);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&h(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function G6(t,e){const i={},a=d(e,["fileName"]);a!=null&&h(i,["file_name"],a);const l=d(e,["inlinedRequests"]);return l!=null&&h(i,["requests"],B6(t,l)),i}function q6(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function P6(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const a=d(t,["args"]);a!=null&&h(e,["args"],a);const l=d(t,["name"]);if(l!=null&&h(e,["name"],l),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O6(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const a=d(t,["allowedFunctionNames"]);if(a!=null&&h(e,["allowedFunctionNames"],a),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function V6(t,e,i){const a={},l=d(e,["systemInstruction"]);i!==void 0&&l!=null&&h(i,["systemInstruction"],p2(Vt(l)));const o=d(e,["temperature"]);o!=null&&h(a,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(a,["topP"],c);const f=d(e,["topK"]);f!=null&&h(a,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&h(a,["candidateCount"],p);const m=d(e,["maxOutputTokens"]);m!=null&&h(a,["maxOutputTokens"],m);const x=d(e,["stopSequences"]);x!=null&&h(a,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(a,["responseLogprobs"],S);const T=d(e,["logprobs"]);T!=null&&h(a,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&h(a,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(a,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(a,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(a,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(a,["responseSchema"],rd(U));const P=d(e,["responseJsonSchema"]);if(P!=null&&h(a,["responseJsonSchema"],P),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=d(e,["safetySettings"]);if(i!==void 0&&J!=null){let Me=J;Array.isArray(Me)&&(Me=Me.map(Ge=>a7(Ge))),h(i,["safetySettings"],Me)}const ee=d(e,["tools"]);if(i!==void 0&&ee!=null){let Me=Na(ee);Array.isArray(Me)&&(Me=Me.map(Ge=>s7(Ca(Ge)))),h(i,["tools"],Me)}const ae=d(e,["toolConfig"]);if(i!==void 0&&ae!=null&&h(i,["toolConfig"],l7(ae)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=d(e,["cachedContent"]);i!==void 0&&te!=null&&h(i,["cachedContent"],Ni(t,te));const q=d(e,["responseModalities"]);q!=null&&h(a,["responseModalities"],q);const K=d(e,["mediaResolution"]);K!=null&&h(a,["mediaResolution"],K);const Z=d(e,["speechConfig"]);if(Z!=null&&h(a,["speechConfig"],ad(Z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=d(e,["thinkingConfig"]);me!=null&&h(a,["thinkingConfig"],me);const Se=d(e,["imageConfig"]);Se!=null&&h(a,["imageConfig"],K6(Se));const pe=d(e,["enableEnhancedCivicAnswers"]);return pe!=null&&h(a,["enableEnhancedCivicAnswers"],pe),a}function F6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>C6(m))),h(e,["candidates"],p)}const l=d(t,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const o=d(t,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function j6(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ma(t,a)),i}function Y6(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ma(t,a)),i}function J6(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function X6(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function K6(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const a=d(t,["imageSize"]);if(a!=null&&h(e,["imageSize"],a),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $6(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["request","model"],We(t,a));const l=d(e,["contents"]);if(l!=null){let f=In(l);Array.isArray(f)&&(f=f.map(p=>p2(p))),h(i,["request","contents"],f)}const o=d(e,["metadata"]);o!=null&&h(i,["metadata"],o);const c=d(e,["config"]);return c!=null&&h(i,["request","generationConfig"],V6(t,c,d(i,["request"],{}))),i}function Q6(t){const e={},i=d(t,["response"]);i!=null&&h(e,["response"],F6(i));const a=d(t,["error"]);return a!=null&&h(e,["error"],a),e}function Z6(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);if(e!==void 0&&l!=null&&h(e,["_query","pageToken"],l),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function W6(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const o=d(t,["filter"]);return e!==void 0&&o!=null&&h(e,["_query","filter"],o),i}function e7(t){const e={},i=d(t,["config"]);return i!=null&&Z6(i,e),e}function t7(t){const e={},i=d(t,["config"]);return i!=null&&W6(i,e),e}function n7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["operations"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>go(c))),h(e,["batchJobs"],o)}return e}function i7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["batchPredictionJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>zc(c))),h(e,["batchJobs"],o)}return e}function r7(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=d(t,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const l=d(t,["executableCode"]);l!=null&&h(e,["executableCode"],l);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],q6(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],P6(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],w6(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function a7(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=d(t,["threshold"]);return a!=null&&h(e,["threshold"],a),e}function l7(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],O6(i));const a=d(t,["retrievalConfig"]);return a!=null&&h(e,["retrievalConfig"],a),e}function s7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const l=d(t,["computerUse"]);l!=null&&h(e,["computerUse"],l);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],J6(f));const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],X6(p));const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ti;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ti||(Ti={}));class Ir{constructor(e,i,a,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,a,l)}init(e,i,a){var l,o;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!a||Object.keys(a).length===0?c={config:{}}:typeof a=="object"?c=Object.assign({},a):c=a,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(o=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o7 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ir(Ti.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Qp(this.apiClient,e),a=i._url,l=ve("{model}:batchGenerateContent",a),f=i.batch.inputConfig.requests,p=f.requests,m=[];for(const x of p){const S=Object.assign({},x);if(S.systemInstruction){const T=S.systemInstruction;delete S.systemInstruction;const E=S.request;E.systemInstruction=T,S.request=E}m.push(S)}return f.requests=m,delete i.config,delete i._url,delete i._query,{path:l,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const a=i?Object.assign({},i):{},l=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${l}`),a.dest===void 0){const o=this.getGcsUri(e),c=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?a.dest=`${o.slice(0,-6)}/dest`:a.dest=`${o}_dest_${l}`;else if(c)a.dest=`${c}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=R6(this.apiClient,e);return f=ve("batchPredictionJobs",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c.then(x=>zc(x))}else{const m=Qp(this.apiClient,e);return f=ve("{model}:batchGenerateContent",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>go(x))}}async createEmbeddingsInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=I6(this.apiClient,e);return o=ve("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>go(p))}}async get(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=Y6(this.apiClient,e);return f=ve("batchPredictionJobs/{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c.then(x=>zc(x))}else{const m=j6(this.apiClient,e);return f=ve("batches/{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>go(x))}}async cancel(e){var i,a,l,o;let c="",f={};if(this.apiClient.isVertexAI()){const p=E6(this.apiClient,e);c=ve("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const p=A6(this.apiClient,e);c=ve("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=t7(e);return f=ve("batchPredictionJobs",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=i7(x),T=new Jp;return Object.assign(T,S),T})}else{const m=e7(e);return f=ve("batches",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=n7(x),T=new Jp;return Object.assign(T,S),T})}}async delete(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=z6(this.apiClient,e);return f=ve("batchPredictionJobs/{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>U6(x))}else{const m=D6(this.apiClient,e);return f=ve("batches/{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>L6(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u7(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function Zp(t){const e={},i=d(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>I7(o))),h(e,["parts"],l)}const a=d(t,["role"]);return a!=null&&h(e,["role"],a),e}function c7(t,e){const i={},a=d(t,["ttl"]);e!==void 0&&a!=null&&h(e,["ttl"],a);const l=d(t,["expireTime"]);e!==void 0&&l!=null&&h(e,["expireTime"],l);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let x=In(c);Array.isArray(x)&&(x=x.map(S=>Zp(S))),h(e,["contents"],x)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Zp(Vt(f)));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>z7(S))),h(e,["tools"],x)}const m=d(t,["toolConfig"]);if(e!==void 0&&m!=null&&h(e,["toolConfig"],D7(m)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function d7(t,e){const i={},a=d(t,["ttl"]);e!==void 0&&a!=null&&h(e,["ttl"],a);const l=d(t,["expireTime"]);e!==void 0&&l!=null&&h(e,["expireTime"],l);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let S=In(c);Array.isArray(S)&&(S=S.map(T=>T)),h(e,["contents"],S)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Vt(f));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(T=>L7(T))),h(e,["tools"],S)}const m=d(t,["toolConfig"]);e!==void 0&&m!=null&&h(e,["toolConfig"],m);const x=d(t,["kmsKeyName"]);return e!==void 0&&x!=null&&h(e,["encryption_spec","kmsKeyName"],x),i}function f7(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["model"],i2(t,a));const l=d(e,["config"]);return l!=null&&c7(l,i),i}function h7(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["model"],i2(t,a));const l=d(e,["config"]);return l!=null&&d7(l,i),i}function m7(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ni(t,a)),i}function p7(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ni(t,a)),i}function g7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function v7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function y7(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function x7(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const a=d(t,["args"]);a!=null&&h(e,["args"],a);const l=d(t,["name"]);if(l!=null&&h(e,["name"],l),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function b7(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const a=d(t,["allowedFunctionNames"]);if(a!=null&&h(e,["allowedFunctionNames"],a),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function S7(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const a=d(t,["name"]);a!=null&&h(e,["name"],a);const l=d(t,["parameters"]);l!=null&&h(e,["parameters"],l);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function T7(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ni(t,a)),i}function w7(t,e){const i={},a=d(e,["name"]);return a!=null&&h(i,["_url","name"],Ni(t,a)),i}function A7(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function E7(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function C7(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);return e!==void 0&&l!=null&&h(e,["_query","pageToken"],l),i}function N7(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);return e!==void 0&&l!=null&&h(e,["_query","pageToken"],l),i}function M7(t){const e={},i=d(t,["config"]);return i!=null&&C7(i,e),e}function _7(t){const e={},i=d(t,["config"]);return i!=null&&N7(i,e),e}function R7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["cachedContents"],o)}return e}function k7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["cachedContents"],o)}return e}function I7(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=d(t,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const l=d(t,["executableCode"]);l!=null&&h(e,["executableCode"],l);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],y7(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],x7(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],u7(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function D7(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],b7(i));const a=d(t,["retrievalConfig"]);return a!=null&&h(e,["retrievalConfig"],a),e}function z7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const l=d(t,["computerUse"]);l!=null&&h(e,["computerUse"],l);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],A7(f));const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],E7(p));const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}function L7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(T=>S7(T))),h(e,["functionDeclarations"],S)}const a=d(t,["retrieval"]);a!=null&&h(e,["retrieval"],a);const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&h(e,["googleMaps"],p);const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],m);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function U7(t,e){const i={},a=d(t,["ttl"]);e!==void 0&&a!=null&&h(e,["ttl"],a);const l=d(t,["expireTime"]);return e!==void 0&&l!=null&&h(e,["expireTime"],l),i}function B7(t,e){const i={},a=d(t,["ttl"]);e!==void 0&&a!=null&&h(e,["ttl"],a);const l=d(t,["expireTime"]);return e!==void 0&&l!=null&&h(e,["expireTime"],l),i}function H7(t,e){const i={},a=d(e,["name"]);a!=null&&h(i,["_url","name"],Ni(t,a));const l=d(e,["config"]);return l!=null&&U7(l,i),i}function G7(t,e){const i={},a=d(e,["name"]);a!=null&&h(i,["_url","name"],Ni(t,a));const l=d(e,["config"]);return l!=null&&B7(l,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q7 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ir(Ti.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(i),i)}async create(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=h7(this.apiClient,e);return f=ve("cachedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const m=f7(this.apiClient,e);return f=ve("cachedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=w7(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const m=T7(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=p7(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=v7(x),T=new jp;return Object.assign(T,S),T})}else{const m=m7(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=g7(x),T=new jp;return Object.assign(T,S),T})}}async update(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=G7(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const m=H7(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=_7(e);return f=ve("cachedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=k7(x),T=new Yp;return Object.assign(T,S),T})}else{const m=M7(e);return f=ve("cachedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=R7(x),T=new Yp;return Object.assign(T,S),T})}}}function wo(t,e){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(t);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(t,a[l])&&(i[a[l]]=t[a[l]]);return i}function Wp(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],a=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ze(t){return this instanceof ze?(this.v=t,this):new ze(t)}function qn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(t,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(E){return function(_){return Promise.resolve(_).then(E,S)}}function f(E,_){a[E]&&(l[E]=function(R){return new Promise(function(k,U){o.push([E,R,k,U])>1||p(E,R)})},_&&(l[E]=_(l[E])))}function p(E,_){try{m(a[E](_))}catch(R){T(o[0][3],R)}}function m(E){E.value instanceof ze?Promise.resolve(E.value.v).then(x,S):T(o[0][2],E)}function x(E){p("next",E)}function S(E){p("throw",E)}function T(E,_){E(_),o.shift(),o.length&&p(o[0][0],o[0][1])}}function Pn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Wp=="function"?Wp(t):t[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(o){i[o]=t[o]&&function(c){return new Promise(function(f,p){c=t[o](c),l(f,p,c.done,c.value)})}}function l(o,c,f,p){Promise.resolve(p).then(function(m){o({value:m,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P7(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:g2(i)}function g2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function O7(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function e4(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let a=0;for(;a<i;)if(t[a].role==="user")e.push(t[a]),a++;else{const l=[];let o=!0;for(;a<i&&t[a].role==="model";)l.push(t[a]),o&&!g2(t[a])&&(o=!1),a++;o?e.push(...l):e.pop()}return e}class V7{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new F7(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class F7{constructor(e,i,a,l={},o=[]){this.apiClient=e,this.modelsModule=i,this.model=a,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),O7(o)}async sendMessage(e){var i;await this.sendPromise;const a=Vt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var o,c,f;const p=await l,m=(c=(o=p.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content,x=p.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let T=[];x!=null&&(T=(f=x.slice(S))!==null&&f!==void 0?f:[]);const E=m?[m]:[];this.recordHistory(a,E,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var i;await this.sendPromise;const a=Vt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,a)}getHistory(e=!1){const i=e?e4(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return qn(this,arguments,function*(){var l,o,c,f,p,m;const x=[];try{for(var S=!0,T=Pn(e),E;E=yield ze(T.next()),l=E.done,!l;S=!0){f=E.value,S=!1;const _=f;if(P7(_)){const R=(m=(p=_.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content;R!==void 0&&x.push(R)}yield yield ze(_)}}catch(_){o={error:_}}finally{try{!S&&!l&&(c=T.return)&&(yield ze(c.call(T)))}finally{if(o)throw o.error}}this.recordHistory(i,x)})}recordHistory(e,i,a){let l=[];i.length>0&&i.every(o=>o.role!==void 0)?l=i:l.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...e4(a)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Do.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j7(t){const e={},i=d(t,["file"]);return i!=null&&h(e,["file"],i),e}function Y7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function J7(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],u2(i)),e}function X7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function K7(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],u2(i)),e}function $7(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);return e!==void 0&&l!=null&&h(e,["_query","pageToken"],l),i}function Q7(t){const e={},i=d(t,["config"]);return i!=null&&$7(i,e),e}function Z7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W7 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ir(Ti.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q7(e);return o=ve("files",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:p.headers},x})),l.then(p=>{const m=Z7(p),x=new i6;return Object.assign(x,m),x})}}async createInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=j7(e);return o=ve("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const m=Y7(p),x=new r6;return Object.assign(x,m),x})}}async get(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=K7(e);return o=ve("files/{file}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J7(e);return o=ve("files/{file}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:p.headers},x})),l.then(p=>{const m=X7(p),x=new a6;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vo(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function ey(t){const e={},i=d(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>gy(o))),h(e,["parts"],l)}const a=d(t,["role"]);return a!=null&&h(e,["role"],a),e}function ty(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function ny(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const a=d(t,["args"]);a!=null&&h(e,["args"],a);const l=d(t,["name"]);if(l!=null&&h(e,["name"],l),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iy(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const a=d(t,["name"]);a!=null&&h(e,["name"],a);const l=d(t,["parameters"]);l!=null&&h(e,["parameters"],l);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function ry(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const a=d(t,["responseJsonSchema"]);a!=null&&h(e,["responseJsonSchema"],a);const l=d(t,["audioTimestamp"]);l!=null&&h(e,["audioTimestamp"],l);const o=d(t,["candidateCount"]);o!=null&&h(e,["candidateCount"],o);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&h(e,["logprobs"],p);const m=d(t,["maxOutputTokens"]);m!=null&&h(e,["maxOutputTokens"],m);const x=d(t,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const T=d(t,["responseLogprobs"]);T!=null&&h(e,["responseLogprobs"],T);const E=d(t,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const _=d(t,["responseModalities"]);_!=null&&h(e,["responseModalities"],_);const R=d(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const U=d(t,["seed"]);U!=null&&h(e,["seed"],U);const P=d(t,["speechConfig"]);P!=null&&h(e,["speechConfig"],P);const J=d(t,["stopSequences"]);J!=null&&h(e,["stopSequences"],J);const ee=d(t,["temperature"]);ee!=null&&h(e,["temperature"],ee);const ae=d(t,["thinkingConfig"]);ae!=null&&h(e,["thinkingConfig"],ae);const te=d(t,["topK"]);te!=null&&h(e,["topK"],te);const q=d(t,["topP"]);if(q!=null&&h(e,["topP"],q),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ay(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function ly(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function sy(t,e){const i={},a=d(t,["generationConfig"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig"],a);const l=d(t,["responseModalities"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","responseModalities"],l);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","mediaResolution"],m);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],ld(S));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],ey(Vt(_)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let te=Na(R);Array.isArray(te)&&(te=te.map(q=>yy(Ca(q)))),h(e,["setup","tools"],te)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],vy(k));const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","outputAudioTranscription"],P);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const ee=d(t,["contextWindowCompression"]);e!==void 0&&ee!=null&&h(e,["setup","contextWindowCompression"],ee);const ae=d(t,["proactivity"]);if(e!==void 0&&ae!=null&&h(e,["setup","proactivity"],ae),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function oy(t,e){const i={},a=d(t,["generationConfig"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig"],ry(a));const l=d(t,["responseModalities"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","responseModalities"],l);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","mediaResolution"],m);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],ld(S));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],Vt(_));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let q=Na(R);Array.isArray(q)&&(q=q.map(K=>xy(Ca(K)))),h(e,["setup","tools"],q)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],k);const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","outputAudioTranscription"],P);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const ee=d(t,["contextWindowCompression"]);e!==void 0&&ee!=null&&h(e,["setup","contextWindowCompression"],ee);const ae=d(t,["proactivity"]);e!==void 0&&ae!=null&&h(e,["setup","proactivity"],ae);const te=d(t,["explicitVadSignal"]);return e!==void 0&&te!=null&&h(e,["setup","explicitVadSignal"],te),i}function uy(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["setup","model"],We(t,a));const l=d(e,["config"]);return l!=null&&h(i,["config"],sy(l,i)),i}function cy(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["setup","model"],We(t,a));const l=d(e,["config"]);return l!=null&&h(i,["config"],oy(l,i)),i}function dy(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],i),e}function fy(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),h(e,["weightedPrompts"],a)}return e}function hy(t){const e={},i=d(t,["media"]);if(i!=null){let m=r2(i);Array.isArray(m)&&(m=m.map(x=>vo(x))),h(e,["mediaChunks"],m)}const a=d(t,["audio"]);a!=null&&h(e,["audio"],vo(l2(a)));const l=d(t,["audioStreamEnd"]);l!=null&&h(e,["audioStreamEnd"],l);const o=d(t,["video"]);o!=null&&h(e,["video"],vo(a2(o)));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&h(e,["activityEnd"],p),e}function my(t){const e={},i=d(t,["media"]);if(i!=null){let m=r2(i);Array.isArray(m)&&(m=m.map(x=>x)),h(e,["mediaChunks"],m)}const a=d(t,["audio"]);a!=null&&h(e,["audio"],l2(a));const l=d(t,["audioStreamEnd"]);l!=null&&h(e,["audioStreamEnd"],l);const o=d(t,["video"]);o!=null&&h(e,["video"],a2(o));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&h(e,["activityEnd"],p),e}function py(t){const e={},i=d(t,["setupComplete"]);i!=null&&h(e,["setupComplete"],i);const a=d(t,["serverContent"]);a!=null&&h(e,["serverContent"],a);const l=d(t,["toolCall"]);l!=null&&h(e,["toolCall"],l);const o=d(t,["toolCallCancellation"]);o!=null&&h(e,["toolCallCancellation"],o);const c=d(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],by(c));const f=d(t,["goAway"]);f!=null&&h(e,["goAway"],f);const p=d(t,["sessionResumptionUpdate"]);p!=null&&h(e,["sessionResumptionUpdate"],p);const m=d(t,["voiceActivityDetectionSignal"]);return m!=null&&h(e,["voiceActivityDetectionSignal"],m),e}function gy(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=d(t,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const l=d(t,["executableCode"]);l!=null&&h(e,["executableCode"],l);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],ty(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],ny(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],vo(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function vy(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yy(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const l=d(t,["computerUse"]);l!=null&&h(e,["computerUse"],l);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],ay(f));const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],ly(p));const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}function xy(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(T=>iy(T))),h(e,["functionDeclarations"],S)}const a=d(t,["retrieval"]);a!=null&&h(e,["retrieval"],a);const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&h(e,["googleMaps"],p);const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],m);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function by(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&h(e,["promptTokenCount"],i);const a=d(t,["cachedContentTokenCount"]);a!=null&&h(e,["cachedContentTokenCount"],a);const l=d(t,["candidatesTokenCount"]);l!=null&&h(e,["responseTokenCount"],l);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&h(e,["toolUsePromptTokenCount"],o);const c=d(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&h(e,["totalTokenCount"],f);const p=d(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["promptTokensDetails"],E)}const m=d(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["cacheTokensDetails"],E)}const x=d(t,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["responseTokensDetails"],E)}const S=d(t,["toolUsePromptTokensDetails"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["toolUsePromptTokensDetails"],E)}const T=d(t,["trafficType"]);return T!=null&&h(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sy(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function Ty(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const a=d(t,["citationMetadata"]);a!=null&&h(e,["citationMetadata"],wy(a));const l=d(t,["tokenCount"]);l!=null&&h(e,["tokenCount"],l);const o=d(t,["finishReason"]);o!=null&&h(e,["finishReason"],o);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&h(e,["index"],p);const m=d(t,["logprobsResult"]);m!=null&&h(e,["logprobsResult"],m);const x=d(t,["safetyRatings"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["safetyRatings"],T)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function wy(t){const e={},i=d(t,["citationSources"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),h(e,["citations"],a)}return e}function Ay(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["contents"]);if(l!=null){let o=In(l);Array.isArray(o)&&(o=o.map(c=>c)),h(i,["contents"],o)}return i}function Ey(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["tokensInfo"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(o=>o)),h(e,["tokensInfo"],l)}return e}function Cy(t){const e={},i=d(t,["values"]);i!=null&&h(e,["values"],i);const a=d(t,["statistics"]);return a!=null&&h(e,["statistics"],Ny(a)),e}function Ny(t){const e={},i=d(t,["truncated"]);i!=null&&h(e,["truncated"],i);const a=d(t,["token_count"]);return a!=null&&h(e,["tokenCount"],a),e}function zo(t){const e={},i=d(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>U8(o))),h(e,["parts"],l)}const a=d(t,["role"]);return a!=null&&h(e,["role"],a),e}function My(t){const e={},i=d(t,["controlType"]);i!=null&&h(e,["controlType"],i);const a=d(t,["enableControlImageComputation"]);return a!=null&&h(e,["computeControl"],a),e}function _y(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ry(t,e){const i={},a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&h(e,["systemInstruction"],Vt(a));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>b2(f))),h(e,["tools"],c)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&h(e,["generationConfig"],S8(o)),i}function ky(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["contents"]);if(l!=null){let c=In(l);Array.isArray(c)&&(c=c.map(f=>zo(f))),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&_y(o),i}function Iy(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["contents"]);if(l!=null){let c=In(l);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&Ry(o,i),i}function Dy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["totalTokens"]);a!=null&&h(e,["totalTokens"],a);const l=d(t,["cachedContentTokenCount"]);return l!=null&&h(e,["cachedContentTokenCount"],l),e}function zy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["totalTokens"]);return a!=null&&h(e,["totalTokens"],a),e}function Ly(t,e){const i={},a=d(e,["model"]);return a!=null&&h(i,["_url","name"],We(t,a)),i}function Uy(t,e){const i={},a=d(e,["model"]);return a!=null&&h(i,["_url","name"],We(t,a)),i}function By(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Hy(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Gy(t,e){const i={},a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&h(e,["parameters","negativePrompt"],l);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&h(e,["parameters","seed"],p);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&h(e,["parameters","safetySetting"],m);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const T=d(t,["includeRaiReason"]);e!==void 0&&T!=null&&h(e,["parameters","includeRaiReason"],T);const E=d(t,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const U=d(t,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const P=d(t,["editMode"]);e!==void 0&&P!=null&&h(e,["parameters","editMode"],P);const J=d(t,["baseSteps"]);return e!==void 0&&J!=null&&h(e,["parameters","editConfig","baseSteps"],J),i}function qy(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["prompt"]);l!=null&&h(i,["instances[0]","prompt"],l);const o=d(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>O8(p))),h(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&Gy(c,i),i}function Py(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(o=>Lo(o))),h(e,["generatedImages"],l)}return e}function Oy(t,e){const i={},a=d(t,["taskType"]);e!==void 0&&a!=null&&h(e,["requests[]","taskType"],a);const l=d(t,["title"]);e!==void 0&&l!=null&&h(e,["requests[]","title"],l);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&h(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Vy(t,e){const i={},a=d(t,["taskType"]);e!==void 0&&a!=null&&h(e,["instances[]","task_type"],a);const l=d(t,["title"]);e!==void 0&&l!=null&&h(e,["instances[]","title"],l);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&h(e,["parameters","outputDimensionality"],o);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&h(e,["parameters","autoTruncate"],f),i}function Fy(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["contents"]);if(l!=null){let f=id(t,l);Array.isArray(f)&&(f=f.map(p=>p)),h(i,["requests[]","content"],f)}const o=d(e,["config"]);o!=null&&Oy(o,i);const c=d(e,["model"]);return c!==void 0&&h(i,["requests[]","model"],We(t,c)),i}function jy(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["contents"]);if(l!=null){let c=id(t,l);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["instances[]","content"],c)}const o=d(e,["config"]);return o!=null&&Vy(o,i),i}function Yy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["embeddings"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["embeddings"],o)}const l=d(t,["metadata"]);return l!=null&&h(e,["metadata"],l),e}function Jy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["predictions[]","embeddings"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>Cy(c))),h(e,["embeddings"],o)}const l=d(t,["metadata"]);return l!=null&&h(e,["metadata"],l),e}function Xy(t){const e={},i=d(t,["endpoint"]);i!=null&&h(e,["name"],i);const a=d(t,["deployedModelId"]);return a!=null&&h(e,["deployedModelId"],a),e}function Ky(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function $y(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const a=d(t,["args"]);a!=null&&h(e,["args"],a);const l=d(t,["name"]);if(l!=null&&h(e,["name"],l),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qy(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const a=d(t,["allowedFunctionNames"]);if(a!=null&&h(e,["allowedFunctionNames"],a),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zy(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const a=d(t,["name"]);a!=null&&h(e,["name"],a);const l=d(t,["parameters"]);l!=null&&h(e,["parameters"],l);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function Wy(t,e,i){const a={},l=d(e,["systemInstruction"]);i!==void 0&&l!=null&&h(i,["systemInstruction"],zo(Vt(l)));const o=d(e,["temperature"]);o!=null&&h(a,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(a,["topP"],c);const f=d(e,["topK"]);f!=null&&h(a,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&h(a,["candidateCount"],p);const m=d(e,["maxOutputTokens"]);m!=null&&h(a,["maxOutputTokens"],m);const x=d(e,["stopSequences"]);x!=null&&h(a,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(a,["responseLogprobs"],S);const T=d(e,["logprobs"]);T!=null&&h(a,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&h(a,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(a,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(a,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(a,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(a,["responseSchema"],rd(U));const P=d(e,["responseJsonSchema"]);if(P!=null&&h(a,["responseJsonSchema"],P),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=d(e,["safetySettings"]);if(i!==void 0&&J!=null){let Me=J;Array.isArray(Me)&&(Me=Me.map(Ge=>V8(Ge))),h(i,["safetySettings"],Me)}const ee=d(e,["tools"]);if(i!==void 0&&ee!=null){let Me=Na(ee);Array.isArray(Me)&&(Me=Me.map(Ge=>$8(Ca(Ge)))),h(i,["tools"],Me)}const ae=d(e,["toolConfig"]);if(i!==void 0&&ae!=null&&h(i,["toolConfig"],K8(ae)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=d(e,["cachedContent"]);i!==void 0&&te!=null&&h(i,["cachedContent"],Ni(t,te));const q=d(e,["responseModalities"]);q!=null&&h(a,["responseModalities"],q);const K=d(e,["mediaResolution"]);K!=null&&h(a,["mediaResolution"],K);const Z=d(e,["speechConfig"]);if(Z!=null&&h(a,["speechConfig"],ad(Z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=d(e,["thinkingConfig"]);me!=null&&h(a,["thinkingConfig"],me);const Se=d(e,["imageConfig"]);Se!=null&&h(a,["imageConfig"],C8(Se));const pe=d(e,["enableEnhancedCivicAnswers"]);return pe!=null&&h(a,["enableEnhancedCivicAnswers"],pe),a}function e8(t,e,i){const a={},l=d(e,["systemInstruction"]);i!==void 0&&l!=null&&h(i,["systemInstruction"],Vt(l));const o=d(e,["temperature"]);o!=null&&h(a,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(a,["topP"],c);const f=d(e,["topK"]);f!=null&&h(a,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&h(a,["candidateCount"],p);const m=d(e,["maxOutputTokens"]);m!=null&&h(a,["maxOutputTokens"],m);const x=d(e,["stopSequences"]);x!=null&&h(a,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(a,["responseLogprobs"],S);const T=d(e,["logprobs"]);T!=null&&h(a,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&h(a,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(a,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(a,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(a,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(a,["responseSchema"],rd(U));const P=d(e,["responseJsonSchema"]);P!=null&&h(a,["responseJsonSchema"],P);const J=d(e,["routingConfig"]);J!=null&&h(a,["routingConfig"],J);const ee=d(e,["modelSelectionConfig"]);ee!=null&&h(a,["modelConfig"],ee);const ae=d(e,["safetySettings"]);if(i!==void 0&&ae!=null){let j=ae;Array.isArray(j)&&(j=j.map(ie=>ie)),h(i,["safetySettings"],j)}const te=d(e,["tools"]);if(i!==void 0&&te!=null){let j=Na(te);Array.isArray(j)&&(j=j.map(ie=>b2(Ca(ie)))),h(i,["tools"],j)}const q=d(e,["toolConfig"]);i!==void 0&&q!=null&&h(i,["toolConfig"],q);const K=d(e,["labels"]);i!==void 0&&K!=null&&h(i,["labels"],K);const Z=d(e,["cachedContent"]);i!==void 0&&Z!=null&&h(i,["cachedContent"],Ni(t,Z));const me=d(e,["responseModalities"]);me!=null&&h(a,["responseModalities"],me);const Se=d(e,["mediaResolution"]);Se!=null&&h(a,["mediaResolution"],Se);const pe=d(e,["speechConfig"]);pe!=null&&h(a,["speechConfig"],ad(pe));const Me=d(e,["audioTimestamp"]);Me!=null&&h(a,["audioTimestamp"],Me);const Ge=d(e,["thinkingConfig"]);Ge!=null&&h(a,["thinkingConfig"],Ge);const Ye=d(e,["imageConfig"]);if(Ye!=null&&h(a,["imageConfig"],N8(Ye)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function t4(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["contents"]);if(l!=null){let c=In(l);Array.isArray(c)&&(c=c.map(f=>zo(f))),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&h(i,["generationConfig"],Wy(t,o,i)),i}function n4(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["contents"]);if(l!=null){let c=In(l);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&h(i,["generationConfig"],e8(t,o,i)),i}function i4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>Ty(m))),h(e,["candidates"],p)}const l=d(t,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const o=d(t,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function r4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(x=>x)),h(e,["candidates"],m)}const l=d(t,["createTime"]);l!=null&&h(e,["createTime"],l);const o=d(t,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const c=d(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&h(e,["responseId"],f);const p=d(t,["usageMetadata"]);return p!=null&&h(e,["usageMetadata"],p),e}function t8(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&h(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&h(e,["parameters","includeSafetyAttributes"],p);const m=d(t,["includeRaiReason"]);e!==void 0&&m!=null&&h(e,["parameters","includeRaiReason"],m);const x=d(t,["language"]);e!==void 0&&x!=null&&h(e,["parameters","language"],x);const S=d(t,["outputMimeType"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","mimeType"],S);const T=d(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&h(e,["parameters","outputOptions","compressionQuality"],T),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(t,["imageSize"]);if(e!==void 0&&E!=null&&h(e,["parameters","sampleImageSize"],E),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function n8(t,e){const i={},a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&h(e,["parameters","negativePrompt"],l);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&h(e,["parameters","seed"],p);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&h(e,["parameters","safetySetting"],m);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const T=d(t,["includeRaiReason"]);e!==void 0&&T!=null&&h(e,["parameters","includeRaiReason"],T);const E=d(t,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const U=d(t,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const P=d(t,["imageSize"]);e!==void 0&&P!=null&&h(e,["parameters","sampleImageSize"],P);const J=d(t,["enhancePrompt"]);return e!==void 0&&J!=null&&h(e,["parameters","enhancePrompt"],J),i}function i8(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["prompt"]);l!=null&&h(i,["instances[0]","prompt"],l);const o=d(e,["config"]);return o!=null&&t8(o,i),i}function r8(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["prompt"]);l!=null&&h(i,["instances[0]","prompt"],l);const o=d(e,["config"]);return o!=null&&n8(o,i),i}function a8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>v8(c))),h(e,["generatedImages"],o)}const l=d(t,["positivePromptSafetyAttributes"]);return l!=null&&h(e,["positivePromptSafetyAttributes"],y2(l)),e}function l8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>Lo(c))),h(e,["generatedImages"],o)}const l=d(t,["positivePromptSafetyAttributes"]);return l!=null&&h(e,["positivePromptSafetyAttributes"],x2(l)),e}function s8(t,e){const i={},a=d(t,["numberOfVideos"]);if(e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=d(t,["durationSeconds"]);if(e!==void 0&&l!=null&&h(e,["parameters","durationSeconds"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const c=d(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&h(e,["parameters","negativePrompt"],p);const m=d(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&h(e,["parameters","enhancePrompt"],m),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&h(e,["instances[0]","lastFrame"],Uo(x));const S=d(t,["referenceImages"]);if(e!==void 0&&S!=null){let T=S;Array.isArray(T)&&(T=T.map(E=>ux(E))),h(e,["instances[0]","referenceImages"],T)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function o8(t,e){const i={},a=d(t,["numberOfVideos"]);e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const o=d(t,["fps"]);e!==void 0&&o!=null&&h(e,["parameters","fps"],o);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&h(e,["parameters","aspectRatio"],p);const m=d(t,["resolution"]);e!==void 0&&m!=null&&h(e,["parameters","resolution"],m);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["pubsubTopic"]);e!==void 0&&S!=null&&h(e,["parameters","pubsubTopic"],S);const T=d(t,["negativePrompt"]);e!==void 0&&T!=null&&h(e,["parameters","negativePrompt"],T);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&h(e,["parameters","enhancePrompt"],E);const _=d(t,["generateAudio"]);e!==void 0&&_!=null&&h(e,["parameters","generateAudio"],_);const R=d(t,["lastFrame"]);e!==void 0&&R!=null&&h(e,["instances[0]","lastFrame"],On(R));const k=d(t,["referenceImages"]);if(e!==void 0&&k!=null){let J=k;Array.isArray(J)&&(J=J.map(ee=>cx(ee))),h(e,["instances[0]","referenceImages"],J)}const U=d(t,["mask"]);e!==void 0&&U!=null&&h(e,["instances[0]","mask"],ox(U));const P=d(t,["compressionQuality"]);return e!==void 0&&P!=null&&h(e,["parameters","compressionQuality"],P),i}function u8(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["metadata"]);a!=null&&h(e,["metadata"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],h8(c)),e}function c8(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["metadata"]);a!=null&&h(e,["metadata"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],m8(c)),e}function d8(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["prompt"]);l!=null&&h(i,["instances[0]","prompt"],l);const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],Uo(o));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],S2(c));const f=d(e,["source"]);f!=null&&p8(f,i);const p=d(e,["config"]);return p!=null&&s8(p,i),i}function f8(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["prompt"]);l!=null&&h(i,["instances[0]","prompt"],l);const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],On(o));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],T2(c));const f=d(e,["source"]);f!=null&&g8(f,i);const p=d(e,["config"]);return p!=null&&o8(p,i),i}function h8(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>x8(c))),h(e,["generatedVideos"],o)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&h(e,["raiMediaFilteredCount"],a);const l=d(t,["raiMediaFilteredReasons"]);return l!=null&&h(e,["raiMediaFilteredReasons"],l),e}function m8(t){const e={},i=d(t,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>b8(c))),h(e,["generatedVideos"],o)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&h(e,["raiMediaFilteredCount"],a);const l=d(t,["raiMediaFilteredReasons"]);return l!=null&&h(e,["raiMediaFilteredReasons"],l),e}function p8(t,e){const i={},a=d(t,["prompt"]);e!==void 0&&a!=null&&h(e,["instances[0]","prompt"],a);const l=d(t,["image"]);e!==void 0&&l!=null&&h(e,["instances[0]","image"],Uo(l));const o=d(t,["video"]);return e!==void 0&&o!=null&&h(e,["instances[0]","video"],S2(o)),i}function g8(t,e){const i={},a=d(t,["prompt"]);e!==void 0&&a!=null&&h(e,["instances[0]","prompt"],a);const l=d(t,["image"]);e!==void 0&&l!=null&&h(e,["instances[0]","image"],On(l));const o=d(t,["video"]);return e!==void 0&&o!=null&&h(e,["instances[0]","video"],T2(o)),i}function v8(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],M8(i));const a=d(t,["raiFilteredReason"]);a!=null&&h(e,["raiFilteredReason"],a);const l=d(t,["_self"]);return l!=null&&h(e,["safetyAttributes"],y2(l)),e}function Lo(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],v2(i));const a=d(t,["raiFilteredReason"]);a!=null&&h(e,["raiFilteredReason"],a);const l=d(t,["_self"]);l!=null&&h(e,["safetyAttributes"],x2(l));const o=d(t,["prompt"]);return o!=null&&h(e,["enhancedPrompt"],o),e}function y8(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["mask"],v2(i));const a=d(t,["labels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(o=>o)),h(e,["labels"],l)}return e}function x8(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],lx(i)),e}function b8(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],sx(i)),e}function S8(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const a=d(t,["responseJsonSchema"]);a!=null&&h(e,["responseJsonSchema"],a);const l=d(t,["audioTimestamp"]);l!=null&&h(e,["audioTimestamp"],l);const o=d(t,["candidateCount"]);o!=null&&h(e,["candidateCount"],o);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&h(e,["logprobs"],p);const m=d(t,["maxOutputTokens"]);m!=null&&h(e,["maxOutputTokens"],m);const x=d(t,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const T=d(t,["responseLogprobs"]);T!=null&&h(e,["responseLogprobs"],T);const E=d(t,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const _=d(t,["responseModalities"]);_!=null&&h(e,["responseModalities"],_);const R=d(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const U=d(t,["seed"]);U!=null&&h(e,["seed"],U);const P=d(t,["speechConfig"]);P!=null&&h(e,["speechConfig"],P);const J=d(t,["stopSequences"]);J!=null&&h(e,["stopSequences"],J);const ee=d(t,["temperature"]);ee!=null&&h(e,["temperature"],ee);const ae=d(t,["thinkingConfig"]);ae!=null&&h(e,["thinkingConfig"],ae);const te=d(t,["topK"]);te!=null&&h(e,["topK"],te);const q=d(t,["topP"]);if(q!=null&&h(e,["topP"],q),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function T8(t,e){const i={},a=d(e,["model"]);return a!=null&&h(i,["_url","name"],We(t,a)),i}function w8(t,e){const i={},a=d(e,["model"]);return a!=null&&h(i,["_url","name"],We(t,a)),i}function A8(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function E8(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function C8(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const a=d(t,["imageSize"]);if(a!=null&&h(e,["imageSize"],a),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function N8(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const a=d(t,["imageSize"]);a!=null&&h(e,["imageSize"],a);const l=d(t,["outputMimeType"]);l!=null&&h(e,["imageOutputOptions","mimeType"],l);const o=d(t,["outputCompressionQuality"]);return o!=null&&h(e,["imageOutputOptions","compressionQuality"],o),e}function M8(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],or(i));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function v2(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const a=d(t,["bytesBase64Encoded"]);a!=null&&h(e,["imageBytes"],or(a));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function Uo(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],or(i));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function On(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const a=d(t,["imageBytes"]);a!=null&&h(e,["bytesBase64Encoded"],or(a));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function _8(t,e,i){const a={},l=d(e,["pageSize"]);i!==void 0&&l!=null&&h(i,["_query","pageSize"],l);const o=d(e,["pageToken"]);i!==void 0&&o!=null&&h(i,["_query","pageToken"],o);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],c2(t,f)),a}function R8(t,e,i){const a={},l=d(e,["pageSize"]);i!==void 0&&l!=null&&h(i,["_query","pageSize"],l);const o=d(e,["pageToken"]);i!==void 0&&o!=null&&h(i,["_query","pageToken"],o);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],c2(t,f)),a}function k8(t,e){const i={},a=d(e,["config"]);return a!=null&&_8(t,a,i),i}function I8(t,e){const i={},a=d(e,["config"]);return a!=null&&R8(t,a,i),i}function D8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["_self"]);if(l!=null){let o=d2(l);Array.isArray(o)&&(o=o.map(c=>Lc(c))),h(e,["models"],o)}return e}function z8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["_self"]);if(l!=null){let o=d2(l);Array.isArray(o)&&(o=o.map(c=>Uc(c))),h(e,["models"],o)}return e}function L8(t){const e={},i=d(t,["maskMode"]);i!=null&&h(e,["maskMode"],i);const a=d(t,["segmentationClasses"]);a!=null&&h(e,["maskClasses"],a);const l=d(t,["maskDilation"]);return l!=null&&h(e,["dilation"],l),e}function Lc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["displayName"]);a!=null&&h(e,["displayName"],a);const l=d(t,["description"]);l!=null&&h(e,["description"],l);const o=d(t,["version"]);o!=null&&h(e,["version"],o);const c=d(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],Q8(c));const f=d(t,["inputTokenLimit"]);f!=null&&h(e,["inputTokenLimit"],f);const p=d(t,["outputTokenLimit"]);p!=null&&h(e,["outputTokenLimit"],p);const m=d(t,["supportedGenerationMethods"]);m!=null&&h(e,["supportedActions"],m);const x=d(t,["temperature"]);x!=null&&h(e,["temperature"],x);const S=d(t,["maxTemperature"]);S!=null&&h(e,["maxTemperature"],S);const T=d(t,["topP"]);T!=null&&h(e,["topP"],T);const E=d(t,["topK"]);E!=null&&h(e,["topK"],E);const _=d(t,["thinking"]);return _!=null&&h(e,["thinking"],_),e}function Uc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["displayName"]);a!=null&&h(e,["displayName"],a);const l=d(t,["description"]);l!=null&&h(e,["description"],l);const o=d(t,["versionId"]);o!=null&&h(e,["version"],o);const c=d(t,["deployedModels"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(T=>Xy(T))),h(e,["endpoints"],S)}const f=d(t,["labels"]);f!=null&&h(e,["labels"],f);const p=d(t,["_self"]);p!=null&&h(e,["tunedModelInfo"],Z8(p));const m=d(t,["defaultCheckpointId"]);m!=null&&h(e,["defaultCheckpointId"],m);const x=d(t,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(T=>T)),h(e,["checkpoints"],S)}return e}function U8(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=d(t,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const l=d(t,["executableCode"]);l!=null&&h(e,["executableCode"],l);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],Ky(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],$y(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],Sy(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function B8(t){const e={},i=d(t,["productImage"]);return i!=null&&h(e,["image"],On(i)),e}function H8(t,e){const i={},a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a);const l=d(t,["baseSteps"]);e!==void 0&&l!=null&&h(e,["parameters","baseSteps"],l);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&h(e,["parameters","personGeneration"],p);const m=d(t,["addWatermark"]);e!==void 0&&m!=null&&h(e,["parameters","addWatermark"],m);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","mimeType"],x);const S=d(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S);const T=d(t,["enhancePrompt"]);e!==void 0&&T!=null&&h(e,["parameters","enhancePrompt"],T);const E=d(t,["labels"]);return e!==void 0&&E!=null&&h(e,["labels"],E),i}function G8(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["source"]);l!=null&&P8(l,i);const o=d(e,["config"]);return o!=null&&H8(o,i),i}function q8(t){const e={},i=d(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Lo(l))),h(e,["generatedImages"],a)}return e}function P8(t,e){const i={},a=d(t,["prompt"]);e!==void 0&&a!=null&&h(e,["instances[0]","prompt"],a);const l=d(t,["personImage"]);e!==void 0&&l!=null&&h(e,["instances[0]","personImage","image"],On(l));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>B8(f))),h(e,["instances[0]","productImages"],c)}return i}function O8(t){const e={},i=d(t,["referenceImage"]);i!=null&&h(e,["referenceImage"],On(i));const a=d(t,["referenceId"]);a!=null&&h(e,["referenceId"],a);const l=d(t,["referenceType"]);l!=null&&h(e,["referenceType"],l);const o=d(t,["maskImageConfig"]);o!=null&&h(e,["maskImageConfig"],L8(o));const c=d(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],My(c));const f=d(t,["styleImageConfig"]);f!=null&&h(e,["styleImageConfig"],f);const p=d(t,["subjectImageConfig"]);return p!=null&&h(e,["subjectImageConfig"],p),e}function y2(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const a=d(t,["safetyAttributes","scores"]);a!=null&&h(e,["scores"],a);const l=d(t,["contentType"]);return l!=null&&h(e,["contentType"],l),e}function x2(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const a=d(t,["safetyAttributes","scores"]);a!=null&&h(e,["scores"],a);const l=d(t,["contentType"]);return l!=null&&h(e,["contentType"],l),e}function V8(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=d(t,["threshold"]);return a!=null&&h(e,["threshold"],a),e}function F8(t){const e={},i=d(t,["image"]);return i!=null&&h(e,["image"],On(i)),e}function j8(t,e){const i={},a=d(t,["mode"]);e!==void 0&&a!=null&&h(e,["parameters","mode"],a);const l=d(t,["maxPredictions"]);e!==void 0&&l!=null&&h(e,["parameters","maxPredictions"],l);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&h(e,["parameters","confidenceThreshold"],o);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&h(e,["parameters","binaryColorThreshold"],f);const p=d(t,["labels"]);return e!==void 0&&p!=null&&h(e,["labels"],p),i}function Y8(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["source"]);l!=null&&X8(l,i);const o=d(e,["config"]);return o!=null&&j8(o,i),i}function J8(t){const e={},i=d(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>y8(l))),h(e,["generatedMasks"],a)}return e}function X8(t,e){const i={},a=d(t,["prompt"]);e!==void 0&&a!=null&&h(e,["instances[0]","prompt"],a);const l=d(t,["image"]);e!==void 0&&l!=null&&h(e,["instances[0]","image"],On(l));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&h(e,["instances[0]","scribble"],F8(o)),i}function K8(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],Qy(i));const a=d(t,["retrievalConfig"]);return a!=null&&h(e,["retrievalConfig"],a),e}function $8(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const l=d(t,["computerUse"]);l!=null&&h(e,["computerUse"],l);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],A8(f));const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],E8(p));const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}function b2(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(T=>Zy(T))),h(e,["functionDeclarations"],S)}const a=d(t,["retrieval"]);a!=null&&h(e,["retrieval"],a);const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&h(e,["googleMaps"],p);const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],m);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function Q8(t){const e={},i=d(t,["baseModel"]);i!=null&&h(e,["baseModel"],i);const a=d(t,["createTime"]);a!=null&&h(e,["createTime"],a);const l=d(t,["updateTime"]);return l!=null&&h(e,["updateTime"],l),e}function Z8(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(e,["baseModel"],i);const a=d(t,["createTime"]);a!=null&&h(e,["createTime"],a);const l=d(t,["updateTime"]);return l!=null&&h(e,["updateTime"],l),e}function W8(t,e){const i={},a=d(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const l=d(t,["description"]);e!==void 0&&l!=null&&h(e,["description"],l);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&h(e,["defaultCheckpointId"],o),i}function ex(t,e){const i={},a=d(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const l=d(t,["description"]);e!==void 0&&l!=null&&h(e,["description"],l);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&h(e,["defaultCheckpointId"],o),i}function tx(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","name"],We(t,a));const l=d(e,["config"]);return l!=null&&W8(l,i),i}function nx(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["config"]);return l!=null&&ex(l,i),i}function ix(t,e){const i={},a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const l=d(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&h(e,["parameters","safetySetting"],l);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&h(e,["parameters","personGeneration"],o);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&h(e,["parameters","outputOptions","compressionQuality"],p);const m=d(t,["enhanceInputImage"]);e!==void 0&&m!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],m);const x=d(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const T=d(t,["numberOfImages"]);e!==void 0&&T!=null&&h(e,["parameters","sampleCount"],T);const E=d(t,["mode"]);return e!==void 0&&E!=null&&h(e,["parameters","mode"],E),i}function rx(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["_url","model"],We(t,a));const l=d(e,["image"]);l!=null&&h(i,["instances[0]","image"],On(l));const o=d(e,["upscaleFactor"]);o!=null&&h(i,["parameters","upscaleConfig","upscaleFactor"],o);const c=d(e,["config"]);return c!=null&&ix(c,i),i}function ax(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(o=>Lo(o))),h(e,["generatedImages"],l)}return e}function lx(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const a=d(t,["encodedVideo"]);a!=null&&h(e,["videoBytes"],or(a));const l=d(t,["encoding"]);return l!=null&&h(e,["mimeType"],l),e}function sx(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const a=d(t,["bytesBase64Encoded"]);a!=null&&h(e,["videoBytes"],or(a));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function ox(t){const e={},i=d(t,["image"]);i!=null&&h(e,["_self"],On(i));const a=d(t,["maskMode"]);return a!=null&&h(e,["maskMode"],a),e}function ux(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],Uo(i));const a=d(t,["referenceType"]);return a!=null&&h(e,["referenceType"],a),e}function cx(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],On(i));const a=d(t,["referenceType"]);return a!=null&&h(e,["referenceType"],a),e}function S2(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const a=d(t,["videoBytes"]);a!=null&&h(e,["encodedVideo"],or(a));const l=d(t,["mimeType"]);return l!=null&&h(e,["encoding"],l),e}function T2(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["gcsUri"],i);const a=d(t,["videoBytes"]);a!=null&&h(e,["bytesBase64Encoded"],or(a));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dx(t,e){const i={},a=d(t,["displayName"]);return e!==void 0&&a!=null&&h(e,["displayName"],a),i}function fx(t){const e={},i=d(t,["config"]);return i!=null&&dx(i,e),e}function hx(t,e){const i={},a=d(t,["force"]);return e!==void 0&&a!=null&&h(e,["_query","force"],a),i}function mx(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const a=d(t,["config"]);return a!=null&&hx(a,e),e}function px(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function gx(t,e){const i={},a=d(t,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["customMetadata"],o)}const l=d(t,["chunkingConfig"]);return e!==void 0&&l!=null&&h(e,["chunkingConfig"],l),i}function vx(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const a=d(t,["metadata"]);a!=null&&h(e,["metadata"],a);const l=d(t,["done"]);l!=null&&h(e,["done"],l);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],xx(c)),e}function yx(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const a=d(t,["fileName"]);a!=null&&h(e,["fileName"],a);const l=d(t,["config"]);return l!=null&&gx(l,e),e}function xx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["parent"]);a!=null&&h(e,["parent"],a);const l=d(t,["documentName"]);return l!=null&&h(e,["documentName"],l),e}function bx(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);return e!==void 0&&l!=null&&h(e,["_query","pageToken"],l),i}function Sx(t){const e={},i=d(t,["config"]);return i!=null&&bx(i,e),e}function Tx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["fileSearchStores"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["fileSearchStores"],o)}return e}function w2(t,e){const i={},a=d(t,["mimeType"]);e!==void 0&&a!=null&&h(e,["mimeType"],a);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>p)),h(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),i}function wx(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const a=d(t,["config"]);return a!=null&&w2(a,e),e}function Ax(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ex="Content-Type",Cx="X-Server-Timeout",Nx="User-Agent",Bc="x-goog-api-client",Mx="1.34.0",_x=`google-genai-sdk/${Mx}`,Rx="v1beta1",kx="v1beta";class Ix{constructor(e){var i,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Rx,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:kx,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,a){const l=[this.getRequestUrlInternal(i)];return a&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,i,a);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))l.searchParams.append(c,String(f));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,i,l.toString(),e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,i){const a=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(i))typeof o=="object"?a[l]=Object.assign(Object.assign({},a[l]),o):o!==void 0&&(a[l]=o);return a}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,i,a);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,i,l.toString(),e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,a,l){if(i&&i.timeout||l){const o=new AbortController,c=o.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>o.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}l&&l.addEventListener("abort",()=>{o.abort()}),e.signal=c}return i&&i.extraBody!==null&&Dx(e,i.extraBody),e.headers=await this.getHeadersInternal(i,a),e}async unaryApiCall(e,i,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:a})).then(async l=>(await a4(l),new Ic(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,i,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:a})).then(async l=>(await a4(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return qn(this,arguments,function*(){var a;const l=(a=e==null?void 0:e.body)===null||a===void 0?void 0:a.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:x}=yield ze(l.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=o.decode(x,{stream:!0});try{const _=JSON.parse(S);if("error"in _){const R=JSON.parse(JSON.stringify(_.error)),k=R.status,U=R.code,P=`got status: ${k}. ${JSON.stringify(_)}`;if(U>=400&&U<600)throw new Do({message:P,status:U})}}catch(_){if(_.name==="ApiError")throw _}c+=S;let T=-1,E=0;for(;;){T=-1,E=0;for(const k of p){const U=c.indexOf(k);U!==-1&&(T===-1||U<T)&&(T=U,E=k.length)}if(T===-1)break;const _=c.substring(0,T);c=c.substring(T+E);const R=_.trim();if(R.startsWith(f)){const k=R.substring(f.length).trim();try{const U=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ze(new Ic(U))}catch(U){throw new Error(`exception parsing stream chunk ${k}. ${U}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},i=_x+" "+this.clientOptions.userAgentExtra;return e[Nx]=i,e[Bc]=i,e[Ex]="application/json",e}async getHeadersInternal(e,i){const a=new Headers;if(e&&e.headers){for(const[l,o]of Object.entries(e.headers))a.append(l,o);e.timeout&&e.timeout>0&&a.append(Cx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,i),a}getFileName(e){var i;let a="";return typeof e=="string"&&(a=e.replace(/[/\\]+$/,""),a=(i=a.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),a}async uploadFile(e,i){var a;const l={};i!=null&&(l.mimeType=i.mimeType,l.name=i.name,l.displayName=i.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,c=await o.stat(e);l.sizeBytes=String(c.size);const f=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=f;const p={file:l},m=this.getFileName(e),x=ve("upload/v1beta/files",p._url),S=await this.fetchUploadUrl(x,l.sizeBytes,l.mimeType,m,p,i==null?void 0:i.httpOptions);return o.upload(e,S,this)}async uploadFileToFileSearchStore(e,i,a){var l;const o=this.clientOptions.uploader,c=await o.stat(i),f=String(c.size),p=(l=a==null?void 0:a.mimeType)!==null&&l!==void 0?l:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(i),S={};a!=null&&w2(a,S);const T=await this.fetchUploadUrl(m,f,p,x,S,a==null?void 0:a.httpOptions);return o.uploadToFileSearchStore(i,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,a,l,o,c){var f;let p={};c?p=c:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${a}`},l?{"X-Goog-Upload-File-Name":l}:{})};const m=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:p});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(f=m==null?void 0:m.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function a4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let a;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await t.json():a={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(a);throw i>=400&&i<600?new Do({message:l,status:i}):new Error(l)}}function Dx(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))i=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(o,c){const f=Object.assign({},o);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],x=f[p];m&&typeof m=="object"&&!Array.isArray(m)&&x&&typeof x=="object"&&!Array.isArray(x)?f[p]=a(x,m):(x&&m&&typeof x!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof x}, New type: ${typeof m}. Overwriting.`),f[p]=m)}return f}const l=a(i,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx="mcp_used/unknown";let Lx=!1;function A2(t){for(const e of t)if(Ux(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Lx}function E2(t){var e;const i=(e=t[Bc])!==null&&e!==void 0?e:"";t[Bc]=(i+` ${zx}`).trimStart()}function Ux(t){return t!==null&&typeof t=="object"&&t instanceof sd}function Bx(t){return qn(this,arguments,function*(i,a=100){let l,o=0;for(;o<a;){const c=yield ze(i.listTools({cursor:l}));for(const f of c.tools)yield yield ze(f),o++;if(!c.nextCursor)break;l=c.nextCursor}})}class sd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new sd(e,i)}async initialize(){var e,i,a,l;if(this.mcpTools.length>0)return;const o={},c=[];for(const x of this.mcpClients)try{for(var f=!0,p=(i=void 0,Pn(Bx(x))),m;m=await p.next(),e=m.done,!e;f=!0){l=m.value,f=!1;const S=l;c.push(S);const T=S.name;if(o[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);o[T]=x}}catch(S){i={error:S}}finally{try{!f&&!e&&(a=p.return)&&await a.call(p)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),p6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[a.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const c=await l.callTool({name:a.name,arguments:a.args},void 0,o);i.push({functionResponse:{name:a.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Hx(t,e,i){const a=new s6;let l;i.data instanceof Blob?l=JSON.parse(await i.data.text()):l=JSON.parse(i.data),Object.assign(a,l),e(a)}class Gx{constructor(e,i,a){this.apiClient=e,this.auth=i,this.webSocketFactory=a}async connect(e){var i,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),c=Ox(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${f}`;let m=()=>{};const x=new Promise(J=>{m=J}),S=e.callbacks,T=function(){m({})},E=this.apiClient,_={onopen:T,onmessage:J=>{Hx(E,S.onmessage,J)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(J){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(J){}},R=this.webSocketFactory.create(p,Px(c),_);R.connect(),await x;const P={setup:{model:We(this.apiClient,e.model)}};return R.send(JSON.stringify(P)),new qx(R,this.apiClient)}}class qx{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=fy(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=dy(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(ba.PLAY)}pause(){this.sendPlaybackControl(ba.PAUSE)}stop(){this.sendPlaybackControl(ba.STOP)}resetContext(){this.sendPlaybackControl(ba.RESET_CONTEXT)}close(){this.conn.close()}}function Px(t){const e={};return t.forEach((i,a)=>{e[a]=i}),e}function Ox(t){const e=new Headers;for(const[i,a]of Object.entries(t))e.append(i,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Fx(t,e,i){const a=new l6;let l;i.data instanceof Blob?l=await i.data.text():i.data instanceof ArrayBuffer?l=new TextDecoder().decode(i.data):l=i.data;const o=JSON.parse(l);if(t.isVertexAI()){const c=py(o);Object.assign(a,c)}else Object.assign(a,o);e(a)}class jx{constructor(e,i,a){this.apiClient=e,this.auth=i,this.webSocketFactory=a,this.music=new Gx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,a,l,o,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&A2(e.config.tools)&&E2(S);const T=Kx(S);if(this.apiClient.isVertexAI())x=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,x);else{const Z=this.apiClient.getApiKey();let me="BidiGenerateContent",Se="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),me="BidiGenerateContentConstrained",Se="access_token"),x=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${me}?${Se}=${Z}`}let E=()=>{};const _=new Promise(Z=>{E=Z}),R=e.callbacks,k=function(){var Z;(Z=R==null?void 0:R.onopen)===null||Z===void 0||Z.call(R),E({})},U=this.apiClient,P={onopen:k,onmessage:Z=>{Fx(U,R.onmessage,Z)},onerror:(i=R==null?void 0:R.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(a=R==null?void 0:R.onclose)!==null&&a!==void 0?a:function(Z){}},J=this.webSocketFactory.create(x,Xx(T),P);J.connect(),await _;let ee=We(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ee.startsWith("publishers/")){const Z=this.apiClient.getProject(),me=this.apiClient.getLocation();ee=`projects/${Z}/locations/${me}/`+ee}let ae={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[bo.AUDIO]}:e.config.responseModalities=[bo.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],q=[];for(const Z of te)if(this.isCallableTool(Z)){const me=Z;q.push(await me.tool())}else q.push(Z);q.length>0&&(e.config.tools=q);const K={model:ee,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ae=cy(this.apiClient,K):ae=uy(this.apiClient,K),delete ae.config,J.send(JSON.stringify(ae)),new Jx(J,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Yx={turnComplete:!0};class Jx{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let a=[];try{a=In(i.turns),e.isVertexAI()||(a=a.map(l=>zo(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:a,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let a=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?a=i.functionResponses:a=[i.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const o of a){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Vx)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},Yx),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:my(e)}:i={realtimeInput:hy(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Xx(t){const e={};return t.forEach((i,a)=>{e[a]=i}),e}function Kx(t){const e=new Headers;for(const[i,a]of Object.entries(t))e.append(i,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l4=10;function s4(t){var e,i,a;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(wa(c)){l=!0;break}if(!l)return!0;const o=(a=t==null?void 0:t.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function wa(t){return"callTool"in t&&typeof t.callTool=="function"}function $x(t){var e,i,a;return(a=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(l=>wa(l)))!==null&&a!==void 0?a:!1}function o4(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((a,l)=>{if(wa(a))return;const o=a;o.functionDeclarations&&o.functionDeclarations.length>0&&i.push(l)}),i}function u4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx extends Ci{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var a,l,o,c,f;const p=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!$x(i)||s4(i.config))return await this.generateContentInternal(p);const m=o4(i);if(m.length>0){const R=m.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let x,S;const T=In(p.contents),E=(o=(l=(a=p.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:l4;let _=0;for(;_<E&&(x=await this.generateContentInternal(p),!(!x.functionCalls||x.functionCalls.length===0));){const R=x.candidates[0].content,k=[];for(const U of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(wa(U)){const J=await U.callTool(x.functionCalls);k.push(...J)}_++,S={role:"user",parts:k},p.contents=In(p.contents),p.contents.push(R),p.contents.push(S),u4(p.config)&&(T.push(R),T.push(S))}return u4(p.config)&&(x.automaticFunctionCallingHistory=T),x},this.generateContentStream=async i=>{var a,l,o,c,f;if(this.maybeMoveToResponseJsonSchem(i),s4(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const p=o4(i);if(p.length>0){const S=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(o=(l=(a=i==null?void 0:i.config)===null||a===void 0?void 0:a.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,x=(f=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(m&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(a=>{var l;let o;const c=[];if(a!=null&&a.generatedImages)for(const p of a.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((l=p==null?void 0:p.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=p==null?void 0:p.safetyAttributes:c.push(p);let f;return o?f={generatedImages:c,positivePromptSafetyAttributes:o,sdkHttpResponse:a.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:a.sdkHttpResponse},f}),this.list=async i=>{var a;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((a=c.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Ir(Ti.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const a={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(a.referenceImages=i.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async i=>{let a={numberOfImages:1,mode:"upscale"};i.config&&(a=Object.assign(Object.assign({},a),i.config));const l={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:a};return await this.upscaleImageInternal(l)},this.generateVideos=async i=>{var a,l,o,c,f,p;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=i.video)===null||a===void 0)&&a.uri&&(!((l=i.video)===null||l===void 0)&&l.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(o=i.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.uri&&(!((p=(f=i.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,a,l;const o=(i=e.config)===null||i===void 0?void 0:i.tools;if(!o)return e;const c=await Promise.all(o.map(async p=>wa(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&A2(e.config.tools)){const p=(l=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),E2(m),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return f}async initAfcToolsMap(e){var i,a,l;const o=new Map;for(const c of(a=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&a!==void 0?a:[])if(wa(c)){const f=c,p=await f.tool();for(const m of(l=p.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(o.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);o.set(m.name,f)}}return o}async processAfcStream(e){var i,a,l;const o=(l=(a=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:l4;let c=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(m,x,S){return qn(this,arguments,function*(){for(var T,E,_,R,k,U;f<o;){c&&(f++,c=!1);const ae=yield ze(m.processParamsMaybeAddMcpUsage(S)),te=yield ze(m.generateContentStreamInternal(ae)),q=[],K=[];try{for(var P=!0,J=(E=void 0,Pn(te)),ee;ee=yield ze(J.next()),T=ee.done,!T;P=!0){R=ee.value,P=!1;const Z=R;if(yield yield ze(Z),Z.candidates&&(!((k=Z.candidates[0])===null||k===void 0)&&k.content)){K.push(Z.candidates[0].content);for(const me of(U=Z.candidates[0].content.parts)!==null&&U!==void 0?U:[])if(f<o&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(me.functionCall.name)){const Se=yield ze(x.get(me.functionCall.name).callTool([me.functionCall]));q.push(...Se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(Z){E={error:Z}}finally{try{!P&&!T&&(_=J.return)&&(yield ze(_.call(J)))}finally{if(E)throw E.error}}if(q.length>0){c=!0;const Z=new El;Z.candidates=[{content:{role:"user",parts:q}}],yield yield ze(Z);const me=[];me.push(...K),me.push({role:"user",parts:q});const Se=In(S.contents).concat(me);S.contents=Se}else break}})})(this,p,e)}async generateContentInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=n4(this.apiClient,e);return f=ve("{model}:generateContent",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=r4(x),T=new El;return Object.assign(T,S),T})}else{const m=t4(this.apiClient,e);return f=ve("{model}:generateContent",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=i4(x),T=new El;return Object.assign(T,S),T})}}async generateContentStreamInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=n4(this.apiClient,e);return f=ve("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(S){return qn(this,arguments,function*(){var T,E,_,R;try{for(var k=!0,U=Pn(S),P;P=yield ze(U.next()),T=P.done,!T;k=!0){R=P.value,k=!1;const J=R,ee=r4(yield ze(J.json()));ee.sdkHttpResponse={headers:J.headers};const ae=new El;Object.assign(ae,ee),yield yield ze(ae)}}catch(J){E={error:J}}finally{try{!k&&!T&&(_=U.return)&&(yield ze(_.call(U)))}finally{if(E)throw E.error}}})})}else{const m=t4(this.apiClient,e);return f=ve("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(S){return qn(this,arguments,function*(){var T,E,_,R;try{for(var k=!0,U=Pn(S),P;P=yield ze(U.next()),T=P.done,!T;k=!0){R=P.value,k=!1;const J=R,ee=i4(yield ze(J.json()));ee.sdkHttpResponse={headers:J.headers};const ae=new El;Object.assign(ae,ee),yield yield ze(ae)}}catch(J){E={error:J}}finally{try{!k&&!T&&(_=U.return)&&(yield ze(_.call(U)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=jy(this.apiClient,e);return f=ve("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=Jy(x),T=new Hp;return Object.assign(T,S),T})}else{const m=Fy(this.apiClient,e);return f=ve("{model}:batchEmbedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=Yy(x),T=new Hp;return Object.assign(T,S),T})}}async generateImagesInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=r8(this.apiClient,e);return f=ve("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=l8(x),T=new Gp;return Object.assign(T,S),T})}else{const m=i8(this.apiClient,e);return f=ve("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=a8(x),T=new Gp;return Object.assign(T,S),T})}}async editImageInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI()){const f=qy(this.apiClient,e);return o=ve("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:p.headers},x})),l.then(p=>{const m=Py(p),x=new K3;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI()){const f=rx(this.apiClient,e);return o=ve("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:p.headers},x})),l.then(p=>{const m=ax(p),x=new $3;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI()){const f=G8(this.apiClient,e);return o=ve("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const m=q8(p),x=new Q3;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI()){const f=Y8(this.apiClient,e);return o=ve("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const m=J8(p),x=new Z3;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=w8(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c.then(x=>Uc(x))}else{const m=T8(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>Lc(x))}}async listInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=I8(this.apiClient,e);return f=ve("{models_url}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=z8(x),T=new qp;return Object.assign(T,S),T})}else{const m=k8(this.apiClient,e);return f=ve("{models_url}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=D8(x),T=new qp;return Object.assign(T,S),T})}}async update(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=nx(this.apiClient,e);return f=ve("{model}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c.then(x=>Uc(x))}else{const m=tx(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>Lc(x))}}async delete(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=Uy(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=Hy(x),T=new Pp;return Object.assign(T,S),T})}else{const m=Ly(this.apiClient,e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=By(x),T=new Pp;return Object.assign(T,S),T})}}async countTokens(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=Iy(this.apiClient,e);return f=ve("{model}:countTokens",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=zy(x),T=new Op;return Object.assign(T,S),T})}else{const m=ky(this.apiClient,e);return f=ve("{model}:countTokens",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=Dy(x),T=new Op;return Object.assign(T,S),T})}}async computeTokens(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI()){const f=Ay(this.apiClient,e);return o=ve("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:p.headers},x})),l.then(p=>{const m=Ey(p),x=new W3;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=f8(this.apiClient,e);return f=ve("{model}:predictLongRunning",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c.then(x=>{const S=c8(x),T=new So;return Object.assign(T,S),T})}else{const m=d8(this.apiClient,e);return f=ve("{model}:predictLongRunning",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>{const S=u8(x),T=new So;return Object.assign(T,S),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zx extends Ci{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,a=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let o;a&&"httpOptions"in a&&(o=a.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:o}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const i=e.operation,a=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let o;a&&"httpOptions"in a&&(o=a.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:o}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=V3(e);return f=ve("{operationName}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),c}else{const m=O3(e);return f=ve("{operationName}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI()){const f=L3(e);return o=ve("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function e9(t){const e={},i=d(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>u9(o))),h(e,["parts"],l)}const a=d(t,["role"]);return a!=null&&h(e,["role"],a),e}function t9(t,e,i){const a={},l=d(e,["expireTime"]);i!==void 0&&l!=null&&h(i,["expireTime"],l);const o=d(e,["newSessionExpireTime"]);i!==void 0&&o!=null&&h(i,["newSessionExpireTime"],o);const c=d(e,["uses"]);i!==void 0&&c!=null&&h(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&h(i,["bidiGenerateContentSetup"],o9(t,f));const p=d(e,["lockAdditionalFields"]);return i!==void 0&&p!=null&&h(i,["fieldMask"],p),a}function n9(t,e){const i={},a=d(e,["config"]);return a!=null&&h(i,["config"],t9(t,a,i)),i}function i9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function r9(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const a=d(t,["args"]);a!=null&&h(e,["args"],a);const l=d(t,["name"]);if(l!=null&&h(e,["name"],l),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function a9(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function l9(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function s9(t,e){const i={},a=d(t,["generationConfig"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig"],a);const l=d(t,["responseModalities"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","responseModalities"],l);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","mediaResolution"],m);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],ld(S));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],e9(Vt(_)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let te=Na(R);Array.isArray(te)&&(te=te.map(q=>d9(Ca(q)))),h(e,["setup","tools"],te)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],c9(k));const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","outputAudioTranscription"],P);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const ee=d(t,["contextWindowCompression"]);e!==void 0&&ee!=null&&h(e,["setup","contextWindowCompression"],ee);const ae=d(t,["proactivity"]);if(e!==void 0&&ae!=null&&h(e,["setup","proactivity"],ae),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function o9(t,e){const i={},a=d(e,["model"]);a!=null&&h(i,["setup","model"],We(t,a));const l=d(e,["config"]);return l!=null&&h(i,["config"],s9(l,i)),i}function u9(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=d(t,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const l=d(t,["executableCode"]);l!=null&&h(e,["executableCode"],l);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],i9(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],r9(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],Wx(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function c9(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function d9(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const l=d(t,["computerUse"]);l!=null&&h(e,["computerUse"],l);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],a9(f));const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],l9(p));const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f9(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const l=Object.keys(a).map(o=>`${i}.${o}`);e.push(...l)}else e.push(i)}return e.join(",")}function h9(t,e){let i=null;const a=t.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const o=a.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,i=o):delete t.bidiGenerateContentSetup}else a!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(i){const o=f9(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];l.length>0&&(f=l.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];o&&p.push(o),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class m9 extends Ci{constructor(e){super(),this.apiClient=e}async create(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=n9(this.apiClient,e);o=ve("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const p=h9(f,e.config);return l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p9(t,e){const i={},a=d(t,["force"]);return e!==void 0&&a!=null&&h(e,["_query","force"],a),i}function g9(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const a=d(t,["config"]);return a!=null&&p9(a,e),e}function v9(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function y9(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);return e!==void 0&&l!=null&&h(e,["_query","pageToken"],l),i}function x9(t){const e={},i=d(t,["parent"]);i!=null&&h(e,["_url","parent"],i);const a=d(t,["config"]);return a!=null&&y9(a,e),e}function b9(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=d(t,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const l=d(t,["documents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S9 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async i=>new Ir(Ti.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:i.parent,config:a.config}),await this.listInternal(i),i)}async get(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=v9(e);return o=ve("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var i,a;let l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=g9(e);l=ve("{name}",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=x9(e);return o=ve("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const m=b9(p),x=new e6;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T9 extends Ci{constructor(e,i=new S9(e)){super(),this.apiClient=e,this.documents=i,this.list=async(a={})=>new Ir(Ti.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(a),a)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=fx(e);return o=ve("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=px(e);return o=ve("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var i,a;let l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mx(e);l=ve("{name}",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Sx(e);return o=ve("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const m=Tx(p),x=new t6;return Object.assign(x,m),x})}}async uploadToFileSearchStoreInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=wx(e);return o=ve("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const m=Ax(p),x=new n6;return Object.assign(x,m),x})}}async importFile(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=yx(e);return o=ve("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const m=vx(p),x=new td;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let C2=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return C2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^i()&15>>+a/4).toString(16))};const w9=()=>C2();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Gc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dn extends Error{}class Xt extends Dn{constructor(e,i,a,l){super(`${Xt.makeMessage(e,i,a)}`),this.status=e,this.headers=l,this.error=i}static makeMessage(e,i,a){const l=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):a;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,i,a,l){if(!e||!l)return new Bo({message:a,cause:Gc(i)});const o=i;return e===400?new M2(e,o,a,l):e===401?new _2(e,o,a,l):e===403?new R2(e,o,a,l):e===404?new k2(e,o,a,l):e===409?new I2(e,o,a,l):e===422?new D2(e,o,a,l):e===429?new z2(e,o,a,l):e>=500?new L2(e,o,a,l):new Xt(e,o,a,l)}}class qc extends Xt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Bo extends Xt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class N2 extends Bo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class M2 extends Xt{}class _2 extends Xt{}class R2 extends Xt{}class k2 extends Xt{}class I2 extends Xt{}class D2 extends Xt{}class z2 extends Xt{}class L2 extends Xt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A9=/^[a-z][a-z0-9+.-]*:/i,E9=t=>A9.test(t);let Pc=t=>(Pc=Array.isArray,Pc(t));const C9=Pc;let N9=C9;const c4=N9;function M9(t){if(!t)return!0;for(const e in t)return!1;return!0}function _9(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const R9=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Dn(`${t} must be an integer`);if(e<0)throw new Dn(`${t} must be a positive integer`);return e},k9=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I9=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xa="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const z9=()=>{var t,e,i,a,l;const o=D9();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xa,"X-Stainless-OS":f4(Deno.build.os),"X-Stainless-Arch":d4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xa,"X-Stainless-OS":f4((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":d4((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const c=L9();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function L9(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const a=i.exec(navigator.userAgent);if(a){const l=a[1]||0,o=a[2]||0,c=a[3]||0;return{browser:e,version:`${l}.${o}.${c}`}}}return null}const d4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",f4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let eo;const U9=()=>eo??(eo=z9());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function U2(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function H9(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return U2({start(){},async pull(i){const{done:a,value:l}=await e.next();a?i.close():i.enqueue(l)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function B2(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function G9(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const a=t.getReader(),l=a.cancel();a.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q9=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H2=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hc(t,e,i){return H2(),new File(t,e??"unknown_file",i)}function P9(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const O9=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",V9=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&G2(t),F9=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function j9(t,e,i){if(H2(),t=await t,V9(t))return t instanceof File?t:hc([await t.arrayBuffer()],t.name);if(F9(t)){const l=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hc(await Oc(l),e,i)}const a=await Oc(t);if(e||(e=P9(t)),!(i!=null&&i.type)){const l=a.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof l=="string"&&(i=Object.assign(Object.assign({},i),{type:l}))}return hc(a,e,i)}async function Oc(t){var e,i,a,l,o;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(G2(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(O9(t))try{for(var f=!0,p=Pn(t),m;m=await p.next(),e=m.done,!e;f=!0){l=m.value,f=!1;const x=l;c.push(...await Oc(x))}}catch(x){i={error:x}}finally{try{!f&&!e&&(a=p.return)&&await a.call(p)}finally{if(i)throw i.error}}else{const x=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${Y9(t)}`)}return c}function Y9(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q2{constructor(e){this._client=e}}q2._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P2(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const h4=Object.freeze(Object.create(null)),J9=(t=P2)=>(function(i,...a){if(i.length===1)return i[0];let l=!1;const o=[],c=i.reduce((x,S,T)=>{var E,_,R;/[?#]/.test(S)&&(l=!0);const k=a[T];let U=(l?encodeURIComponent:t)(""+k);return T!==a.length&&(k==null||typeof k=="object"&&k.toString===((R=Object.getPrototypeOf((_=Object.getPrototypeOf((E=k.hasOwnProperty)!==null&&E!==void 0?E:h4))!==null&&_!==void 0?_:h4))===null||R===void 0?void 0:R.toString))&&(U=k+"",o.push({start:x.length+S.length,length:U.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),x+S+(T===a.length?"":U)},""),f=c.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=p.exec(f))!==null;)o.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(o.sort((x,S)=>x.start-S.start),o.length>0){let x=0;const S=o.reduce((T,E)=>{const _=" ".repeat(E.start-x),R="^".repeat(E.length);return x=E.start+E.length,T+_+R},"");throw new Dn(`Path parameters result in path with invalid segments:
${o.map(T=>T.error).join(`
`)}
${c}
${S}`)}return c}),to=J9(P2);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O2 extends q2{create(e,i){var a;const{api_version:l=this._client.apiVersion}=e,o=wo(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Dn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Dn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(to`/${l}/interactions`,Object.assign(Object.assign({body:o},i),{stream:(a=e.stream)!==null&&a!==void 0?a:!1}))}delete(e,i={},a){const{api_version:l=this._client.apiVersion}=i??{};return this._client.delete(to`/${l}/interactions/${e}`,a)}cancel(e,i={},a){const{api_version:l=this._client.apiVersion}=i??{};return this._client.post(to`/${l}/interactions/${e}/cancel`,a)}get(e,i={},a){var l;const o=i??{},{api_version:c=this._client.apiVersion}=o,f=wo(o,["api_version"]);return this._client.get(to`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},a),{stream:(l=i==null?void 0:i.stream)!==null&&l!==void 0?l:!1}))}}O2._key=Object.freeze(["interactions"]);class V2 extends O2{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X9(t){let e=0;for(const l of t)e+=l.length;const i=new Uint8Array(e);let a=0;for(const l of t)i.set(l,a),a+=l.length;return i}let no;function od(t){let e;return(no??(e=new globalThis.TextEncoder,no=e.encode.bind(e)))(t)}let io;function m4(t){let e;return(io??(e=new globalThis.TextDecoder,io=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ho{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?od(e):e;this.buffer=X9([this.buffer,i]);const a=[];let l;for(;(l=K9(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){a.push(m4(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,c=m4(this.buffer.subarray(0,o));a.push(c),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Ho.NEWLINE_CHARS=new Set([`
`,"\r"]);Ho.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function K9(t,e){for(let l=e??0;l<t.length;l++){if(t[l]===10)return{preceding:l,index:l+1,carriage:!1};if(t[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function $9(t){for(let a=0;a<t.length-1;a++){if(t[a]===10&&t[a+1]===10||t[a]===13&&t[a+1]===13)return a+2;if(t[a]===13&&t[a+1]===10&&a+3<t.length&&t[a+2]===13&&t[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ao={off:0,error:200,warn:300,info:400,debug:500},p4=(t,e,i)=>{if(t){if(_9(Ao,t))return t;Yt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ao))}`)}};function Ml(){}function ro(t,e,i){return!e||Ao[t]>Ao[i]?Ml:e[t].bind(e)}const Q9={error:Ml,warn:Ml,info:Ml,debug:Ml};let g4=new WeakMap;function Yt(t){var e;const i=t.logger,a=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return Q9;const l=g4.get(i);if(l&&l[0]===a)return l[1];const o={error:ro("error",i,a),warn:ro("warn",i,a),info:ro("info",i,a),debug:ro("debug",i,a)};return g4.set(i,[a,o]),o}const kr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sa{constructor(e,i,a){this.iterator=e,this.controller=i,this.client=a}static fromSSEResponse(e,i,a){let l=!1;const o=a?Yt(a):console;function c(){return qn(this,arguments,function*(){var p,m,x,S;if(l)throw new Dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let T=!1;try{try{for(var E=!0,_=Pn(Z9(e,i)),R;R=yield ze(_.next()),p=R.done,!p;E=!0){S=R.value,E=!1;const k=S;if(!T)if(k.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield ze(JSON.parse(k.data))}catch(U){throw o.error("Could not parse message into JSON:",k.data),o.error("From chunk:",k.raw),U}}}catch(k){m={error:k}}finally{try{!E&&!p&&(x=_.return)&&(yield ze(x.call(_)))}finally{if(m)throw m.error}}T=!0}catch(k){if(Hc(k))return yield ze(void 0);throw k}finally{T||i.abort()}})}return new Sa(c,i,a)}static fromReadableStream(e,i,a){let l=!1;function o(){return qn(this,arguments,function*(){var p,m,x,S;const T=new Ho,E=B2(e);try{for(var _=!0,R=Pn(E),k;k=yield ze(R.next()),p=k.done,!p;_=!0){S=k.value,_=!1;const U=S;for(const P of T.decode(U))yield yield ze(P)}}catch(U){m={error:U}}finally{try{!_&&!p&&(x=R.return)&&(yield ze(x.call(R)))}finally{if(m)throw m.error}}for(const U of T.flush())yield yield ze(U)})}function c(){return qn(this,arguments,function*(){var p,m,x,S;if(l)throw new Dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let T=!1;try{try{for(var E=!0,_=Pn(o()),R;R=yield ze(_.next()),p=R.done,!p;E=!0){S=R.value,E=!1;const k=S;T||k&&(yield yield ze(JSON.parse(k)))}}catch(k){m={error:k}}finally{try{!E&&!p&&(x=_.return)&&(yield ze(x.call(_)))}finally{if(m)throw m.error}}T=!0}catch(k){if(Hc(k))return yield ze(void 0);throw k}finally{T||i.abort()}})}return new Sa(c,i,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],a=this.iterator(),l=o=>({next:()=>{if(o.length===0){const c=a.next();e.push(c),i.push(c)}return o.shift()}});return[new Sa(()=>l(e),this.controller,this.client),new Sa(()=>l(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return U2({async start(){i=e[Symbol.asyncIterator]()},async pull(a){try{const{value:l,done:o}=await i.next();if(o)return a.close();const c=od(JSON.stringify(l)+`
`);a.enqueue(c)}catch(l){a.error(l)}},async cancel(){var a;await((a=i.return)===null||a===void 0?void 0:a.call(i))}})}}function Z9(t,e){return qn(this,arguments,function*(){var a,l,o,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Dn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Dn("Attempted to iterate over a response with no body");const f=new eb,p=new Ho,m=B2(t.body);try{for(var x=!0,S=Pn(W9(m)),T;T=yield ze(S.next()),a=T.done,!a;x=!0){c=T.value,x=!1;const E=c;for(const _ of p.decode(E)){const R=f.decode(_);R&&(yield yield ze(R))}}}catch(E){l={error:E}}finally{try{!x&&!a&&(o=S.return)&&(yield ze(o.call(S)))}finally{if(l)throw l.error}}for(const E of p.flush()){const _=f.decode(E);_&&(yield yield ze(_))}})}function W9(t){return qn(this,arguments,function*(){var i,a,l,o;let c=new Uint8Array;try{for(var f=!0,p=Pn(t),m;m=yield ze(p.next()),i=m.done,!i;f=!0){o=m.value,f=!1;const x=o;if(x==null)continue;const S=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?od(x):x;let T=new Uint8Array(c.length+S.length);T.set(c),T.set(S,c.length),c=T;let E;for(;(E=$9(c))!==-1;)yield yield ze(c.slice(0,E)),c=c.slice(E)}}catch(x){a={error:x}}finally{try{!f&&!i&&(l=p.return)&&(yield ze(l.call(p)))}finally{if(a)throw a.error}}c.length>0&&(yield yield ze(c))})}class eb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,a,l]=tb(e,":");return l.startsWith(" ")&&(l=l.substring(1)),i==="event"?this.event=l:i==="data"&&this.data.push(l),null}}function tb(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nb(t,e){const{response:i,requestLogID:a,retryOfRequestLogID:l,startTime:o}=e,c=await(async()=>{var f;if(e.options.stream)return Yt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Sa.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const p=i.headers.get("content-type"),m=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return Yt(t).debug(`[${a}] response parsed`,kr({retryOfRequestLogID:l,url:i.url,status:i.status,body:c,durationMs:Date.now()-o})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ud extends Promise{constructor(e,i,a=nb){super(l=>{l(null)}),this.responsePromise=i,this.parseResponse=a,this.client=e}_thenUnwrap(e){return new ud(this.client,this.responsePromise,async(i,a)=>e(await this.parseResponse(i,a),a))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F2=Symbol("brand.privateNullableHeaders");function*ib(t){if(!t)return;if(F2 in t){const{values:a,nulls:l}=t;yield*a.entries();for(const o of l)yield[o,null];return}let e=!1,i;t instanceof Headers?i=t.entries():c4(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let a of i){const l=a[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const o=c4(a[1])?a[1]:[a[1]];let c=!1;for(const f of o)f!==void 0&&(e&&!c&&(c=!0,yield[l,null]),yield[l,f])}}const Cl=t=>{const e=new Headers,i=new Set;for(const a of t){const l=new Set;for(const[o,c]of ib(a)){const f=o.toLowerCase();l.has(f)||(e.delete(o),l.add(f)),c===null?(e.delete(o),i.add(f)):(e.append(o,c),i.delete(f))}}return{[F2]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mc=t=>{var e,i,a,l,o,c;if(typeof globalThis.process<"u")return(a=(i=(e=_3)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(c=(o=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||o===void 0?void 0:o.call(l,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var j2;class Go{constructor(e){var i,a,l,o,c,f,p,{baseURL:m=mc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(i=mc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=e,T=wo(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:S},T),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(a=E.timeout)!==null&&a!==void 0?a:Go.DEFAULT_TIMEOUT,this.logger=(l=E.logger)!==null&&l!==void 0?l:console;const _="warn";this.logLevel=_,this.logLevel=(c=(o=p4(E.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:p4(mc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:_,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=E.fetch)!==null&&p!==void 0?p:B9(),this.encoder=q9,this._options=E,this.apiKey=x,this.apiVersion=S,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Cl([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Cl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Cl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,a])=>typeof a<"u").map(([i,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(i)}=`;throw new Dn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${xa}`}defaultIdempotencyKey(){return`stainless-node-retry-${w9()}`}makeStatusError(e,i,a,l){return Xt.generate(e,i,a,l)}buildURL(e,i,a){const l=!this.baseURLOverridden()&&a||this.baseURL,o=E9(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return M9(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(o.search=this.stringifyQuery(i)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:a}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,a){return this.request(Promise.resolve(a).then(l=>Object.assign({method:e,path:i},l)))}request(e,i=null){return new ud(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,a){var l,o,c;const f=await e,p=(l=f.maxRetries)!==null&&l!==void 0?l:this.maxRetries;i==null&&(i=p),await this.prepareOptions(f);const{req:m,url:x,timeout:S}=await this.buildRequest(f,{retryCount:p-i});await this.prepareRequest(m,{url:x,options:f});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=a===void 0?"":`, retryOf: ${a}`,_=Date.now();if(Yt(this).debug(`[${T}] sending request`,kr({retryOfRequestLogID:a,method:f.method,url:x,options:f,headers:m.headers})),!((o=f.signal)===null||o===void 0)&&o.aborted)throw new qc;const R=new AbortController,k=await this.fetchWithTimeout(x,m,S,R).catch(Gc),U=Date.now();if(k instanceof globalThis.Error){const J=`retrying, ${i} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new qc;const ee=Hc(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(i)return Yt(this).info(`[${T}] connection ${ee?"timed out":"failed"} - ${J}`),Yt(this).debug(`[${T}] connection ${ee?"timed out":"failed"} (${J})`,kr({retryOfRequestLogID:a,url:x,durationMs:U-_,message:k.message})),this.retryRequest(f,i,a??T);throw Yt(this).info(`[${T}] connection ${ee?"timed out":"failed"} - error; no more retries left`),Yt(this).debug(`[${T}] connection ${ee?"timed out":"failed"} (error; no more retries left)`,kr({retryOfRequestLogID:a,url:x,durationMs:U-_,message:k.message})),ee?new N2:new Bo({cause:k})}const P=`[${T}${E}] ${m.method} ${x} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${U-_}ms`;if(!k.ok){const J=await this.shouldRetry(k);if(i&&J){const Z=`retrying, ${i} attempts remaining`;return await G9(k.body),Yt(this).info(`${P} - ${Z}`),Yt(this).debug(`[${T}] response error (${Z})`,kr({retryOfRequestLogID:a,url:k.url,status:k.status,headers:k.headers,durationMs:U-_})),this.retryRequest(f,i,a??T,k.headers)}const ee=J?"error; no more retries left":"error; not retryable";Yt(this).info(`${P} - ${ee}`);const ae=await k.text().catch(Z=>Gc(Z).message),te=k9(ae),q=te?void 0:ae;throw Yt(this).debug(`[${T}] response error (${ee})`,kr({retryOfRequestLogID:a,url:k.url,status:k.status,headers:k.headers,message:q,durationMs:Date.now()-_})),this.makeStatusError(k.status,te,q,k.headers)}return Yt(this).info(P),Yt(this).debug(`[${T}] response start`,kr({retryOfRequestLogID:a,url:k.url,status:k.status,headers:k.headers,durationMs:U-_})),{response:k,options:f,controller:R,requestLogID:T,retryOfRequestLogID:a,startTime:_}}async fetchWithTimeout(e,i,a,l){const o=i||{},{signal:c,method:f}=o,p=wo(o,["signal","method"]);c&&c.addEventListener("abort",()=>l.abort());const m=setTimeout(()=>l.abort(),a),x=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,S=Object.assign(Object.assign(Object.assign({signal:l.signal},x?{duplex:"half"}:{}),{method:"GET"}),p);f&&(S.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(m)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,a,l){var o;let c;const f=l==null?void 0:l.get("retry-after-ms");if(f){const m=parseFloat(f);Number.isNaN(m)||(c=m)}const p=l==null?void 0:l.get("retry-after");if(p&&!c){const m=parseFloat(p);Number.isNaN(m)?c=Date.parse(p)-Date.now():c=m*1e3}if(!(c&&0<=c&&c<60*1e3)){const m=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,m)}return await I9(c),this.makeRequest(e,i-1,a)}calculateDefaultRetryTimeoutMillis(e,i){const o=i-e,c=Math.min(.5*Math.pow(2,o),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:i=0}={}){var a,l,o;const c=Object.assign({},e),{method:f,path:p,query:m,defaultBaseURL:x}=c,S=this.buildURL(p,m,x);"timeout"in c&&R9("timeout",c.timeout),c.timeout=(a=c.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:T,body:E}=this.buildBody({options:c}),_=await this.buildHeaders({options:e,method:f,bodyHeaders:T,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:_},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(o=c.fetchOptions)!==null&&o!==void 0?o:{}),url:S,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:a,retryCount:l}){let o={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let f=Cl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),U9()),this._options.defaultHeaders,a,e.headers,c]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const a=Cl([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&a.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:H9(e)}:this.encoder({body:e,headers:a})}}Go.DEFAULT_TIMEOUT=6e4;class Ut extends Go{constructor(){super(...arguments),this.interactions=new V2(this)}}j2=Ut;Ut.GeminiNextGenAPIClient=j2;Ut.GeminiNextGenAPIClientError=Dn;Ut.APIError=Xt;Ut.APIConnectionError=Bo;Ut.APIConnectionTimeoutError=N2;Ut.APIUserAbortError=qc;Ut.NotFoundError=k2;Ut.ConflictError=I2;Ut.RateLimitError=z2;Ut.BadRequestError=M2;Ut.AuthenticationError=_2;Ut.InternalServerError=L2;Ut.PermissionDeniedError=R2;Ut.UnprocessableEntityError=D2;Ut.toFile=j9;Ut.Interactions=V2;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(t,e){const i={},a=d(t,["name"]);return a!=null&&h(i,["_url","name"],a),i}function ab(t,e){const i={},a=d(t,["name"]);return a!=null&&h(i,["_url","name"],a),i}function lb(t,e){const i={},a=d(t,["sdkHttpResponse"]);return a!=null&&h(i,["sdkHttpResponse"],a),i}function sb(t,e){const i={},a=d(t,["sdkHttpResponse"]);return a!=null&&h(i,["sdkHttpResponse"],a),i}function ob(t,e,i){const a={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(t,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&h(e,["displayName"],l),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&h(e,["tuningTask","hyperparameters","epochCount"],o);const c=d(t,["learningRateMultiplier"]);if(c!=null&&h(a,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&h(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(t,["learningRate"]);if(e!==void 0&&p!=null&&h(e,["tuningTask","hyperparameters","learningRate"],p),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function ub(t,e,i){const a={};let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec"],v4(E))}else if(l==="PREFERENCE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec"],v4(E))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&h(e,["tunedModelDisplayName"],o);const c=d(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let f=d(i,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(f==="PREFERENCE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(p==="PREFERENCE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(m==="PREFERENCE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const T=d(t,["beta"]);return e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),a}function cb(t,e){const i={},a=d(t,["baseModel"]);a!=null&&h(i,["baseModel"],a);const l=d(t,["preTunedModel"]);l!=null&&h(i,["preTunedModel"],l);const o=d(t,["trainingDataset"]);o!=null&&Sb(o);const c=d(t,["config"]);return c!=null&&ob(c,i),i}function db(t,e){const i={},a=d(t,["baseModel"]);a!=null&&h(i,["baseModel"],a);const l=d(t,["preTunedModel"]);l!=null&&h(i,["preTunedModel"],l);const o=d(t,["trainingDataset"]);o!=null&&Tb(o,i,e);const c=d(t,["config"]);return c!=null&&ub(c,i,e),i}function fb(t,e){const i={},a=d(t,["name"]);return a!=null&&h(i,["_url","name"],a),i}function hb(t,e){const i={},a=d(t,["name"]);return a!=null&&h(i,["_url","name"],a),i}function mb(t,e,i){const a={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),a}function pb(t,e,i){const a={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),a}function gb(t,e){const i={},a=d(t,["config"]);return a!=null&&mb(a,i),i}function vb(t,e){const i={},a=d(t,["config"]);return a!=null&&pb(a,i),i}function yb(t,e){const i={},a=d(t,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const l=d(t,["nextPageToken"]);l!=null&&h(i,["nextPageToken"],l);const o=d(t,["tunedModels"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Y2(f))),h(i,["tuningJobs"],c)}return i}function xb(t,e){const i={},a=d(t,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const l=d(t,["nextPageToken"]);l!=null&&h(i,["nextPageToken"],l);const o=d(t,["tuningJobs"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Vc(f))),h(i,["tuningJobs"],c)}return i}function bb(t,e){const i={},a=d(t,["name"]);a!=null&&h(i,["model"],a);const l=d(t,["name"]);return l!=null&&h(i,["endpoint"],l),i}function Sb(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=d(t,["examples"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(o=>o)),h(i,["examples","examples"],l)}return i}function Tb(t,e,i){const a={};let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Y2(t,e){const i={},a=d(t,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const l=d(t,["name"]);l!=null&&h(i,["name"],l);const o=d(t,["state"]);o!=null&&h(i,["state"],o2(o));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&h(i,["startTime"],f);const p=d(t,["tuningTask","completeTime"]);p!=null&&h(i,["endTime"],p);const m=d(t,["updateTime"]);m!=null&&h(i,["updateTime"],m);const x=d(t,["description"]);x!=null&&h(i,["description"],x);const S=d(t,["baseModel"]);S!=null&&h(i,["baseModel"],S);const T=d(t,["_self"]);return T!=null&&h(i,["tunedModel"],bb(T)),i}function Vc(t,e){const i={},a=d(t,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const l=d(t,["name"]);l!=null&&h(i,["name"],l);const o=d(t,["state"]);o!=null&&h(i,["state"],o2(o));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(i,["startTime"],f);const p=d(t,["endTime"]);p!=null&&h(i,["endTime"],p);const m=d(t,["updateTime"]);m!=null&&h(i,["updateTime"],m);const x=d(t,["error"]);x!=null&&h(i,["error"],x);const S=d(t,["description"]);S!=null&&h(i,["description"],S);const T=d(t,["baseModel"]);T!=null&&h(i,["baseModel"],T);const E=d(t,["tunedModel"]);E!=null&&h(i,["tunedModel"],E);const _=d(t,["preTunedModel"]);_!=null&&h(i,["preTunedModel"],_);const R=d(t,["supervisedTuningSpec"]);R!=null&&h(i,["supervisedTuningSpec"],R);const k=d(t,["preferenceOptimizationSpec"]);k!=null&&h(i,["preferenceOptimizationSpec"],k);const U=d(t,["tuningDataStats"]);U!=null&&h(i,["tuningDataStats"],U);const P=d(t,["encryptionSpec"]);P!=null&&h(i,["encryptionSpec"],P);const J=d(t,["partnerModelTuningSpec"]);J!=null&&h(i,["partnerModelTuningSpec"],J);const ee=d(t,["customBaseModel"]);ee!=null&&h(i,["customBaseModel"],ee);const ae=d(t,["experiment"]);ae!=null&&h(i,["experiment"],ae);const te=d(t,["labels"]);te!=null&&h(i,["labels"],te);const q=d(t,["outputUri"]);q!=null&&h(i,["outputUri"],q);const K=d(t,["pipelineJob"]);K!=null&&h(i,["pipelineJob"],K);const Z=d(t,["serviceAccount"]);Z!=null&&h(i,["serviceAccount"],Z);const me=d(t,["tunedModelDisplayName"]);me!=null&&h(i,["tunedModelDisplayName"],me);const Se=d(t,["veoTuningSpec"]);return Se!=null&&h(i,["veoTuningSpec"],Se),i}function wb(t,e){const i={},a=d(t,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const l=d(t,["name"]);l!=null&&h(i,["name"],l);const o=d(t,["metadata"]);o!=null&&h(i,["metadata"],o);const c=d(t,["done"]);c!=null&&h(i,["done"],c);const f=d(t,["error"]);return f!=null&&h(i,["error"],f),i}function v4(t,e){const i={},a=d(t,["gcsUri"]);a!=null&&h(i,["validationDatasetUri"],a);const l=d(t,["vertexDatasetResource"]);return l!=null&&h(i,["validationDatasetUri"],l),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ab extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ir(Ti.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var a;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const l={tunedModelName:i.baseModel};!((a=i.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(l.checkpointId=i.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},i),{preTunedModel:l});return o.baseModel=void 0,await this.tuneInternal(o)}else{const l=Object.assign({},i);return await this.tuneInternal(l)}else{const l=Object.assign({},i),o=await this.tuneMldevInternal(l);let c="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?c=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(c=o.name.split("/operations/")[0]),{name:c,state:kc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=hb(e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>Vc(x))}else{const m=fb(e);return f=ve("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>Y2(x))}}async listInternal(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=vb(e);return f=ve("tuningJobs",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=xb(x),T=new Vp;return Object.assign(T,S),T})}else{const m=gb(e);return f=ve("tunedModels",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=yb(x),T=new Vp;return Object.assign(T,S),T})}}async cancel(e){var i,a,l,o;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=ab(e);return f=ve("{name}:cancel",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=sb(x),T=new Fp;return Object.assign(T,S),T})}else{const m=rb(e);return f=ve("{name}:cancel",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=lb(x),T=new Fp;return Object.assign(T,S),T})}}async tuneInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI()){const f=db(e,e);return o=ve("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:p.headers},x})),l.then(p=>Vc(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,a;let l,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=cb(e);return o=ve("tunedModels",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:p.headers},x})),l.then(p=>wb(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eb{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Cb=1024*1024*8,Nb=3,Mb=1e3,_b=2,Eo="x-goog-upload-status";async function Rb(t,e,i){var a;const l=await J2(t,e,i),o=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[Eo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function kb(t,e,i){var a;const l=await J2(t,e,i),o=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[Eo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=n2(o),f=new nd;return Object.assign(f,c),f}async function J2(t,e,i){var a,l;let o=0,c=0,f=new Ic(new Response),p="upload";for(o=t.size;c<o;){const m=Math.min(Cb,o-c),x=t.slice(c,c+m);c+m>=o&&(p+=", finalize");let S=0,T=Mb;for(;S<Nb&&(f=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((a=f==null?void 0:f.headers)===null||a===void 0)&&a[Eo]));)S++,await Db(T),T=T*_b;if(c+=m,((l=f==null?void 0:f.headers)===null||l===void 0?void 0:l[Eo])!=="active")break;if(o<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function Ib(t){return{size:t.size,type:t.type}}function Db(t){return new Promise(e=>setTimeout(e,t))}class zb{async upload(e,i,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rb(e,i,a)}async uploadToFileSearchStore(e,i,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kb(e,i,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ib(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lb{create(e,i,a){return new Ub(e,i,a)}}class Ub{constructor(e,i,a){this.url=e,this.headers=i,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y4="x-goog-api-key";class Bb{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(y4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(y4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="gl-node/";class X2{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new Ut({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const a=D3(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new Bb(this.apiKey);this.apiClient=new Ix({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Hb+"web",uploader:new zb,downloader:new Eb}),this.models=new Qx(this.apiClient),this.live=new jx(this.apiClient,l,new Lb),this.batches=new o7(this.apiClient),this.chats=new V7(this.models,this.apiClient),this.caches=new q7(this.apiClient),this.files=new W7(this.apiClient),this.operations=new Zx(this.apiClient),this.authTokens=new m9(this.apiClient),this.tunings=new Ab(this.apiClient),this.fileSearchStores=new T9(this.apiClient)}}const Gb={type:Mt.OBJECT,properties:{content:{type:Mt.STRING,description:" Markdown  LaTeX  ($...$)"},options:{type:Mt.ARRAY,items:{type:Mt.STRING},description:" LaTeX  ($...$)"},diagramDescription:{type:Mt.STRING,description:"/"},answer:{type:Mt.STRING,description:""},analysis:{type:Mt.STRING,description:" Markdown  LaTeX"},learningGuide:{type:Mt.STRING,description:""},knowledgePoints:{type:Mt.ARRAY,items:{type:Mt.STRING},description:""},subject:{type:Mt.STRING,enum:Object.values(Io),description:""},difficulty:{type:Mt.INTEGER,description:" (1-5)"}},required:["content","analysis","knowledgePoints","subject","difficulty"]},Co=`

1. //
2.  LaTeX$...$  $$...$$ Unicode  LaTeX
   -              // Unicode 
   - 
     - 6  $\\sqrt{6}$
     - x  $x^2$
     -   $\\times$
     -   $^\\circ$
     -   $\\theta$
     - /  $\\leq$ / $\\geq$
3.  JSON content, options, diagramDescription, answer, analysis, learningGuide, knowledgePoints, subject, difficulty
   - options  ["A. ", "B. "]
4.  $...$ $...$
5. 
6.  JSON  ( \\frac  \frac\\sqrt  sqrt)`;function qb(t){let e="",i=0;for(;i<t.length;)if(t[i]==="\\"&&i+1<t.length){const a=t[i+1];if(a==="\\"){e+="\\\\",i+=2;continue}if(a==='"'||a==="/"){e+="\\"+a,i+=2;continue}if(a==="u"&&i+5<t.length&&/^[0-9a-fA-F]{4}$/.test(t.substring(i+2,i+6))){e+=t.substring(i,i+6),i+=6;continue}if("bfnrt".includes(a)){const l=i+2<t.length?t[i+2]:"";if(!/[a-zA-Z]/.test(l)){e+="\\"+a,i+=2;continue}}e+="\\\\"+a,i+=2}else e+=t[i],i++;return e}const Pb=async t=>new Promise(e=>{const i=new Image;i.src=t,i.onload=()=>{const a=document.createElement("canvas");let l=i.width,o=i.height;const c=1024;(l>c||o>c)&&(l>o?(o=Math.round(o*c/l),l=c):(l=Math.round(l*c/o),o=c)),a.width=l,a.height=o;const f=a.getContext("2d");f==null||f.drawImage(i,0,0,l,o),e(a.toDataURL("image/jpeg",.8))},i.onerror=()=>e(t)});function Ob(t){let e=t.trim();e.startsWith("```json")?e=e.slice(7):e.startsWith("```")&&(e=e.slice(3)),e.endsWith("```")&&(e=e.slice(0,-3)),e=e.trim(),e=e.trim();const i=qb(e);try{return JSON.parse(i)}catch(a){try{return JSON.parse(e)}catch{try{let o=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"");return JSON.parse(o)}catch{throw console.error("JSON parsing failed after all cleanup attempts:",t.substring(0,500)),new Error(`JSON : ${a.message}`)}}}}async function Vb(t,e,i){if(!e.apiKey)throw new Error("API Key ");const a=new X2({apiKey:e.apiKey}),l=e.modelName||"gemini-2.0-flash",c=(await a.models.generateContent({model:l,contents:[{role:"user",parts:[{inlineData:{mimeType:"image/jpeg",data:t.split(",")[1]||t}},{text:i}]}],config:{responseMimeType:"application/json",responseSchema:Gb}})).text;if(!c)throw new Error("Gemini ");return JSON.parse(c.trim())}async function Fb(t,e,i){var m,x;let a=e.baseUrl,l=e.modelName||"gpt-4o";if(e.type===Qe.QWEN)a=a||"https://dashscope.aliyuncs.com/compatible-mode/v1",l=e.modelName||"qwen-vl-max";else if(e.type===Qe.DOUBAO){if(a=a||"https://ark.cn-beijing.volces.com/api/v3",!((m=e.modelName)!=null&&m.trim()))throw new Error("ID (ep-xxxxxxxxxx) Ark ");l=e.modelName.trim()}if(!e.apiKey)throw new Error("API Key ");let o;if(e.type===Qe.QWEN)o={model:l,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}};else if(e.type===Qe.DOUBAO){const S=t.startsWith("data:")?t:`data:image/jpeg;base64,${t}`;o={model:l,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:S}}]}]}}else o={model:l,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}};const c=await fetch(`${a}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${e.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok){let S="AI ";try{const T=await c.json();console.error("AI API Error Response:",T);const E=((x=T.error)==null?void 0:x.message)||T.message||JSON.stringify(T);E.includes("support text")||E.includes("MultiContent")?S="/(Vision)":S=E}catch{console.error("AI API Error (Text):",await c.text()),S=`HTTP error! status: ${c.status}`}throw new Error(S)}const f=await c.json(),p=f.choices?f.choices[0].message.content:f.result.response;return Ob(p)}const x4=async t=>{var i,a,l,o;const e="''";try{if(t.type===Qe.GEMINI){if(!t.apiKey)throw new Error("API Key ");const c=new X2({apiKey:t.apiKey}),f=t.modelName||"gemini-2.0-flash";if(!(await c.models.generateContent({model:f,contents:e})).text)throw new Error("Gemini ");return!0}else{let c=t.baseUrl,f=t.modelName||"gpt-4o";if(t.type===Qe.QWEN?(c=c||"https://dashscope.aliyuncs.com/compatible-mode/v1",f=t.modelName||"qwen-vl-max"):t.type===Qe.DOUBAO&&(c=c||"https://ark.cn-beijing.volces.com/api/v3",f=t.modelName||"doubao-1-5-pro-32k-250115"),!t.apiKey)throw new Error("API Key ");let p;t.type===Qe.DOUBAO?p={model:f,messages:[{role:"user",content:[{type:"text",text:e}]}]}:p={model:f,messages:[{role:"system",content:e},{role:"user",content:e}]};const m=await fetch(`${c}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${t.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(p)});if(!m.ok){const T=await m.json();throw new Error(((i=T.error)==null?void 0:i.message)||"AI ")}const x=await m.json();return x.choices?!!((l=(a=x.choices[0])==null?void 0:a.message)!=null&&l.content):!!((o=x.result)!=null&&o.response)}}catch(c){throw console.error("AI Config Test Failed:",c),new Error(`AI : ${c.message}`)}},jb=async(t,e)=>{const i=e.systemPrompt||Co,a=e.systemPrompt||Co;console.log("AI Config:",{...e,systemPrompt:e.systemPrompt?"Custom":"Default",usedPromptPrefix:a.slice(0,50)+"..."});const l=await Pb(t);try{return e.type===Qe.GEMINI?await Vb(l,e,i):await Fb(l,e,i)}catch(o){throw console.error("AI Analysis Failed:",o),new Error(" AI ")}},ao=t=>({...t,options:t.options?typeof t.options=="string"?JSON.parse(t.options):t.options:[],knowledgePoints:t.knowledgePoints?typeof t.knowledgePoints=="string"?JSON.parse(t.knowledgePoints):t.knowledgePoints:[]}),Yb=/\$\$[\s\S]*?\$\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]|\$(?:\\\$|[^$])*\$/g,K2=/\\(?:frac|sqrt|times|cdot|pm|leq|geq|neq|approx|pi|theta|sin|cos|tan|log|ln|sum|prod|int|cdots|ldots)\b(?:\s*\{[^{}]*\})?/g,Jb=/\\frac\s*\{[^{}]*\}\s*\{[^{}]*\}/g,Xb=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)(?:\\s*[+\\-*/]\\s*\\d+)?","g"),$2=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^\\{[^{}]*\\}|\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)+","g"),Kb=t=>{const e=String(t||"").trim();return!e||e.includes("$$")||/(^|[^\\])\$/.test(e)||e.includes("\\(")||e.includes("\\[")||/[\u4e00-\u9fff]/.test(e)?!1:K2.test(e)||$2.test(e)||/[=+\-*/()<>]/.test(e)},_l=t=>{const e=String(t??"");if(!e.trim())return e;const i=[];for(const f of e.matchAll(Yb))f.index!=null&&i.push({start:f.index,end:f.index+f[0].length});const a=f=>i.some(p=>f>=p.start&&f<p.end),l=(f,p)=>{i.push({start:f,end:p})},o=(f,p)=>p.replace(f,(m,x)=>{if(a(x)||/^\\[ntr]$/.test(m))return m;const S=`$${m}$`;return l(x,x+S.length),S});if(Kb(e))return`$${e}$`;let c=e;return c=o(Jb,c),c=o(K2,c),c=o(Xb,c),c=o($2,c),c},$b=t=>t?(Array.isArray(t)?t:[t]).map(i=>_l(typeof i=="string"?i:JSON.stringify(i))):[],ht={async getAIConfig(){try{const t=await fetch("/api/config");if(!t.ok)throw new Error("Failed to load config");const e=await t.json();return e.configData?JSON.parse(e.configData):{...{activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0},...e}}catch(t){return console.warn("Could not load remote config, using defaults",t),{activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0}}},async saveAIConfig(t){try{await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({configData:JSON.stringify(t)})})}catch(e){throw console.error("Failed to save config",e),e}},async syncRemoteConfig(){try{return await this.getAIConfig()}catch{return null}},async getActiveProviderConfig(){const t=await this.getAIConfig(),e=t.activeProvider;if(Object.values(Qe).includes(e)){const a=t.providers[e]||{};return{type:e,apiKey:a.apiKey,baseUrl:a.baseUrl,modelName:a.modelName,systemPrompt:t.systemPrompt}}const i=t.customProviders.find(a=>a.id===e);return i?{type:i.id,apiKey:i.config.apiKey,baseUrl:i.config.baseUrl,modelName:i.config.modelName,systemPrompt:t.systemPrompt}:{type:Qe.GEMINI}},async fetchQuestions(){const t=await fetch("/api/questions");if(!t.ok)throw new Error("Failed to fetch questions");return(await t.json()).map(ao).sort((i,a)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime())},async fetchTrash(){const t=await fetch("/api/trash");if(!t.ok)throw new Error("Failed to fetch trash");return(await t.json()).map(ao).sort((i,a)=>new Date(a.deletedAt).getTime()-new Date(i.deletedAt).getTime())},async createQuestion(t){const e=(o,c=[])=>{if(!o)return c;if(Array.isArray(o))return o;if(typeof o=="string")try{const f=JSON.parse(o);return Array.isArray(f)?f:[o]}catch{return[o]}return c},i={...t,content:_l(t.content||""),options:$b(e(t.options)),knowledgePoints:e(t.knowledgePoints,[""]),subject:String(t.subject||""),answer:(()=>{const o=Array.isArray(t.answer)?t.answer.join(", "):String(t.answer||"");return _l(o)})(),analysis:_l(t.analysis||""),learningGuide:_l(t.learningGuide||""),difficulty:Number(t.difficulty)||3},a=await fetch("/api/questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){const o=await a.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||`Create failed: ${a.status}`)}const l=await a.json();return ao(l)},async updateQuestion(t,e){const i=await fetch(`/api/questions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok){const l=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(l.error||`Update failed: ${i.status}`)}const a=await i.json();return ao(a)},async deleteQuestion(t){if(!(await fetch(`/api/questions/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete question")},async restoreQuestion(t){if(!(await fetch(`/api/questions/${t}/restore`,{method:"PATCH"})).ok)throw new Error("Failed to restore question")},async hardDeleteQuestion(t){if(!(await fetch(`/api/questions/${t}/hard`,{method:"DELETE"})).ok)throw new Error("Failed to hard delete question")},async getMistakeCount(){return(await this.fetchQuestions()).length},async analyzeImage(t,e){const i=await this.getActiveProviderConfig();return jb(t,i)},async exportBackup(){window.open("/api/export","_blank")},async getMigrationStatus(){const t=await fetch("/api/db/migrations");if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`Failed to get migrations: ${t.status}`)}return t.json()},async migrateToLatest(){const t=await fetch("/api/db/migrate",{method:"POST"});if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`Failed to migrate: ${t.status}`)}return t.json()},async importBackup(t){let e;try{e=JSON.parse(t)}catch{throw new Error("Invalid JSON")}if(!(await fetch("/api/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to import backup")}};class an{constructor(e,i,a){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=i,this.end=a}static range(e,i){return i?!e||!e.loc||!i.loc||e.loc.lexer!==i.loc.lexer?null:new an(e.loc.lexer,e.loc.start,i.loc.end):e&&e.loc}}class yn{constructor(e,i){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=i}range(e,i){return new yn(i,an.range(this,e))}}class ce{constructor(e,i){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var a="KaTeX parse error: "+e,l,o,c=i&&i.loc;if(c&&c.start<=c.end){var f=c.lexer.input;l=c.start,o=c.end,l===f.length?a+=" at end of input: ":a+=" at position "+(l+1)+": ";var p=f.slice(l,o).replace(/[^]/g,"$&"),m;l>15?m=""+f.slice(l-15,l):m=f.slice(0,l);var x;o+15<f.length?x=f.slice(o,o+15)+"":x=f.slice(o),a+=m+p+x}var S=new Error(a);return S.name="ParseError",S.__proto__=ce.prototype,S.position=l,l!=null&&o!=null&&(S.length=o-l),S.rawMessage=e,S}}ce.prototype.__proto__=Error.prototype;var Qb=function(e,i){return e===void 0?i:e},Zb=/([A-Z])/g,Wb=function(e){return e.replace(Zb,"-$1").toLowerCase()},eS={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},tS=/[&><"']/g;function nS(t){return String(t).replace(tS,e=>eS[e])}var Q2=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},iS=function(e){var i=Q2(e);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},rS=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},aS=function(e){var i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"},Ze={deflt:Qb,escape:nS,hyphenate:Wb,getBaseElem:Q2,isCharacterBox:iS,protocolFromUrl:aS},yo={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function lS(t){if(t.default)return t.default;var e=t.type,i=Array.isArray(e)?e[0]:e;if(typeof i!="string")return i.enum[0];switch(i){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class cd{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var i in yo)if(yo.hasOwnProperty(i)){var a=yo[i];this[i]=e[i]!==void 0?a.processor?a.processor(e[i]):e[i]:lS(a)}}reportNonstrict(e,i,a){var l=this.strict;if(typeof l=="function"&&(l=l(e,i,a)),!(!l||l==="ignore")){if(l===!0||l==="error")throw new ce("LaTeX-incompatible input and strict mode is set to 'error': "+(i+" ["+e+"]"),a);l==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+l+"': "+i+" ["+e+"]"))}}useStrictBehavior(e,i,a){var l=this.strict;if(typeof l=="function")try{l=l(e,i,a)}catch{l="error"}return!l||l==="ignore"?!1:l===!0||l==="error"?!0:l==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+l+"': "+i+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var i=Ze.protocolFromUrl(e.url);if(i==null)return!1;e.protocol=i}var a=typeof this.trust=="function"?this.trust(e):this.trust;return!!a}}class nr{constructor(e,i,a){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=i,this.cramped=a}sup(){return Jn[sS[this.id]]}sub(){return Jn[oS[this.id]]}fracNum(){return Jn[uS[this.id]]}fracDen(){return Jn[cS[this.id]]}cramp(){return Jn[dS[this.id]]}text(){return Jn[fS[this.id]]}isTight(){return this.size>=2}}var dd=0,No=1,Aa=2,bi=3,Il=4,kn=5,Ea=6,Jt=7,Jn=[new nr(dd,0,!1),new nr(No,0,!0),new nr(Aa,1,!1),new nr(bi,1,!0),new nr(Il,2,!1),new nr(kn,2,!0),new nr(Ea,3,!1),new nr(Jt,3,!0)],sS=[Il,kn,Il,kn,Ea,Jt,Ea,Jt],oS=[kn,kn,kn,kn,Jt,Jt,Jt,Jt],uS=[Aa,bi,Il,kn,Ea,Jt,Ea,Jt],cS=[bi,bi,kn,kn,Jt,Jt,Jt,Jt],dS=[No,No,bi,bi,kn,kn,Jt,Jt],fS=[dd,No,Aa,bi,Aa,bi,Aa,bi],Re={DISPLAY:Jn[dd],TEXT:Jn[Aa],SCRIPT:Jn[Il],SCRIPTSCRIPT:Jn[Ea]},Fc=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function hS(t){for(var e=0;e<Fc.length;e++)for(var i=Fc[e],a=0;a<i.blocks.length;a++){var l=i.blocks[a];if(t>=l[0]&&t<=l[1])return i.name}return null}var xo=[];Fc.forEach(t=>t.blocks.forEach(e=>xo.push(...e)));function Z2(t){for(var e=0;e<xo.length;e+=2)if(t>=xo[e]&&t<=xo[e+1])return!0;return!1}var ya=80,mS=function(e,i){return"M95,"+(622+e+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},pS=function(e,i){return"M263,"+(601+e+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},gS=function(e,i){return"M983 "+(10+e+i)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},vS=function(e,i){return"M424,"+(2398+e+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+i+`
h400000v`+(40+e)+"h-400000z"},yS=function(e,i){return"M473,"+(2713+e+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+i+"h400000v"+(40+e)+"H1017.7z"},xS=function(e){var i=e/2;return"M400000 "+e+" H0 L"+i+" 0 l65 45 L145 "+(e-80)+" H400000z"},bS=function(e,i,a){var l=a-54-i-e;return"M702 "+(e+i)+"H400000"+(40+e)+`
H742v`+l+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+e)+"H742z"},SS=function(e,i,a){i=1e3*i;var l="";switch(e){case"sqrtMain":l=mS(i,ya);break;case"sqrtSize1":l=pS(i,ya);break;case"sqrtSize2":l=gS(i,ya);break;case"sqrtSize3":l=vS(i,ya);break;case"sqrtSize4":l=yS(i,ya);break;case"sqrtTall":l=bS(i,ya,a)}return l},TS=function(e,i){switch(e){case"":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},b4={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},wS=function(e,i){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class zl{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){for(var e="",i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e}toText(){var e=i=>i.toText();return this.children.map(e).join("")}}var Xn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},lo={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},S4={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function AS(t,e){Xn[t]=e}function fd(t,e,i){if(!Xn[e])throw new Error("Font metrics not found for font: "+e+".");var a=t.charCodeAt(0),l=Xn[e][a];if(!l&&t[0]in S4&&(a=S4[t[0]].charCodeAt(0),l=Xn[e][a]),!l&&i==="text"&&Z2(a)&&(l=Xn[e][77]),l)return{depth:l[0],height:l[1],italic:l[2],skew:l[3],width:l[4]}}var pc={};function ES(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!pc[e]){var i=pc[e]={cssEmPerMu:lo.quad[e]/18};for(var a in lo)lo.hasOwnProperty(a)&&(i[a]=lo[a][e])}return pc[e]}var CS=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],T4=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],w4=function(e,i){return i.size<2?e:CS[e-1][i.size-1]};class xi{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||xi.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=T4[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);return new xi(i)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:w4(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:T4[e-1]})}havingBaseStyle(e){e=e||this.style.text();var i=w4(xi.BASESIZE,e);return this.size===i&&this.textSize===xi.BASESIZE&&this.style===e?this:this.extend({style:e,size:i})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==xi.BASESIZE?["sizing","reset-size"+this.size,"size"+xi.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ES(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}xi.BASESIZE=6;var jc={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},NS={ex:!0,em:!0,mu:!0},W2=function(e){return typeof e!="string"&&(e=e.unit),e in jc||e in NS||e==="ex"},vt=function(e,i){var a;if(e.unit in jc)a=jc[e.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(e.unit==="mu")a=i.fontMetrics().cssEmPerMu;else{var l;if(i.style.isTight()?l=i.havingStyle(i.style.text()):l=i,e.unit==="ex")a=l.fontMetrics().xHeight;else if(e.unit==="em")a=l.fontMetrics().quad;else throw new ce("Invalid unit: '"+e.unit+"'");l!==i&&(a*=l.sizeMultiplier/i.sizeMultiplier)}return Math.min(e.number*a,i.maxSize)},he=function(e){return+e.toFixed(4)+"em"},ar=function(e){return e.filter(i=>i).join(" ")},eg=function(e,i,a){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=a||{},i){i.style.isTight()&&this.classes.push("mtight");var l=i.getColor();l&&(this.style.color=l)}},tg=function(e){var i=document.createElement(e);i.className=ar(this.classes);for(var a in this.style)this.style.hasOwnProperty(a)&&(i.style[a]=this.style[a]);for(var l in this.attributes)this.attributes.hasOwnProperty(l)&&i.setAttribute(l,this.attributes[l]);for(var o=0;o<this.children.length;o++)i.appendChild(this.children[o].toNode());return i},MS=/[\s"'>/=\x00-\x1f]/,ng=function(e){var i="<"+e;this.classes.length&&(i+=' class="'+Ze.escape(ar(this.classes))+'"');var a="";for(var l in this.style)this.style.hasOwnProperty(l)&&(a+=Ze.hyphenate(l)+":"+this.style[l]+";");a&&(i+=' style="'+Ze.escape(a)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(MS.test(o))throw new ce("Invalid attribute name '"+o+"'");i+=" "+o+'="'+Ze.escape(this.attributes[o])+'"'}i+=">";for(var c=0;c<this.children.length;c++)i+=this.children[c].toMarkup();return i+="</"+e+">",i};class Ll{constructor(e,i,a,l){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,eg.call(this,e,a,l),this.children=i||[]}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return tg.call(this,"span")}toMarkup(){return ng.call(this,"span")}}class hd{constructor(e,i,a,l){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,eg.call(this,i,l),this.children=a||[],this.setAttribute("href",e)}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return tg.call(this,"a")}toMarkup(){return ng.call(this,"a")}}class _S{constructor(e,i,a){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=i,this.src=e,this.classes=["mord"],this.style=a}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);return e}toMarkup(){var e='<img src="'+Ze.escape(this.src)+'"'+(' alt="'+Ze.escape(this.alt)+'"'),i="";for(var a in this.style)this.style.hasOwnProperty(a)&&(i+=Ze.hyphenate(a)+":"+this.style[a]+";");return i&&(e+=' style="'+Ze.escape(i)+'"'),e+="'/>",e}}var RS={:"",:"",:"",:""};class zn{constructor(e,i,a,l,o,c,f,p){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=i||0,this.depth=a||0,this.italic=l||0,this.skew=o||0,this.width=c||0,this.classes=f||[],this.style=p||{},this.maxFontSize=0;var m=hS(this.text.charCodeAt(0));m&&this.classes.push(m+"_fallback"),/[]/.test(this.text)&&(this.text=RS[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),i=null;this.italic>0&&(i=document.createElement("span"),i.style.marginRight=he(this.italic)),this.classes.length>0&&(i=i||document.createElement("span"),i.className=ar(this.classes));for(var a in this.style)this.style.hasOwnProperty(a)&&(i=i||document.createElement("span"),i.style[a]=this.style[a]);return i?(i.appendChild(e),i):e}toMarkup(){var e=!1,i="<span";this.classes.length&&(e=!0,i+=' class="',i+=Ze.escape(ar(this.classes)),i+='"');var a="";this.italic>0&&(a+="margin-right:"+this.italic+"em;");for(var l in this.style)this.style.hasOwnProperty(l)&&(a+=Ze.hyphenate(l)+":"+this.style[l]+";");a&&(e=!0,i+=' style="'+Ze.escape(a)+'"');var o=Ze.escape(this.text);return e?(i+=">",i+=o,i+="</span>",i):o}}class wi{constructor(e,i){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=i||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&i.setAttribute(a,this.attributes[a]);for(var l=0;l<this.children.length;l++)i.appendChild(this.children[l].toNode());return i}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+Ze.escape(this.attributes[i])+'"');e+=">";for(var a=0;a<this.children.length;a++)e+=this.children[a].toMarkup();return e+="</svg>",e}}class lr{constructor(e,i){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=i}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"path");return this.alternate?i.setAttribute("d",this.alternate):i.setAttribute("d",b4[this.pathName]),i}toMarkup(){return this.alternate?'<path d="'+Ze.escape(this.alternate)+'"/>':'<path d="'+Ze.escape(b4[this.pathName])+'"/>'}}class Yc{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"line");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&i.setAttribute(a,this.attributes[a]);return i}toMarkup(){var e="<line";for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+Ze.escape(this.attributes[i])+'"');return e+="/>",e}}function A4(t){if(t instanceof zn)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function kS(t){if(t instanceof Ll)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var IS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},DS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ct={math:{},text:{}};function b(t,e,i,a,l,o){ct[t][l]={font:e,group:i,replace:a},o&&a&&(ct[t][a]=ct[t][l])}var w="math",le="text",C="main",I="ams",pt="accent-token",be="bin",Kt="close",_a="inner",_e="mathord",_t="op-token",xn="open",qo="punct",D="rel",Mi="spacing",H="textord";b(w,C,D,"","\\equiv",!0);b(w,C,D,"","\\prec",!0);b(w,C,D,"","\\succ",!0);b(w,C,D,"","\\sim",!0);b(w,C,D,"","\\perp");b(w,C,D,"","\\preceq",!0);b(w,C,D,"","\\succeq",!0);b(w,C,D,"","\\simeq",!0);b(w,C,D,"","\\mid",!0);b(w,C,D,"","\\ll",!0);b(w,C,D,"","\\gg",!0);b(w,C,D,"","\\asymp",!0);b(w,C,D,"","\\parallel");b(w,C,D,"","\\bowtie",!0);b(w,C,D,"","\\smile",!0);b(w,C,D,"","\\sqsubseteq",!0);b(w,C,D,"","\\sqsupseteq",!0);b(w,C,D,"","\\doteq",!0);b(w,C,D,"","\\frown",!0);b(w,C,D,"","\\ni",!0);b(w,C,D,"","\\propto",!0);b(w,C,D,"","\\vdash",!0);b(w,C,D,"","\\dashv",!0);b(w,C,D,"","\\owns");b(w,C,qo,".","\\ldotp");b(w,C,qo,"","\\cdotp");b(w,C,H,"#","\\#");b(le,C,H,"#","\\#");b(w,C,H,"&","\\&");b(le,C,H,"&","\\&");b(w,C,H,"","\\aleph",!0);b(w,C,H,"","\\forall",!0);b(w,C,H,"","\\hbar",!0);b(w,C,H,"","\\exists",!0);b(w,C,H,"","\\nabla",!0);b(w,C,H,"","\\flat",!0);b(w,C,H,"","\\ell",!0);b(w,C,H,"","\\natural",!0);b(w,C,H,"","\\clubsuit",!0);b(w,C,H,"","\\wp",!0);b(w,C,H,"","\\sharp",!0);b(w,C,H,"","\\diamondsuit",!0);b(w,C,H,"","\\Re",!0);b(w,C,H,"","\\heartsuit",!0);b(w,C,H,"","\\Im",!0);b(w,C,H,"","\\spadesuit",!0);b(w,C,H,"","\\S",!0);b(le,C,H,"","\\S");b(w,C,H,"","\\P",!0);b(le,C,H,"","\\P");b(w,C,H,"","\\dag");b(le,C,H,"","\\dag");b(le,C,H,"","\\textdagger");b(w,C,H,"","\\ddag");b(le,C,H,"","\\ddag");b(le,C,H,"","\\textdaggerdbl");b(w,C,Kt,"","\\rmoustache",!0);b(w,C,xn,"","\\lmoustache",!0);b(w,C,Kt,"","\\rgroup",!0);b(w,C,xn,"","\\lgroup",!0);b(w,C,be,"","\\mp",!0);b(w,C,be,"","\\ominus",!0);b(w,C,be,"","\\uplus",!0);b(w,C,be,"","\\sqcap",!0);b(w,C,be,"","\\ast");b(w,C,be,"","\\sqcup",!0);b(w,C,be,"","\\bigcirc",!0);b(w,C,be,"","\\bullet",!0);b(w,C,be,"","\\ddagger");b(w,C,be,"","\\wr",!0);b(w,C,be,"","\\amalg");b(w,C,be,"&","\\And");b(w,C,D,"","\\longleftarrow",!0);b(w,C,D,"","\\Leftarrow",!0);b(w,C,D,"","\\Longleftarrow",!0);b(w,C,D,"","\\longrightarrow",!0);b(w,C,D,"","\\Rightarrow",!0);b(w,C,D,"","\\Longrightarrow",!0);b(w,C,D,"","\\leftrightarrow",!0);b(w,C,D,"","\\longleftrightarrow",!0);b(w,C,D,"","\\Leftrightarrow",!0);b(w,C,D,"","\\Longleftrightarrow",!0);b(w,C,D,"","\\mapsto",!0);b(w,C,D,"","\\longmapsto",!0);b(w,C,D,"","\\nearrow",!0);b(w,C,D,"","\\hookleftarrow",!0);b(w,C,D,"","\\hookrightarrow",!0);b(w,C,D,"","\\searrow",!0);b(w,C,D,"","\\leftharpoonup",!0);b(w,C,D,"","\\rightharpoonup",!0);b(w,C,D,"","\\swarrow",!0);b(w,C,D,"","\\leftharpoondown",!0);b(w,C,D,"","\\rightharpoondown",!0);b(w,C,D,"","\\nwarrow",!0);b(w,C,D,"","\\rightleftharpoons",!0);b(w,I,D,"","\\nless",!0);b(w,I,D,"","\\@nleqslant");b(w,I,D,"","\\@nleqq");b(w,I,D,"","\\lneq",!0);b(w,I,D,"","\\lneqq",!0);b(w,I,D,"","\\@lvertneqq");b(w,I,D,"","\\lnsim",!0);b(w,I,D,"","\\lnapprox",!0);b(w,I,D,"","\\nprec",!0);b(w,I,D,"","\\npreceq",!0);b(w,I,D,"","\\precnsim",!0);b(w,I,D,"","\\precnapprox",!0);b(w,I,D,"","\\nsim",!0);b(w,I,D,"","\\@nshortmid");b(w,I,D,"","\\nmid",!0);b(w,I,D,"","\\nvdash",!0);b(w,I,D,"","\\nvDash",!0);b(w,I,D,"","\\ntriangleleft");b(w,I,D,"","\\ntrianglelefteq",!0);b(w,I,D,"","\\subsetneq",!0);b(w,I,D,"","\\@varsubsetneq");b(w,I,D,"","\\subsetneqq",!0);b(w,I,D,"","\\@varsubsetneqq");b(w,I,D,"","\\ngtr",!0);b(w,I,D,"","\\@ngeqslant");b(w,I,D,"","\\@ngeqq");b(w,I,D,"","\\gneq",!0);b(w,I,D,"","\\gneqq",!0);b(w,I,D,"","\\@gvertneqq");b(w,I,D,"","\\gnsim",!0);b(w,I,D,"","\\gnapprox",!0);b(w,I,D,"","\\nsucc",!0);b(w,I,D,"","\\nsucceq",!0);b(w,I,D,"","\\succnsim",!0);b(w,I,D,"","\\succnapprox",!0);b(w,I,D,"","\\ncong",!0);b(w,I,D,"","\\@nshortparallel");b(w,I,D,"","\\nparallel",!0);b(w,I,D,"","\\nVDash",!0);b(w,I,D,"","\\ntriangleright");b(w,I,D,"","\\ntrianglerighteq",!0);b(w,I,D,"","\\@nsupseteqq");b(w,I,D,"","\\supsetneq",!0);b(w,I,D,"","\\@varsupsetneq");b(w,I,D,"","\\supsetneqq",!0);b(w,I,D,"","\\@varsupsetneqq");b(w,I,D,"","\\nVdash",!0);b(w,I,D,"","\\precneqq",!0);b(w,I,D,"","\\succneqq",!0);b(w,I,D,"","\\@nsubseteqq");b(w,I,be,"","\\unlhd");b(w,I,be,"","\\unrhd");b(w,I,D,"","\\nleftarrow",!0);b(w,I,D,"","\\nrightarrow",!0);b(w,I,D,"","\\nLeftarrow",!0);b(w,I,D,"","\\nRightarrow",!0);b(w,I,D,"","\\nleftrightarrow",!0);b(w,I,D,"","\\nLeftrightarrow",!0);b(w,I,D,"","\\vartriangle");b(w,I,H,"","\\hslash");b(w,I,H,"","\\triangledown");b(w,I,H,"","\\lozenge");b(w,I,H,"","\\circledS");b(w,I,H,"","\\circledR");b(le,I,H,"","\\circledR");b(w,I,H,"","\\measuredangle",!0);b(w,I,H,"","\\nexists");b(w,I,H,"","\\mho");b(w,I,H,"","\\Finv",!0);b(w,I,H,"","\\Game",!0);b(w,I,H,"","\\backprime");b(w,I,H,"","\\blacktriangle");b(w,I,H,"","\\blacktriangledown");b(w,I,H,"","\\blacksquare");b(w,I,H,"","\\blacklozenge");b(w,I,H,"","\\bigstar");b(w,I,H,"","\\sphericalangle",!0);b(w,I,H,"","\\complement",!0);b(w,I,H,"","\\eth",!0);b(le,C,H,"","");b(w,I,H,"","\\diagup");b(w,I,H,"","\\diagdown");b(w,I,H,"","\\square");b(w,I,H,"","\\Box");b(w,I,H,"","\\Diamond");b(w,I,H,"","\\yen",!0);b(le,I,H,"","\\yen",!0);b(w,I,H,"","\\checkmark",!0);b(le,I,H,"","\\checkmark");b(w,I,H,"","\\beth",!0);b(w,I,H,"","\\daleth",!0);b(w,I,H,"","\\gimel",!0);b(w,I,H,"","\\digamma",!0);b(w,I,H,"","\\varkappa");b(w,I,xn,"","\\@ulcorner",!0);b(w,I,Kt,"","\\@urcorner",!0);b(w,I,xn,"","\\@llcorner",!0);b(w,I,Kt,"","\\@lrcorner",!0);b(w,I,D,"","\\leqq",!0);b(w,I,D,"","\\leqslant",!0);b(w,I,D,"","\\eqslantless",!0);b(w,I,D,"","\\lesssim",!0);b(w,I,D,"","\\lessapprox",!0);b(w,I,D,"","\\approxeq",!0);b(w,I,be,"","\\lessdot");b(w,I,D,"","\\lll",!0);b(w,I,D,"","\\lessgtr",!0);b(w,I,D,"","\\lesseqgtr",!0);b(w,I,D,"","\\lesseqqgtr",!0);b(w,I,D,"","\\doteqdot");b(w,I,D,"","\\risingdotseq",!0);b(w,I,D,"","\\fallingdotseq",!0);b(w,I,D,"","\\backsim",!0);b(w,I,D,"","\\backsimeq",!0);b(w,I,D,"","\\subseteqq",!0);b(w,I,D,"","\\Subset",!0);b(w,I,D,"","\\sqsubset",!0);b(w,I,D,"","\\preccurlyeq",!0);b(w,I,D,"","\\curlyeqprec",!0);b(w,I,D,"","\\precsim",!0);b(w,I,D,"","\\precapprox",!0);b(w,I,D,"","\\vartriangleleft");b(w,I,D,"","\\trianglelefteq");b(w,I,D,"","\\vDash",!0);b(w,I,D,"","\\Vvdash",!0);b(w,I,D,"","\\smallsmile");b(w,I,D,"","\\smallfrown");b(w,I,D,"","\\bumpeq",!0);b(w,I,D,"","\\Bumpeq",!0);b(w,I,D,"","\\geqq",!0);b(w,I,D,"","\\geqslant",!0);b(w,I,D,"","\\eqslantgtr",!0);b(w,I,D,"","\\gtrsim",!0);b(w,I,D,"","\\gtrapprox",!0);b(w,I,be,"","\\gtrdot");b(w,I,D,"","\\ggg",!0);b(w,I,D,"","\\gtrless",!0);b(w,I,D,"","\\gtreqless",!0);b(w,I,D,"","\\gtreqqless",!0);b(w,I,D,"","\\eqcirc",!0);b(w,I,D,"","\\circeq",!0);b(w,I,D,"","\\triangleq",!0);b(w,I,D,"","\\thicksim");b(w,I,D,"","\\thickapprox");b(w,I,D,"","\\supseteqq",!0);b(w,I,D,"","\\Supset",!0);b(w,I,D,"","\\sqsupset",!0);b(w,I,D,"","\\succcurlyeq",!0);b(w,I,D,"","\\curlyeqsucc",!0);b(w,I,D,"","\\succsim",!0);b(w,I,D,"","\\succapprox",!0);b(w,I,D,"","\\vartriangleright");b(w,I,D,"","\\trianglerighteq");b(w,I,D,"","\\Vdash",!0);b(w,I,D,"","\\shortmid");b(w,I,D,"","\\shortparallel");b(w,I,D,"","\\between",!0);b(w,I,D,"","\\pitchfork",!0);b(w,I,D,"","\\varpropto");b(w,I,D,"","\\blacktriangleleft");b(w,I,D,"","\\therefore",!0);b(w,I,D,"","\\backepsilon");b(w,I,D,"","\\blacktriangleright");b(w,I,D,"","\\because",!0);b(w,I,D,"","\\llless");b(w,I,D,"","\\gggtr");b(w,I,be,"","\\lhd");b(w,I,be,"","\\rhd");b(w,I,D,"","\\eqsim",!0);b(w,C,D,"","\\Join");b(w,I,D,"","\\Doteq",!0);b(w,I,be,"","\\dotplus",!0);b(w,I,be,"","\\smallsetminus");b(w,I,be,"","\\Cap",!0);b(w,I,be,"","\\Cup",!0);b(w,I,be,"","\\doublebarwedge",!0);b(w,I,be,"","\\boxminus",!0);b(w,I,be,"","\\boxplus",!0);b(w,I,be,"","\\divideontimes",!0);b(w,I,be,"","\\ltimes",!0);b(w,I,be,"","\\rtimes",!0);b(w,I,be,"","\\leftthreetimes",!0);b(w,I,be,"","\\rightthreetimes",!0);b(w,I,be,"","\\curlywedge",!0);b(w,I,be,"","\\curlyvee",!0);b(w,I,be,"","\\circleddash",!0);b(w,I,be,"","\\circledast",!0);b(w,I,be,"","\\centerdot");b(w,I,be,"","\\intercal",!0);b(w,I,be,"","\\doublecap");b(w,I,be,"","\\doublecup");b(w,I,be,"","\\boxtimes",!0);b(w,I,D,"","\\dashrightarrow",!0);b(w,I,D,"","\\dashleftarrow",!0);b(w,I,D,"","\\leftleftarrows",!0);b(w,I,D,"","\\leftrightarrows",!0);b(w,I,D,"","\\Lleftarrow",!0);b(w,I,D,"","\\twoheadleftarrow",!0);b(w,I,D,"","\\leftarrowtail",!0);b(w,I,D,"","\\looparrowleft",!0);b(w,I,D,"","\\leftrightharpoons",!0);b(w,I,D,"","\\curvearrowleft",!0);b(w,I,D,"","\\circlearrowleft",!0);b(w,I,D,"","\\Lsh",!0);b(w,I,D,"","\\upuparrows",!0);b(w,I,D,"","\\upharpoonleft",!0);b(w,I,D,"","\\downharpoonleft",!0);b(w,C,D,"","\\origof",!0);b(w,C,D,"","\\imageof",!0);b(w,I,D,"","\\multimap",!0);b(w,I,D,"","\\leftrightsquigarrow",!0);b(w,I,D,"","\\rightrightarrows",!0);b(w,I,D,"","\\rightleftarrows",!0);b(w,I,D,"","\\twoheadrightarrow",!0);b(w,I,D,"","\\rightarrowtail",!0);b(w,I,D,"","\\looparrowright",!0);b(w,I,D,"","\\curvearrowright",!0);b(w,I,D,"","\\circlearrowright",!0);b(w,I,D,"","\\Rsh",!0);b(w,I,D,"","\\downdownarrows",!0);b(w,I,D,"","\\upharpoonright",!0);b(w,I,D,"","\\downharpoonright",!0);b(w,I,D,"","\\rightsquigarrow",!0);b(w,I,D,"","\\leadsto");b(w,I,D,"","\\Rrightarrow",!0);b(w,I,D,"","\\restriction");b(w,C,H,"","`");b(w,C,H,"$","\\$");b(le,C,H,"$","\\$");b(le,C,H,"$","\\textdollar");b(w,C,H,"%","\\%");b(le,C,H,"%","\\%");b(w,C,H,"_","\\_");b(le,C,H,"_","\\_");b(le,C,H,"_","\\textunderscore");b(w,C,H,"","\\angle",!0);b(w,C,H,"","\\infty",!0);b(w,C,H,"","\\prime");b(w,C,H,"","\\triangle");b(w,C,H,"","\\Gamma",!0);b(w,C,H,"","\\Delta",!0);b(w,C,H,"","\\Theta",!0);b(w,C,H,"","\\Lambda",!0);b(w,C,H,"","\\Xi",!0);b(w,C,H,"","\\Pi",!0);b(w,C,H,"","\\Sigma",!0);b(w,C,H,"","\\Upsilon",!0);b(w,C,H,"","\\Phi",!0);b(w,C,H,"","\\Psi",!0);b(w,C,H,"","\\Omega",!0);b(w,C,H,"A","");b(w,C,H,"B","");b(w,C,H,"E","");b(w,C,H,"Z","");b(w,C,H,"H","");b(w,C,H,"I","");b(w,C,H,"K","");b(w,C,H,"M","");b(w,C,H,"N","");b(w,C,H,"O","");b(w,C,H,"P","");b(w,C,H,"T","");b(w,C,H,"X","");b(w,C,H,"","\\neg",!0);b(w,C,H,"","\\lnot");b(w,C,H,"","\\top");b(w,C,H,"","\\bot");b(w,C,H,"","\\emptyset");b(w,I,H,"","\\varnothing");b(w,C,_e,"","\\alpha",!0);b(w,C,_e,"","\\beta",!0);b(w,C,_e,"","\\gamma",!0);b(w,C,_e,"","\\delta",!0);b(w,C,_e,"","\\epsilon",!0);b(w,C,_e,"","\\zeta",!0);b(w,C,_e,"","\\eta",!0);b(w,C,_e,"","\\theta",!0);b(w,C,_e,"","\\iota",!0);b(w,C,_e,"","\\kappa",!0);b(w,C,_e,"","\\lambda",!0);b(w,C,_e,"","\\mu",!0);b(w,C,_e,"","\\nu",!0);b(w,C,_e,"","\\xi",!0);b(w,C,_e,"","\\omicron",!0);b(w,C,_e,"","\\pi",!0);b(w,C,_e,"","\\rho",!0);b(w,C,_e,"","\\sigma",!0);b(w,C,_e,"","\\tau",!0);b(w,C,_e,"","\\upsilon",!0);b(w,C,_e,"","\\phi",!0);b(w,C,_e,"","\\chi",!0);b(w,C,_e,"","\\psi",!0);b(w,C,_e,"","\\omega",!0);b(w,C,_e,"","\\varepsilon",!0);b(w,C,_e,"","\\vartheta",!0);b(w,C,_e,"","\\varpi",!0);b(w,C,_e,"","\\varrho",!0);b(w,C,_e,"","\\varsigma",!0);b(w,C,_e,"","\\varphi",!0);b(w,C,be,"","*",!0);b(w,C,be,"+","+");b(w,C,be,"","-",!0);b(w,C,be,"","\\cdot",!0);b(w,C,be,"","\\circ",!0);b(w,C,be,"","\\div",!0);b(w,C,be,"","\\pm",!0);b(w,C,be,"","\\times",!0);b(w,C,be,"","\\cap",!0);b(w,C,be,"","\\cup",!0);b(w,C,be,"","\\setminus",!0);b(w,C,be,"","\\land");b(w,C,be,"","\\lor");b(w,C,be,"","\\wedge",!0);b(w,C,be,"","\\vee",!0);b(w,C,H,"","\\surd");b(w,C,xn,"","\\langle",!0);b(w,C,xn,"","\\lvert");b(w,C,xn,"","\\lVert");b(w,C,Kt,"?","?");b(w,C,Kt,"!","!");b(w,C,Kt,"","\\rangle",!0);b(w,C,Kt,"","\\rvert");b(w,C,Kt,"","\\rVert");b(w,C,D,"=","=");b(w,C,D,":",":");b(w,C,D,"","\\approx",!0);b(w,C,D,"","\\cong",!0);b(w,C,D,"","\\ge");b(w,C,D,"","\\geq",!0);b(w,C,D,"","\\gets");b(w,C,D,">","\\gt",!0);b(w,C,D,"","\\in",!0);b(w,C,D,"","\\@not");b(w,C,D,"","\\subset",!0);b(w,C,D,"","\\supset",!0);b(w,C,D,"","\\subseteq",!0);b(w,C,D,"","\\supseteq",!0);b(w,I,D,"","\\nsubseteq",!0);b(w,I,D,"","\\nsupseteq",!0);b(w,C,D,"","\\models");b(w,C,D,"","\\leftarrow",!0);b(w,C,D,"","\\le");b(w,C,D,"","\\leq",!0);b(w,C,D,"<","\\lt",!0);b(w,C,D,"","\\rightarrow",!0);b(w,C,D,"","\\to");b(w,I,D,"","\\ngeq",!0);b(w,I,D,"","\\nleq",!0);b(w,C,Mi,"","\\ ");b(w,C,Mi,"","\\space");b(w,C,Mi,"","\\nobreakspace");b(le,C,Mi,"","\\ ");b(le,C,Mi,""," ");b(le,C,Mi,"","\\space");b(le,C,Mi,"","\\nobreakspace");b(w,C,Mi,null,"\\nobreak");b(w,C,Mi,null,"\\allowbreak");b(w,C,qo,",",",");b(w,C,qo,";",";");b(w,I,be,"","\\barwedge",!0);b(w,I,be,"","\\veebar",!0);b(w,C,be,"","\\odot",!0);b(w,C,be,"","\\oplus",!0);b(w,C,be,"","\\otimes",!0);b(w,C,H,"","\\partial",!0);b(w,C,be,"","\\oslash",!0);b(w,I,be,"","\\circledcirc",!0);b(w,I,be,"","\\boxdot",!0);b(w,C,be,"","\\bigtriangleup");b(w,C,be,"","\\bigtriangledown");b(w,C,be,"","\\dagger");b(w,C,be,"","\\diamond");b(w,C,be,"","\\star");b(w,C,be,"","\\triangleleft");b(w,C,be,"","\\triangleright");b(w,C,xn,"{","\\{");b(le,C,H,"{","\\{");b(le,C,H,"{","\\textbraceleft");b(w,C,Kt,"}","\\}");b(le,C,H,"}","\\}");b(le,C,H,"}","\\textbraceright");b(w,C,xn,"{","\\lbrace");b(w,C,Kt,"}","\\rbrace");b(w,C,xn,"[","\\lbrack",!0);b(le,C,H,"[","\\lbrack",!0);b(w,C,Kt,"]","\\rbrack",!0);b(le,C,H,"]","\\rbrack",!0);b(w,C,xn,"(","\\lparen",!0);b(w,C,Kt,")","\\rparen",!0);b(le,C,H,"<","\\textless",!0);b(le,C,H,">","\\textgreater",!0);b(w,C,xn,"","\\lfloor",!0);b(w,C,Kt,"","\\rfloor",!0);b(w,C,xn,"","\\lceil",!0);b(w,C,Kt,"","\\rceil",!0);b(w,C,H,"\\","\\backslash");b(w,C,H,"","|");b(w,C,H,"","\\vert");b(le,C,H,"|","\\textbar",!0);b(w,C,H,"","\\|");b(w,C,H,"","\\Vert");b(le,C,H,"","\\textbardbl");b(le,C,H,"~","\\textasciitilde");b(le,C,H,"\\","\\textbackslash");b(le,C,H,"^","\\textasciicircum");b(w,C,D,"","\\uparrow",!0);b(w,C,D,"","\\Uparrow",!0);b(w,C,D,"","\\downarrow",!0);b(w,C,D,"","\\Downarrow",!0);b(w,C,D,"","\\updownarrow",!0);b(w,C,D,"","\\Updownarrow",!0);b(w,C,_t,"","\\coprod");b(w,C,_t,"","\\bigvee");b(w,C,_t,"","\\bigwedge");b(w,C,_t,"","\\biguplus");b(w,C,_t,"","\\bigcap");b(w,C,_t,"","\\bigcup");b(w,C,_t,"","\\int");b(w,C,_t,"","\\intop");b(w,C,_t,"","\\iint");b(w,C,_t,"","\\iiint");b(w,C,_t,"","\\prod");b(w,C,_t,"","\\sum");b(w,C,_t,"","\\bigotimes");b(w,C,_t,"","\\bigoplus");b(w,C,_t,"","\\bigodot");b(w,C,_t,"","\\oint");b(w,C,_t,"","\\oiint");b(w,C,_t,"","\\oiiint");b(w,C,_t,"","\\bigsqcup");b(w,C,_t,"","\\smallint");b(le,C,_a,"","\\textellipsis");b(w,C,_a,"","\\mathellipsis");b(le,C,_a,"","\\ldots",!0);b(w,C,_a,"","\\ldots",!0);b(w,C,_a,"","\\@cdots",!0);b(w,C,_a,"","\\ddots",!0);b(w,C,H,"","\\varvdots");b(le,C,H,"","\\varvdots");b(w,C,pt,"","\\acute");b(w,C,pt,"","\\grave");b(w,C,pt,"","\\ddot");b(w,C,pt,"~","\\tilde");b(w,C,pt,"","\\bar");b(w,C,pt,"","\\breve");b(w,C,pt,"","\\check");b(w,C,pt,"^","\\hat");b(w,C,pt,"","\\vec");b(w,C,pt,"","\\dot");b(w,C,pt,"","\\mathring");b(w,C,_e,"","\\@imath");b(w,C,_e,"","\\@jmath");b(w,C,H,"","");b(w,C,H,"","");b(le,C,H,"","\\i",!0);b(le,C,H,"","\\j",!0);b(le,C,H,"","\\ss",!0);b(le,C,H,"","\\ae",!0);b(le,C,H,"","\\oe",!0);b(le,C,H,"","\\o",!0);b(le,C,H,"","\\AE",!0);b(le,C,H,"","\\OE",!0);b(le,C,H,"","\\O",!0);b(le,C,pt,"","\\'");b(le,C,pt,"","\\`");b(le,C,pt,"","\\^");b(le,C,pt,"","\\~");b(le,C,pt,"","\\=");b(le,C,pt,"","\\u");b(le,C,pt,"","\\.");b(le,C,pt,"","\\c");b(le,C,pt,"","\\r");b(le,C,pt,"","\\v");b(le,C,pt,"",'\\"');b(le,C,pt,"","\\H");b(le,C,pt,"","\\textcircled");var ig={"--":!0,"---":!0,"``":!0,"''":!0};b(le,C,H,"","--",!0);b(le,C,H,"","\\textendash");b(le,C,H,"","---",!0);b(le,C,H,"","\\textemdash");b(le,C,H,"","`",!0);b(le,C,H,"","\\textquoteleft");b(le,C,H,"","'",!0);b(le,C,H,"","\\textquoteright");b(le,C,H,"","``",!0);b(le,C,H,"","\\textquotedblleft");b(le,C,H,"","''",!0);b(le,C,H,"","\\textquotedblright");b(w,C,H,"","\\degree",!0);b(le,C,H,"","\\degree");b(le,C,H,"","\\textdegree",!0);b(w,C,H,"","\\pounds");b(w,C,H,"","\\mathsterling",!0);b(le,C,H,"","\\pounds");b(le,C,H,"","\\textsterling",!0);b(w,I,H,"","\\maltese");b(le,I,H,"","\\maltese");var E4='0123456789/@."';for(var gc=0;gc<E4.length;gc++){var C4=E4.charAt(gc);b(w,C,H,C4,C4)}var N4='0123456789!@*()-=+";:?/.,';for(var vc=0;vc<N4.length;vc++){var M4=N4.charAt(vc);b(le,C,H,M4,M4)}var Mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var yc=0;yc<Mo.length;yc++){var so=Mo.charAt(yc);b(w,C,_e,so,so),b(le,C,H,so,so)}b(w,I,H,"C","");b(le,I,H,"C","");b(w,I,H,"H","");b(le,I,H,"H","");b(w,I,H,"N","");b(le,I,H,"N","");b(w,I,H,"P","");b(le,I,H,"P","");b(w,I,H,"Q","");b(le,I,H,"Q","");b(w,I,H,"R","");b(le,I,H,"R","");b(w,I,H,"Z","");b(le,I,H,"Z","");b(w,C,_e,"h","");b(le,C,_e,"h","");var Ie="";for(var jt=0;jt<Mo.length;jt++){var bt=Mo.charAt(jt);Ie=String.fromCharCode(55349,56320+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56372+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56424+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56580+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56684+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56736+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56788+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56840+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56944+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),jt<26&&(Ie=String.fromCharCode(55349,56632+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56476+jt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie))}Ie="";b(w,C,_e,"k",Ie);b(le,C,H,"k",Ie);for(var _r=0;_r<10;_r++){var ir=_r.toString();Ie=String.fromCharCode(55349,57294+_r),b(w,C,_e,ir,Ie),b(le,C,H,ir,Ie),Ie=String.fromCharCode(55349,57314+_r),b(w,C,_e,ir,Ie),b(le,C,H,ir,Ie),Ie=String.fromCharCode(55349,57324+_r),b(w,C,_e,ir,Ie),b(le,C,H,ir,Ie),Ie=String.fromCharCode(55349,57334+_r),b(w,C,_e,ir,Ie),b(le,C,H,ir,Ie)}var Jc="";for(var xc=0;xc<Jc.length;xc++){var oo=Jc.charAt(xc);b(w,C,_e,oo,oo),b(le,C,H,oo,oo)}var uo=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],_4=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],zS=function(e,i){var a=e.charCodeAt(0),l=e.charCodeAt(1),o=(a-55296)*1024+(l-56320)+65536,c=i==="math"?0:1;if(119808<=o&&o<120484){var f=Math.floor((o-119808)/26);return[uo[f][2],uo[f][c]]}else if(120782<=o&&o<=120831){var p=Math.floor((o-120782)/10);return[_4[p][2],_4[p][c]]}else{if(o===120485||o===120486)return[uo[0][2],uo[0][c]];if(120486<o&&o<120782)return["",""];throw new ce("Unsupported character: "+e)}},Po=function(e,i,a){return ct[a][e]&&ct[a][e].replace&&(e=ct[a][e].replace),{value:e,metrics:fd(e,i,a)}},Gn=function(e,i,a,l,o){var c=Po(e,i,a),f=c.metrics;e=c.value;var p;if(f){var m=f.italic;(a==="text"||l&&l.font==="mathit")&&(m=0),p=new zn(e,f.height,f.depth,m,f.skew,f.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+i+"' and mode '"+a+"'")),p=new zn(e,0,0,0,0,0,o);if(l){p.maxFontSize=l.sizeMultiplier,l.style.isTight()&&p.classes.push("mtight");var x=l.getColor();x&&(p.style.color=x)}return p},LS=function(e,i,a,l){return l===void 0&&(l=[]),a.font==="boldsymbol"&&Po(e,"Main-Bold",i).metrics?Gn(e,"Main-Bold",i,a,l.concat(["mathbf"])):e==="\\"||ct[i][e].font==="main"?Gn(e,"Main-Regular",i,a,l):Gn(e,"AMS-Regular",i,a,l.concat(["amsrm"]))},US=function(e,i,a,l,o){return o!=="textord"&&Po(e,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},BS=function(e,i,a){var l=e.mode,o=e.text,c=["mord"],f=l==="math"||l==="text"&&i.font,p=f?i.font:i.fontFamily,m="",x="";if(o.charCodeAt(0)===55349&&([m,x]=zS(o,l)),m.length>0)return Gn(o,m,l,i,c.concat(x));if(p){var S,T;if(p==="boldsymbol"){var E=US(o,l,i,c,a);S=E.fontName,T=[E.fontClass]}else f?(S=lg[p].fontName,T=[p]):(S=co(p,i.fontWeight,i.fontShape),T=[p,i.fontWeight,i.fontShape]);if(Po(o,S,l).metrics)return Gn(o,S,l,i,c.concat(T));if(ig.hasOwnProperty(o)&&S.slice(0,10)==="Typewriter"){for(var _=[],R=0;R<o.length;R++)_.push(Gn(o[R],S,l,i,c.concat(T)));return ag(_)}}if(a==="mathord")return Gn(o,"Math-Italic",l,i,c.concat(["mathnormal"]));if(a==="textord"){var k=ct[l][o]&&ct[l][o].font;if(k==="ams"){var U=co("amsrm",i.fontWeight,i.fontShape);return Gn(o,U,l,i,c.concat("amsrm",i.fontWeight,i.fontShape))}else if(k==="main"||!k){var P=co("textrm",i.fontWeight,i.fontShape);return Gn(o,P,l,i,c.concat(i.fontWeight,i.fontShape))}else{var J=co(k,i.fontWeight,i.fontShape);return Gn(o,J,l,i,c.concat(J,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+a+" in makeOrd")},HS=(t,e)=>{if(ar(t.classes)!==ar(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var i=t.classes[0];if(i==="mbin"||i==="mord")return!1}for(var a in t.style)if(t.style.hasOwnProperty(a)&&t.style[a]!==e.style[a])return!1;for(var l in e.style)if(e.style.hasOwnProperty(l)&&t.style[l]!==e.style[l])return!1;return!0},GS=t=>{for(var e=0;e<t.length-1;e++){var i=t[e],a=t[e+1];i instanceof zn&&a instanceof zn&&HS(i,a)&&(i.text+=a.text,i.height=Math.max(i.height,a.height),i.depth=Math.max(i.depth,a.depth),i.italic=a.italic,t.splice(e+1,1),e--)}return t},md=function(e){for(var i=0,a=0,l=0,o=0;o<e.children.length;o++){var c=e.children[o];c.height>i&&(i=c.height),c.depth>a&&(a=c.depth),c.maxFontSize>l&&(l=c.maxFontSize)}e.height=i,e.depth=a,e.maxFontSize=l},rn=function(e,i,a,l){var o=new Ll(e,i,a,l);return md(o),o},rg=(t,e,i,a)=>new Ll(t,e,i,a),qS=function(e,i,a){var l=rn([e],[],i);return l.height=Math.max(a||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),l.style.borderBottomWidth=he(l.height),l.maxFontSize=1,l},PS=function(e,i,a,l){var o=new hd(e,i,a,l);return md(o),o},ag=function(e){var i=new zl(e);return md(i),i},OS=function(e,i){return e instanceof zl?rn([],[e],i):e},VS=function(e){if(e.positionType==="individualShift"){for(var i=e.children,a=[i[0]],l=-i[0].shift-i[0].elem.depth,o=l,c=1;c<i.length;c++){var f=-i[c].shift-o-i[c].elem.depth,p=f-(i[c-1].elem.height+i[c-1].elem.depth);o=o+f,a.push({type:"kern",size:p}),a.push(i[c])}return{children:a,depth:l}}var m;if(e.positionType==="top"){for(var x=e.positionData,S=0;S<e.children.length;S++){var T=e.children[S];x-=T.type==="kern"?T.size:T.elem.height+T.elem.depth}m=x}else if(e.positionType==="bottom")m=-e.positionData;else{var E=e.children[0];if(E.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")m=-E.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")m=-E.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:m}},FS=function(e,i){for(var{children:a,depth:l}=VS(e),o=0,c=0;c<a.length;c++){var f=a[c];if(f.type==="elem"){var p=f.elem;o=Math.max(o,p.maxFontSize,p.height)}}o+=2;var m=rn(["pstrut"],[]);m.style.height=he(o);for(var x=[],S=l,T=l,E=l,_=0;_<a.length;_++){var R=a[_];if(R.type==="kern")E+=R.size;else{var k=R.elem,U=R.wrapperClasses||[],P=R.wrapperStyle||{},J=rn(U,[m,k],void 0,P);J.style.top=he(-o-E-k.depth),R.marginLeft&&(J.style.marginLeft=R.marginLeft),R.marginRight&&(J.style.marginRight=R.marginRight),x.push(J),E+=k.height+k.depth}S=Math.min(S,E),T=Math.max(T,E)}var ee=rn(["vlist"],x);ee.style.height=he(T);var ae;if(S<0){var te=rn([],[]),q=rn(["vlist"],[te]);q.style.height=he(-S);var K=rn(["vlist-s"],[new zn("")]);ae=[rn(["vlist-r"],[ee,K]),rn(["vlist-r"],[q])]}else ae=[rn(["vlist-r"],[ee])];var Z=rn(["vlist-t"],ae);return ae.length===2&&Z.classes.push("vlist-t2"),Z.height=T,Z.depth=-S,Z},jS=(t,e)=>{var i=rn(["mspace"],[],e),a=vt(t,e);return i.style.marginRight=he(a),i},co=function(e,i,a){var l="";switch(e){case"amsrm":l="AMS";break;case"textrm":l="Main";break;case"textsf":l="SansSerif";break;case"texttt":l="Typewriter";break;default:l=e}var o;return i==="textbf"&&a==="textit"?o="BoldItalic":i==="textbf"?o="Bold":i==="textit"?o="Italic":o="Regular",l+"-"+o},lg={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},sg={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},YS=function(e,i){var[a,l,o]=sg[e],c=new lr(a),f=new wi([c],{width:he(l),height:he(o),style:"width:"+he(l),viewBox:"0 0 "+1e3*l+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),p=rg(["overlay"],[f],i);return p.height=o,p.style.height=he(o),p.style.width=he(l),p},V={fontMap:lg,makeSymbol:Gn,mathsym:LS,makeSpan:rn,makeSvgSpan:rg,makeLineSpan:qS,makeAnchor:PS,makeFragment:ag,wrapFragment:OS,makeVList:FS,makeOrd:BS,makeGlue:jS,staticSvg:YS,svgData:sg,tryCombineChars:GS},gt={number:3,unit:"mu"},Rr={number:4,unit:"mu"},yi={number:5,unit:"mu"},JS={mord:{mop:gt,mbin:Rr,mrel:yi,minner:gt},mop:{mord:gt,mop:gt,mrel:yi,minner:gt},mbin:{mord:Rr,mop:Rr,mopen:Rr,minner:Rr},mrel:{mord:yi,mop:yi,mopen:yi,minner:yi},mopen:{},mclose:{mop:gt,mbin:Rr,mrel:yi,minner:gt},mpunct:{mord:gt,mop:gt,mrel:yi,mopen:gt,mclose:gt,mpunct:gt,minner:gt},minner:{mord:gt,mop:gt,mbin:Rr,mrel:yi,mopen:gt,mpunct:gt,minner:gt}},XS={mord:{mop:gt},mop:{mord:gt,mop:gt},mbin:{},mrel:{},mopen:{},mclose:{mop:gt},mpunct:{},minner:{mop:gt}},og={},_o={},Ro={};function ye(t){for(var{type:e,names:i,props:a,handler:l,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:a.numArgs,argTypes:a.argTypes,allowedInArgument:!!a.allowedInArgument,allowedInText:!!a.allowedInText,allowedInMath:a.allowedInMath===void 0?!0:a.allowedInMath,numOptionalArgs:a.numOptionalArgs||0,infix:!!a.infix,primitive:!!a.primitive,handler:l},p=0;p<i.length;++p)og[i[p]]=f;e&&(o&&(_o[e]=o),c&&(Ro[e]=c))}function Dr(t){var{type:e,htmlBuilder:i,mathmlBuilder:a}=t;ye({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:i,mathmlBuilder:a})}var ko=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},wt=function(e){return e.type==="ordgroup"?e.body:[e]},Ai=V.makeSpan,KS=["leftmost","mbin","mopen","mrel","mop","mpunct"],$S=["rightmost","mrel","mclose","mpunct"],QS={display:Re.DISPLAY,text:Re.TEXT,script:Re.SCRIPT,scriptscript:Re.SCRIPTSCRIPT},ZS={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},It=function(e,i,a,l){l===void 0&&(l=[null,null]);for(var o=[],c=0;c<e.length;c++){var f=Xe(e[c],i);if(f instanceof zl){var p=f.children;o.push(...p)}else o.push(f)}if(V.tryCombineChars(o),!a)return o;var m=i;if(e.length===1){var x=e[0];x.type==="sizing"?m=i.havingSize(x.size):x.type==="styling"&&(m=i.havingStyle(QS[x.style]))}var S=Ai([l[0]||"leftmost"],[],i),T=Ai([l[1]||"rightmost"],[],i),E=a==="root";return R4(o,(_,R)=>{var k=R.classes[0],U=_.classes[0];k==="mbin"&&$S.includes(U)?R.classes[0]="mord":U==="mbin"&&KS.includes(k)&&(_.classes[0]="mord")},{node:S},T,E),R4(o,(_,R)=>{var k=Xc(R),U=Xc(_),P=k&&U?_.hasClass("mtight")?XS[k][U]:JS[k][U]:null;if(P)return V.makeGlue(P,m)},{node:S},T,E),o},R4=function t(e,i,a,l,o){l&&e.push(l);for(var c=0;c<e.length;c++){var f=e[c],p=ug(f);if(p){t(p.children,i,a,null,o);continue}var m=!f.hasClass("mspace");if(m){var x=i(f,a.node);x&&(a.insertAfter?a.insertAfter(x):(e.unshift(x),c++))}m?a.node=f:o&&f.hasClass("newline")&&(a.node=Ai(["leftmost"])),a.insertAfter=(S=>T=>{e.splice(S+1,0,T),c++})(c)}l&&e.pop()},ug=function(e){return e instanceof zl||e instanceof hd||e instanceof Ll&&e.hasClass("enclosing")?e:null},WS=function t(e,i){var a=ug(e);if(a){var l=a.children;if(l.length){if(i==="right")return t(l[l.length-1],"right");if(i==="left")return t(l[0],"left")}}return e},Xc=function(e,i){return e?(i&&(e=WS(e,i)),ZS[e.classes[0]]||null):null},Dl=function(e,i){var a=["nulldelimiter"].concat(e.baseSizingClasses());return Ai(i.concat(a))},Xe=function(e,i,a){if(!e)return Ai();if(_o[e.type]){var l=_o[e.type](e,i);if(a&&i.size!==a.size){l=Ai(i.sizingClasses(a),[l],i);var o=i.sizeMultiplier/a.sizeMultiplier;l.height*=o,l.depth*=o}return l}else throw new ce("Got group of unknown type: '"+e.type+"'")};function fo(t,e){var i=Ai(["base"],t,e),a=Ai(["strut"]);return a.style.height=he(i.height+i.depth),i.depth&&(a.style.verticalAlign=he(-i.depth)),i.children.unshift(a),i}function Kc(t,e){var i=null;t.length===1&&t[0].type==="tag"&&(i=t[0].tag,t=t[0].body);var a=It(t,e,"root"),l;a.length===2&&a[1].hasClass("tag")&&(l=a.pop());for(var o=[],c=[],f=0;f<a.length;f++)if(c.push(a[f]),a[f].hasClass("mbin")||a[f].hasClass("mrel")||a[f].hasClass("allowbreak")){for(var p=!1;f<a.length-1&&a[f+1].hasClass("mspace")&&!a[f+1].hasClass("newline");)f++,c.push(a[f]),a[f].hasClass("nobreak")&&(p=!0);p||(o.push(fo(c,e)),c=[])}else a[f].hasClass("newline")&&(c.pop(),c.length>0&&(o.push(fo(c,e)),c=[]),o.push(a[f]));c.length>0&&o.push(fo(c,e));var m;i?(m=fo(It(i,e,!0)),m.classes=["tag"],o.push(m)):l&&o.push(l);var x=Ai(["katex-html"],o);if(x.setAttribute("aria-hidden","true"),m){var S=m.children[0];S.style.height=he(x.height+x.depth),x.depth&&(S.style.verticalAlign=he(-x.depth))}return x}function cg(t){return new zl(t)}class vn{constructor(e,i,a){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=i||[],this.classes=a||[]}setAttribute(e,i){this.attributes[e]=i}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);this.classes.length>0&&(e.className=ar(this.classes));for(var a=0;a<this.children.length;a++)if(this.children[a]instanceof Kn&&this.children[a+1]instanceof Kn){for(var l=this.children[a].toText()+this.children[++a].toText();this.children[a+1]instanceof Kn;)l+=this.children[++a].toText();e.appendChild(new Kn(l).toNode())}else e.appendChild(this.children[a].toNode());return e}toMarkup(){var e="<"+this.type;for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="',e+=Ze.escape(this.attributes[i]),e+='"');this.classes.length>0&&(e+=' class ="'+Ze.escape(ar(this.classes))+'"'),e+=">";for(var a=0;a<this.children.length;a++)e+=this.children[a].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Kn{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ze.escape(this.toText())}toText(){return this.text}}class eT{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",he(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+he(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var oe={MathNode:vn,TextNode:Kn,SpaceNode:eT,newDocumentFragment:cg},Ln=function(e,i,a){return ct[i][e]&&ct[i][e].replace&&e.charCodeAt(0)!==55349&&!(ig.hasOwnProperty(e)&&a&&(a.fontFamily&&a.fontFamily.slice(4,6)==="tt"||a.font&&a.font.slice(4,6)==="tt"))&&(e=ct[i][e].replace),new oe.TextNode(e)},pd=function(e){return e.length===1?e[0]:new oe.MathNode("mrow",e)},gd=function(e,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";var a=i.font;if(!a||a==="mathnormal")return null;var l=e.mode;if(a==="mathit")return"italic";if(a==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(a==="mathbf")return"bold";if(a==="mathbb")return"double-struck";if(a==="mathsfit")return"sans-serif-italic";if(a==="mathfrak")return"fraktur";if(a==="mathscr"||a==="mathcal")return"script";if(a==="mathsf")return"sans-serif";if(a==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;ct[l][o]&&ct[l][o].replace&&(o=ct[l][o].replace);var c=V.fontMap[a].fontName;return fd(o,c,l)?V.fontMap[a].variant:null};function bc(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Kn&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var i=t.children[0];return i instanceof Kn&&i.text===","}else return!1}var ln=function(e,i,a){if(e.length===1){var l=ut(e[0],i);return a&&l instanceof vn&&l.type==="mo"&&(l.setAttribute("lspace","0em"),l.setAttribute("rspace","0em")),[l]}for(var o=[],c,f=0;f<e.length;f++){var p=ut(e[f],i);if(p instanceof vn&&c instanceof vn){if(p.type==="mtext"&&c.type==="mtext"&&p.getAttribute("mathvariant")===c.getAttribute("mathvariant")){c.children.push(...p.children);continue}else if(p.type==="mn"&&c.type==="mn"){c.children.push(...p.children);continue}else if(bc(p)&&c.type==="mn"){c.children.push(...p.children);continue}else if(p.type==="mn"&&bc(c))p.children=[...c.children,...p.children],o.pop();else if((p.type==="msup"||p.type==="msub")&&p.children.length>=1&&(c.type==="mn"||bc(c))){var m=p.children[0];m instanceof vn&&m.type==="mn"&&(m.children=[...c.children,...m.children],o.pop())}else if(c.type==="mi"&&c.children.length===1){var x=c.children[0];if(x instanceof Kn&&x.text===""&&(p.type==="mo"||p.type==="mi"||p.type==="mn")){var S=p.children[0];S instanceof Kn&&S.text.length>0&&(S.text=S.text.slice(0,1)+""+S.text.slice(1),o.pop())}}}o.push(p),c=p}return o},sr=function(e,i,a){return pd(ln(e,i,a))},ut=function(e,i){if(!e)return new oe.MathNode("mrow");if(Ro[e.type]){var a=Ro[e.type](e,i);return a}else throw new ce("Got group of unknown type: '"+e.type+"'")};function k4(t,e,i,a,l){var o=ln(t,i),c;o.length===1&&o[0]instanceof vn&&["mrow","mtable"].includes(o[0].type)?c=o[0]:c=new oe.MathNode("mrow",o);var f=new oe.MathNode("annotation",[new oe.TextNode(e)]);f.setAttribute("encoding","application/x-tex");var p=new oe.MathNode("semantics",[c,f]),m=new oe.MathNode("math",[p]);m.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),a&&m.setAttribute("display","block");var x=l?"katex":"katex-mathml";return V.makeSpan([x],[m])}var dg=function(e){return new xi({style:e.displayMode?Re.DISPLAY:Re.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},fg=function(e,i){if(i.displayMode){var a=["katex-display"];i.leqno&&a.push("leqno"),i.fleqn&&a.push("fleqn"),e=V.makeSpan(a,[e])}return e},tT=function(e,i,a){var l=dg(a),o;if(a.output==="mathml")return k4(e,i,l,a.displayMode,!0);if(a.output==="html"){var c=Kc(e,l);o=V.makeSpan(["katex"],[c])}else{var f=k4(e,i,l,a.displayMode,!1),p=Kc(e,l);o=V.makeSpan(["katex"],[f,p])}return fg(o,a)},nT=function(e,i,a){var l=dg(a),o=Kc(e,l),c=V.makeSpan(["katex"],[o]);return fg(c,a)},iT={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},rT=function(e){var i=new oe.MathNode("mo",[new oe.TextNode(iT[e.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},aT={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},lT=function(e){return e.type==="ordgroup"?e.body.length:1},sT=function(e,i){function a(){var f=4e5,p=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(p)){var m=e,x=lT(m.base),S,T,E;if(x>5)p==="widehat"||p==="widecheck"?(S=420,f=2364,E=.42,T=p+"4"):(S=312,f=2340,E=.34,T="tilde4");else{var _=[1,1,2,2,3,3][x];p==="widehat"||p==="widecheck"?(f=[0,1062,2364,2364,2364][_],S=[0,239,300,360,420][_],E=[0,.24,.3,.3,.36,.42][_],T=p+_):(f=[0,600,1033,2339,2340][_],S=[0,260,286,306,312][_],E=[0,.26,.286,.3,.306,.34][_],T="tilde"+_)}var R=new lr(T),k=new wi([R],{width:"100%",height:he(E),viewBox:"0 0 "+f+" "+S,preserveAspectRatio:"none"});return{span:V.makeSvgSpan([],[k],i),minWidth:0,height:E}}else{var U=[],P=aT[p],[J,ee,ae]=P,te=ae/1e3,q=J.length,K,Z;if(q===1){var me=P[3];K=["hide-tail"],Z=[me]}else if(q===2)K=["halfarrow-left","halfarrow-right"],Z=["xMinYMin","xMaxYMin"];else if(q===3)K=["brace-left","brace-center","brace-right"],Z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+q+" children.");for(var Se=0;Se<q;Se++){var pe=new lr(J[Se]),Me=new wi([pe],{width:"400em",height:he(te),viewBox:"0 0 "+f+" "+ae,preserveAspectRatio:Z[Se]+" slice"}),Ge=V.makeSvgSpan([K[Se]],[Me],i);if(q===1)return{span:Ge,minWidth:ee,height:te};Ge.style.height=he(te),U.push(Ge)}return{span:V.makeSpan(["stretchy"],U,i),minWidth:ee,height:te}}}var{span:l,minWidth:o,height:c}=a();return l.height=c,l.style.height=he(c),o>0&&(l.style.minWidth=he(o)),l},oT=function(e,i,a,l,o){var c,f=e.height+e.depth+a+l;if(/fbox|color|angl/.test(i)){if(c=V.makeSpan(["stretchy",i],[],o),i==="fbox"){var p=o.color&&o.getColor();p&&(c.style.borderColor=p)}}else{var m=[];/^[bx]cancel$/.test(i)&&m.push(new Yc({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&m.push(new Yc({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var x=new wi(m,{width:"100%",height:he(f)});c=V.makeSvgSpan([],[x],o)}return c.height=f,c.style.height=he(f),c},Ei={encloseSpan:oT,mathMLnode:rT,svgSpan:sT};function He(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function vd(t){var e=Oo(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Oo(t){return t&&(t.type==="atom"||DS.hasOwnProperty(t.type))?t:null}var yd=(t,e)=>{var i,a,l;t&&t.type==="supsub"?(a=He(t.base,"accent"),i=a.base,t.base=i,l=kS(Xe(t,e)),t.base=a):(a=He(t,"accent"),i=a.base);var o=Xe(i,e.havingCrampedStyle()),c=a.isShifty&&Ze.isCharacterBox(i),f=0;if(c){var p=Ze.getBaseElem(i),m=Xe(p,e.havingCrampedStyle());f=A4(m).skew}var x=a.label==="\\c",S=x?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),T;if(a.isStretchy)T=Ei.svgSpan(a,e),T=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:T,wrapperClasses:["svg-align"],wrapperStyle:f>0?{width:"calc(100% - "+he(2*f)+")",marginLeft:he(2*f)}:void 0}]},e);else{var E,_;a.label==="\\vec"?(E=V.staticSvg("vec",e),_=V.svgData.vec[1]):(E=V.makeOrd({mode:a.mode,text:a.label},e,"textord"),E=A4(E),E.italic=0,_=E.width,x&&(S+=E.depth)),T=V.makeSpan(["accent-body"],[E]);var R=a.label==="\\textcircled";R&&(T.classes.push("accent-full"),S=o.height);var k=f;R||(k-=_/2),T.style.left=he(k),a.label==="\\textcircled"&&(T.style.top=".2em"),T=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-S},{type:"elem",elem:T}]},e)}var U=V.makeSpan(["mord","accent"],[T],e);return l?(l.children[0]=U,l.height=Math.max(U.height,l.height),l.classes[0]="mord",l):U},hg=(t,e)=>{var i=t.isStretchy?Ei.mathMLnode(t.label):new oe.MathNode("mo",[Ln(t.label,t.mode)]),a=new oe.MathNode("mover",[ut(t.base,e),i]);return a.setAttribute("accent","true"),a},uT=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ye({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var i=ko(e[0]),a=!uT.test(t.funcName),l=!a||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:a,isShifty:l,base:i}},htmlBuilder:yd,mathmlBuilder:hg});ye({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var i=e[0],a=t.parser.mode;return a==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),a="text"),{type:"accent",mode:a,label:t.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:yd,mathmlBuilder:hg});ye({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:a}=t,l=e[0];return{type:"accentUnder",mode:i.mode,label:a,base:l}},htmlBuilder:(t,e)=>{var i=Xe(t.base,e),a=Ei.svgSpan(t,e),l=t.label==="\\utilde"?.12:0,o=V.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:l},{type:"elem",elem:i}]},e);return V.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var i=Ei.mathMLnode(t.label),a=new oe.MathNode("munder",[ut(t.base,e),i]);return a.setAttribute("accentunder","true"),a}});var ho=t=>{var e=new oe.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ye({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:a,funcName:l}=t;return{type:"xArrow",mode:a.mode,label:l,body:e[0],below:i[0]}},htmlBuilder(t,e){var i=e.style,a=e.havingStyle(i.sup()),l=V.wrapFragment(Xe(t.body,a,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";l.classes.push(o+"-arrow-pad");var c;t.below&&(a=e.havingStyle(i.sub()),c=V.wrapFragment(Xe(t.below,a,e),e),c.classes.push(o+"-arrow-pad"));var f=Ei.svgSpan(t,e),p=-e.fontMetrics().axisHeight+.5*f.height,m=-e.fontMetrics().axisHeight-.5*f.height-.111;(l.depth>.25||t.label==="\\xleftequilibrium")&&(m-=l.depth);var x;if(c){var S=-e.fontMetrics().axisHeight+c.height+.5*f.height+.111;x=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:m},{type:"elem",elem:f,shift:p},{type:"elem",elem:c,shift:S}]},e)}else x=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:m},{type:"elem",elem:f,shift:p}]},e);return x.children[0].children[0].children[1].classes.push("svg-align"),V.makeSpan(["mrel","x-arrow"],[x],e)},mathmlBuilder(t,e){var i=Ei.mathMLnode(t.label);i.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var a;if(t.body){var l=ho(ut(t.body,e));if(t.below){var o=ho(ut(t.below,e));a=new oe.MathNode("munderover",[i,o,l])}else a=new oe.MathNode("mover",[i,l])}else if(t.below){var c=ho(ut(t.below,e));a=new oe.MathNode("munder",[i,c])}else a=ho(),a=new oe.MathNode("mover",[i,a]);return a}});var cT=V.makeSpan;function mg(t,e){var i=It(t.body,e,!0);return cT([t.mclass],i,e)}function pg(t,e){var i,a=ln(t.body,e);return t.mclass==="minner"?i=new oe.MathNode("mpadded",a):t.mclass==="mord"?t.isCharacterBox?(i=a[0],i.type="mi"):i=new oe.MathNode("mi",a):(t.isCharacterBox?(i=a[0],i.type="mo"):i=new oe.MathNode("mo",a),t.mclass==="mbin"?(i.attributes.lspace="0.22em",i.attributes.rspace="0.22em"):t.mclass==="mpunct"?(i.attributes.lspace="0em",i.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(i.attributes.lspace="0em",i.attributes.rspace="0em"):t.mclass==="minner"&&(i.attributes.lspace="0.0556em",i.attributes.width="+0.1111em")),i}ye({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:i,funcName:a}=t,l=e[0];return{type:"mclass",mode:i.mode,mclass:"m"+a.slice(5),body:wt(l),isCharacterBox:Ze.isCharacterBox(l)}},htmlBuilder:mg,mathmlBuilder:pg});var Vo=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ye({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:i}=t;return{type:"mclass",mode:i.mode,mclass:Vo(e[0]),body:wt(e[1]),isCharacterBox:Ze.isCharacterBox(e[1])}}});ye({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:i,funcName:a}=t,l=e[1],o=e[0],c;a!=="\\stackrel"?c=Vo(l):c="mrel";var f={type:"op",mode:l.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:a!=="\\stackrel",body:wt(l)},p={type:"supsub",mode:o.mode,base:f,sup:a==="\\underset"?null:o,sub:a==="\\underset"?o:null};return{type:"mclass",mode:i.mode,mclass:c,body:[p],isCharacterBox:Ze.isCharacterBox(p)}},htmlBuilder:mg,mathmlBuilder:pg});ye({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"pmb",mode:i.mode,mclass:Vo(e[0]),body:wt(e[0])}},htmlBuilder(t,e){var i=It(t.body,e,!0),a=V.makeSpan([t.mclass],i,e);return a.style.textShadow="0.02em 0.01em 0.04px",a},mathmlBuilder(t,e){var i=ln(t.body,e),a=new oe.MathNode("mstyle",i);return a.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),a}});var dT={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},I4=()=>({type:"styling",body:[],mode:"math",style:"display"}),D4=t=>t.type==="textord"&&t.text==="@",fT=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function hT(t,e,i){var a=dT[t];switch(a){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return i.callFunction(a,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var l=i.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:a,mode:"math",family:"rel"},c=i.callFunction("\\Big",[o],[]),f=i.callFunction("\\\\cdright",[e[1]],[]),p={type:"ordgroup",mode:"math",body:[l,c,f]};return i.callFunction("\\\\cdparent",[p],[])}case"\\\\cdlongequal":return i.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var m={type:"textord",text:"\\Vert",mode:"math"};return i.callFunction("\\Big",[m],[])}default:return{type:"textord",text:" ",mode:"math"}}}function mT(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var i=t.fetch().text;if(i==="&"||i==="\\\\")t.consume();else if(i==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ce("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var a=[],l=[a],o=0;o<e.length;o++){for(var c=e[o],f=I4(),p=0;p<c.length;p++)if(!D4(c[p]))f.body.push(c[p]);else{a.push(f),p+=1;var m=vd(c[p]).text,x=new Array(2);if(x[0]={type:"ordgroup",mode:"math",body:[]},x[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(m)>-1))if("<>AV".indexOf(m)>-1)for(var S=0;S<2;S++){for(var T=!0,E=p+1;E<c.length;E++){if(fT(c[E],m)){T=!1,p=E;break}if(D4(c[E]))throw new ce("Missing a "+m+" character to complete a CD arrow.",c[E]);x[S].body.push(c[E])}if(T)throw new ce("Missing a "+m+" character to complete a CD arrow.",c[p])}else throw new ce('Expected one of "<>AV=|." after @',c[p]);var _=hT(m,x,t),R={type:"styling",body:[_],mode:"math",style:"display"};a.push(R),f=I4()}o%2===0?a.push(f):a.shift(),a=[],l.push(a)}t.gullet.endGroup(),t.gullet.endGroup();var k=new Array(l[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:l,arraystretch:1,addJot:!0,rowGaps:[null],cols:k,colSeparationType:"CD",hLinesBeforeRow:new Array(l.length+1).fill([])}}ye({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:a}=t;return{type:"cdlabel",mode:i.mode,side:a.slice(4),label:e[0]}},htmlBuilder(t,e){var i=e.havingStyle(e.style.sup()),a=V.wrapFragment(Xe(t.label,i,e),e);return a.classes.push("cd-label-"+t.side),a.style.bottom=he(.8-a.depth),a.height=0,a.depth=0,a},mathmlBuilder(t,e){var i=new oe.MathNode("mrow",[ut(t.label,e)]);return i=new oe.MathNode("mpadded",[i]),i.setAttribute("width","0"),t.side==="left"&&i.setAttribute("lspace","-1width"),i.setAttribute("voffset","0.7em"),i=new oe.MathNode("mstyle",[i]),i.setAttribute("displaystyle","false"),i.setAttribute("scriptlevel","1"),i}});ye({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:i}=t;return{type:"cdlabelparent",mode:i.mode,fragment:e[0]}},htmlBuilder(t,e){var i=V.wrapFragment(Xe(t.fragment,e),e);return i.classes.push("cd-vert-arrow"),i},mathmlBuilder(t,e){return new oe.MathNode("mrow",[ut(t.fragment,e)])}});ye({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:i}=t,a=He(e[0],"ordgroup"),l=a.body,o="",c=0;c<l.length;c++){var f=He(l[c],"textord");o+=f.text}var p=parseInt(o),m;if(isNaN(p))throw new ce("\\@char has non-numeric argument "+o);if(p<0||p>=1114111)throw new ce("\\@char with invalid code point "+o);return p<=65535?m=String.fromCharCode(p):(p-=65536,m=String.fromCharCode((p>>10)+55296,(p&1023)+56320)),{type:"textord",mode:i.mode,text:m}}});var gg=(t,e)=>{var i=It(t.body,e.withColor(t.color),!1);return V.makeFragment(i)},vg=(t,e)=>{var i=ln(t.body,e.withColor(t.color)),a=new oe.MathNode("mstyle",i);return a.setAttribute("mathcolor",t.color),a};ye({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:i}=t,a=He(e[0],"color-token").color,l=e[1];return{type:"color",mode:i.mode,color:a,body:wt(l)}},htmlBuilder:gg,mathmlBuilder:vg});ye({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:i,breakOnTokenText:a}=t,l=He(e[0],"color-token").color;i.gullet.macros.set("\\current@color",l);var o=i.parseExpression(!0,a);return{type:"color",mode:i.mode,color:l,body:o}},htmlBuilder:gg,mathmlBuilder:vg});ye({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,i){var{parser:a}=t,l=a.gullet.future().text==="["?a.parseSizeGroup(!0):null,o=!a.settings.displayMode||!a.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:a.mode,newLine:o,size:l&&He(l,"size").value}},htmlBuilder(t,e){var i=V.makeSpan(["mspace"],[],e);return t.newLine&&(i.classes.push("newline"),t.size&&(i.style.marginTop=he(vt(t.size,e)))),i},mathmlBuilder(t,e){var i=new oe.MathNode("mspace");return t.newLine&&(i.setAttribute("linebreak","newline"),t.size&&i.setAttribute("height",he(vt(t.size,e)))),i}});var $c={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},yg=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ce("Expected a control sequence",t);return e},pT=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},xg=(t,e,i,a)=>{var l=t.gullet.macros.get(i.text);l==null&&(i.noexpand=!0,l={tokens:[i],numArgs:0,unexpandable:!t.gullet.isExpandable(i.text)}),t.gullet.macros.set(e,l,a)};ye({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:i}=t;e.consumeSpaces();var a=e.fetch();if($c[a.text])return(i==="\\global"||i==="\\\\globallong")&&(a.text=$c[a.text]),He(e.parseFunction(),"internal");throw new ce("Invalid token after macro prefix",a)}});ye({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,a=e.gullet.popToken(),l=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(l))throw new ce("Expected a control sequence",a);for(var o=0,c,f=[[]];e.gullet.future().text!=="{";)if(a=e.gullet.popToken(),a.text==="#"){if(e.gullet.future().text==="{"){c=e.gullet.future(),f[o].push("{");break}if(a=e.gullet.popToken(),!/^[1-9]$/.test(a.text))throw new ce('Invalid argument number "'+a.text+'"');if(parseInt(a.text)!==o+1)throw new ce('Argument number "'+a.text+'" out of order');o++,f.push([])}else{if(a.text==="EOF")throw new ce("Expected a macro definition");f[o].push(a.text)}var{tokens:p}=e.gullet.consumeArg();return c&&p.unshift(c),(i==="\\edef"||i==="\\xdef")&&(p=e.gullet.expandTokens(p),p.reverse()),e.gullet.macros.set(l,{tokens:p,numArgs:o,delimiters:f},i===$c[i]),{type:"internal",mode:e.mode}}});ye({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,a=yg(e.gullet.popToken());e.gullet.consumeSpaces();var l=pT(e);return xg(e,a,l,i==="\\\\globallet"),{type:"internal",mode:e.mode}}});ye({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,a=yg(e.gullet.popToken()),l=e.gullet.popToken(),o=e.gullet.popToken();return xg(e,a,o,i==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(l),{type:"internal",mode:e.mode}}});var Rl=function(e,i,a){var l=ct.math[e]&&ct.math[e].replace,o=fd(l||e,i,a);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+i+".");return o},xd=function(e,i,a,l){var o=a.havingBaseStyle(i),c=V.makeSpan(l.concat(o.sizingClasses(a)),[e],a),f=o.sizeMultiplier/a.sizeMultiplier;return c.height*=f,c.depth*=f,c.maxFontSize=o.sizeMultiplier,c},bg=function(e,i,a){var l=i.havingBaseStyle(a),o=(1-i.sizeMultiplier/l.sizeMultiplier)*i.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=he(o),e.height-=o,e.depth+=o},gT=function(e,i,a,l,o,c){var f=V.makeSymbol(e,"Main-Regular",o,l),p=xd(f,i,l,c);return a&&bg(p,l,i),p},vT=function(e,i,a,l){return V.makeSymbol(e,"Size"+i+"-Regular",a,l)},Sg=function(e,i,a,l,o,c){var f=vT(e,i,o,l),p=xd(V.makeSpan(["delimsizing","size"+i],[f],l),Re.TEXT,l,c);return a&&bg(p,l,Re.TEXT),p},Sc=function(e,i,a){var l;i==="Size1-Regular"?l="delim-size1":l="delim-size4";var o=V.makeSpan(["delimsizinginner",l],[V.makeSpan([],[V.makeSymbol(e,i,a)])]);return{type:"elem",elem:o}},Tc=function(e,i,a){var l=Xn["Size4-Regular"][e.charCodeAt(0)]?Xn["Size4-Regular"][e.charCodeAt(0)][4]:Xn["Size1-Regular"][e.charCodeAt(0)][4],o=new lr("inner",TS(e,Math.round(1e3*i))),c=new wi([o],{width:he(l),height:he(i),style:"width:"+he(l),viewBox:"0 0 "+1e3*l+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),f=V.makeSvgSpan([],[c],a);return f.height=i,f.style.height=he(i),f.style.width=he(l),{type:"elem",elem:f}},Qc=.008,mo={type:"kern",size:-1*Qc},yT=["|","\\lvert","\\rvert","\\vert"],xT=["\\|","\\lVert","\\rVert","\\Vert"],Tg=function(e,i,a,l,o,c){var f,p,m,x,S="",T=0;f=m=x=e,p=null;var E="Size1-Regular";e==="\\uparrow"?m=x="":e==="\\Uparrow"?m=x="":e==="\\downarrow"?f=m="":e==="\\Downarrow"?f=m="":e==="\\updownarrow"?(f="\\uparrow",m="",x="\\downarrow"):e==="\\Updownarrow"?(f="\\Uparrow",m="",x="\\Downarrow"):yT.includes(e)?(m="",S="vert",T=333):xT.includes(e)?(m="",S="doublevert",T=556):e==="["||e==="\\lbrack"?(f="",m="",x="",E="Size4-Regular",S="lbrack",T=667):e==="]"||e==="\\rbrack"?(f="",m="",x="",E="Size4-Regular",S="rbrack",T=667):e==="\\lfloor"||e===""?(m=f="",x="",E="Size4-Regular",S="lfloor",T=667):e==="\\lceil"||e===""?(f="",m=x="",E="Size4-Regular",S="lceil",T=667):e==="\\rfloor"||e===""?(m=f="",x="",E="Size4-Regular",S="rfloor",T=667):e==="\\rceil"||e===""?(f="",m=x="",E="Size4-Regular",S="rceil",T=667):e==="("||e==="\\lparen"?(f="",m="",x="",E="Size4-Regular",S="lparen",T=875):e===")"||e==="\\rparen"?(f="",m="",x="",E="Size4-Regular",S="rparen",T=875):e==="\\{"||e==="\\lbrace"?(f="",p="",x="",m="",E="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(f="",p="",x="",m="",E="Size4-Regular"):e==="\\lgroup"||e===""?(f="",x="",m="",E="Size4-Regular"):e==="\\rgroup"||e===""?(f="",x="",m="",E="Size4-Regular"):e==="\\lmoustache"||e===""?(f="",x="",m="",E="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(f="",x="",m="",E="Size4-Regular");var _=Rl(f,E,o),R=_.height+_.depth,k=Rl(m,E,o),U=k.height+k.depth,P=Rl(x,E,o),J=P.height+P.depth,ee=0,ae=1;if(p!==null){var te=Rl(p,E,o);ee=te.height+te.depth,ae=2}var q=R+J+ee,K=Math.max(0,Math.ceil((i-q)/(ae*U))),Z=q+K*ae*U,me=l.fontMetrics().axisHeight;a&&(me*=l.sizeMultiplier);var Se=Z/2-me,pe=[];if(S.length>0){var Me=Z-R-J,Ge=Math.round(Z*1e3),Ye=wS(S,Math.round(Me*1e3)),j=new lr(S,Ye),ie=(T/1e3).toFixed(3)+"em",fe=(Ge/1e3).toFixed(3)+"em",Ne=new wi([j],{width:ie,height:fe,viewBox:"0 0 "+T+" "+Ge}),Ee=V.makeSvgSpan([],[Ne],l);Ee.height=Ge/1e3,Ee.style.width=ie,Ee.style.height=fe,pe.push({type:"elem",elem:Ee})}else{if(pe.push(Sc(x,E,o)),pe.push(mo),p===null){var L=Z-R-J+2*Qc;pe.push(Tc(m,L,l))}else{var $=(Z-R-J-ee)/2+2*Qc;pe.push(Tc(m,$,l)),pe.push(mo),pe.push(Sc(p,E,o)),pe.push(mo),pe.push(Tc(m,$,l))}pe.push(mo),pe.push(Sc(f,E,o))}var de=l.havingBaseStyle(Re.TEXT),xe=V.makeVList({positionType:"bottom",positionData:Se,children:pe},de);return xd(V.makeSpan(["delimsizing","mult"],[xe],de),Re.TEXT,l,c)},wc=80,Ac=.08,Ec=function(e,i,a,l,o){var c=SS(e,l,a),f=new lr(e,c),p=new wi([f],{width:"400em",height:he(i),viewBox:"0 0 400000 "+a,preserveAspectRatio:"xMinYMin slice"});return V.makeSvgSpan(["hide-tail"],[p],o)},bT=function(e,i){var a=i.havingBaseSizing(),l=Cg("\\surd",e*a.sizeMultiplier,Eg,a),o=a.sizeMultiplier,c=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness),f,p=0,m=0,x=0,S;return l.type==="small"?(x=1e3+1e3*c+wc,e<1?o=1:e<1.4&&(o=.7),p=(1+c+Ac)/o,m=(1+c)/o,f=Ec("sqrtMain",p,x,c,i),f.style.minWidth="0.853em",S=.833/o):l.type==="large"?(x=(1e3+wc)*kl[l.size],m=(kl[l.size]+c)/o,p=(kl[l.size]+c+Ac)/o,f=Ec("sqrtSize"+l.size,p,x,c,i),f.style.minWidth="1.02em",S=1/o):(p=e+c+Ac,m=e+c,x=Math.floor(1e3*e+c)+wc,f=Ec("sqrtTall",p,x,c,i),f.style.minWidth="0.742em",S=1.056),f.height=m,f.style.height=he(p),{span:f,advanceWidth:S,ruleWidth:(i.fontMetrics().sqrtRuleThickness+c)*o}},wg=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],ST=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Ag=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],kl=[0,1.2,1.8,2.4,3],TT=function(e,i,a,l,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),wg.includes(e)||Ag.includes(e))return Sg(e,i,!1,a,l,o);if(ST.includes(e))return Tg(e,kl[i],!1,a,l,o);throw new ce("Illegal delimiter: '"+e+"'")},wT=[{type:"small",style:Re.SCRIPTSCRIPT},{type:"small",style:Re.SCRIPT},{type:"small",style:Re.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],AT=[{type:"small",style:Re.SCRIPTSCRIPT},{type:"small",style:Re.SCRIPT},{type:"small",style:Re.TEXT},{type:"stack"}],Eg=[{type:"small",style:Re.SCRIPTSCRIPT},{type:"small",style:Re.SCRIPT},{type:"small",style:Re.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],ET=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Cg=function(e,i,a,l){for(var o=Math.min(2,3-l.style.size),c=o;c<a.length&&a[c].type!=="stack";c++){var f=Rl(e,ET(a[c]),"math"),p=f.height+f.depth;if(a[c].type==="small"){var m=l.havingBaseStyle(a[c].style);p*=m.sizeMultiplier}if(p>i)return a[c]}return a[a.length-1]},Ng=function(e,i,a,l,o,c){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var f;Ag.includes(e)?f=wT:wg.includes(e)?f=Eg:f=AT;var p=Cg(e,i,f,l);return p.type==="small"?gT(e,p.style,a,l,o,c):p.type==="large"?Sg(e,p.size,a,l,o,c):Tg(e,i,a,l,o,c)},CT=function(e,i,a,l,o,c){var f=l.fontMetrics().axisHeight*l.sizeMultiplier,p=901,m=5/l.fontMetrics().ptPerEm,x=Math.max(i-f,a+f),S=Math.max(x/500*p,2*x-m);return Ng(e,S,!0,l,o,c)},Si={sqrtImage:bT,sizedDelim:TT,sizeToMaxHeight:kl,customSizedDelim:Ng,leftRightDelim:CT},z4={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},NT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Fo(t,e){var i=Oo(t);if(i&&NT.includes(i.text))return i;throw i?new ce("Invalid delimiter '"+i.text+"' after '"+e.funcName+"'",t):new ce("Invalid delimiter type '"+t.type+"'",t)}ye({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var i=Fo(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:z4[t.funcName].size,mclass:z4[t.funcName].mclass,delim:i.text}},htmlBuilder:(t,e)=>t.delim==="."?V.makeSpan([t.mclass]):Si.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ln(t.delim,t.mode));var i=new oe.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i.setAttribute("stretchy","true");var a=he(Si.sizeToMaxHeight[t.size]);return i.setAttribute("minsize",a),i.setAttribute("maxsize",a),i}});function L4(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ye({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=t.parser.gullet.macros.get("\\current@color");if(i&&typeof i!="string")throw new ce("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Fo(e[0],t).text,color:i}}});ye({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=Fo(e[0],t),a=t.parser;++a.leftrightDepth;var l=a.parseExpression(!1);--a.leftrightDepth,a.expect("\\right",!1);var o=He(a.parseFunction(),"leftright-right");return{type:"leftright",mode:a.mode,body:l,left:i.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{L4(t);for(var i=It(t.body,e,!0,["mopen","mclose"]),a=0,l=0,o=!1,c=0;c<i.length;c++)i[c].isMiddle?o=!0:(a=Math.max(i[c].height,a),l=Math.max(i[c].depth,l));a*=e.sizeMultiplier,l*=e.sizeMultiplier;var f;if(t.left==="."?f=Dl(e,["mopen"]):f=Si.leftRightDelim(t.left,a,l,e,t.mode,["mopen"]),i.unshift(f),o)for(var p=1;p<i.length;p++){var m=i[p],x=m.isMiddle;x&&(i[p]=Si.leftRightDelim(x.delim,a,l,x.options,t.mode,[]))}var S;if(t.right===".")S=Dl(e,["mclose"]);else{var T=t.rightColor?e.withColor(t.rightColor):e;S=Si.leftRightDelim(t.right,a,l,T,t.mode,["mclose"])}return i.push(S),V.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{L4(t);var i=ln(t.body,e);if(t.left!=="."){var a=new oe.MathNode("mo",[Ln(t.left,t.mode)]);a.setAttribute("fence","true"),i.unshift(a)}if(t.right!=="."){var l=new oe.MathNode("mo",[Ln(t.right,t.mode)]);l.setAttribute("fence","true"),t.rightColor&&l.setAttribute("mathcolor",t.rightColor),i.push(l)}return pd(i)}});ye({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=Fo(e[0],t);if(!t.parser.leftrightDepth)throw new ce("\\middle without preceding \\left",i);return{type:"middle",mode:t.parser.mode,delim:i.text}},htmlBuilder:(t,e)=>{var i;if(t.delim===".")i=Dl(e,[]);else{i=Si.sizedDelim(t.delim,1,e,t.mode,[]);var a={delim:t.delim,options:e};i.isMiddle=a}return i},mathmlBuilder:(t,e)=>{var i=t.delim==="\\vert"||t.delim==="|"?Ln("|","text"):Ln(t.delim,t.mode),a=new oe.MathNode("mo",[i]);return a.setAttribute("fence","true"),a.setAttribute("lspace","0.05em"),a.setAttribute("rspace","0.05em"),a}});var bd=(t,e)=>{var i=V.wrapFragment(Xe(t.body,e),e),a=t.label.slice(1),l=e.sizeMultiplier,o,c=0,f=Ze.isCharacterBox(t.body);if(a==="sout")o=V.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/l,c=-.5*e.fontMetrics().xHeight;else if(a==="phase"){var p=vt({number:.6,unit:"pt"},e),m=vt({number:.35,unit:"ex"},e),x=e.havingBaseSizing();l=l/x.sizeMultiplier;var S=i.height+i.depth+p+m;i.style.paddingLeft=he(S/2+p);var T=Math.floor(1e3*S*l),E=xS(T),_=new wi([new lr("phase",E)],{width:"400em",height:he(T/1e3),viewBox:"0 0 400000 "+T,preserveAspectRatio:"xMinYMin slice"});o=V.makeSvgSpan(["hide-tail"],[_],e),o.style.height=he(S),c=i.depth+p+m}else{/cancel/.test(a)?f||i.classes.push("cancel-pad"):a==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var R=0,k=0,U=0;/box/.test(a)?(U=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),R=e.fontMetrics().fboxsep+(a==="colorbox"?0:U),k=R):a==="angl"?(U=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),R=4*U,k=Math.max(0,.25-i.depth)):(R=f?.2:0,k=R),o=Ei.encloseSpan(i,a,R,k,e),/fbox|boxed|fcolorbox/.test(a)?(o.style.borderStyle="solid",o.style.borderWidth=he(U)):a==="angl"&&U!==.049&&(o.style.borderTopWidth=he(U),o.style.borderRightWidth=he(U)),c=i.depth+k,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var P;if(t.backgroundColor)P=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:i,shift:0}]},e);else{var J=/cancel|phase/.test(a)?["svg-align"]:[];P=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:o,shift:c,wrapperClasses:J}]},e)}return/cancel/.test(a)&&(P.height=i.height,P.depth=i.depth),/cancel/.test(a)&&!f?V.makeSpan(["mord","cancel-lap"],[P],e):V.makeSpan(["mord"],[P],e)},Sd=(t,e)=>{var i=0,a=new oe.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ut(t.body,e)]);switch(t.label){case"\\cancel":a.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":a.setAttribute("notation","downdiagonalstrike");break;case"\\phase":a.setAttribute("notation","phasorangle");break;case"\\sout":a.setAttribute("notation","horizontalstrike");break;case"\\fbox":a.setAttribute("notation","box");break;case"\\angl":a.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(i=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,a.setAttribute("width","+"+2*i+"pt"),a.setAttribute("height","+"+2*i+"pt"),a.setAttribute("lspace",i+"pt"),a.setAttribute("voffset",i+"pt"),t.label==="\\fcolorbox"){var l=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);a.setAttribute("style","border: "+l+"em solid "+String(t.borderColor))}break;case"\\xcancel":a.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&a.setAttribute("mathbackground",t.backgroundColor),a};ye({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,i){var{parser:a,funcName:l}=t,o=He(e[0],"color-token").color,c=e[1];return{type:"enclose",mode:a.mode,label:l,backgroundColor:o,body:c}},htmlBuilder:bd,mathmlBuilder:Sd});ye({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,i){var{parser:a,funcName:l}=t,o=He(e[0],"color-token").color,c=He(e[1],"color-token").color,f=e[2];return{type:"enclose",mode:a.mode,label:l,backgroundColor:c,borderColor:o,body:f}},htmlBuilder:bd,mathmlBuilder:Sd});ye({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\fbox",body:e[0]}}});ye({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:a}=t,l=e[0];return{type:"enclose",mode:i.mode,label:a,body:l}},htmlBuilder:bd,mathmlBuilder:Sd});ye({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\angl",body:e[0]}}});var Mg={};function $n(t){for(var{type:e,names:i,props:a,handler:l,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:a.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:l},p=0;p<i.length;++p)Mg[i[p]]=f;o&&(_o[e]=o),c&&(Ro[e]=c)}var _g={};function M(t,e){_g[t]=e}function U4(t){var e=[];t.consumeSpaces();var i=t.fetch().text;for(i==="\\relax"&&(t.consume(),t.consumeSpaces(),i=t.fetch().text);i==="\\hline"||i==="\\hdashline";)t.consume(),e.push(i==="\\hdashline"),t.consumeSpaces(),i=t.fetch().text;return e}var jo=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ce("{"+t.envName+"} can be used only in display mode.")};function Td(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ur(t,e,i){var{hskipBeforeAndAfter:a,addJot:l,cols:o,arraystretch:c,colSeparationType:f,autoTag:p,singleRow:m,emptySingleRow:x,maxNumCols:S,leqno:T}=e;if(t.gullet.beginGroup(),m||t.gullet.macros.set("\\cr","\\\\\\relax"),!c){var E=t.gullet.expandMacroAsText("\\arraystretch");if(E==null)c=1;else if(c=parseFloat(E),!c||c<0)throw new ce("Invalid \\arraystretch: "+E)}t.gullet.beginGroup();var _=[],R=[_],k=[],U=[],P=p!=null?[]:void 0;function J(){p&&t.gullet.macros.set("\\@eqnsw","1",!0)}function ee(){P&&(t.gullet.macros.get("\\df@tag")?(P.push(t.subparse([new yn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):P.push(!!p&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(J(),U.push(U4(t));;){var ae=t.parseExpression(!1,m?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),ae={type:"ordgroup",mode:t.mode,body:ae},i&&(ae={type:"styling",mode:t.mode,style:i,body:[ae]}),_.push(ae);var te=t.fetch().text;if(te==="&"){if(S&&_.length===S){if(m||f)throw new ce("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(te==="\\end"){ee(),_.length===1&&ae.type==="styling"&&ae.body[0].body.length===0&&(R.length>1||!x)&&R.pop(),U.length<R.length+1&&U.push([]);break}else if(te==="\\\\"){t.consume();var q=void 0;t.gullet.future().text!==" "&&(q=t.parseSizeGroup(!0)),k.push(q?q.value:null),ee(),U.push(U4(t)),_=[],R.push(_),J()}else throw new ce("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:l,arraystretch:c,body:R,cols:o,rowGaps:k,hskipBeforeAndAfter:a,hLinesBeforeRow:U,colSeparationType:f,tags:P,leqno:T}}function wd(t){return t.slice(0,1)==="d"?"display":"text"}var Qn=function(e,i){var a,l,o=e.body.length,c=e.hLinesBeforeRow,f=0,p=new Array(o),m=[],x=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),S=1/i.fontMetrics().ptPerEm,T=5*S;if(e.colSeparationType&&e.colSeparationType==="small"){var E=i.havingStyle(Re.SCRIPT).sizeMultiplier;T=.2778*(E/i.sizeMultiplier)}var _=e.colSeparationType==="CD"?vt({number:3,unit:"ex"},i):12*S,R=3*S,k=e.arraystretch*_,U=.7*k,P=.3*k,J=0;function ee(Dt){for(var Ri=0;Ri<Dt.length;++Ri)Ri>0&&(J+=.25),m.push({pos:J,isDashed:Dt[Ri]})}for(ee(c[0]),a=0;a<e.body.length;++a){var ae=e.body[a],te=U,q=P;f<ae.length&&(f=ae.length);var K=new Array(ae.length);for(l=0;l<ae.length;++l){var Z=Xe(ae[l],i);q<Z.depth&&(q=Z.depth),te<Z.height&&(te=Z.height),K[l]=Z}var me=e.rowGaps[a],Se=0;me&&(Se=vt(me,i),Se>0&&(Se+=P,q<Se&&(q=Se),Se=0)),e.addJot&&(q+=R),K.height=te,K.depth=q,J+=te,K.pos=J,J+=q+Se,p[a]=K,ee(c[a+1])}var pe=J/2+i.fontMetrics().axisHeight,Me=e.cols||[],Ge=[],Ye,j,ie=[];if(e.tags&&e.tags.some(Dt=>Dt))for(a=0;a<o;++a){var fe=p[a],Ne=fe.pos-pe,Ee=e.tags[a],L=void 0;Ee===!0?L=V.makeSpan(["eqn-num"],[],i):Ee===!1?L=V.makeSpan([],[],i):L=V.makeSpan([],It(Ee,i,!0),i),L.depth=fe.depth,L.height=fe.height,ie.push({type:"elem",elem:L,shift:Ne})}for(l=0,j=0;l<f||j<Me.length;++l,++j){for(var $=Me[j]||{},de=!0;$.type==="separator";){if(de||(Ye=V.makeSpan(["arraycolsep"],[]),Ye.style.width=he(i.fontMetrics().doubleRuleSep),Ge.push(Ye)),$.separator==="|"||$.separator===":"){var xe=$.separator==="|"?"solid":"dashed",Ae=V.makeSpan(["vertical-separator"],[],i);Ae.style.height=he(J),Ae.style.borderRightWidth=he(x),Ae.style.borderRightStyle=xe,Ae.style.margin="0 "+he(-x/2);var Q=J-pe;Q&&(Ae.style.verticalAlign=he(-Q)),Ge.push(Ae)}else throw new ce("Invalid separator type: "+$.separator);j++,$=Me[j]||{},de=!1}if(!(l>=f)){var se=void 0;(l>0||e.hskipBeforeAndAfter)&&(se=Ze.deflt($.pregap,T),se!==0&&(Ye=V.makeSpan(["arraycolsep"],[]),Ye.style.width=he(se),Ge.push(Ye)));var Pe=[];for(a=0;a<o;++a){var it=p[a],bn=it[l];if(bn){var _i=it.pos-pe;bn.depth=it.depth,bn.height=it.height,Pe.push({type:"elem",elem:bn,shift:_i})}}Pe=V.makeVList({positionType:"individualShift",children:Pe},i),Pe=V.makeSpan(["col-align-"+($.align||"c")],[Pe]),Ge.push(Pe),(l<f-1||e.hskipBeforeAndAfter)&&(se=Ze.deflt($.postgap,T),se!==0&&(Ye=V.makeSpan(["arraycolsep"],[]),Ye.style.width=he(se),Ge.push(Ye)))}}if(p=V.makeSpan(["mtable"],Ge),m.length>0){for(var cr=V.makeLineSpan("hline",i,x),Wn=V.makeLineSpan("hdashline",i,x),ue=[{type:"elem",elem:p,shift:0}];m.length>0;){var qe=m.pop(),De=qe.pos-pe;qe.isDashed?ue.push({type:"elem",elem:Wn,shift:De}):ue.push({type:"elem",elem:cr,shift:De})}p=V.makeVList({positionType:"individualShift",children:ue},i)}if(ie.length===0)return V.makeSpan(["mord"],[p],i);var rt=V.makeVList({positionType:"individualShift",children:ie},i);return rt=V.makeSpan(["tag"],[rt],i),V.makeFragment([p,rt])},MT={c:"center ",l:"left ",r:"right "},Zn=function(e,i){for(var a=[],l=new oe.MathNode("mtd",[],["mtr-glue"]),o=new oe.MathNode("mtd",[],["mml-eqn-num"]),c=0;c<e.body.length;c++){for(var f=e.body[c],p=[],m=0;m<f.length;m++)p.push(new oe.MathNode("mtd",[ut(f[m],i)]));e.tags&&e.tags[c]&&(p.unshift(l),p.push(l),e.leqno?p.unshift(o):p.push(o)),a.push(new oe.MathNode("mtr",p))}var x=new oe.MathNode("mtable",a),S=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);x.setAttribute("rowspacing",he(S));var T="",E="";if(e.cols&&e.cols.length>0){var _=e.cols,R="",k=!1,U=0,P=_.length;_[0].type==="separator"&&(T+="top ",U=1),_[_.length-1].type==="separator"&&(T+="bottom ",P-=1);for(var J=U;J<P;J++)_[J].type==="align"?(E+=MT[_[J].align],k&&(R+="none "),k=!0):_[J].type==="separator"&&k&&(R+=_[J].separator==="|"?"solid ":"dashed ",k=!1);x.setAttribute("columnalign",E.trim()),/[sd]/.test(R)&&x.setAttribute("columnlines",R.trim())}if(e.colSeparationType==="align"){for(var ee=e.cols||[],ae="",te=1;te<ee.length;te++)ae+=te%2?"0em ":"1em ";x.setAttribute("columnspacing",ae.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?x.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?x.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?x.setAttribute("columnspacing","0.5em"):x.setAttribute("columnspacing","1em");var q="",K=e.hLinesBeforeRow;T+=K[0].length>0?"left ":"",T+=K[K.length-1].length>0?"right ":"";for(var Z=1;Z<K.length-1;Z++)q+=K[Z].length===0?"none ":K[Z][0]?"dashed ":"solid ";return/[sd]/.test(q)&&x.setAttribute("rowlines",q.trim()),T!==""&&(x=new oe.MathNode("menclose",[x]),x.setAttribute("notation",T.trim())),e.arraystretch&&e.arraystretch<1&&(x=new oe.MathNode("mstyle",[x]),x.setAttribute("scriptlevel","1")),x},Rg=function(e,i){e.envName.indexOf("ed")===-1&&jo(e);var a=[],l=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",c=ur(e.parser,{cols:a,addJot:!0,autoTag:o?void 0:Td(e.envName),emptySingleRow:!0,colSeparationType:l,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),f,p=0,m={type:"ordgroup",mode:e.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){for(var x="",S=0;S<i[0].body.length;S++){var T=He(i[0].body[S],"textord");x+=T.text}f=Number(x),p=f*2}var E=!p;c.body.forEach(function(U){for(var P=1;P<U.length;P+=2){var J=He(U[P],"styling"),ee=He(J.body[0],"ordgroup");ee.body.unshift(m)}if(E)p<U.length&&(p=U.length);else{var ae=U.length/2;if(f<ae)throw new ce("Too many math in a row: "+("expected "+f+", but got "+ae),U[0])}});for(var _=0;_<p;++_){var R="r",k=0;_%2===1?R="l":_>0&&E&&(k=1),a[_]={type:"align",align:R,pregap:k,postgap:0}}return c.colSeparationType=E?"align":"alignat",c};$n({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var i=Oo(e[0]),a=i?[e[0]]:He(e[0],"ordgroup").body,l=a.map(function(c){var f=vd(c),p=f.text;if("lcr".indexOf(p)!==-1)return{type:"align",align:p};if(p==="|")return{type:"separator",separator:"|"};if(p===":")return{type:"separator",separator:":"};throw new ce("Unknown column alignment: "+p,c)}),o={cols:l,hskipBeforeAndAfter:!0,maxNumCols:l.length};return ur(t.parser,o,wd(t.envName))},htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],i="c",a={hskipBeforeAndAfter:!1,cols:[{type:"align",align:i}]};if(t.envName.charAt(t.envName.length-1)==="*"){var l=t.parser;if(l.consumeSpaces(),l.fetch().text==="["){if(l.consume(),l.consumeSpaces(),i=l.fetch().text,"lcr".indexOf(i)===-1)throw new ce("Expected l or c or r",l.nextToken);l.consume(),l.consumeSpaces(),l.expect("]"),l.consume(),a.cols=[{type:"align",align:i}]}}var o=ur(t.parser,a,wd(t.envName)),c=Math.max(0,...o.body.map(f=>f.length));return o.cols=new Array(c).fill({type:"align",align:i}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},i=ur(t.parser,e,"script");return i.colSeparationType="small",i},htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var i=Oo(e[0]),a=i?[e[0]]:He(e[0],"ordgroup").body,l=a.map(function(c){var f=vd(c),p=f.text;if("lc".indexOf(p)!==-1)return{type:"align",align:p};throw new ce("Unknown column alignment: "+p,c)});if(l.length>1)throw new ce("{subarray} can contain only one column");var o={cols:l,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=ur(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new ce("{subarray} can contain only one column");return o},htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},i=ur(t.parser,e,wd(t.envName));return{type:"leftright",mode:t.mode,body:[i],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Rg,htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&jo(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Td(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ur(t.parser,e,"display")},htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Rg,htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){jo(t);var e={autoTag:Td(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ur(t.parser,e,"display")},htmlBuilder:Qn,mathmlBuilder:Zn});$n({type:"array",names:["CD"],props:{numArgs:0},handler(t){return jo(t),mT(t.parser)},htmlBuilder:Qn,mathmlBuilder:Zn});M("\\nonumber","\\gdef\\@eqnsw{0}");M("\\notag","\\nonumber");ye({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ce(t.funcName+" valid only within array environment")}});var B4=Mg;ye({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:i,funcName:a}=t,l=e[0];if(l.type!=="ordgroup")throw new ce("Invalid environment name",l);for(var o="",c=0;c<l.body.length;++c)o+=He(l.body[c],"textord").text;if(a==="\\begin"){if(!B4.hasOwnProperty(o))throw new ce("No such environment: "+o,l);var f=B4[o],{args:p,optArgs:m}=i.parseArguments("\\begin{"+o+"}",f),x={mode:i.mode,envName:o,parser:i},S=f.handler(x,p,m);i.expect("\\end",!1);var T=i.nextToken,E=He(i.parseFunction(),"environment");if(E.name!==o)throw new ce("Mismatch: \\begin{"+o+"} matched by \\end{"+E.name+"}",T);return S}return{type:"environment",mode:i.mode,name:o,nameGroup:l}}});var kg=(t,e)=>{var i=t.font,a=e.withFont(i);return Xe(t.body,a)},Ig=(t,e)=>{var i=t.font,a=e.withFont(i);return ut(t.body,a)},H4={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ye({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:a}=t,l=ko(e[0]),o=a;return o in H4&&(o=H4[o]),{type:"font",mode:i.mode,font:o.slice(1),body:l}},htmlBuilder:kg,mathmlBuilder:Ig});ye({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:i}=t,a=e[0],l=Ze.isCharacterBox(a);return{type:"mclass",mode:i.mode,mclass:Vo(a),body:[{type:"font",mode:i.mode,font:"boldsymbol",body:a}],isCharacterBox:l}}});ye({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:a,breakOnTokenText:l}=t,{mode:o}=i,c=i.parseExpression(!0,l),f="math"+a.slice(1);return{type:"font",mode:o,font:f,body:{type:"ordgroup",mode:i.mode,body:c}}},htmlBuilder:kg,mathmlBuilder:Ig});var Dg=(t,e)=>{var i=e;return t==="display"?i=i.id>=Re.SCRIPT.id?i.text():Re.DISPLAY:t==="text"&&i.size===Re.DISPLAY.size?i=Re.TEXT:t==="script"?i=Re.SCRIPT:t==="scriptscript"&&(i=Re.SCRIPTSCRIPT),i},Ad=(t,e)=>{var i=Dg(t.size,e.style),a=i.fracNum(),l=i.fracDen(),o;o=e.havingStyle(a);var c=Xe(t.numer,o,e);if(t.continued){var f=8.5/e.fontMetrics().ptPerEm,p=3.5/e.fontMetrics().ptPerEm;c.height=c.height<f?f:c.height,c.depth=c.depth<p?p:c.depth}o=e.havingStyle(l);var m=Xe(t.denom,o,e),x,S,T;t.hasBarLine?(t.barSize?(S=vt(t.barSize,e),x=V.makeLineSpan("frac-line",e,S)):x=V.makeLineSpan("frac-line",e),S=x.height,T=x.height):(x=null,S=0,T=e.fontMetrics().defaultRuleThickness);var E,_,R;i.size===Re.DISPLAY.size||t.size==="display"?(E=e.fontMetrics().num1,S>0?_=3*T:_=7*T,R=e.fontMetrics().denom1):(S>0?(E=e.fontMetrics().num2,_=T):(E=e.fontMetrics().num3,_=3*T),R=e.fontMetrics().denom2);var k;if(x){var P=e.fontMetrics().axisHeight;E-c.depth-(P+.5*S)<_&&(E+=_-(E-c.depth-(P+.5*S))),P-.5*S-(m.height-R)<_&&(R+=_-(P-.5*S-(m.height-R)));var J=-(P-.5*S);k=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:R},{type:"elem",elem:x,shift:J},{type:"elem",elem:c,shift:-E}]},e)}else{var U=E-c.depth-(m.height-R);U<_&&(E+=.5*(_-U),R+=.5*(_-U)),k=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:R},{type:"elem",elem:c,shift:-E}]},e)}o=e.havingStyle(i),k.height*=o.sizeMultiplier/e.sizeMultiplier,k.depth*=o.sizeMultiplier/e.sizeMultiplier;var ee;i.size===Re.DISPLAY.size?ee=e.fontMetrics().delim1:i.size===Re.SCRIPTSCRIPT.size?ee=e.havingStyle(Re.SCRIPT).fontMetrics().delim2:ee=e.fontMetrics().delim2;var ae,te;return t.leftDelim==null?ae=Dl(e,["mopen"]):ae=Si.customSizedDelim(t.leftDelim,ee,!0,e.havingStyle(i),t.mode,["mopen"]),t.continued?te=V.makeSpan([]):t.rightDelim==null?te=Dl(e,["mclose"]):te=Si.customSizedDelim(t.rightDelim,ee,!0,e.havingStyle(i),t.mode,["mclose"]),V.makeSpan(["mord"].concat(o.sizingClasses(e)),[ae,V.makeSpan(["mfrac"],[k]),te],e)},Ed=(t,e)=>{var i=new oe.MathNode("mfrac",[ut(t.numer,e),ut(t.denom,e)]);if(!t.hasBarLine)i.setAttribute("linethickness","0px");else if(t.barSize){var a=vt(t.barSize,e);i.setAttribute("linethickness",he(a))}var l=Dg(t.size,e.style);if(l.size!==e.style.size){i=new oe.MathNode("mstyle",[i]);var o=l.size===Re.DISPLAY.size?"true":"false";i.setAttribute("displaystyle",o),i.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var c=[];if(t.leftDelim!=null){var f=new oe.MathNode("mo",[new oe.TextNode(t.leftDelim.replace("\\",""))]);f.setAttribute("fence","true"),c.push(f)}if(c.push(i),t.rightDelim!=null){var p=new oe.MathNode("mo",[new oe.TextNode(t.rightDelim.replace("\\",""))]);p.setAttribute("fence","true"),c.push(p)}return pd(c)}return i};ye({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:a}=t,l=e[0],o=e[1],c,f=null,p=null,m="auto";switch(a){case"\\dfrac":case"\\frac":case"\\tfrac":c=!0;break;case"\\\\atopfrac":c=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":c=!1,f="(",p=")";break;case"\\\\bracefrac":c=!1,f="\\{",p="\\}";break;case"\\\\brackfrac":c=!1,f="[",p="]";break;default:throw new Error("Unrecognized genfrac command")}switch(a){case"\\dfrac":case"\\dbinom":m="display";break;case"\\tfrac":case"\\tbinom":m="text";break}return{type:"genfrac",mode:i.mode,continued:!1,numer:l,denom:o,hasBarLine:c,leftDelim:f,rightDelim:p,size:m,barSize:null}},htmlBuilder:Ad,mathmlBuilder:Ed});ye({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:i,funcName:a}=t,l=e[0],o=e[1];return{type:"genfrac",mode:i.mode,continued:!0,numer:l,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ye({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:i,token:a}=t,l;switch(i){case"\\over":l="\\frac";break;case"\\choose":l="\\binom";break;case"\\atop":l="\\\\atopfrac";break;case"\\brace":l="\\\\bracefrac";break;case"\\brack":l="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:l,token:a}}});var G4=["display","text","script","scriptscript"],q4=function(e){var i=null;return e.length>0&&(i=e,i=i==="."?null:i),i};ye({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:i}=t,a=e[4],l=e[5],o=ko(e[0]),c=o.type==="atom"&&o.family==="open"?q4(o.text):null,f=ko(e[1]),p=f.type==="atom"&&f.family==="close"?q4(f.text):null,m=He(e[2],"size"),x,S=null;m.isBlank?x=!0:(S=m.value,x=S.number>0);var T="auto",E=e[3];if(E.type==="ordgroup"){if(E.body.length>0){var _=He(E.body[0],"textord");T=G4[Number(_.text)]}}else E=He(E,"textord"),T=G4[Number(E.text)];return{type:"genfrac",mode:i.mode,numer:a,denom:l,continued:!1,hasBarLine:x,barSize:S,leftDelim:c,rightDelim:p,size:T}},htmlBuilder:Ad,mathmlBuilder:Ed});ye({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:i,funcName:a,token:l}=t;return{type:"infix",mode:i.mode,replaceWith:"\\\\abovefrac",size:He(e[0],"size").value,token:l}}});ye({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:i,funcName:a}=t,l=e[0],o=rS(He(e[1],"infix").size),c=e[2],f=o.number>0;return{type:"genfrac",mode:i.mode,numer:l,denom:c,continued:!1,hasBarLine:f,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ad,mathmlBuilder:Ed});var zg=(t,e)=>{var i=e.style,a,l;t.type==="supsub"?(a=t.sup?Xe(t.sup,e.havingStyle(i.sup()),e):Xe(t.sub,e.havingStyle(i.sub()),e),l=He(t.base,"horizBrace")):l=He(t,"horizBrace");var o=Xe(l.base,e.havingBaseStyle(Re.DISPLAY)),c=Ei.svgSpan(l,e),f;if(l.isOver?(f=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:c}]},e),f.children[0].children[0].children[1].classes.push("svg-align")):(f=V.makeVList({positionType:"bottom",positionData:o.depth+.1+c.height,children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:o}]},e),f.children[0].children[0].children[0].classes.push("svg-align")),a){var p=V.makeSpan(["mord",l.isOver?"mover":"munder"],[f],e);l.isOver?f=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:p},{type:"kern",size:.2},{type:"elem",elem:a}]},e):f=V.makeVList({positionType:"bottom",positionData:p.depth+.2+a.height+a.depth,children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:p}]},e)}return V.makeSpan(["mord",l.isOver?"mover":"munder"],[f],e)},_T=(t,e)=>{var i=Ei.mathMLnode(t.label);return new oe.MathNode(t.isOver?"mover":"munder",[ut(t.base,e),i])};ye({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:a}=t;return{type:"horizBrace",mode:i.mode,label:a,isOver:/^\\over/.test(a),base:e[0]}},htmlBuilder:zg,mathmlBuilder:_T});ye({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,a=e[1],l=He(e[0],"url").url;return i.settings.isTrusted({command:"\\href",url:l})?{type:"href",mode:i.mode,href:l,body:wt(a)}:i.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var i=It(t.body,e,!1);return V.makeAnchor(t.href,[],i,e)},mathmlBuilder:(t,e)=>{var i=sr(t.body,e);return i instanceof vn||(i=new vn("mrow",[i])),i.setAttribute("href",t.href),i}});ye({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,a=He(e[0],"url").url;if(!i.settings.isTrusted({command:"\\url",url:a}))return i.formatUnsupportedCmd("\\url");for(var l=[],o=0;o<a.length;o++){var c=a[o];c==="~"&&(c="\\textasciitilde"),l.push({type:"textord",mode:"text",text:c})}var f={type:"text",mode:i.mode,font:"\\texttt",body:l};return{type:"href",mode:i.mode,href:a,body:wt(f)}}});ye({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:i}=t;return{type:"hbox",mode:i.mode,body:wt(e[0])}},htmlBuilder(t,e){var i=It(t.body,e,!1);return V.makeFragment(i)},mathmlBuilder(t,e){return new oe.MathNode("mrow",ln(t.body,e))}});ye({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:a,token:l}=t,o=He(e[0],"raw").string,c=e[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var f,p={};switch(a){case"\\htmlClass":p.class=o,f={command:"\\htmlClass",class:o};break;case"\\htmlId":p.id=o,f={command:"\\htmlId",id:o};break;case"\\htmlStyle":p.style=o,f={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var m=o.split(","),x=0;x<m.length;x++){var S=m[x],T=S.indexOf("=");if(T<0)throw new ce("\\htmlData key/value '"+S+"' missing equals sign");var E=S.slice(0,T),_=S.slice(T+1);p["data-"+E.trim()]=_}f={command:"\\htmlData",attributes:p};break}default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(f)?{type:"html",mode:i.mode,attributes:p,body:wt(c)}:i.formatUnsupportedCmd(a)},htmlBuilder:(t,e)=>{var i=It(t.body,e,!1),a=["enclosing"];t.attributes.class&&a.push(...t.attributes.class.trim().split(/\s+/));var l=V.makeSpan(a,i,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&l.setAttribute(o,t.attributes[o]);return l},mathmlBuilder:(t,e)=>sr(t.body,e)});ye({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"htmlmathml",mode:i.mode,html:wt(e[0]),mathml:wt(e[1])}},htmlBuilder:(t,e)=>{var i=It(t.html,e,!1);return V.makeFragment(i)},mathmlBuilder:(t,e)=>sr(t.mathml,e)});var Cc=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!i)throw new ce("Invalid size: '"+e+"' in \\includegraphics");var a={number:+(i[1]+i[2]),unit:i[3]};if(!W2(a))throw new ce("Invalid unit: '"+a.unit+"' in \\includegraphics.");return a};ye({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,i)=>{var{parser:a}=t,l={number:0,unit:"em"},o={number:.9,unit:"em"},c={number:0,unit:"em"},f="";if(i[0])for(var p=He(i[0],"raw").string,m=p.split(","),x=0;x<m.length;x++){var S=m[x].split("=");if(S.length===2){var T=S[1].trim();switch(S[0].trim()){case"alt":f=T;break;case"width":l=Cc(T);break;case"height":o=Cc(T);break;case"totalheight":c=Cc(T);break;default:throw new ce("Invalid key: '"+S[0]+"' in \\includegraphics.")}}}var E=He(e[0],"url").url;return f===""&&(f=E,f=f.replace(/^.*[\\/]/,""),f=f.substring(0,f.lastIndexOf("."))),a.settings.isTrusted({command:"\\includegraphics",url:E})?{type:"includegraphics",mode:a.mode,alt:f,width:l,height:o,totalheight:c,src:E}:a.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var i=vt(t.height,e),a=0;t.totalheight.number>0&&(a=vt(t.totalheight,e)-i);var l=0;t.width.number>0&&(l=vt(t.width,e));var o={height:he(i+a)};l>0&&(o.width=he(l)),a>0&&(o.verticalAlign=he(-a));var c=new _S(t.src,t.alt,o);return c.height=i,c.depth=a,c},mathmlBuilder:(t,e)=>{var i=new oe.MathNode("mglyph",[]);i.setAttribute("alt",t.alt);var a=vt(t.height,e),l=0;if(t.totalheight.number>0&&(l=vt(t.totalheight,e)-a,i.setAttribute("valign",he(-l))),i.setAttribute("height",he(a+l)),t.width.number>0){var o=vt(t.width,e);i.setAttribute("width",he(o))}return i.setAttribute("src",t.src),i}});ye({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:a}=t,l=He(e[0],"size");if(i.settings.strict){var o=a[1]==="m",c=l.value.unit==="mu";o?(c||i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" supports only mu units, "+("not "+l.value.unit+" units")),i.mode!=="math"&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" works only in math mode")):c&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" doesn't support mu units")}return{type:"kern",mode:i.mode,dimension:l.value}},htmlBuilder(t,e){return V.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var i=vt(t.dimension,e);return new oe.SpaceNode(i)}});ye({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:a}=t,l=e[0];return{type:"lap",mode:i.mode,alignment:a.slice(5),body:l}},htmlBuilder:(t,e)=>{var i;t.alignment==="clap"?(i=V.makeSpan([],[Xe(t.body,e)]),i=V.makeSpan(["inner"],[i],e)):i=V.makeSpan(["inner"],[Xe(t.body,e)]);var a=V.makeSpan(["fix"],[]),l=V.makeSpan([t.alignment],[i,a],e),o=V.makeSpan(["strut"]);return o.style.height=he(l.height+l.depth),l.depth&&(o.style.verticalAlign=he(-l.depth)),l.children.unshift(o),l=V.makeSpan(["thinbox"],[l],e),V.makeSpan(["mord","vbox"],[l],e)},mathmlBuilder:(t,e)=>{var i=new oe.MathNode("mpadded",[ut(t.body,e)]);if(t.alignment!=="rlap"){var a=t.alignment==="llap"?"-1":"-0.5";i.setAttribute("lspace",a+"width")}return i.setAttribute("width","0px"),i}});ye({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:i,parser:a}=t,l=a.mode;a.switchMode("math");var o=i==="\\("?"\\)":"$",c=a.parseExpression(!1,o);return a.expect(o),a.switchMode(l),{type:"styling",mode:a.mode,style:"text",body:c}}});ye({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ce("Mismatched "+t.funcName)}});var P4=(t,e)=>{switch(e.style.size){case Re.DISPLAY.size:return t.display;case Re.TEXT.size:return t.text;case Re.SCRIPT.size:return t.script;case Re.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ye({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"mathchoice",mode:i.mode,display:wt(e[0]),text:wt(e[1]),script:wt(e[2]),scriptscript:wt(e[3])}},htmlBuilder:(t,e)=>{var i=P4(t,e),a=It(i,e,!1);return V.makeFragment(a)},mathmlBuilder:(t,e)=>{var i=P4(t,e);return sr(i,e)}});var Lg=(t,e,i,a,l,o,c)=>{t=V.makeSpan([],[t]);var f=i&&Ze.isCharacterBox(i),p,m;if(e){var x=Xe(e,a.havingStyle(l.sup()),a);m={elem:x,kern:Math.max(a.fontMetrics().bigOpSpacing1,a.fontMetrics().bigOpSpacing3-x.depth)}}if(i){var S=Xe(i,a.havingStyle(l.sub()),a);p={elem:S,kern:Math.max(a.fontMetrics().bigOpSpacing2,a.fontMetrics().bigOpSpacing4-S.height)}}var T;if(m&&p){var E=a.fontMetrics().bigOpSpacing5+p.elem.height+p.elem.depth+p.kern+t.depth+c;T=V.makeVList({positionType:"bottom",positionData:E,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:p.elem,marginLeft:he(-o)},{type:"kern",size:p.kern},{type:"elem",elem:t},{type:"kern",size:m.kern},{type:"elem",elem:m.elem,marginLeft:he(o)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else if(p){var _=t.height-c;T=V.makeVList({positionType:"top",positionData:_,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:p.elem,marginLeft:he(-o)},{type:"kern",size:p.kern},{type:"elem",elem:t}]},a)}else if(m){var R=t.depth+c;T=V.makeVList({positionType:"bottom",positionData:R,children:[{type:"elem",elem:t},{type:"kern",size:m.kern},{type:"elem",elem:m.elem,marginLeft:he(o)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else return t;var k=[T];if(p&&o!==0&&!f){var U=V.makeSpan(["mspace"],[],a);U.style.marginRight=he(o),k.unshift(U)}return V.makeSpan(["mop","op-limits"],k,a)},Ug=["\\smallint"],Ra=(t,e)=>{var i,a,l=!1,o;t.type==="supsub"?(i=t.sup,a=t.sub,o=He(t.base,"op"),l=!0):o=He(t,"op");var c=e.style,f=!1;c.size===Re.DISPLAY.size&&o.symbol&&!Ug.includes(o.name)&&(f=!0);var p;if(o.symbol){var m=f?"Size2-Regular":"Size1-Regular",x="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(x=o.name.slice(1),o.name=x==="oiint"?"\\iint":"\\iiint"),p=V.makeSymbol(o.name,m,"math",e,["mop","op-symbol",f?"large-op":"small-op"]),x.length>0){var S=p.italic,T=V.staticSvg(x+"Size"+(f?"2":"1"),e);p=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:0},{type:"elem",elem:T,shift:f?.08:0}]},e),o.name="\\"+x,p.classes.unshift("mop"),p.italic=S}}else if(o.body){var E=It(o.body,e,!0);E.length===1&&E[0]instanceof zn?(p=E[0],p.classes[0]="mop"):p=V.makeSpan(["mop"],E,e)}else{for(var _=[],R=1;R<o.name.length;R++)_.push(V.mathsym(o.name[R],o.mode,e));p=V.makeSpan(["mop"],_,e)}var k=0,U=0;return(p instanceof zn||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(k=(p.height-p.depth)/2-e.fontMetrics().axisHeight,U=p.italic),l?Lg(p,i,a,e,c,U,k):(k&&(p.style.position="relative",p.style.top=he(k)),p)},Ul=(t,e)=>{var i;if(t.symbol)i=new vn("mo",[Ln(t.name,t.mode)]),Ug.includes(t.name)&&i.setAttribute("largeop","false");else if(t.body)i=new vn("mo",ln(t.body,e));else{i=new vn("mi",[new Kn(t.name.slice(1))]);var a=new vn("mo",[Ln("","text")]);t.parentIsSupSub?i=new vn("mrow",[i,a]):i=cg([i,a])}return i},RT={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ye({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:i,funcName:a}=t,l=a;return l.length===1&&(l=RT[l]),{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:l}},htmlBuilder:Ra,mathmlBuilder:Ul});ye({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:i}=t,a=e[0];return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:wt(a)}},htmlBuilder:Ra,mathmlBuilder:Ul});var kT={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ye({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:Ra,mathmlBuilder:Ul});ye({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:Ra,mathmlBuilder:Ul});ye({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:i}=t,a=i;return a.length===1&&(a=kT[a]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:Ra,mathmlBuilder:Ul});var Bg=(t,e)=>{var i,a,l=!1,o;t.type==="supsub"?(i=t.sup,a=t.sub,o=He(t.base,"operatorname"),l=!0):o=He(t,"operatorname");var c;if(o.body.length>0){for(var f=o.body.map(S=>{var T=S.text;return typeof T=="string"?{type:"textord",mode:S.mode,text:T}:S}),p=It(f,e.withFont("mathrm"),!0),m=0;m<p.length;m++){var x=p[m];x instanceof zn&&(x.text=x.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}c=V.makeSpan(["mop"],p,e)}else c=V.makeSpan(["mop"],[],e);return l?Lg(c,i,a,e,e.style,0,0):c},IT=(t,e)=>{for(var i=ln(t.body,e.withFont("mathrm")),a=!0,l=0;l<i.length;l++){var o=i[l];if(!(o instanceof oe.SpaceNode))if(o instanceof oe.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var c=o.children[0];o.children.length===1&&c instanceof oe.TextNode?c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):a=!1;break}default:a=!1}else a=!1}if(a){var f=i.map(x=>x.toText()).join("");i=[new oe.TextNode(f)]}var p=new oe.MathNode("mi",i);p.setAttribute("mathvariant","normal");var m=new oe.MathNode("mo",[Ln("","text")]);return t.parentIsSupSub?new oe.MathNode("mrow",[p,m]):oe.newDocumentFragment([p,m])};ye({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:a}=t,l=e[0];return{type:"operatorname",mode:i.mode,body:wt(l),alwaysHandleSupSub:a==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Bg,mathmlBuilder:IT});M("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Dr({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?V.makeFragment(It(t.body,e,!1)):V.makeSpan(["mord"],It(t.body,e,!0),e)},mathmlBuilder(t,e){return sr(t.body,e,!0)}});ye({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:i}=t,a=e[0];return{type:"overline",mode:i.mode,body:a}},htmlBuilder(t,e){var i=Xe(t.body,e.havingCrampedStyle()),a=V.makeLineSpan("overline-line",e),l=e.fontMetrics().defaultRuleThickness,o=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:3*l},{type:"elem",elem:a},{type:"kern",size:l}]},e);return V.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var i=new oe.MathNode("mo",[new oe.TextNode("")]);i.setAttribute("stretchy","true");var a=new oe.MathNode("mover",[ut(t.body,e),i]);return a.setAttribute("accent","true"),a}});ye({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,a=e[0];return{type:"phantom",mode:i.mode,body:wt(a)}},htmlBuilder:(t,e)=>{var i=It(t.body,e.withPhantom(),!1);return V.makeFragment(i)},mathmlBuilder:(t,e)=>{var i=ln(t.body,e);return new oe.MathNode("mphantom",i)}});ye({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,a=e[0];return{type:"hphantom",mode:i.mode,body:a}},htmlBuilder:(t,e)=>{var i=V.makeSpan([],[Xe(t.body,e.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var a=0;a<i.children.length;a++)i.children[a].height=0,i.children[a].depth=0;return i=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e),V.makeSpan(["mord"],[i],e)},mathmlBuilder:(t,e)=>{var i=ln(wt(t.body),e),a=new oe.MathNode("mphantom",i),l=new oe.MathNode("mpadded",[a]);return l.setAttribute("height","0px"),l.setAttribute("depth","0px"),l}});ye({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,a=e[0];return{type:"vphantom",mode:i.mode,body:a}},htmlBuilder:(t,e)=>{var i=V.makeSpan(["inner"],[Xe(t.body,e.withPhantom())]),a=V.makeSpan(["fix"],[]);return V.makeSpan(["mord","rlap"],[i,a],e)},mathmlBuilder:(t,e)=>{var i=ln(wt(t.body),e),a=new oe.MathNode("mphantom",i),l=new oe.MathNode("mpadded",[a]);return l.setAttribute("width","0px"),l}});ye({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t,a=He(e[0],"size").value,l=e[1];return{type:"raisebox",mode:i.mode,dy:a,body:l}},htmlBuilder(t,e){var i=Xe(t.body,e),a=vt(t.dy,e);return V.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){var i=new oe.MathNode("mpadded",[ut(t.body,e)]),a=t.dy.number+t.dy.unit;return i.setAttribute("voffset",a),i}});ye({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ye({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,i){var{parser:a}=t,l=i[0],o=He(e[0],"size"),c=He(e[1],"size");return{type:"rule",mode:a.mode,shift:l&&He(l,"size").value,width:o.value,height:c.value}},htmlBuilder(t,e){var i=V.makeSpan(["mord","rule"],[],e),a=vt(t.width,e),l=vt(t.height,e),o=t.shift?vt(t.shift,e):0;return i.style.borderRightWidth=he(a),i.style.borderTopWidth=he(l),i.style.bottom=he(o),i.width=a,i.height=l+o,i.depth=-o,i.maxFontSize=l*1.125*e.sizeMultiplier,i},mathmlBuilder(t,e){var i=vt(t.width,e),a=vt(t.height,e),l=t.shift?vt(t.shift,e):0,o=e.color&&e.getColor()||"black",c=new oe.MathNode("mspace");c.setAttribute("mathbackground",o),c.setAttribute("width",he(i)),c.setAttribute("height",he(a));var f=new oe.MathNode("mpadded",[c]);return l>=0?f.setAttribute("height",he(l)):(f.setAttribute("height",he(l)),f.setAttribute("depth",he(-l))),f.setAttribute("voffset",he(l)),f}});function Hg(t,e,i){for(var a=It(t,e,!1),l=e.sizeMultiplier/i.sizeMultiplier,o=0;o<a.length;o++){var c=a[o].classes.indexOf("sizing");c<0?Array.prototype.push.apply(a[o].classes,e.sizingClasses(i)):a[o].classes[c+1]==="reset-size"+e.size&&(a[o].classes[c+1]="reset-size"+i.size),a[o].height*=l,a[o].depth*=l}return V.makeFragment(a)}var O4=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],DT=(t,e)=>{var i=e.havingSize(t.size);return Hg(t.body,i,e)};ye({type:"sizing",names:O4,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:i,funcName:a,parser:l}=t,o=l.parseExpression(!1,i);return{type:"sizing",mode:l.mode,size:O4.indexOf(a)+1,body:o}},htmlBuilder:DT,mathmlBuilder:(t,e)=>{var i=e.havingSize(t.size),a=ln(t.body,i),l=new oe.MathNode("mstyle",a);return l.setAttribute("mathsize",he(i.sizeMultiplier)),l}});ye({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,i)=>{var{parser:a}=t,l=!1,o=!1,c=i[0]&&He(i[0],"ordgroup");if(c)for(var f="",p=0;p<c.body.length;++p){var m=c.body[p];if(f=m.text,f==="t")l=!0;else if(f==="b")o=!0;else{l=!1,o=!1;break}}else l=!0,o=!0;var x=e[0];return{type:"smash",mode:a.mode,body:x,smashHeight:l,smashDepth:o}},htmlBuilder:(t,e)=>{var i=V.makeSpan([],[Xe(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return i;if(t.smashHeight&&(i.height=0,i.children))for(var a=0;a<i.children.length;a++)i.children[a].height=0;if(t.smashDepth&&(i.depth=0,i.children))for(var l=0;l<i.children.length;l++)i.children[l].depth=0;var o=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e);return V.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var i=new oe.MathNode("mpadded",[ut(t.body,e)]);return t.smashHeight&&i.setAttribute("height","0px"),t.smashDepth&&i.setAttribute("depth","0px"),i}});ye({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:a}=t,l=i[0],o=e[0];return{type:"sqrt",mode:a.mode,body:o,index:l}},htmlBuilder(t,e){var i=Xe(t.body,e.havingCrampedStyle());i.height===0&&(i.height=e.fontMetrics().xHeight),i=V.wrapFragment(i,e);var a=e.fontMetrics(),l=a.defaultRuleThickness,o=l;e.style.id<Re.TEXT.id&&(o=e.fontMetrics().xHeight);var c=l+o/4,f=i.height+i.depth+c+l,{span:p,ruleWidth:m,advanceWidth:x}=Si.sqrtImage(f,e),S=p.height-m;S>i.height+i.depth+c&&(c=(c+S-i.height-i.depth)/2);var T=p.height-i.height-c-m;i.style.paddingLeft=he(x);var E=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+T)},{type:"elem",elem:p},{type:"kern",size:m}]},e);if(t.index){var _=e.havingStyle(Re.SCRIPTSCRIPT),R=Xe(t.index,_,e),k=.6*(E.height-E.depth),U=V.makeVList({positionType:"shift",positionData:-k,children:[{type:"elem",elem:R}]},e),P=V.makeSpan(["root"],[U]);return V.makeSpan(["mord","sqrt"],[P,E],e)}else return V.makeSpan(["mord","sqrt"],[E],e)},mathmlBuilder(t,e){var{body:i,index:a}=t;return a?new oe.MathNode("mroot",[ut(i,e),ut(a,e)]):new oe.MathNode("msqrt",[ut(i,e)])}});var V4={display:Re.DISPLAY,text:Re.TEXT,script:Re.SCRIPT,scriptscript:Re.SCRIPTSCRIPT};ye({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:i,funcName:a,parser:l}=t,o=l.parseExpression(!0,i),c=a.slice(1,a.length-5);return{type:"styling",mode:l.mode,style:c,body:o}},htmlBuilder(t,e){var i=V4[t.style],a=e.havingStyle(i).withFont("");return Hg(t.body,a,e)},mathmlBuilder(t,e){var i=V4[t.style],a=e.havingStyle(i),l=ln(t.body,a),o=new oe.MathNode("mstyle",l),c={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},f=c[t.style];return o.setAttribute("scriptlevel",f[0]),o.setAttribute("displaystyle",f[1]),o}});var zT=function(e,i){var a=e.base;if(a)if(a.type==="op"){var l=a.limits&&(i.style.size===Re.DISPLAY.size||a.alwaysHandleSupSub);return l?Ra:null}else if(a.type==="operatorname"){var o=a.alwaysHandleSupSub&&(i.style.size===Re.DISPLAY.size||a.limits);return o?Bg:null}else{if(a.type==="accent")return Ze.isCharacterBox(a.base)?yd:null;if(a.type==="horizBrace"){var c=!e.sub;return c===a.isOver?zg:null}else return null}else return null};Dr({type:"supsub",htmlBuilder(t,e){var i=zT(t,e);if(i)return i(t,e);var{base:a,sup:l,sub:o}=t,c=Xe(a,e),f,p,m=e.fontMetrics(),x=0,S=0,T=a&&Ze.isCharacterBox(a);if(l){var E=e.havingStyle(e.style.sup());f=Xe(l,E,e),T||(x=c.height-E.fontMetrics().supDrop*E.sizeMultiplier/e.sizeMultiplier)}if(o){var _=e.havingStyle(e.style.sub());p=Xe(o,_,e),T||(S=c.depth+_.fontMetrics().subDrop*_.sizeMultiplier/e.sizeMultiplier)}var R;e.style===Re.DISPLAY?R=m.sup1:e.style.cramped?R=m.sup3:R=m.sup2;var k=e.sizeMultiplier,U=he(.5/m.ptPerEm/k),P=null;if(p){var J=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(c instanceof zn||J)&&(P=he(-c.italic))}var ee;if(f&&p){x=Math.max(x,R,f.depth+.25*m.xHeight),S=Math.max(S,m.sub2);var ae=m.defaultRuleThickness,te=4*ae;if(x-f.depth-(p.height-S)<te){S=te-(x-f.depth)+p.height;var q=.8*m.xHeight-(x-f.depth);q>0&&(x+=q,S-=q)}var K=[{type:"elem",elem:p,shift:S,marginRight:U,marginLeft:P},{type:"elem",elem:f,shift:-x,marginRight:U}];ee=V.makeVList({positionType:"individualShift",children:K},e)}else if(p){S=Math.max(S,m.sub1,p.height-.8*m.xHeight);var Z=[{type:"elem",elem:p,marginLeft:P,marginRight:U}];ee=V.makeVList({positionType:"shift",positionData:S,children:Z},e)}else if(f)x=Math.max(x,R,f.depth+.25*m.xHeight),ee=V.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:f,marginRight:U}]},e);else throw new Error("supsub must have either sup or sub.");var me=Xc(c,"right")||"mord";return V.makeSpan([me],[c,V.makeSpan(["msupsub"],[ee])],e)},mathmlBuilder(t,e){var i=!1,a,l;t.base&&t.base.type==="horizBrace"&&(l=!!t.sup,l===t.base.isOver&&(i=!0,a=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[ut(t.base,e)];t.sub&&o.push(ut(t.sub,e)),t.sup&&o.push(ut(t.sup,e));var c;if(i)c=a?"mover":"munder";else if(t.sub)if(t.sup){var m=t.base;m&&m.type==="op"&&m.limits&&e.style===Re.DISPLAY||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(e.style===Re.DISPLAY||m.limits)?c="munderover":c="msubsup"}else{var p=t.base;p&&p.type==="op"&&p.limits&&(e.style===Re.DISPLAY||p.alwaysHandleSupSub)||p&&p.type==="operatorname"&&p.alwaysHandleSupSub&&(p.limits||e.style===Re.DISPLAY)?c="munder":c="msub"}else{var f=t.base;f&&f.type==="op"&&f.limits&&(e.style===Re.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||e.style===Re.DISPLAY)?c="mover":c="msup"}return new oe.MathNode(c,o)}});Dr({type:"atom",htmlBuilder(t,e){return V.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var i=new oe.MathNode("mo",[Ln(t.text,t.mode)]);if(t.family==="bin"){var a=gd(t,e);a==="bold-italic"&&i.setAttribute("mathvariant",a)}else t.family==="punct"?i.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&i.setAttribute("stretchy","false");return i}});var Gg={mi:"italic",mn:"normal",mtext:"normal"};Dr({type:"mathord",htmlBuilder(t,e){return V.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var i=new oe.MathNode("mi",[Ln(t.text,t.mode,e)]),a=gd(t,e)||"italic";return a!==Gg[i.type]&&i.setAttribute("mathvariant",a),i}});Dr({type:"textord",htmlBuilder(t,e){return V.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var i=Ln(t.text,t.mode,e),a=gd(t,e)||"normal",l;return t.mode==="text"?l=new oe.MathNode("mtext",[i]):/[0-9]/.test(t.text)?l=new oe.MathNode("mn",[i]):t.text==="\\prime"?l=new oe.MathNode("mo",[i]):l=new oe.MathNode("mi",[i]),a!==Gg[l.type]&&l.setAttribute("mathvariant",a),l}});var Nc={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Mc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Dr({type:"spacing",htmlBuilder(t,e){if(Mc.hasOwnProperty(t.text)){var i=Mc[t.text].className||"";if(t.mode==="text"){var a=V.makeOrd(t,e,"textord");return a.classes.push(i),a}else return V.makeSpan(["mspace",i],[V.mathsym(t.text,t.mode,e)],e)}else{if(Nc.hasOwnProperty(t.text))return V.makeSpan(["mspace",Nc[t.text]],[],e);throw new ce('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var i;if(Mc.hasOwnProperty(t.text))i=new oe.MathNode("mtext",[new oe.TextNode("")]);else{if(Nc.hasOwnProperty(t.text))return new oe.MathNode("mspace");throw new ce('Unknown type of space "'+t.text+'"')}return i}});var F4=()=>{var t=new oe.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Dr({type:"tag",mathmlBuilder(t,e){var i=new oe.MathNode("mtable",[new oe.MathNode("mtr",[F4(),new oe.MathNode("mtd",[sr(t.body,e)]),F4(),new oe.MathNode("mtd",[sr(t.tag,e)])])]);return i.setAttribute("width","100%"),i}});var j4={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Y4={"\\textbf":"textbf","\\textmd":"textmd"},LT={"\\textit":"textit","\\textup":"textup"},J4=(t,e)=>{var i=t.font;if(i){if(j4[i])return e.withTextFontFamily(j4[i]);if(Y4[i])return e.withTextFontWeight(Y4[i]);if(i==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(LT[i])};ye({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:a}=t,l=e[0];return{type:"text",mode:i.mode,body:wt(l),font:a}},htmlBuilder(t,e){var i=J4(t,e),a=It(t.body,i,!0);return V.makeSpan(["mord","text"],a,i)},mathmlBuilder(t,e){var i=J4(t,e);return sr(t.body,i)}});ye({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"underline",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Xe(t.body,e),a=V.makeLineSpan("underline-line",e),l=e.fontMetrics().defaultRuleThickness,o=V.makeVList({positionType:"top",positionData:i.height,children:[{type:"kern",size:l},{type:"elem",elem:a},{type:"kern",size:3*l},{type:"elem",elem:i}]},e);return V.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var i=new oe.MathNode("mo",[new oe.TextNode("")]);i.setAttribute("stretchy","true");var a=new oe.MathNode("munder",[ut(t.body,e),i]);return a.setAttribute("accentunder","true"),a}});ye({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"vcenter",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Xe(t.body,e),a=e.fontMetrics().axisHeight,l=.5*(i.height-a-(i.depth+a));return V.makeVList({positionType:"shift",positionData:l,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){return new oe.MathNode("mpadded",[ut(t.body,e)],["vcenter"])}});ye({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,i){throw new ce("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var i=X4(t),a=[],l=e.havingStyle(e.style.text()),o=0;o<i.length;o++){var c=i[o];c==="~"&&(c="\\textasciitilde"),a.push(V.makeSymbol(c,"Typewriter-Regular",t.mode,l,["mord","texttt"]))}return V.makeSpan(["mord","text"].concat(l.sizingClasses(e)),V.tryCombineChars(a),l)},mathmlBuilder(t,e){var i=new oe.TextNode(X4(t)),a=new oe.MathNode("mtext",[i]);return a.setAttribute("mathvariant","monospace"),a}});var X4=t=>t.body.replace(/ /g,t.star?"":""),rr=og,qg=`[ \r
	]`,UT="\\\\[a-zA-Z@]+",BT="\\\\[^\uD800-\uDFFF]",HT="("+UT+")"+qg+"*",GT=`\\\\(
|[ \r	]+
?)[ \r	]*`,Zc="[-]",qT=new RegExp(Zc+"+$"),PT="("+qg+"+)|"+(GT+"|")+"([!-\\[\\]---]"+(Zc+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Zc+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+HT)+("|"+BT+")");class K4{constructor(e,i){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=i,this.tokenRegex=new RegExp(PT,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,i){this.catcodes[e]=i}lex(){var e=this.input,i=this.tokenRegex.lastIndex;if(i===e.length)return new yn("EOF",new an(this,i,i));var a=this.tokenRegex.exec(e);if(a===null||a.index!==i)throw new ce("Unexpected character: '"+e[i]+"'",new yn(e[i],new an(this,i,i+1)));var l=a[6]||a[3]||(a[2]?"\\ ":" ");if(this.catcodes[l]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new yn(l,new an(this,i,this.tokenRegex.lastIndex))}}class OT{constructor(e,i){e===void 0&&(e={}),i===void 0&&(i={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=i,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ce("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var i in e)e.hasOwnProperty(i)&&(e[i]==null?delete this.current[i]:this.current[i]=e[i])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,i,a){if(a===void 0&&(a=!1),a){for(var l=0;l<this.undefStack.length;l++)delete this.undefStack[l][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=i)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}i==null?delete this.current[e]:this.current[e]=i}}var VT=_g;M("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});M("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});M("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});M("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});M("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var i=t.future();return e[0].length===1&&e[0][0].text===i.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});M("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");M("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var $4={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};M("\\char",function(t){var e=t.popToken(),i,a="";if(e.text==="'")i=8,e=t.popToken();else if(e.text==='"')i=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")a=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ce("\\char` missing argument");a=e.text.charCodeAt(0)}else i=10;if(i){if(a=$4[e.text],a==null||a>=i)throw new ce("Invalid base-"+i+" digit "+e.text);for(var l;(l=$4[t.future().text])!=null&&l<i;)a*=i,a+=l,t.popToken()}return"\\@char{"+a+"}"});var Cd=(t,e,i,a)=>{var l=t.consumeArg().tokens;if(l.length!==1)throw new ce("\\newcommand's first argument must be a macro name");var o=l[0].text,c=t.isDefined(o);if(c&&!e)throw new ce("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!c&&!i)throw new ce("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var f=0;if(l=t.consumeArg().tokens,l.length===1&&l[0].text==="["){for(var p="",m=t.expandNextToken();m.text!=="]"&&m.text!=="EOF";)p+=m.text,m=t.expandNextToken();if(!p.match(/^\s*[0-9]+\s*$/))throw new ce("Invalid number of arguments: "+p);f=parseInt(p),l=t.consumeArg().tokens}return c&&a||t.macros.set(o,{tokens:l,numArgs:f}),""};M("\\newcommand",t=>Cd(t,!1,!0,!1));M("\\renewcommand",t=>Cd(t,!0,!1,!1));M("\\providecommand",t=>Cd(t,!0,!0,!0));M("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(i=>i.text).join("")),""});M("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(i=>i.text).join("")),""});M("\\show",t=>{var e=t.popToken(),i=e.text;return console.log(e,t.macros.get(i),rr[i],ct.math[i],ct.text[i]),""});M("\\bgroup","{");M("\\egroup","}");M("~","\\nobreakspace");M("\\lq","`");M("\\rq","'");M("\\aa","\\r a");M("\\AA","\\r A");M("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");M("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");M("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");M("","\\mathscr{B}");M("","\\mathscr{E}");M("","\\mathscr{F}");M("","\\mathscr{H}");M("","\\mathscr{I}");M("","\\mathscr{L}");M("","\\mathscr{M}");M("","\\mathscr{R}");M("","\\mathfrak{C}");M("","\\mathfrak{H}");M("","\\mathfrak{Z}");M("\\Bbbk","\\Bbb{k}");M("","\\cdotp");M("\\llap","\\mathllap{\\textrm{#1}}");M("\\rlap","\\mathrlap{\\textrm{#1}}");M("\\clap","\\mathclap{\\textrm{#1}}");M("\\mathstrut","\\vphantom{(}");M("\\underbar","\\underline{\\text{#1}}");M("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');M("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");M("\\ne","\\neq");M("","\\neq");M("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");M("","\\notin");M("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");M("","\\perp");M("","\\mathclose{!\\mkern-0.8mu!}");M("","\\notni");M("","\\ulcorner");M("","\\urcorner");M("","\\llcorner");M("","\\lrcorner");M("","\\copyright");M("","\\textregistered");M("","\\textregistered");M("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');M("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');M("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');M("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');M("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");M("","\\vdots");M("\\varGamma","\\mathit{\\Gamma}");M("\\varDelta","\\mathit{\\Delta}");M("\\varTheta","\\mathit{\\Theta}");M("\\varLambda","\\mathit{\\Lambda}");M("\\varXi","\\mathit{\\Xi}");M("\\varPi","\\mathit{\\Pi}");M("\\varSigma","\\mathit{\\Sigma}");M("\\varUpsilon","\\mathit{\\Upsilon}");M("\\varPhi","\\mathit{\\Phi}");M("\\varPsi","\\mathit{\\Psi}");M("\\varOmega","\\mathit{\\Omega}");M("\\substack","\\begin{subarray}{c}#1\\end{subarray}");M("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");M("\\boxed","\\fbox{$\\displaystyle{#1}$}");M("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");M("\\implies","\\DOTSB\\;\\Longrightarrow\\;");M("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");M("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");M("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Q4={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};M("\\dots",function(t){var e="\\dotso",i=t.expandAfterFuture().text;return i in Q4?e=Q4[i]:(i.slice(0,4)==="\\not"||i in ct.math&&["bin","rel"].includes(ct.math[i].group))&&(e="\\dotsb"),e});var Nd={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};M("\\dotso",function(t){var e=t.future().text;return e in Nd?"\\ldots\\,":"\\ldots"});M("\\dotsc",function(t){var e=t.future().text;return e in Nd&&e!==","?"\\ldots\\,":"\\ldots"});M("\\cdots",function(t){var e=t.future().text;return e in Nd?"\\@cdots\\,":"\\@cdots"});M("\\dotsb","\\cdots");M("\\dotsm","\\cdots");M("\\dotsi","\\!\\cdots");M("\\dotsx","\\ldots\\,");M("\\DOTSI","\\relax");M("\\DOTSB","\\relax");M("\\DOTSX","\\relax");M("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");M("\\,","\\tmspace+{3mu}{.1667em}");M("\\thinspace","\\,");M("\\>","\\mskip{4mu}");M("\\:","\\tmspace+{4mu}{.2222em}");M("\\medspace","\\:");M("\\;","\\tmspace+{5mu}{.2777em}");M("\\thickspace","\\;");M("\\!","\\tmspace-{3mu}{.1667em}");M("\\negthinspace","\\!");M("\\negmedspace","\\tmspace-{4mu}{.2222em}");M("\\negthickspace","\\tmspace-{5mu}{.277em}");M("\\enspace","\\kern.5em ");M("\\enskip","\\hskip.5em\\relax");M("\\quad","\\hskip1em\\relax");M("\\qquad","\\hskip2em\\relax");M("\\tag","\\@ifstar\\tag@literal\\tag@paren");M("\\tag@paren","\\tag@literal{({#1})}");M("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ce("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});M("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");M("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");M("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");M("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");M("\\newline","\\\\\\relax");M("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Pg=he(Xn["Main-Regular"][84][1]-.7*Xn["Main-Regular"][65][1]);M("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Pg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");M("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Pg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");M("\\hspace","\\@ifstar\\@hspacer\\@hspace");M("\\@hspace","\\hskip #1\\relax");M("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");M("\\ordinarycolon",":");M("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");M("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');M("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');M("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');M("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');M("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');M("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');M("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');M("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');M("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');M("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');M("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');M("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');M("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');M("","\\dblcolon");M("","\\eqcolon");M("","\\coloneqq");M("","\\eqqcolon");M("","\\Coloneqq");M("\\ratio","\\vcentcolon");M("\\coloncolon","\\dblcolon");M("\\colonequals","\\coloneqq");M("\\coloncolonequals","\\Coloneqq");M("\\equalscolon","\\eqqcolon");M("\\equalscoloncolon","\\Eqqcolon");M("\\colonminus","\\coloneq");M("\\coloncolonminus","\\Coloneq");M("\\minuscolon","\\eqcolon");M("\\minuscoloncolon","\\Eqcolon");M("\\coloncolonapprox","\\Colonapprox");M("\\coloncolonsim","\\Colonsim");M("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");M("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");M("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");M("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");M("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");M("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");M("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");M("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");M("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");M("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");M("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");M("\\ngeqq","\\html@mathml{\\@ngeqq}{}");M("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");M("\\nleqq","\\html@mathml{\\@nleqq}{}");M("\\nleqslant","\\html@mathml{\\@nleqslant}{}");M("\\nshortmid","\\html@mathml{\\@nshortmid}{}");M("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");M("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");M("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");M("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");M("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");M("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");M("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");M("\\imath","\\html@mathml{\\@imath}{}");M("\\jmath","\\html@mathml{\\@jmath}{}");M("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");M("","\\llbracket");M("","\\rrbracket");M("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");M("","\\lBrace");M("","\\rBrace");M("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");M("","\\minuso");M("\\darr","\\downarrow");M("\\dArr","\\Downarrow");M("\\Darr","\\Downarrow");M("\\lang","\\langle");M("\\rang","\\rangle");M("\\uarr","\\uparrow");M("\\uArr","\\Uparrow");M("\\Uarr","\\Uparrow");M("\\N","\\mathbb{N}");M("\\R","\\mathbb{R}");M("\\Z","\\mathbb{Z}");M("\\alef","\\aleph");M("\\alefsym","\\aleph");M("\\Alpha","\\mathrm{A}");M("\\Beta","\\mathrm{B}");M("\\bull","\\bullet");M("\\Chi","\\mathrm{X}");M("\\clubs","\\clubsuit");M("\\cnums","\\mathbb{C}");M("\\Complex","\\mathbb{C}");M("\\Dagger","\\ddagger");M("\\diamonds","\\diamondsuit");M("\\empty","\\emptyset");M("\\Epsilon","\\mathrm{E}");M("\\Eta","\\mathrm{H}");M("\\exist","\\exists");M("\\harr","\\leftrightarrow");M("\\hArr","\\Leftrightarrow");M("\\Harr","\\Leftrightarrow");M("\\hearts","\\heartsuit");M("\\image","\\Im");M("\\infin","\\infty");M("\\Iota","\\mathrm{I}");M("\\isin","\\in");M("\\Kappa","\\mathrm{K}");M("\\larr","\\leftarrow");M("\\lArr","\\Leftarrow");M("\\Larr","\\Leftarrow");M("\\lrarr","\\leftrightarrow");M("\\lrArr","\\Leftrightarrow");M("\\Lrarr","\\Leftrightarrow");M("\\Mu","\\mathrm{M}");M("\\natnums","\\mathbb{N}");M("\\Nu","\\mathrm{N}");M("\\Omicron","\\mathrm{O}");M("\\plusmn","\\pm");M("\\rarr","\\rightarrow");M("\\rArr","\\Rightarrow");M("\\Rarr","\\Rightarrow");M("\\real","\\Re");M("\\reals","\\mathbb{R}");M("\\Reals","\\mathbb{R}");M("\\Rho","\\mathrm{P}");M("\\sdot","\\cdot");M("\\sect","\\S");M("\\spades","\\spadesuit");M("\\sub","\\subset");M("\\sube","\\subseteq");M("\\supe","\\supseteq");M("\\Tau","\\mathrm{T}");M("\\thetasym","\\vartheta");M("\\weierp","\\wp");M("\\Zeta","\\mathrm{Z}");M("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");M("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");M("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");M("\\bra","\\mathinner{\\langle{#1}|}");M("\\ket","\\mathinner{|{#1}\\rangle}");M("\\braket","\\mathinner{\\langle{#1}\\rangle}");M("\\Bra","\\left\\langle#1\\right|");M("\\Ket","\\left|#1\\right\\rangle");var Og=t=>e=>{var i=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.consumeArg().tokens,o=e.consumeArg().tokens,c=e.macros.get("|"),f=e.macros.get("\\|");e.macros.beginGroup();var p=S=>T=>{t&&(T.macros.set("|",c),l.length&&T.macros.set("\\|",f));var E=S;if(!S&&l.length){var _=T.future();_.text==="|"&&(T.popToken(),E=!0)}return{tokens:E?l:a,numArgs:0}};e.macros.set("|",p(!1)),l.length&&e.macros.set("\\|",p(!0));var m=e.consumeArg().tokens,x=e.expandTokens([...o,...m,...i]);return e.macros.endGroup(),{tokens:x.reverse(),numArgs:0}};M("\\bra@ket",Og(!1));M("\\bra@set",Og(!0));M("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");M("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");M("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");M("\\angln","{\\angl n}");M("\\blue","\\textcolor{##6495ed}{#1}");M("\\orange","\\textcolor{##ffa500}{#1}");M("\\pink","\\textcolor{##ff00af}{#1}");M("\\red","\\textcolor{##df0030}{#1}");M("\\green","\\textcolor{##28ae7b}{#1}");M("\\gray","\\textcolor{gray}{#1}");M("\\purple","\\textcolor{##9d38bd}{#1}");M("\\blueA","\\textcolor{##ccfaff}{#1}");M("\\blueB","\\textcolor{##80f6ff}{#1}");M("\\blueC","\\textcolor{##63d9ea}{#1}");M("\\blueD","\\textcolor{##11accd}{#1}");M("\\blueE","\\textcolor{##0c7f99}{#1}");M("\\tealA","\\textcolor{##94fff5}{#1}");M("\\tealB","\\textcolor{##26edd5}{#1}");M("\\tealC","\\textcolor{##01d1c1}{#1}");M("\\tealD","\\textcolor{##01a995}{#1}");M("\\tealE","\\textcolor{##208170}{#1}");M("\\greenA","\\textcolor{##b6ffb0}{#1}");M("\\greenB","\\textcolor{##8af281}{#1}");M("\\greenC","\\textcolor{##74cf70}{#1}");M("\\greenD","\\textcolor{##1fab54}{#1}");M("\\greenE","\\textcolor{##0d923f}{#1}");M("\\goldA","\\textcolor{##ffd0a9}{#1}");M("\\goldB","\\textcolor{##ffbb71}{#1}");M("\\goldC","\\textcolor{##ff9c39}{#1}");M("\\goldD","\\textcolor{##e07d10}{#1}");M("\\goldE","\\textcolor{##a75a05}{#1}");M("\\redA","\\textcolor{##fca9a9}{#1}");M("\\redB","\\textcolor{##ff8482}{#1}");M("\\redC","\\textcolor{##f9685d}{#1}");M("\\redD","\\textcolor{##e84d39}{#1}");M("\\redE","\\textcolor{##bc2612}{#1}");M("\\maroonA","\\textcolor{##ffbde0}{#1}");M("\\maroonB","\\textcolor{##ff92c6}{#1}");M("\\maroonC","\\textcolor{##ed5fa6}{#1}");M("\\maroonD","\\textcolor{##ca337c}{#1}");M("\\maroonE","\\textcolor{##9e034e}{#1}");M("\\purpleA","\\textcolor{##ddd7ff}{#1}");M("\\purpleB","\\textcolor{##c6b9fc}{#1}");M("\\purpleC","\\textcolor{##aa87ff}{#1}");M("\\purpleD","\\textcolor{##7854ab}{#1}");M("\\purpleE","\\textcolor{##543b78}{#1}");M("\\mintA","\\textcolor{##f5f9e8}{#1}");M("\\mintB","\\textcolor{##edf2df}{#1}");M("\\mintC","\\textcolor{##e0e5cc}{#1}");M("\\grayA","\\textcolor{##f6f7f7}{#1}");M("\\grayB","\\textcolor{##f0f1f2}{#1}");M("\\grayC","\\textcolor{##e3e5e6}{#1}");M("\\grayD","\\textcolor{##d6d8da}{#1}");M("\\grayE","\\textcolor{##babec2}{#1}");M("\\grayF","\\textcolor{##888d93}{#1}");M("\\grayG","\\textcolor{##626569}{#1}");M("\\grayH","\\textcolor{##3b3e40}{#1}");M("\\grayI","\\textcolor{##21242c}{#1}");M("\\kaBlue","\\textcolor{##314453}{#1}");M("\\kaGreen","\\textcolor{##71B307}{#1}");var Vg={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class FT{constructor(e,i,a){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=i,this.expansionCount=0,this.feed(e),this.macros=new OT(VT,i.macros),this.mode=a,this.stack=[]}feed(e){this.lexer=new K4(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var i,a,l;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;i=this.popToken(),{tokens:l,end:a}=this.consumeArg(["]"])}else({tokens:l,start:i,end:a}=this.consumeArg());return this.pushToken(new yn("EOF",a.loc)),this.pushTokens(l),new yn("",an.range(i,a))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var i=[],a=e&&e.length>0;a||this.consumeSpaces();var l=this.future(),o,c=0,f=0;do{if(o=this.popToken(),i.push(o),o.text==="{")++c;else if(o.text==="}"){if(--c,c===-1)throw new ce("Extra }",o)}else if(o.text==="EOF")throw new ce("Unexpected end of input in a macro argument, expected '"+(e&&a?e[f]:"}")+"'",o);if(e&&a)if((c===0||c===1&&e[f]==="{")&&o.text===e[f]){if(++f,f===e.length){i.splice(-f,f);break}}else f=0}while(c!==0||a);return l.text==="{"&&i[i.length-1].text==="}"&&(i.pop(),i.shift()),i.reverse(),{tokens:i,start:l,end:o}}consumeArgs(e,i){if(i){if(i.length!==e+1)throw new ce("The length of delimiters doesn't match the number of args!");for(var a=i[0],l=0;l<a.length;l++){var o=this.popToken();if(a[l]!==o.text)throw new ce("Use of the macro doesn't match its definition",o)}}for(var c=[],f=0;f<e;f++)c.push(this.consumeArg(i&&i[f+1]).tokens);return c}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ce("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var i=this.popToken(),a=i.text,l=i.noexpand?null:this._getExpansion(a);if(l==null||e&&l.unexpandable){if(e&&l==null&&a[0]==="\\"&&!this.isDefined(a))throw new ce("Undefined control sequence: "+a);return this.pushToken(i),!1}this.countExpansion(1);var o=l.tokens,c=this.consumeArgs(l.numArgs,l.delimiters);if(l.numArgs){o=o.slice();for(var f=o.length-1;f>=0;--f){var p=o[f];if(p.text==="#"){if(f===0)throw new ce("Incomplete placeholder at end of macro body",p);if(p=o[--f],p.text==="#")o.splice(f+1,1);else if(/^[1-9]$/.test(p.text))o.splice(f,2,...c[+p.text-1]);else throw new ce("Not a valid argument number",p)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new yn(e)]):void 0}expandTokens(e){var i=[],a=this.stack.length;for(this.pushTokens(e);this.stack.length>a;)if(this.expandOnce(!0)===!1){var l=this.stack.pop();l.treatAsRelax&&(l.noexpand=!1,l.treatAsRelax=!1),i.push(l)}return this.countExpansion(i.length),i}expandMacroAsText(e){var i=this.expandMacro(e);return i&&i.map(a=>a.text).join("")}_getExpansion(e){var i=this.macros.get(e);if(i==null)return i;if(e.length===1){var a=this.lexer.catcodes[e];if(a!=null&&a!==13)return}var l=typeof i=="function"?i(this):i;if(typeof l=="string"){var o=0;if(l.indexOf("#")!==-1)for(var c=l.replace(/##/g,"");c.indexOf("#"+(o+1))!==-1;)++o;for(var f=new K4(l,this.settings),p=[],m=f.lex();m.text!=="EOF";)p.push(m),m=f.lex();p.reverse();var x={tokens:p,numArgs:o};return x}return l}isDefined(e){return this.macros.has(e)||rr.hasOwnProperty(e)||ct.math.hasOwnProperty(e)||ct.text.hasOwnProperty(e)||Vg.hasOwnProperty(e)}isExpandable(e){var i=this.macros.get(e);return i!=null?typeof i=="string"||typeof i=="function"||!i.unexpandable:rr.hasOwnProperty(e)&&!rr[e].primitive}}var Z4=/^[]/,po=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),_c={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},W4={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Yo{constructor(e,i){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new FT(e,i,this.mode),this.settings=i,this.leftrightDepth=0}expect(e,i){if(i===void 0&&(i=!0),this.fetch().text!==e)throw new ce("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());i&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var i=this.nextToken;this.consume(),this.gullet.pushToken(new yn("}")),this.gullet.pushTokens(e);var a=this.parseExpression(!1);return this.expect("}"),this.nextToken=i,a}parseExpression(e,i){for(var a=[];;){this.mode==="math"&&this.consumeSpaces();var l=this.fetch();if(Yo.endOfExpression.indexOf(l.text)!==-1||i&&l.text===i||e&&rr[l.text]&&rr[l.text].infix)break;var o=this.parseAtom(i);if(o){if(o.type==="internal")continue}else break;a.push(o)}return this.mode==="text"&&this.formLigatures(a),this.handleInfixNodes(a)}handleInfixNodes(e){for(var i=-1,a,l=0;l<e.length;l++)if(e[l].type==="infix"){if(i!==-1)throw new ce("only one infix operator per group",e[l].token);i=l,a=e[l].replaceWith}if(i!==-1&&a){var o,c,f=e.slice(0,i),p=e.slice(i+1);f.length===1&&f[0].type==="ordgroup"?o=f[0]:o={type:"ordgroup",mode:this.mode,body:f},p.length===1&&p[0].type==="ordgroup"?c=p[0]:c={type:"ordgroup",mode:this.mode,body:p};var m;return a==="\\\\abovefrac"?m=this.callFunction(a,[o,e[i],c],[]):m=this.callFunction(a,[o,c],[]),[m]}else return e}handleSupSubscript(e){var i=this.fetch(),a=i.text;this.consume(),this.consumeSpaces();var l;do{var o;l=this.parseGroup(e)}while(((o=l)==null?void 0:o.type)==="internal");if(!l)throw new ce("Expected group after '"+a+"'",i);return l}formatUnsupportedCmd(e){for(var i=[],a=0;a<e.length;a++)i.push({type:"textord",mode:"text",text:e[a]});var l={type:"text",mode:this.mode,body:i},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[l]};return o}parseAtom(e){var i=this.parseGroup("atom",e);if((i==null?void 0:i.type)==="internal"||this.mode==="text")return i;for(var a,l;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(i&&i.type==="op"){var c=o.text==="\\limits";i.limits=c,i.alwaysHandleSupSub=!0}else if(i&&i.type==="operatorname")i.alwaysHandleSupSub&&(i.limits=o.text==="\\limits");else throw new ce("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(a)throw new ce("Double superscript",o);a=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(l)throw new ce("Double subscript",o);l=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(a)throw new ce("Double superscript",o);var f={type:"textord",mode:this.mode,text:"\\prime"},p=[f];for(this.consume();this.fetch().text==="'";)p.push(f),this.consume();this.fetch().text==="^"&&p.push(this.handleSupSubscript("superscript")),a={type:"ordgroup",mode:this.mode,body:p}}else if(po[o.text]){var m=Z4.test(o.text),x=[];for(x.push(new yn(po[o.text])),this.consume();;){var S=this.fetch().text;if(!po[S]||Z4.test(S)!==m)break;x.unshift(new yn(po[S])),this.consume()}var T=this.subparse(x);m?l={type:"ordgroup",mode:"math",body:T}:a={type:"ordgroup",mode:"math",body:T}}else break}return a||l?{type:"supsub",mode:this.mode,base:i,sup:a,sub:l}:i}parseFunction(e,i){var a=this.fetch(),l=a.text,o=rr[l];if(!o)return null;if(this.consume(),i&&i!=="atom"&&!o.allowedInArgument)throw new ce("Got function '"+l+"' with no arguments"+(i?" as "+i:""),a);if(this.mode==="text"&&!o.allowedInText)throw new ce("Can't use function '"+l+"' in text mode",a);if(this.mode==="math"&&o.allowedInMath===!1)throw new ce("Can't use function '"+l+"' in math mode",a);var{args:c,optArgs:f}=this.parseArguments(l,o);return this.callFunction(l,c,f,a,e)}callFunction(e,i,a,l,o){var c={funcName:e,parser:this,token:l,breakOnTokenText:o},f=rr[e];if(f&&f.handler)return f.handler(c,i,a);throw new ce("No function handler for "+e)}parseArguments(e,i){var a=i.numArgs+i.numOptionalArgs;if(a===0)return{args:[],optArgs:[]};for(var l=[],o=[],c=0;c<a;c++){var f=i.argTypes&&i.argTypes[c],p=c<i.numOptionalArgs;(i.primitive&&f==null||i.type==="sqrt"&&c===1&&o[0]==null)&&(f="primitive");var m=this.parseGroupOfType("argument to '"+e+"'",f,p);if(p)o.push(m);else if(m!=null)l.push(m);else throw new ce("Null argument, please report this as a bug")}return{args:l,optArgs:o}}parseGroupOfType(e,i,a){switch(i){case"color":return this.parseColorGroup(a);case"size":return this.parseSizeGroup(a);case"url":return this.parseUrlGroup(a);case"math":case"text":return this.parseArgumentGroup(a,i);case"hbox":{var l=this.parseArgumentGroup(a,"text");return l!=null?{type:"styling",mode:l.mode,body:[l],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",a);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(a)throw new ce("A primitive argument cannot be optional");var c=this.parseGroup(e);if(c==null)throw new ce("Expected group as "+e,this.fetch());return c}case"original":case null:case void 0:return this.parseArgumentGroup(a);default:throw new ce("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,i){var a=this.gullet.scanArgument(i);if(a==null)return null;for(var l="",o;(o=this.fetch()).text!=="EOF";)l+=o.text,this.consume();return this.consume(),a.text=l,a}parseRegexGroup(e,i){for(var a=this.fetch(),l=a,o="",c;(c=this.fetch()).text!=="EOF"&&e.test(o+c.text);)l=c,o+=l.text,this.consume();if(o==="")throw new ce("Invalid "+i+": '"+a.text+"'",a);return a.range(l,o)}parseColorGroup(e){var i=this.parseStringGroup("color",e);if(i==null)return null;var a=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(i.text);if(!a)throw new ce("Invalid color: '"+i.text+"'",i);var l=a[0];return/^[0-9a-f]{6}$/i.test(l)&&(l="#"+l),{type:"color-token",mode:this.mode,color:l}}parseSizeGroup(e){var i,a=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?i=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):i=this.parseStringGroup("size",e),!i)return null;!e&&i.text.length===0&&(i.text="0pt",a=!0);var l=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(i.text);if(!l)throw new ce("Invalid size: '"+i.text+"'",i);var o={number:+(l[1]+l[2]),unit:l[3]};if(!W2(o))throw new ce("Invalid unit: '"+o.unit+"'",i);return{type:"size",mode:this.mode,value:o,isBlank:a}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var i=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),i==null)return null;var a=i.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:a}}parseArgumentGroup(e,i){var a=this.gullet.scanArgument(e);if(a==null)return null;var l=this.mode;i&&this.switchMode(i),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var c={type:"ordgroup",mode:this.mode,loc:a.loc,body:o};return i&&this.switchMode(l),c}parseGroup(e,i){var a=this.fetch(),l=a.text,o;if(l==="{"||l==="\\begingroup"){this.consume();var c=l==="{"?"}":"\\endgroup";this.gullet.beginGroup();var f=this.parseExpression(!1,c),p=this.fetch();this.expect(c),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:an.range(a,p),body:f,semisimple:l==="\\begingroup"||void 0}}else if(o=this.parseFunction(i,e)||this.parseSymbol(),o==null&&l[0]==="\\"&&!Vg.hasOwnProperty(l)){if(this.settings.throwOnError)throw new ce("Undefined control sequence: "+l,a);o=this.formatUnsupportedCmd(l),this.consume()}return o}formLigatures(e){for(var i=e.length-1,a=0;a<i;++a){var l=e[a],o=l.text;o==="-"&&e[a+1].text==="-"&&(a+1<i&&e[a+2].text==="-"?(e.splice(a,3,{type:"textord",mode:"text",loc:an.range(l,e[a+2]),text:"---"}),i-=2):(e.splice(a,2,{type:"textord",mode:"text",loc:an.range(l,e[a+1]),text:"--"}),i-=1)),(o==="'"||o==="`")&&e[a+1].text===o&&(e.splice(a,2,{type:"textord",mode:"text",loc:an.range(l,e[a+1]),text:o+o}),i-=1)}}parseSymbol(){var e=this.fetch(),i=e.text;if(/^\\verb[^a-zA-Z]/.test(i)){this.consume();var a=i.slice(5),l=a.charAt(0)==="*";if(l&&(a=a.slice(1)),a.length<2||a.charAt(0)!==a.slice(-1))throw new ce(`\\verb assertion failed --
                    please report what input caused this bug`);return a=a.slice(1,-1),{type:"verb",mode:"text",body:a,star:l}}W4.hasOwnProperty(i[0])&&!ct[this.mode][i[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+i[0]+'" used in math mode',e),i=W4[i[0]]+i.slice(1));var o=qT.exec(i);o&&(i=i.substring(0,o.index),i==="i"?i="":i==="j"&&(i=""));var c;if(ct[this.mode][i]){this.settings.strict&&this.mode==="math"&&Jc.indexOf(i)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+i[0]+'" used in math mode',e);var f=ct[this.mode][i].group,p=an.range(e),m;if(IS.hasOwnProperty(f)){var x=f;m={type:"atom",mode:this.mode,family:x,loc:p,text:i}}else m={type:f,mode:this.mode,loc:p,text:i};c=m}else if(i.charCodeAt(0)>=128)this.settings.strict&&(Z2(i.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+i[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+i[0]+'"'+(" ("+i.charCodeAt(0)+")"),e)),c={type:"textord",mode:"text",loc:an.range(e),text:i};else return null;if(this.consume(),o)for(var S=0;S<o[0].length;S++){var T=o[0][S];if(!_c[T])throw new ce("Unknown accent ' "+T+"'",e);var E=_c[T][this.mode]||_c[T].text;if(!E)throw new ce("Accent "+T+" unsupported in "+this.mode+" mode",e);c={type:"accent",mode:this.mode,loc:an.range(e),label:E,isStretchy:!1,isShifty:!0,base:c}}return c}}Yo.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Md=function(e,i){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var a=new Yo(e,i);delete a.gullet.macros.current["\\df@tag"];var l=a.parse();if(delete a.gullet.macros.current["\\current@color"],delete a.gullet.macros.current["\\color"],a.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new ce("\\tag works only in display equations");l=[{type:"tag",mode:"text",body:l,tag:a.subparse([new yn("\\df@tag")])}]}return l},Fg=function(e,i,a){i.textContent="";var l=_d(e,a).toNode();i.appendChild(l)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Fg=function(){throw new ce("KaTeX doesn't work in quirks mode.")});var jT=function(e,i){var a=_d(e,i).toMarkup();return a},YT=function(e,i){var a=new cd(i);return Md(e,a)},jg=function(e,i,a){if(a.throwOnError||!(e instanceof ce))throw e;var l=V.makeSpan(["katex-error"],[new zn(i)]);return l.setAttribute("title",e.toString()),l.setAttribute("style","color:"+a.errorColor),l},_d=function(e,i){var a=new cd(i);try{var l=Md(e,a);return tT(l,e,a)}catch(o){return jg(o,e,a)}},JT=function(e,i){var a=new cd(i);try{var l=Md(e,a);return nT(l,e,a)}catch(o){return jg(o,e,a)}},XT="0.16.27",KT={Span:Ll,Anchor:hd,SymbolNode:zn,SvgNode:wi,PathNode:lr,LineNode:Yc},$T={version:XT,render:Fg,renderToString:jT,ParseError:ce,SETTINGS_SCHEMA:yo,__parse:YT,__renderToDomTree:_d,__renderToHTMLTree:JT,__setFontMetrics:AS,__defineSymbol:b,__defineFunction:ye,__defineMacro:M,__domTree:KT};const QT="latexAutofixEnabled",ZT=()=>{try{const t=localStorage.getItem(QT);return t===null?!0:t==="true"}catch{return!0}},Nl=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),kt=ge.memo(({content:t,className:e="",enableAutoFix:i})=>{const a=ge.useMemo(()=>{const o=String(t||"");if(!o)return"";const c=o,f=c.includes("$$")||c.includes("\\(")||c.includes("\\[")||/(^|[^\\])\$/.test(c),p=/\\(frac|sqrt|times|cdot|pm|leq|geq|neq|approx|sin|cos|tan|log|ln)\b/.test(c)||new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)").test(c),x=(i??ZT())&&!f&&p,S=new RegExp("(\\$\\$[\\s\\S]+?\\$\\$|\\\\\\[[\\s\\S]+?\\\\\\]|\\\\\\(.*?\\\\\\)|(?<!\\\\)\\$.*?\\$)","g");let T;try{T=c.split(S)}catch{const P=/(\$\$[\s\S]+?\$\$|\\\[[\s\S]+?\\\]|\\\(.*?\\\))/g;T=c.split(P)}const E=/\\frac\s*\{[^{}]*\}\s*\{[^{}]*\}/g,_=/\\(?:frac|sqrt|times|cdot|pm|leq|geq|neq|approx|pi|theta|sin|cos|tan|log|ln)\b(?:\s*\{[^{}]*\})?/g,R=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)(?:\\s*[+\\-*/]\\s*\\d+)?","g"),k=U=>{if(!x)return Nl(U).replace(/\n/g,"<br/>");const P=[],J=String(U||""),ee=new RegExp(`${E.source}|${_.source}|${R.source}`,"g");let ae=0;for(const te of J.matchAll(ee)){if(te.index==null)continue;const q=te.index,K=q+te[0].length;q>ae&&P.push(Nl(J.slice(ae,q)).replace(/\n/g,"<br/>"));const Z=te[0];/^\\[ntr]$/.test(Z)?P.push(Nl(Z)):P.push(l(Z,!1)),ae=K}return ae<J.length&&P.push(Nl(J.slice(ae)).replace(/\n/g,"<br/>")),P.join("")};return T.map(U=>U?U.startsWith("$$")&&U.endsWith("$$")||U.startsWith("\\[")&&U.endsWith("\\]")?l(U.slice(2,-2),!0):U.startsWith("\\(")&&U.endsWith("\\)")?l(U.slice(2,-2),!1):U.startsWith("$")&&U.endsWith("$")?l(U.slice(1,-1),!1):k(U):"").join("")},[t,i]);function l(o,c){try{return $T.renderToString(o,{displayMode:c,throwOnError:!1,output:"html",strict:!1,trust:!0,macros:{"\\RR":"\\mathbb{R}","\\NN":"\\mathbb{N}"}})}catch(f){return console.warn("KaTeX render error for formula:",o,f),`<code class="bg-red-50 text-red-600 px-1 rounded">${Nl(o)}</code>`}}return v.jsx("div",{className:`latex-container ${e} prose prose-slate max-w-none leading-relaxed transition-opacity duration-200`,dangerouslySetInnerHTML:{__html:a}})});kt.displayName="LaTeXRenderer";const WT=({question:t,isSelected:e=!1,onToggleSelect:i,onDelete:a,onRestore:l,onView:o,onEdit:c,onUpdateDifficulty:f,onSelectKnowledgePoint:p,isTrashMode:m=!1})=>{const[x,S]=ge.useState(!1),[T,E]=ge.useState(!1),_=4,R=(q,K)=>{q.stopPropagation(),f==null||f(t.id,K)},k=(q,K)=>{q.stopPropagation(),p==null||p(K)},U=q=>{q.stopPropagation(),S(!x)},P=q=>{q.stopPropagation(),E(!T)},J=q=>{q.stopPropagation(),i==null||i()},ee=Array.isArray(t.knowledgePoints)?t.knowledgePoints:[],ae=x?ee:ee.slice(0,_),te=ee.length>_;return v.jsxs("div",{className:`bg-white rounded-xl shadow-sm border overflow-hidden hover:shadow-md transition-all flex flex-col h-full group relative cursor-pointer ${e?"border-indigo-500 ring-2 ring-indigo-500/20":"border-slate-200"}`,onClick:()=>o==null?void 0:o(t),children:[v.jsx("div",{className:`absolute top-2 right-2 z-20 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shadow-sm ${e?"bg-indigo-600 border-indigo-600 scale-110":"bg-white/80 border-slate-300 opacity-0 group-hover:opacity-100 hover:border-indigo-400 backdrop-blur-sm"}`,onClick:J,children:e&&v.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),t.image&&v.jsxs("div",{className:"relative h-40 shrink-0 overflow-hidden bg-slate-100 border-b border-slate-100",children:[v.jsx("img",{src:t.image,alt:"Question",className:"w-full h-full object-contain"}),t.diagramDescription&&v.jsx("div",{className:"absolute top-2 left-2 z-10",children:v.jsx("button",{onClick:P,className:`p-1.5 rounded-lg backdrop-blur-md transition-all border ${T?"bg-indigo-600 text-white border-indigo-500":"bg-white/70 text-slate-600 border-white/50 hover:bg-white/90 shadow-sm"}`,title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),T&&t.diagramDescription&&v.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm p-4 flex items-center justify-center animate-in fade-in duration-200",children:v.jsxs("div",{className:"relative text-white text-xs leading-relaxed max-h-full overflow-y-auto",children:[v.jsx("p",{className:"font-bold mb-1 flex items-center gap-1 opacity-70",children:""}),t.diagramDescription,v.jsx("button",{onClick:P,className:"absolute -top-2 -right-2 p-1 text-white/50 hover:text-white",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})]}),v.jsxs("div",{className:`p-4 flex flex-col flex-1 transition-colors ${e?"bg-indigo-50/30":""}`,children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full uppercase",children:t.subject}),v.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((q,K)=>v.jsx("button",{onClick:Z=>R(Z,K+1),className:"focus:outline-none hover:scale-110 transition-transform",children:v.jsx("svg",{className:`w-4 h-4 ${K<t.difficulty?"fill-current":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},K))})]}),v.jsx("div",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:v.jsx(kt,{content:t.content})}),v.jsx("div",{className:"mt-auto pt-2 border-t border-slate-50",children:v.jsxs("div",{className:"flex flex-wrap gap-1",children:[ae.map((q,K)=>v.jsxs("button",{onClick:Z=>k(Z,q),className:"text-[10px] px-1.5 py-0.5 bg-slate-50 text-slate-500 rounded border border-slate-100 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-100 transition-all focus:outline-none",children:["#",q]},K)),te&&v.jsx("button",{onClick:U,className:"text-[10px] px-1.5 py-0.5 text-indigo-500 hover:text-indigo-700 font-semibold focus:outline-none",children:x?"":`+${t.knowledgePoints.length-_}`})]})}),v.jsxs("div",{className:"flex justify-between items-center border-t border-slate-50 mt-4 pt-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[!m&&t.lastReviewedAt&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded font-bold uppercase tracking-widest",children:""}),m&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded font-bold uppercase tracking-widest",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[!m&&v.jsx("button",{onClick:q=>{q.stopPropagation(),c==null||c(t)},className:"p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),m?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:q=>{q.stopPropagation(),l==null||l(t.id)},className:"p-1 text-emerald-500 hover:bg-emerald-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v.jsx("button",{onClick:q=>{q.stopPropagation(),a==null||a(t.id)},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):v.jsx("button",{onClick:q=>{q.stopPropagation(),a==null||a(t.id)},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})]})},ew=({question:t,isSelected:e=!1,onToggleSelect:i,onDelete:a,onRestore:l,onView:o,onEdit:c,onUpdateDifficulty:f,onSelectKnowledgePoint:p,isTrashMode:m=!1})=>{const x=(E,_)=>{E.stopPropagation(),f==null||f(t.id,_)},S=E=>{E.stopPropagation(),i==null||i()},T=(E,_)=>{E.stopPropagation(),p==null||p(_)};return v.jsxs("tr",{className:`group hover:bg-slate-50 transition-colors cursor-pointer ${e?"bg-indigo-50/50":""}`,onClick:()=>o==null?void 0:o(t),children:[v.jsx("td",{className:"px-6 py-4 text-center",children:v.jsx("div",{onClick:S,className:`w-5 h-5 mx-auto rounded border-2 flex items-center justify-center transition-all ${e?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 hover:border-indigo-400"}`,children:e&&v.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-[10px] font-bold rounded uppercase whitespace-nowrap",children:t.subject})}),v.jsxs("td",{className:"px-6 py-4 min-w-[200px]",children:[v.jsx("div",{className:"text-sm text-slate-700 line-clamp-1 max-w-md",children:v.jsx(kt,{content:t.content,className:"inline"})}),v.jsxs("div",{className:"mt-1 flex gap-2",children:[!m&&t.lastReviewedAt&&v.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded-sm font-bold uppercase tracking-widest",children:""}),m&&v.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded-sm font-bold uppercase tracking-widest",children:["",new Date(t.deletedAt||0).toLocaleDateString()]})]})]}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:"flex flex-wrap gap-1",children:t.knowledgePoints.slice(0,2).map((E,_)=>v.jsxs("button",{onClick:R=>T(R,E),className:"text-[10px] px-1.5 py-0.5 bg-white text-slate-500 rounded border border-slate-200 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",children:["#",E]},_))})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:"flex gap-0.5 text-amber-400",children:[...Array(5)].map((E,_)=>v.jsx("button",{onClick:R=>x(R,_+1),className:"focus:outline-none hover:scale-125 transition-transform",children:v.jsx("svg",{className:`w-3.5 h-3.5 ${_<t.difficulty?"fill-current":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},_))})}),v.jsx("td",{className:"px-6 py-4 text-right",children:v.jsx("div",{className:"flex justify-end gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:m?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:E=>{E.stopPropagation(),l==null||l(t.id)},className:"text-emerald-500 hover:text-emerald-700",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v.jsx("button",{onClick:E=>{E.stopPropagation(),a==null||a(t.id)},className:"text-red-400 hover:text-red-600",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:E=>{E.stopPropagation(),c==null||c(t)},className:"text-slate-400 hover:text-indigo-600",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),v.jsx("button",{onClick:E=>{E.stopPropagation(),a==null||a(t.id)},className:"text-slate-400 hover:text-red-500",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})})]})},Yg=({imageSrc:t,onCropComplete:e,onCancel:i,title:a="",description:l="",allowSkip:o=!1,onSkip:c})=>{const f=ge.useRef(null),p=ge.useRef(null),m=ge.useRef(null),[x,S]=ge.useState(t),[T,E]=ge.useState(!1),[_,R]=ge.useState(!o),[k,U]=ge.useState({x:0,y:0}),[P,J]=ge.useState({x:0,y:0}),[ee,ae]=ge.useState(null);ge.useEffect(()=>{S(t),R(!o),ae(null),E(!1)},[t,o]);const te=ie=>{const fe=new Image;fe.src=x,fe.onload=()=>{const Ne=document.createElement("canvas"),Ee=Ne.getContext("2d");if(!Ee)return;Ne.width=fe.height,Ne.height=fe.width,Ee.translate(Ne.width/2,Ne.height/2);const L=ie==="left"?-90:90;Ee.rotate(L*Math.PI/180),Ee.drawImage(fe,-fe.width/2,-fe.height/2),S(Ne.toDataURL("image/jpeg",.9)),ae(null)}},q=ie=>{var de;if(!_)return;const fe=(de=f.current)==null?void 0:de.getBoundingClientRect();if(!fe||ie.target.closest("button"))return;const Ne="touches"in ie?ie.touches[0].clientX:ie.clientX,Ee="touches"in ie?ie.touches[0].clientY:ie.clientY,L=Ne-fe.left,$=Ee-fe.top;E(!0),U({x:L,y:$}),J({x:L,y:$}),ae(null)},K=ie=>{var de;if(!_||!T)return;const fe=(de=f.current)==null?void 0:de.getBoundingClientRect();if(!fe)return;const Ne="touches"in ie?ie.touches[0].clientX:ie.clientX,Ee="touches"in ie?ie.touches[0].clientY:ie.clientY,L=Math.max(0,Math.min(Ne-fe.left,fe.width)),$=Math.max(0,Math.min(Ee-fe.top,fe.height));J({x:L,y:$})},Z=()=>{if(!_||!T)return;E(!1);const ie=Math.min(k.x,P.x),fe=Math.min(k.y,P.y),Ne=Math.abs(P.x-k.x),Ee=Math.abs(P.y-k.y);Ne>10&&Ee>10&&ae({x:ie,y:fe,w:Ne,h:Ee})},me=()=>{if(!_||!ee||!p.current||!m.current)return;const ie=p.current,fe=m.current,Ne=fe.getContext("2d");if(!Ne)return;const Ee=ie.naturalWidth/ie.width,L=ie.naturalHeight/ie.height;fe.width=ee.w*Ee,fe.height=ee.h*L,Ne.drawImage(ie,ee.x*Ee,ee.y*L,ee.w*Ee,ee.h*L,0,0,fe.width,fe.height),e(fe.toDataURL("image/jpeg",.9))},Se=Math.min(k.x,P.x),pe=Math.min(k.y,P.y),Me=Math.abs(P.x-k.x),Ge=Math.abs(P.y-k.y),Ye=()=>{R(!0),ae(null),E(!1)},j=()=>{if(!o)return;(c||e)(x)};return v.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-900/95 backdrop-blur-md flex flex-col p-4 md:p-8 animate-in fade-in duration-300",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 max-w-5xl mx-auto w-full",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-white",children:a}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:l})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("div",{className:"flex items-center bg-slate-800 rounded-xl mr-2 p-1",children:[v.jsx("button",{onClick:()=>te("left"),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:" 90",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),v.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),v.jsx("button",{onClick:()=>te("right"),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:" 90",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6"})})})]}),o&&v.jsx("button",{onClick:j,className:"px-5 py-2 rounded-xl bg-white/10 text-white hover:bg-white/15 transition-colors font-semibold",title:"",children:""}),o&&!_&&v.jsx("button",{onClick:Ye,className:"px-5 py-2 rounded-xl border border-white/15 text-slate-200 hover:text-white hover:bg-white/10 transition-colors font-semibold",title:"",children:""}),v.jsx("button",{onClick:i,className:"px-5 py-2 rounded-xl text-slate-300 hover:text-white hover:bg-white/10 transition-colors font-semibold",children:""}),v.jsxs("button",{disabled:!_||!ee||T,onClick:me,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-900/20 disabled:opacity-50 disabled:grayscale transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),""]})]})]}),v.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden relative",children:[!_&&o&&v.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 px-4 py-2 rounded-xl bg-black/40 text-slate-200 text-xs font-semibold border border-white/10",children:""}),v.jsxs("div",{ref:f,className:`relative max-w-full max-h-full select-none touch-none bg-black/40 rounded-lg overflow-hidden border border-white/10 ${_?"cursor-crosshair":"cursor-default"}`,onMouseDown:q,onMouseMove:K,onMouseUp:Z,onTouchStart:q,onTouchMove:K,onTouchEnd:Z,children:[v.jsx("img",{ref:p,src:x,alt:"To crop",className:"max-w-full max-h-[70vh] pointer-events-none",onLoad:ie=>{}}),_&&v.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none"}),_&&(T||ee)&&v.jsxs("div",{className:"absolute border-2 border-indigo-400/60 bg-transparent shadow-[0_0_0_9999px_rgba(0,0,0,0.5)] z-10",style:{left:Se,top:pe,width:Me,height:Ge},children:[v.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-indigo-400/60"}),ee&&!T&&v.jsx("div",{className:"absolute top-2 left-2 bg-indigo-600 text-white text-[10px] px-1.5 py-0.5 rounded font-black uppercase tracking-widest shadow-lg",children:"Selected Area"})]})]})]}),v.jsx("canvas",{ref:m,className:"hidden"}),_&&v.jsx("div",{className:"max-w-5xl mx-auto w-full mt-6 flex justify-center",children:v.jsxs("div",{className:"flex items-center gap-8 text-slate-500 text-xs font-medium",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),v.jsx("span",{children:""})]})]})})]})},Jg=({question:t,onClose:e,onSaved:i})=>{const[a,l]=ge.useState(t.content||""),[o,c]=ge.useState(()=>Array.isArray(t.options)?t.options.map(String):[]),[f,p]=ge.useState(t.answer||""),[m,x]=ge.useState(t.analysis||""),[S,T]=ge.useState(t.learningGuide||""),[E,_]=ge.useState(!1),[R,k]=ge.useState(null),U=ge.useMemo(()=>!(!a.trim()||!m.trim()||!S.trim()),[m,a,S]),P=(te,q)=>{c(K=>K.map((Z,me)=>me===te?q:Z))},J=()=>{c(te=>[...te,""])},ee=te=>{c(q=>q.filter((K,Z)=>Z!==te))},ae=async()=>{if(U){_(!0),k(null);try{const te=o.map(K=>String(K||"").trim()).filter(K=>K.length>0),q=await ht.updateQuestion(t.id,{content:a,options:te,answer:f||void 0,analysis:m,learningGuide:S});k({type:"success",message:""}),i==null||i(q),setTimeout(()=>{e()},800)}catch(te){const q=(te==null?void 0:te.message)||"";k({type:"error",message:`${q}`})}finally{_(!1)}}};return v.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-5xl h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"px-6 py-4 border-b space-y-3",children:[R&&v.jsxs("div",{className:`p-3 rounded-xl border text-sm font-bold flex items-center gap-2 ${R.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[v.jsx("span",{children:R.message}),v.jsx("button",{onClick:()=>k(null),className:"ml-auto text-current opacity-50 hover:opacity-100 transition-opacity",title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-black text-slate-800",children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:" LaTeX $...$ / $$...$$ "})]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all hover:text-slate-600",title:"",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.image&&v.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-3",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),v.jsx("img",{src:t.image,alt:"Original",className:"w-full max-h-48 object-contain rounded-xl bg-white"})]})]}),v.jsxs("div",{className:"flex-1 min-h-0 grid grid-cols-1 lg:grid-cols-2",children:[v.jsxs("div",{className:"min-h-0 overflow-y-auto p-6 space-y-6",children:[v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:a,onChange:te=>l(te.target.value),className:"w-full min-h-[140px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]}),v.jsxs("section",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("button",{onClick:J,className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]})]}),v.jsxs("div",{className:"space-y-2",children:[o.length===0&&v.jsx("div",{className:"text-xs text-slate-400",children:"/"}),o.map((te,q)=>v.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 border border-slate-200 rounded-2xl",children:[v.jsxs("div",{className:"w-8 text-sm font-black text-indigo-600 pt-2",children:[String.fromCharCode(65+q),"."]}),v.jsx("textarea",{value:te,onChange:K=>P(q,K.target.value),className:"flex-1 min-h-[60px] p-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:` ${String.fromCharCode(65+q)} LaTeX`}),v.jsx("button",{onClick:()=>ee(q),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},q))]})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("input",{value:f,onChange:te=>p(te.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",placeholder:"A  3  $x=2$"})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:m,onChange:te=>x(te.target.value),className:"w-full min-h-[120px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:S,onChange:te=>T(te.target.value),className:"w-full min-h-[120px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]})]}),v.jsxs("div",{className:"min-h-0 overflow-y-auto p-6 bg-slate-50 border-l border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:""})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(kt,{content:a||"()",className:"text-slate-800"}),o.length>0&&v.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:o.map((te,q)=>v.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 border border-slate-200 rounded-2xl",children:[v.jsxs("span",{className:"font-black text-indigo-600 shrink-0",children:[String.fromCharCode(65+q),"."]}),v.jsx(kt,{content:te||"()",className:"text-sm text-slate-700"})]},q))})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(kt,{content:f||"()"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(kt,{content:m||"()"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(kt,{content:S||"()"})]})]})]})]}),v.jsxs("div",{className:"px-6 py-4 border-t bg-white flex items-center justify-between",children:[v.jsx("div",{className:"text-xs text-slate-400",children:U?"":" /  /  "}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 border border-slate-200 rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50",disabled:E,children:""}),v.jsx("button",{onClick:ae,disabled:!U||E,className:"px-5 py-2 bg-indigo-600 text-white rounded-xl text-sm font-black hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"...":""})]})]})]})})},tw=({question:t,onClose:e,onUpdateDifficulty:i,onUpdateField:a})=>{const[l,o]=ge.useState(!1),[c,f]=ge.useState(!1),[p,m]=ge.useState(!1),x=async R=>{m(!0);try{await ht.updateQuestion(t.id,{croppedDiagram:R}),a==null||a(t.id,"croppedDiagram",R),o(!1)}catch{alert("")}finally{m(!1)}},S=async()=>{if(window.confirm("")){m(!0);try{await ht.updateQuestion(t.id,{croppedDiagram:void 0}),a==null||a(t.id,"croppedDiagram",void 0)}catch{alert("")}finally{m(!1)}}},T=async R=>{m(!0);try{await ht.updateQuestion(t.id,{subject:R}),a==null||a(t.id,"subject",R)}catch{alert("")}finally{m(!1)}},E=async()=>{var U;const R=prompt("");if(!R||!R.trim())return;if((U=t.knowledgePoints)!=null&&U.includes(R.trim())){alert("");return}const k=[...t.knowledgePoints||[],R.trim()];m(!0);try{await ht.updateQuestion(t.id,{knowledgePoints:k}),a==null||a(t.id,"knowledgePoints",k)}catch{alert("")}finally{m(!1)}},_=async R=>{if(!window.confirm(` "${R}" `))return;const k=(t.knowledgePoints||[]).filter(U=>U!==R);m(!0);try{await ht.updateQuestion(t.id,{knowledgePoints:k}),a==null||a(t.id,"knowledgePoints",k)}catch{alert("")}finally{m(!1)}};return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] rounded-none md:rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-center px-4 py-3 md:px-6 md:py-4 border-b",children:[v.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:[v.jsxs("div",{className:"relative group/subject",children:[v.jsx("select",{value:t.subject,onChange:R=>T(R.target.value),className:"appearance-none pl-3 pr-7 py-1 bg-indigo-600 text-white text-sm rounded-md uppercase shadow-sm outline-none cursor-pointer hover:bg-indigo-700 transition-colors font-bold",children:Object.values(Io).map(R=>v.jsx("option",{value:R,className:"text-slate-800 bg-white",children:R},R))}),v.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-white/80",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})})]}),""]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-10 space-y-8 md:space-y-10 scrollbar-hide",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),v.jsxs("button",{onClick:()=>f(!0),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors border border-indigo-100 shadow-sm",title:"/",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),""]})]}),v.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 group relative",children:[v.jsx(kt,{content:t.content,className:"text-lg leading-relaxed text-slate-800"}),t.options&&t.options.length>0&&v.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:t.options.map((R,k)=>{const U=typeof R=="object"?R.content||R.text||R.value||JSON.stringify(R):String(R);return v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white border border-slate-200 rounded-2xl shadow-sm hover:border-indigo-200 transition-colors",children:[v.jsxs("span",{className:"font-black text-indigo-600 shrink-0",children:[String.fromCharCode(65+k),"."]}),v.jsx(kt,{content:U,className:"text-sm text-slate-600"})]},k)})}),t.croppedDiagram&&v.jsxs("div",{className:"mt-8 p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 relative group/legend",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),v.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:""})]}),v.jsx("div",{className:"flex justify-center bg-white p-4 rounded-xl shadow-sm border border-indigo-50",children:v.jsx("img",{src:t.croppedDiagram,alt:"Extracted Legend",className:"max-h-64 object-contain"})}),v.jsx("button",{onClick:S,className:"absolute top-4 right-4 p-2 bg-white text-red-500 rounded-lg shadow-sm hover:bg-red-50 transition-colors opacity-0 group-hover/legend:opacity-100",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),t.image&&v.jsxs("div",{className:"mt-8 relative group/img",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("button",{onClick:()=>o(!0),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors border border-indigo-100 shadow-sm",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758L5 19m0-14l4.121 4.121"})}),""]})]}),v.jsx("div",{className:"flex justify-center bg-white p-6 rounded-2xl border border-slate-200 shadow-sm overflow-hidden min-h-[100px] items-center",children:v.jsx("img",{src:t.image,alt:"Original Capture",className:"max-h-96 object-contain grayscale-[0.3] hover:grayscale-0 transition-all"})})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[v.jsxs("h3",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.2em] flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),""]}),v.jsxs("div",{className:"bg-white px-3 py-1 rounded-md shadow-sm border border-emerald-100 shrink-0",children:[v.jsx("span",{className:"text-[10px] font-black text-emerald-400 mr-1",children:""}),v.jsx(kt,{content:t.answer,className:"text-lg font-black text-emerald-600 inline"})]})]}),v.jsxs("div",{className:"bg-emerald-50/50 p-8 rounded-3xl border border-emerald-100",children:[v.jsxs("div",{className:"mb-4 rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-[12px] text-amber-800 leading-relaxed",children:[v.jsx("span",{className:"font-black mr-2",children:""}),""]}),v.jsx(kt,{content:t.analysis,className:"text-slate-700 leading-relaxed"})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),""]}),v.jsxs("div",{className:"bg-indigo-50/50 p-8 rounded-3xl border border-indigo-100",children:[v.jsx(kt,{content:t.learningGuide,className:"text-slate-700 leading-relaxed italic"}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-indigo-100/50",children:[v.jsx("h4",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-4",children:" ( + )"}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(t.knowledgePoints)?t.knowledgePoints:[]).map((R,k)=>v.jsxs("span",{className:"group relative px-3 py-1.5 bg-white text-indigo-600 text-xs rounded-xl border border-indigo-200 font-bold shadow-sm pr-7",children:["#",R,v.jsx("button",{onClick:()=>_(R),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-indigo-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},k)),v.jsxs("button",{onClick:E,className:"px-3 py-1.5 bg-indigo-50 text-indigo-400 text-xs rounded-xl border border-dashed border-indigo-300 font-bold hover:bg-indigo-100 hover:text-indigo-600 hover:border-indigo-400 transition-all flex items-center gap-1",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]})]})]})]})]})]})]}),v.jsxs("div",{className:"px-8 py-4 bg-slate-50 border-t flex justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("span",{className:"text-xs text-slate-500 font-medium",children:new Date(t.createdAt).toLocaleString()})]}),v.jsx("div",{className:"flex items-center gap-6",children:v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),v.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((R,k)=>v.jsx("button",{onClick:()=>i==null?void 0:i(t.id,k+1),className:"focus:outline-none hover:scale-125 transition-transform",title:` ${k+1} `,children:v.jsx("svg",{className:`w-5 h-5 ${k<t.difficulty?"fill-amber-400 text-amber-400":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},k))})]})})]})]})}),l&&t.image&&v.jsx(Yg,{imageSrc:t.image,onCropComplete:x,onCancel:()=>o(!1)}),c&&v.jsx(Jg,{question:t,onClose:()=>f(!1),onSaved:R=>{a==null||a(t.id,"content",R.content),a==null||a(t.id,"options",R.options||[]),a==null||a(t.id,"answer",R.answer),a==null||a(t.id,"analysis",R.analysis),a==null||a(t.id,"learningGuide",R.learningGuide)}}),p&&v.jsx("div",{className:"fixed inset-0 z-[200] bg-black/40 backdrop-blur-sm flex items-center justify-center",children:v.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),v.jsx("p",{className:"text-sm font-bold text-slate-700",children:"..."})]})})]})},nw=({onQuestionSaved:t,onCancel:e})=>{const[i,a]=ge.useState([]),[l,o]=ge.useState(!1),[c,f]=ge.useState(!1),[p,m]=ge.useState(null),[x,S]=ge.useState(null),[T,E]=ge.useState(null),_=ge.useRef(null),R=ge.useRef(null),k=async()=>{try{const K=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});m(K),f(!0),setTimeout(()=>{R.current&&(R.current.srcObject=K)},100)}catch(K){console.error("Camera error:",K),K.name==="NotAllowedError"||K.name==="PermissionDeniedError"?alert(""):window.location.protocol!=="https:"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?alert(" HTTPS  localhost  HTTPS"):alert(`${K.message||""}`)}},U=()=>{p&&(p.getTracks().forEach(K=>K.stop()),m(null)),f(!1)},P=()=>{if(!R.current)return;const K=document.createElement("canvas");K.width=R.current.videoWidth,K.height=R.current.videoHeight;const Z=K.getContext("2d");if(Z){Z.drawImage(R.current,0,0);const me=K.toDataURL("image/jpeg",.9);S(me),E("camera"),U()}},J=K=>{const Z={id:crypto.randomUUID(),preview:K,status:"pending"};a(me=>[...me,Z]),S(null),E(null)},ee=K=>{const Z=Array.from(K.target.files||[]);Z.length!==0&&(Z.forEach(me=>{const Se=new FileReader;Se.onloadend=()=>{S(Se.result),E("upload")},Se.readAsDataURL(me)}),_.current&&(_.current.value=""))},ae=K=>{l||a(Z=>Z.filter(me=>me.id!==K))},te=async()=>{if(l)return;const K=i.filter(Z=>Z.status==="pending"||Z.status==="error");if(K.length!==0){o(!0);for(const Z of K){a(me=>me.map(Se=>Se.id===Z.id?{...Se,status:"analyzing",error:void 0}:Se));try{const me=await ht.analyzeImage(Z.preview),Se={image:Z.preview,...me};a(pe=>pe.map(Me=>Me.id===Z.id?{...Me,status:"done",result:Se}:Me)),await t(Se)}catch(me){a(Se=>Se.map(pe=>pe.id===Z.id?{...pe,status:"error",error:me.message||""}:pe))}}o(!1)}},q=ge.useMemo(()=>{const K=i.length,Z=i.filter(pe=>pe.status==="done").length,me=i.filter(pe=>pe.status==="error").length,Se=i.filter(pe=>pe.status==="analyzing").length;return{total:K,done:Z,error:me,analyzing:Se}},[i]);return v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:[v.jsxs("div",{className:"bg-white w-full max-w-4xl h-full md:h-auto md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:max-h-[90vh]",children:[v.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-5 border-b flex justify-between items-center bg-slate-50",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Gemini "})]}),v.jsx("button",{onClick:e,disabled:l,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-full transition-colors disabled:opacity-30",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:i.length===0?v.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[v.jsxs("div",{onClick:()=>{var K;return(K=_.current)==null?void 0:K.click()},className:"flex-1 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/30 transition-all group p-8",children:[v.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 mb-6 group-hover:scale-110 transition-transform",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),v.jsx("p",{className:"text-xl font-bold text-slate-700 mb-2",children:""}),v.jsx("p",{className:"text-slate-400 text-sm",children:""})]}),v.jsxs("div",{onClick:k,className:"flex-1 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:border-emerald-400 hover:bg-emerald-50/30 transition-all group p-8",children:[v.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 mb-6 group-hover:scale-110 transition-transform",children:v.jsxs("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsx("p",{className:"text-xl font-bold text-slate-700 mb-2",children:""}),v.jsx("p",{className:"text-slate-400 text-sm",children:""})]})]}):v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[i.map(K=>v.jsxs("div",{className:"relative group aspect-square rounded-2xl overflow-hidden border border-slate-200 bg-slate-50 shadow-sm",children:[v.jsx("img",{src:K.preview,className:`w-full h-full object-cover transition-all ${K.status==="analyzing"?"scale-110 blur-[2px] opacity-50":""}`}),K.status==="analyzing"&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-indigo-600/20",children:[v.jsx("div",{className:"w-10 h-10 border-4 border-white/30 border-t-white rounded-full animate-spin mb-2"}),v.jsx("span",{className:"text-[10px] text-white font-black uppercase tracking-tighter",children:"AI "})]}),K.status==="done"&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emerald-500/80 animate-in zoom-in duration-300",children:v.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),K.status==="error"&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-500/80 p-3 text-center",children:[v.jsx("svg",{className:"w-8 h-8 text-white mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),v.jsx("span",{className:"text-[10px] text-white font-bold leading-tight",children:K.error})]}),!l&&K.status!=="done"&&v.jsx("button",{onClick:()=>ae(K.id),className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500",children:v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},K.id)),!l&&v.jsxs("div",{onClick:()=>{var K;return(K=_.current)==null?void 0:K.click()},className:"aspect-square border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/30 transition-all text-slate-400 hover:text-indigo-600",children:[v.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"text-xs font-bold",children:""})]})]})}),v.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-6 border-t bg-slate-50 flex flex-col md:flex-row items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[v.jsxs("div",{className:"text-lg font-black text-slate-700",children:[q.done," ",v.jsx("span",{className:"text-slate-300",children:"/"})," ",q.total]}),v.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-500",style:{width:`${q.total>0?q.done/q.total*100:0}%`}})})]})]}),q.error>0&&v.jsxs("div",{className:"px-3 py-1 bg-red-100 text-red-600 text-[10px] font-bold rounded-lg uppercase animate-pulse",children:[q.error," "]})]}),v.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[v.jsx("button",{onClick:e,disabled:l,className:"flex-1 md:flex-none px-6 py-3 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-white transition-colors disabled:opacity-50",children:q.done===q.total&&q.total>0?"":""}),q.done<q.total&&v.jsx("button",{onClick:te,disabled:l||i.length===0,className:"flex-1 md:flex-none px-8 py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:l?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})})]})]}),v.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",multiple:!0,onChange:ee})]}),c&&v.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col",children:[v.jsx("div",{className:"relative flex-1 bg-black",children:v.jsx("video",{ref:R,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-contain"})}),v.jsxs("div",{className:"h-24 bg-black/80 flex items-center justify-between px-8 pb-safe",children:[v.jsx("button",{onClick:U,className:"text-white font-bold p-4",children:""}),v.jsx("button",{onClick:P,className:"w-16 h-16 rounded-full bg-white border-4 border-slate-300 shadow-xl active:scale-95 transition-transform"}),v.jsx("div",{className:"w-16"})," "]})]}),x&&v.jsx(Yg,{imageSrc:x,allowSkip:!0,onCropComplete:J,onSkip:J,onCancel:()=>{S(null);const K=T;E(null),K==="camera"&&k()},title:"",description:""})]})},iw=()=>v.jsxs("div",{className:"binding-line print:flex hidden",children:[v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{children:"       "})]}),rw=({questions:t,onClose:e})=>{const[i,a]=ge.useState([]),[l,o]=ge.useState(!1),[c,f]=ge.useState(!0),p=Array.from(new Set(t.flatMap(T=>T.knowledgePoints))),m=T=>{a(E=>E.includes(T)?E.filter(_=>_!==T):[...E,T])},x=t.filter(T=>i.length===0||T.knowledgePoints.some(E=>i.includes(E))),S=()=>{window.print()};return l?v.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto flex flex-col print:bg-white print:block",children:[v.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center print:hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),v.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors",children:[v.jsx("input",{type:"checkbox",checked:c,onChange:T=>f(T.target.checked),className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"}),v.jsx("span",{children:""})]})})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>o(!1),className:"px-5 py-2 text-slate-600 font-semibold bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:""}),v.jsxs("button",{onClick:S,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})," (A4)"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"flex-1 flex justify-center p-8 print:p-0 print:block",children:v.jsxs("div",{className:"bg-white max-w-[210mm] w-full min-h-[297mm] paper-shadow print:shadow-none print:max-w-none relative print-container flex flex-col",children:[v.jsx(iw,{}),v.jsxs("div",{className:"p-12 print:p-4 flex-1",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold mb-4 tracking-widest text-slate-900",children:""}),v.jsxs("div",{className:"flex justify-center gap-8 text-sm text-slate-600 mb-8 font-medium",children:[v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"})]}),v.jsxs("div",{className:"border-y-2 border-slate-900 py-2 flex justify-between px-4 text-xs font-bold uppercase tracking-widest",children:[v.jsxs("span",{children:["",i.length>0?i.join(""):""]}),v.jsxs("span",{children:["",new Date().toISOString().slice(0,10).replace(/-/g,"")]})]})]}),v.jsx("div",{className:"space-y-10",children:x.map((T,E)=>v.jsx("div",{className:"relative pb-6 border-b border-slate-50 last:border-0 break-inside-avoid",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("span",{className:"text-lg font-bold font-serif shrink-0 w-8 h-8 flex items-center justify-center bg-slate-900 text-white rounded-md",children:E+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"mb-4",children:v.jsx(kt,{content:T.content,className:"text-lg text-slate-800 leading-relaxed"})}),T.options&&T.options.length>0&&v.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 mb-6 ml-2",children:T.options.map((_,R)=>v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsxs("span",{className:"font-bold text-slate-900",children:[String.fromCharCode(65+R),"."]}),v.jsx(kt,{content:_,className:"text-base text-slate-700"})]},R))}),T.image&&v.jsx("div",{className:"my-6 flex justify-center border border-slate-100 p-4 rounded-lg bg-slate-50/50",children:v.jsx("img",{src:T.image,alt:"Diagram",className:"max-h-80 object-contain"})}),v.jsx("div",{className:"mt-8 border-t border-dashed border-slate-200 pt-16 print:block hidden",children:v.jsx("p",{className:"text-[10px] text-slate-300 text-right italic",children:""})})]})]})},T.id))}),x.length===0&&v.jsxs("div",{className:"text-center py-20 text-slate-400",children:[v.jsx("p",{className:"text-lg",children:""}),v.jsx("p",{className:"text-sm",children:""})]})]}),c&&x.length>0&&v.jsxs("div",{className:"page-break p-12 print:p-4 border-t-8 border-slate-100",children:[v.jsx("div",{className:"text-center mb-12",children:v.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-widest border-b-2 border-slate-900 inline-block pb-2",children:""})}),v.jsx("div",{className:"space-y-12",children:x.map((T,E)=>v.jsxs("div",{className:"break-inside-avoid bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-slate-200",children:[v.jsxs("span",{className:"font-black text-slate-900",children:[" ",E+1," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:":"}),v.jsx("span",{className:"text-xl font-bold text-indigo-600",children:T.answer})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-indigo-500 rounded-full"}),""]}),v.jsx("div",{className:"text-sm text-slate-700 leading-relaxed",children:v.jsx(kt,{content:T.analysis})})]}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full"}),""]}),v.jsx("div",{className:"text-xs text-slate-600 bg-white p-3 rounded-lg border border-slate-100 italic",children:v.jsx(kt,{content:T.learningGuide})})]}),v.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:T.knowledgePoints.map((_,R)=>v.jsxs("span",{className:"text-[9px] px-2 py-0.5 bg-slate-200 text-slate-600 rounded-full font-bold",children:["#",_]},R))})]})]},T.id))})]}),v.jsxs("div",{className:"mt-auto p-12 text-center text-xs text-slate-400 border-t border-slate-50 print:hidden",children:[v.jsx("p",{children:" 2024 E-Bu  -  Gemini AI "}),v.jsx("p",{className:"mt-1",children:""})]})]})})]}):v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-xl rounded-3xl shadow-2xl p-8 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:""})]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-300 hover:text-slate-500 transition-colors",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 mb-8 space-y-6 scrollbar-hide",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 flex justify-between items-center",children:["",v.jsxs("span",{className:"bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded-full lowercase",children:[" ",i.length," "]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.map(T=>v.jsx("button",{onClick:()=>m(T),className:`px-3 py-1.5 rounded-xl text-sm font-semibold transition-all border ${i.includes(T)?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100":"bg-white text-slate-600 border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30"}`,children:T},T)),p.length===0&&v.jsx("div",{className:"w-full py-8 text-center bg-slate-50 rounded-2xl border border-dashed border-slate-200 text-slate-400 text-sm",children:""})]})]}),v.jsx("section",{className:"bg-indigo-50 rounded-2xl p-5 border border-indigo-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-indigo-900 font-bold",children:""}),v.jsx("p",{className:"text-indigo-600 text-xs mt-0.5",children:""})]}),v.jsxs("div",{className:"text-3xl font-black text-indigo-600",children:[x.length," ",v.jsx("span",{className:"text-sm font-bold text-indigo-400",children:""})]})]})}),v.jsx("section",{className:"space-y-3",children:v.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 p-3 rounded-xl text-xs",children:[v.jsx("svg",{className:"w-4 h-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("span",{children:""})]})})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:e,className:"flex-1 py-3.5 px-6 rounded-2xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:""}),v.jsxs("button",{disabled:x.length===0,onClick:()=>o(!0),className:"flex-1 py-3.5 px-6 rounded-2xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-100 transition-all disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["",v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})})},aw=()=>v.jsxs("div",{className:"binding-line print:flex hidden",children:[v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{children:"       "})]}),lw=({questions:t,onClose:e})=>{const[i,a]=ge.useState(!0),[l,o]=ge.useState(""),c=()=>{window.print()};return v.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto flex flex-col print:bg-white print:block",children:[v.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center print:hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col border-r border-slate-200 pr-6 mr-2",children:[v.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:""}),v.jsx("input",{type:"text",value:l,onChange:f=>o(f.target.value),className:"text-lg font-bold text-slate-800 border-b border-transparent focus:border-indigo-500 hover:border-slate-300 bg-transparent outline-none transition-all w-80 placeholder:text-slate-300"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("p",{className:"text-sm text-slate-500 font-medium bg-slate-100 px-3 py-1 rounded-full",children:[" ",t.length," "]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors text-sm font-medium text-slate-600",children:[v.jsx("input",{type:"checkbox",checked:i,onChange:f=>a(f.target.checked),className:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-slate-300"}),v.jsx("span",{children:""})]})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:c,className:"px-6 py-2 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})," /  PDF"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"flex-1 flex justify-center p-8 print:p-0 print:block",children:v.jsxs("div",{className:"bg-white max-w-[210mm] w-full min-h-[297mm] paper-shadow print:shadow-none print:max-w-none relative print-container",children:[v.jsx(aw,{}),v.jsxs("div",{className:"pt-12 pb-6 px-12 print:px-4 text-center",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold tracking-widest text-slate-900",children:l}),v.jsxs("div",{className:"flex justify-center gap-6 mt-6 text-xs text-slate-500 border-b pb-8",children:[v.jsxs("span",{children:["",new Date().toLocaleDateString()]}),v.jsxs("span",{children:["",t.length," "]}),v.jsx("span",{children:""})]})]}),v.jsx("div",{className:"flex flex-col",children:t.map((f,p)=>v.jsxs("div",{className:"workbook-row border-b border-slate-100 flex flex-row",children:[v.jsx("div",{className:"workbook-question w-1/2 p-8 border-r border-slate-100 bg-slate-50/20",children:v.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[v.jsx("span",{className:"shrink-0 w-6 h-6 flex items-center justify-center bg-slate-200 text-slate-700 rounded text-xs font-bold",children:p+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx(kt,{content:f.content,className:"text-sm leading-relaxed text-slate-800"}),f.options&&f.options.length>0&&v.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2",children:f.options.map((m,x)=>v.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-600",children:[v.jsxs("span",{className:"font-bold",children:[String.fromCharCode(65+x),"."]}),v.jsx(kt,{content:m})]},x))}),f.croppedDiagram&&v.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-[9px] text-slate-400 mb-1 uppercase tracking-widest font-bold",children:""}),v.jsx("div",{className:"border border-indigo-100 p-2 rounded-lg bg-white shadow-sm",children:v.jsx("img",{src:f.croppedDiagram,alt:"Diagram Legend",className:"max-h-56 object-contain"})})]}),i&&f.image&&v.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-[9px] text-slate-400 mb-1 uppercase tracking-widest font-bold opacity-50",children:""}),v.jsx("div",{className:"border border-slate-100 p-2 rounded-lg bg-white/50",children:v.jsx("img",{src:f.image,alt:"Original Capture",className:"max-h-48 object-contain opacity-80"})})]}),v.jsx("div",{className:"mt-6 flex flex-wrap gap-1",children:f.knowledgePoints.map((m,x)=>v.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-white text-slate-400 rounded-full border",children:["#",m]},x))})]})]})}),v.jsx("div",{className:"workbook-space w-1/2 p-8 workbook-grid relative",children:v.jsx("div",{className:"absolute top-4 right-4 text-[10px] text-slate-300 font-bold uppercase tracking-widest",children:" / Rework Area"})})]},f.id))}),v.jsx("div",{className:"p-12 text-center text-slate-300 text-[10px] print:hidden",children:"---  ---"})]})})]})},sw=({onClose:t,onDataChanged:e})=>{const[i,a]=ge.useState("GUIDE"),l=ge.useRef(null),[o,c]=ge.useState(!1),f=()=>{const S=ht.exportBackup(),T=new Blob([S],{type:"application/json"}),E=URL.createObjectURL(T),_=document.createElement("a");_.href=E,_.download=`E-Bu_Backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(E)},p=()=>{var S;(S=l.current)==null||S.click()},m=async S=>{var _;const T=(_=S.target.files)==null?void 0:_[0];if(!T||!window.confirm(""))return;c(!0);const E=new FileReader;E.onload=async R=>{var k;try{const U=(k=R.target)==null?void 0:k.result;await ht.importBackup(U),alert(""),e==null||e()}catch(U){alert(": "+U.message)}finally{c(!1),l.current&&(l.current.value="")}},E.readAsText(T)},x=({method:S,path:T,desc:E,params:_,payload:R,response:k})=>v.jsxs("div",{className:"mb-12 border border-slate-200 rounded-2xl overflow-hidden bg-white shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 bg-slate-50 border-b border-slate-200",children:[v.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded-md ${S==="GET"?"bg-blue-600 text-white":S==="POST"?"bg-emerald-600 text-white":S==="PATCH"?"bg-amber-500 text-white":"bg-red-600 text-white"}`,children:S}),v.jsx("code",{className:"text-sm text-slate-800 font-mono font-bold",children:T})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsx("p",{className:"text-sm text-slate-600 font-medium",children:E}),_&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Query Parameters"}),v.jsx("pre",{className:"bg-slate-50 p-4 rounded-xl text-xs text-slate-700 border border-slate-100 italic",children:_})]}),R&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Request Body (JSON)"}),v.jsx("div",{className:"relative group",children:v.jsx("pre",{className:"bg-slate-900 p-4 rounded-xl text-xs text-emerald-400 font-mono overflow-x-auto",children:R})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Response Object"}),v.jsx("pre",{className:"bg-slate-900 p-4 rounded-xl text-xs text-indigo-300 font-mono overflow-x-auto",children:k})]})]})]});return v.jsxs("div",{className:"fixed inset-0 z-[100] bg-white flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[v.jsxs("div",{className:"h-16 border-b border-slate-100 flex items-center justify-between px-8 bg-white shrink-0",children:[v.jsx("div",{className:"flex items-center gap-4",children:v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:t,children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h1",{className:"text-xl font-bold text-slate-900 leading-tight",children:"E-Bu"}),v.jsx("div",{className:"px-2 py-0.5 bg-slate-100 border border-slate-200 rounded text-[9px] font-bold text-slate-500 flex items-center gap-1",children:"DEVHUB"})]}),v.jsx("p",{className:"text-xs text-slate-500 font-medium",children:""})]})]})}),v.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[v.jsx("button",{onClick:()=>a("GUIDE"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="GUIDE"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),v.jsx("button",{onClick:()=>a("DATA"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="DATA"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),v.jsx("button",{onClick:()=>a("API"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="API"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:" API"})]}),v.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[v.jsx("div",{className:"w-64 border-r border-slate-100 bg-slate-50/50 p-6 overflow-y-auto hidden md:block",children:v.jsxs("nav",{className:"space-y-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:""}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>a("GUIDE"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>a("GUIDE"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:"LaTeX "})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:""}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>a("DATA"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>a("DATA"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"API "}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>a("API"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>a("API"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:"AI "})]})]})]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-10 bg-slate-50/30",children:v.jsx("div",{className:"max-w-4xl mx-auto",children:i==="GUIDE"?v.jsxs("div",{className:"prose prose-slate max-w-none",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-6",children:""}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[v.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100",children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-600 text-white rounded-xl flex items-center justify-center font-bold mb-4",children:"1"}),v.jsx("h3",{className:"text-lg font-bold text-indigo-900 mb-2",children:""}),v.jsx("p",{className:"text-sm text-indigo-700/80 leading-relaxed",children:"AI  OCR "})]}),v.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100",children:[v.jsx("div",{className:"w-10 h-10 bg-emerald-600 text-white rounded-xl flex items-center justify-center font-bold mb-4",children:"2"}),v.jsx("h3",{className:"text-lg font-bold text-emerald-900 mb-2",children:""}),v.jsx("p",{className:"text-sm text-emerald-700/80 leading-relaxed",children:'""'})]})]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"AI "}),v.jsx("p",{className:"text-sm text-slate-600 mb-4",children:" AI "}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-blue-500 to-indigo-600"}),v.jsx("h4",{className:"font-bold text-slate-800",children:"Google Gemini"})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" JSON gemini-2.0-flash"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-orange-500 to-red-500"}),v.jsx("h4",{className:"font-bold text-slate-800",children:""})]}),v.jsx("p",{className:"text-xs text-slate-500",children:"qwen-vl-max"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-purple-500 to-pink-500"}),v.jsx("h4",{className:"font-bold text-slate-800",children:""})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" Ark  ID (ep-xxx)"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-emerald-500 to-teal-600"}),v.jsx("h4",{className:"font-bold text-slate-800",children:"OpenAI / "})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" API OpenAI gpt-4o"})]})]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"LaTeX "}),v.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl text-emerald-400 font-mono text-sm leading-relaxed mb-12",children:[v.jsx("p",{className:"text-slate-500 mb-2",children:"//  JSON "}),`"content": " $f(x) = \\\\sqrt{{x^2 + 1}}$ $f'(x)$"`]})]}):i==="DATA"?v.jsxs("div",{className:"space-y-10",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-4",children:""}),v.jsx("p",{className:"text-slate-500",children:""})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm flex flex-col",children:[v.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mb-6",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-8 flex-1",children:" JSON "}),v.jsx("button",{onClick:f,className:"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]}),v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm flex flex-col",children:[v.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-600 rounded-2xl flex items-center justify-center mb-6",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})]})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-8 flex-1",children:""}),v.jsx("button",{onClick:p,className:"w-full py-3 border-2 border-amber-200 text-amber-600 font-bold rounded-xl hover:bg-amber-50 transition-all",children:o?"...":""}),v.jsx("input",{type:"file",ref:l,className:"hidden",accept:".json",onChange:m})]})]}),v.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 text-slate-300",children:[v.jsxs("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5 text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM5.884 6.607a1 1 0 010-1.414l.707-.707a1 1 0 111.414 1.414l-.707.707a1 1 0 01-1.414 0zm11.314 2.828a1 1 0 11-1.414 0 1 1 0 011.414 0zm-2.828 4.243a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zm-4.243 2.828a1 1 0 100-2v-1a1 1 0 10-2 0v1a1 1 0 100 2zM4.47 14.25a1 1 0 000 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 0zM4 10a1 1 0 110-2 1 1 0 010 2z",clipRule:"evenodd"})}),""]}),v.jsxs("p",{className:"text-sm leading-relaxed opacity-80 mb-2",children:[v.jsx("strong",{className:"text-indigo-300",children:""}),v.jsx("br",{}),"Local-FirstLocalStorage"]}),v.jsxs("p",{className:"text-sm leading-relaxed opacity-80",children:[v.jsx("strong",{className:"text-indigo-300",children:""}),v.jsx("br",{})," JSON "]})]})]}):v.jsxs("div",{className:"space-y-8 pb-20",children:[v.jsxs("div",{className:"mb-10",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-4",children:" API "}),v.jsxs("p",{className:"text-slate-500",children:[" ",v.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"Content-Type: application/json"}),""]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-3",children:[v.jsx("span",{className:"w-12 h-[1px] bg-slate-200"}),"",v.jsx("span",{className:"flex-1 h-[1px] bg-slate-200"})]}),v.jsx(x,{method:"GET",path:"/api/questions",desc:"",params:"?subject=&query=&limit=20&offset=0",response:`[
  {
    "id": "uuid-string",
    "subject": "",
    "content": "...",
    "difficulty": 3,
    "createdAt": 1700000000000,
    "knowledgePoints": ["", ""],
    "image": "url_or_base64"
  },
  ...
]`}),v.jsx(x,{method:"POST",path:"/api/questions",desc:"image ",payload:`{
  "subject": "",
  "content": " $m$ ...",
  "options": ["$A. 10N$", "$B. 20N$"],
  "answer": "A",
  "analysis": "...",
  "knowledgePoints": ["", ""],
  "difficulty": 4,
  "image": "data:image/jpeg;base64,..."
}`,response:`{
  "id": "new-uuid",
  "createdAt": 1709253400000,
  "status": "success"
}`})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-3",children:[v.jsx("span",{className:"w-12 h-[1px] bg-slate-200"}),"",v.jsx("span",{className:"flex-1 h-[1px] bg-slate-200"})]}),v.jsx(x,{method:"POST",path:"/api/backup/import",desc:" JSON ",payload:`{
  "version": "1.2.0",
  "data": [ /*  */ ]
}`,response:'{ "importedCount": 150, "status": "ok" }'})]})]})})})]}),v.jsx("div",{className:"h-12 border-t border-slate-100 flex items-center justify-center bg-slate-50 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"E-Bu DevHub   v1.3.0"})]})},e2=["from-pink-500 to-rose-500","from-cyan-500 to-blue-500","from-amber-500 to-orange-500","from-violet-500 to-purple-500","from-lime-500 to-green-500","from-red-500 to-pink-500","from-teal-500 to-cyan-500","from-fuchsia-500 to-pink-500"],ow=({onClose:t,onConfigSaved:e})=>{var de,xe,Ae;const[i,a]=ge.useState("AI"),[l,o]=ge.useState({activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0}),[c,f]=ge.useState(Qe.GEMINI),[p,m]=ge.useState(!1),[x,S]=ge.useState(null),[T,E]=ge.useState(null),[_,R]=ge.useState(!1),[k,U]=ge.useState(""),[P,J]=ge.useState(null),[ee,ae]=ge.useState(!1),[te,q]=ge.useState(!1);ge.useEffect(()=>{if(T){const Q=setTimeout(()=>E(null),3e3);return()=>clearTimeout(Q)}},[T]),ge.useEffect(()=>{(async()=>{try{const se=await ht.getAIConfig();o({enableLatexAutoFix:!0,...se}),f(se.activeProvider)}catch(se){console.error("Failed to load config",se),E({type:"error",message:""})}})()},[]),ge.useEffect(()=>{i==="DB"&&!P&&!ee&&K()},[i]);const K=async()=>{try{ae(!0);const Q=await ht.getMigrationStatus();J(Q)}catch(Q){console.error("Failed to load migration status",Q);const se=Q instanceof Error?Q.message:"";E({type:"error",message:se})}finally{ae(!1)}},Z=async()=>{try{q(!0);const Q=await ht.migrateToLatest();E({type:"success",message:` ${Q.count||0} `}),await K()}catch(Q){console.error("Migration failed",Q);const se=Q instanceof Error?Q.message:"";E({type:"error",message:se})}finally{q(!1)}},me=Q=>!Object.values(Qe).includes(Q),Se=()=>{var Q;if(me(c)){const se=(Q=l.customProviders)==null?void 0:Q.find(Pe=>Pe.id===c);return(se==null?void 0:se.config)||{}}return l.providers[c]||{}},pe=Q=>{me(c)?o(se=>({...se,customProviders:se.customProviders.map(Pe=>Pe.id===c?{...Pe,config:{...Pe.config,...Q}}:Pe)})):o(se=>({...se,providers:{...se.providers,[c]:{...se.providers[c],...Q}}}))},Me=Q=>{f(Q),S(null)},Ge=()=>{o(Q=>({...Q,activeProvider:c}))},Ye=()=>{if(!k.trim())return;const Q={id:`custom-${Date.now()}`,name:k.trim(),color:e2[l.customProviders.length%e2.length],config:{}};o(se=>({...se,customProviders:[...se.customProviders,Q]})),U(""),R(!1),f(Q.id)},j=Q=>{window.confirm("")&&(o(se=>({...se,customProviders:se.customProviders.filter(Pe=>Pe.id!==Q),activeProvider:se.activeProvider===Q?Qe.GEMINI:se.activeProvider})),c===Q&&f(Qe.GEMINI))},ie=async()=>{try{m(!0),S(null),E(null);let Q;if(me(l.activeProvider)){const se=l.customProviders.find(Pe=>Pe.id===l.activeProvider);Q={type:l.activeProvider,apiKey:se==null?void 0:se.config.apiKey,baseUrl:se==null?void 0:se.config.baseUrl,modelName:se==null?void 0:se.config.modelName,systemPrompt:l.systemPrompt}}else{const se=l.providers[l.activeProvider]||{};Q={type:l.activeProvider,apiKey:se.apiKey,baseUrl:se.baseUrl,modelName:se.modelName,systemPrompt:l.systemPrompt}}await x4(Q),ht.saveAIConfig(l),e==null||e(l),E({type:"success",message:""}),S({success:!0,message:""}),i==="AI"&&setTimeout(()=>{t()},1500)}catch(Q){const se=Q instanceof Error?Q.message:"";S({success:!1,message:se}),E({type:"error",message:`: ${se}`})}finally{m(!1)}},fe=async()=>{try{m(!0),S(null);let Q;if(me(c)){const se=l.customProviders.find(Pe=>Pe.id===c);Q={type:c,apiKey:se==null?void 0:se.config.apiKey,baseUrl:se==null?void 0:se.config.baseUrl,modelName:se==null?void 0:se.config.modelName,systemPrompt:l.systemPrompt}}else{const se=l.providers[c]||{};Q={type:c,apiKey:se.apiKey,baseUrl:se.baseUrl,modelName:se.modelName,systemPrompt:l.systemPrompt}}await x4(Q),S({success:!0,message:""})}catch(Q){const se=Q instanceof Error?Q.message:"";S({success:!1,message:se})}finally{m(!1)}},Ne=()=>{window.confirm("")&&o({...l,systemPrompt:Co})},Ee=[{id:Qe.GEMINI,name:"Google Gemini",desc:" ()",color:"from-blue-500 to-indigo-600"},{id:Qe.QWEN,name:"",desc:"VL",color:"from-orange-500 to-red-500"},{id:Qe.DOUBAO,name:"",desc:"",color:"from-purple-500 to-pink-500"},{id:Qe.OPENAI,name:"OpenAI / ",desc:" API ",color:"from-emerald-500 to-teal-600"}],L=Se(),$=(de=l.customProviders)==null?void 0:de.find(Q=>Q.id===c);return v.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row h-[700px]",children:[v.jsxs("div",{className:"w-full md:w-48 bg-slate-50 border-r border-slate-100 p-6 flex flex-col",children:[v.jsx("h2",{className:"text-xl font-black text-slate-800 mb-8 px-2",children:""}),v.jsxs("nav",{className:"space-y-2 flex-1",children:[v.jsx("button",{onClick:()=>a("AI"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="AI"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:"AI "}),v.jsx("button",{onClick:()=>a("PROMPT"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="PROMPT"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""}),v.jsx("button",{onClick:()=>a("DB"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="DB"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""}),v.jsx("button",{onClick:()=>a("ABOUT"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="ABOUT"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""})]}),v.jsx("button",{onClick:t,className:"mt-auto px-4 py-2 text-sm font-bold text-slate-400 hover:text-slate-800 transition-colors",children:""})]}),v.jsxs("div",{className:"flex-1 flex flex-col p-8 overflow-y-auto bg-white",children:[T&&v.jsxs("div",{className:`mb-4 p-4 rounded-2xl border flex items-center gap-3 animate-in slide-in-from-top-2 duration-300 ${T.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[T.type==="success"?v.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):v.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),v.jsx("span",{className:"font-bold text-sm",children:T.message}),v.jsx("button",{onClick:()=>E(null),className:"ml-auto text-current opacity-50 hover:opacity-100 transition-opacity",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i==="AI"?v.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500",children:" AI "})]}),v.jsx("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-black text-slate-800",children:"LaTeX "}),v.jsxs("div",{className:"text-xs text-slate-500 leading-relaxed mt-1",children:["/ ",v.jsx("span",{className:"font-mono",children:"$...$"}),"  ",v.jsx("span",{className:"font-mono",children:"\\\\sqrt"})," / ",v.jsx("span",{className:"font-mono",children:"\\\\frac"}),""]})]}),v.jsx("button",{type:"button",onClick:()=>{o(Q=>({...Q,enableLatexAutoFix:!Q.enableLatexAutoFix}));try{localStorage.setItem("latexAutofixEnabled",String(!l.enableLatexAutoFix))}catch{}},className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${l.enableLatexAutoFix?"bg-emerald-500":"bg-slate-300"}`,"aria-label":"toggle-latex-autofix",children:v.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${l.enableLatexAutoFix?"translate-x-6":"translate-x-1"}`})})]})}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ee.map(Q=>v.jsxs("button",{onClick:()=>Me(Q.id),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${c===Q.id?"border-indigo-600 bg-indigo-50/50 shadow-sm":"border-slate-100 hover:border-slate-200"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${Q.color} flex items-center justify-center text-white text-xs`,children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:Q.name}),v.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:Q.desc})]}),l.activeProvider===Q.id&&v.jsx("div",{className:"text-indigo-600 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},Q.id))}),l.customProviders&&l.customProviders.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:""}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.customProviders.map(Q=>v.jsxs("button",{onClick:()=>Me(Q.id),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${c===Q.id?"border-indigo-600 bg-indigo-50/50 shadow-sm":"border-slate-100 hover:border-slate-200"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${Q.color} flex items-center justify-center text-white text-xs font-bold`,children:Q.name.charAt(0).toUpperCase()}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:Q.name}),v.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:Q.description||" OpenAI "})]}),l.activeProvider===Q.id&&v.jsx("div",{className:"text-indigo-600 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},Q.id))})]}),_?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:k,onChange:Q=>U(Q.target.value),placeholder:"",className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",autoFocus:!0,onKeyDown:Q=>Q.key==="Enter"&&Ye()}),v.jsx("button",{onClick:Ye,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700",children:""}),v.jsx("button",{onClick:()=>{R(!1),U("")},className:"px-4 py-2 border border-slate-200 text-slate-500 rounded-xl font-bold text-sm hover:bg-slate-50",children:""})]}):v.jsxs("button",{onClick:()=>R(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 text-slate-500 rounded-xl font-bold text-sm hover:border-indigo-300 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]}),x&&v.jsx("div",{className:`p-4 rounded-2xl border ${x.success?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:v.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[x.success?v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),x.message]})}),v.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h4",{className:"font-bold text-slate-700",children:[me(c)?$==null?void 0:$.name:(xe=Ee.find(Q=>Q.id===c))==null?void 0:xe.name," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[me(c)&&v.jsx("button",{onClick:()=>j(c),className:"text-xs bg-rose-100 text-rose-600 px-3 py-1 rounded-full font-bold hover:bg-rose-200 transition-colors",children:""}),l.activeProvider===c?v.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-bold",children:""}):v.jsx("button",{onClick:Ge,className:"text-xs bg-slate-200 text-slate-600 px-3 py-1 rounded-full font-bold hover:bg-indigo-100 hover:text-indigo-700 transition-colors",children:""})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (API Key)"}),v.jsx("input",{type:"password",value:L.apiKey||"",onChange:Q=>pe({apiKey:Q.target.value}),placeholder:c===Qe.GEMINI?"Google AI API Key":c===Qe.QWEN?"API Key":c===Qe.DOUBAO?"API Key":"sk-...",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]}),c!==Qe.GEMINI&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Base URL)"}),v.jsx("input",{type:"text",value:L.baseUrl||"",onChange:Q=>pe({baseUrl:Q.target.value}),placeholder:c===Qe.QWEN?"https://dashscope.aliyuncs.com/compatible-mode/v1":c===Qe.DOUBAO?"https://ark.cn-beijing.volces.com/api/v3":"https://api.openai.com/v1",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Model ID)"}),v.jsx("input",{type:"text",value:L.modelName||"",onChange:Q=>pe({modelName:Q.target.value}),placeholder:c===Qe.GEMINI?"gemini-2.0-flash":c===Qe.QWEN?"qwen-vl-max":c===Qe.DOUBAO?"ep-xxxxxxxxxx (ID)":"gpt-4o",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:fe,disabled:p,className:"flex-1 py-4 bg-emerald-600 text-white font-black rounded-2xl hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"...":""}),v.jsx("button",{onClick:ie,disabled:p,className:"flex-1 py-4 bg-indigo-600 text-white font-black rounded-2xl hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"...":""})]})]}):i==="DB"?v.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500",children:" Docker / "})]}),v.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"DB PATH"}),v.jsx("div",{className:"text-sm font-bold text-slate-700 break-all",children:(P==null?void 0:P.dbPath)||"-"})]}),v.jsx("button",{onClick:K,disabled:ee,className:"px-4 py-2 rounded-xl text-sm font-black border-2 border-slate-200 text-slate-600 hover:bg-white transition-all disabled:opacity-50",children:ee?"...":""})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CURRENT"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(P==null?void 0:P.current)??"-"})]}),v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"LATEST"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(P==null?void 0:P.latest)??"-"})]}),v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"PENDING"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(P==null?void 0:P.pendingCount)??"-"})]})]}),((Ae=P==null?void 0:P.pending)==null?void 0:Ae.length)>0?v.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-3 rounded-xl",children:[v.jsx("div",{className:"text-xs font-bold text-amber-700 mb-2",children:""}),v.jsx("div",{className:"space-y-1",children:P.pending.map(Q=>v.jsxs("div",{className:"text-[11px] text-amber-800 font-mono",children:["v",Q.version," - ",Q.name]},Q.version))})]}):v.jsx("div",{className:"bg-emerald-50 border border-emerald-100 p-3 rounded-xl",children:v.jsx("div",{className:"text-xs font-bold text-emerald-700",children:""})}),v.jsx("button",{onClick:Z,disabled:te,className:"w-full py-3 bg-indigo-600 text-white font-black rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:te?"...":""}),v.jsx("div",{className:"text-[10px] text-slate-400 leading-relaxed",children:" `schema_migrations` "})]})]}):i==="PROMPT"?v.jsxs("div",{className:"flex flex-col h-full animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"AI "}),v.jsx("p",{className:"text-sm text-slate-500",children:" AI  System Prompt "})]}),v.jsxs("div",{className:"flex-1 min-h-0 flex flex-col gap-4",children:[v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("textarea",{value:l.systemPrompt||Co,onChange:Q=>o({...l,systemPrompt:Q.target.value}),className:"w-full h-full p-4 bg-slate-900 text-emerald-400 font-mono text-xs rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 outline-none leading-relaxed resize-none shadow-inner",placeholder:"..."}),v.jsx("div",{className:"absolute top-4 right-4 text-[10px] font-bold text-slate-700 bg-slate-800 px-2 py-1 rounded",children:"SYSTEM_PROMPT"})]}),v.jsx("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:v.jsx("p",{className:"text-[10px] text-amber-700 font-bold leading-relaxed",children:"  AI  JSON  content, analysis "})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:Ne,className:"px-6 py-3 border-2 border-slate-200 text-slate-500 font-bold rounded-xl hover:bg-slate-50 transition-all",children:""}),v.jsx("button",{onClick:ie,className:"flex-1 py-3 bg-indigo-600 text-white font-black rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]})]})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 animate-in zoom-in-95 duration-300",children:[v.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-3xl flex items-center justify-center text-indigo-600 mb-4 shadow-sm",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"E-Bu v1.3.0"}),v.jsx("p",{className:"text-slate-500 text-sm max-w-xs leading-relaxed",children:" AI GeminiOpenAI"}),v.jsxs("div",{className:"pt-8 flex gap-6",children:[v.jsx("a",{href:"#",className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors underline decoration-2 underline-offset-4",children:""}),v.jsx("a",{href:"#",className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors underline decoration-2 underline-offset-4",children:""})]})]})]})]})})},uw=()=>{const[t,e]=ge.useState([]),[i,a]=ge.useState([]),[l,o]=ge.useState("LIBRARY"),[c,f]=ge.useState(!0),[p,m]=ge.useState("ALL"),[x,S]=ge.useState(null),[T,E]=ge.useState(null),[_,R]=ge.useState(!1),[k,U]=ge.useState(!1),[P,J]=ge.useState(!1),[ee,ae]=ge.useState(!1),[te,q]=ge.useState(!1),[K,Z]=ge.useState(""),[me,Se]=ge.useState("CARD"),[pe,Me]=ge.useState(new Set),[Ge,Ye]=ge.useState(null);ge.useEffect(()=>{ht.syncRemoteConfig(),ht.getAIConfig().then(Ye).catch(()=>Ye(null))},[]),ge.useEffect(()=>{j()},[l]);const j=async()=>{f(!0);try{if(l==="LIBRARY"){const ue=await ht.fetchQuestions();e(ue)}else{const ue=await ht.fetchTrash();a(ue)}Me(new Set)}catch(ue){console.error("Failed to load questions",ue)}finally{f(!1)}},ie=async ue=>{if(window.confirm(""))try{await ht.deleteQuestion(ue),e(De=>De.filter(rt=>rt.id!==ue));const qe=t.find(De=>De.id===ue);qe&&a(De=>[{...qe,deletedAt:Date.now()},...De]),(x==null?void 0:x.id)===ue&&S(null),Ee(ue)}catch{alert("")}},fe=async ue=>{try{await ht.restoreQuestion(ue);const qe=i.find(De=>De.id===ue);a(De=>De.filter(rt=>rt.id!==ue)),qe&&e(De=>[qe,...De]),Ee(ue)}catch{alert("")}},Ne=async ue=>{if(window.confirm(""))try{await ht.hardDeleteQuestion(ue),a(qe=>qe.filter(De=>De.id!==ue)),Ee(ue)}catch{alert("")}},Ee=ue=>{Me(qe=>{const De=new Set(qe);return De.delete(ue),De})},L=async(ue,qe)=>{try{const De=await ht.updateQuestion(ue,{difficulty:qe});de(ue,De)}catch(De){console.error(De)}},$=(ue,qe,De)=>{const rt=Dt=>Dt.id===ue?{...Dt,[qe]:De}:Dt;e(Dt=>Dt.map(rt)),a(Dt=>Dt.map(rt)),(x==null?void 0:x.id)===ue&&S(Dt=>Dt?{...Dt,[qe]:De}:null)},de=(ue,qe)=>{l==="LIBRARY"?e(De=>De.map(rt=>rt.id===ue?qe:rt)):a(De=>De.map(rt=>rt.id===ue?qe:rt)),(x==null?void 0:x.id)===ue&&S(qe)},Ae=(l==="LIBRARY"?t:i).filter(ue=>{const qe=p==="ALL"||ue.subject===p,De=ue.content.toLowerCase().includes(K.toLowerCase())||ue.knowledgePoints.some(rt=>rt.toLowerCase().includes(K.toLowerCase()));return qe&&De}),Q=()=>t.filter(ue=>pe.has(ue.id)),se=ue=>{Me(qe=>{const De=new Set(qe);return De.has(ue)?De.delete(ue):De.add(ue),De})},Pe=()=>{const ue=Ae.map(rt=>rt.id),qe=ue.every(rt=>pe.has(rt)),De=new Set(pe);qe?ue.forEach(rt=>De.delete(rt)):ue.forEach(rt=>De.add(rt)),Me(De)},it=async()=>{if(window.confirm(` ${pe.size} `))try{await Promise.all(Array.from(pe).map(ue=>ht.deleteQuestion(ue))),j()}catch{alert("")}},bn=async()=>{if(window.confirm(` ${pe.size} `))try{await Promise.all(Array.from(pe).map(ue=>ht.hardDeleteQuestion(ue))),j()}catch{alert("")}},_i=async()=>{try{await Promise.all(Array.from(pe).map(ue=>ht.restoreQuestion(ue))),j()}catch{alert("")}},cr=async ue=>{try{const qe=await ht.createQuestion(ue);e(De=>[qe,...De])}catch(qe){throw console.error("Batch save failed",qe),new Error(qe.message||"")}},Wn=Ae.length>0&&Ae.every(ue=>pe.has(ue.id));return v.jsxs("div",{className:"min-h-screen flex flex-col",children:[v.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-30 px-4 py-3 md:px-6 md:py-4",children:v.jsxs("div",{className:"max-w-7xl mx-auto flex flex-wrap md:flex-nowrap items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer shrink-0 order-1",onClick:()=>o("LIBRARY"),children:[v.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:v.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h1",{className:"text-lg md:text-xl font-bold text-slate-900 leading-tight",children:"E-Bu"}),v.jsxs("div",{className:"px-1.5 py-0.5 md:px-2 bg-slate-100 border border-slate-200 rounded text-[9px] font-bold text-slate-500 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full animate-pulse"}),"AI Enhanced"]})]}),v.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mt-0.5",children:""})]})]}),v.jsxs("div",{className:"w-full md:w-auto md:flex-1 max-w-xl relative order-3 md:order-2",children:[v.jsx("input",{type:"text",placeholder:`${l==="LIBRARY"?"":""}...`,value:K,onChange:ue=>Z(ue.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 bg-slate-100 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 transition-all text-sm"}),v.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),v.jsxs("div",{className:"flex gap-2 md:gap-3 items-center order-2 md:order-3 ml-auto md:ml-0",children:[v.jsxs("div",{className:"hidden min-[400px]:flex items-center gap-0.5 md:gap-1 mr-1 border-r border-slate-200 pr-2 md:pr-3",children:[v.jsx("a",{href:"https://github.com/aymwoo/E-Bu",target:"_blank",rel:"noreferrer",className:"p-2 rounded-xl text-slate-400 hover:text-slate-900 hover:bg-slate-100 transition-all",title:"GitHub Repository",children:v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:v.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),v.jsx("a",{href:"https://gitee.com/aymwoo/E-Bu",target:"_blank",rel:"noreferrer",className:"p-2 rounded-xl hover:bg-red-50 transition-all group",title:"Gitee Repository",children:v.jsx("img",{src:"/gitee.ico",alt:"Gitee",className:"w-6 h-6 object-contain opacity-50 group-hover:opacity-100 transition-opacity"})})]}),v.jsx("button",{onClick:()=>q(!0),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsxs("button",{onClick:()=>o(l==="LIBRARY"?"TRASH":"LIBRARY"),className:`relative p-2 rounded-xl border transition-all ${l==="TRASH"?"bg-amber-50 border-amber-200 text-amber-600":"bg-white border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,title:l==="LIBRARY"?"":"",children:[v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),l==="LIBRARY"&&i.length>0&&v.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] flex items-center justify-center rounded-full font-bold",children:i.length})]}),v.jsx("button",{onClick:()=>U(!0),className:"hidden sm:block px-4 py-2 text-indigo-600 font-semibold text-sm hover:bg-indigo-50 rounded-xl transition-colors border border-indigo-100",children:""}),v.jsxs("button",{onClick:()=>R(!0),className:"px-3 md:px-4 py-2 bg-indigo-600 text-white font-semibold text-sm rounded-xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}),v.jsxs("main",{className:"flex-1 max-w-7xl w-full mx-auto p-6",children:[v.jsx("div",{className:"mb-8 flex items-center justify-between",children:v.jsx("div",{children:v.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[l==="LIBRARY"?"":"",v.jsx("span",{className:"text-slate-300 font-light",children:"/"}),v.jsxs("span",{className:"text-sm font-bold text-slate-400",children:[Ae.length," "]})]})})}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[v.jsx("div",{className:"flex items-center gap-4 overflow-x-auto pb-2 scrollbar-hide",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>m("ALL"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${p==="ALL"?"bg-indigo-600 text-white":"bg-white text-slate-500"}`,children:""}),Object.values(Io).map(ue=>v.jsx("button",{onClick:()=>m(ue),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${p===ue?"bg-indigo-600 text-white":"bg-white text-slate-500"}`,children:ue},ue))]})}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-xl overflow-hidden",children:[v.jsx("button",{onClick:()=>Se("CARD"),className:`px-3 py-2 text-sm font-bold transition-colors ${me==="CARD"?"bg-indigo-600 text-white":"text-slate-500 hover:bg-slate-50"}`,title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h7v7H4V6zm9 0h7v7h-7V6zM4 15h7v3H4v-3zm9 0h7v3h-7v-3z"})})}),v.jsx("button",{onClick:()=>Se("LIST"),className:`px-3 py-2 text-sm font-bold transition-colors ${me==="LIST"?"bg-indigo-600 text-white":"text-slate-500 hover:bg-slate-50"}`,title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})})})]}),v.jsxs("button",{onClick:Pe,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold border transition-all ${Wn?"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200":"bg-white text-slate-600 border-slate-300 hover:bg-slate-50"}`,children:[v.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${Wn?"border-white/30 bg-white/20":"border-slate-400 bg-transparent"}`,children:Wn&&v.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),Wn?"":""]})]})]}),c?v.jsx("div",{className:"flex items-center justify-center py-24",children:"Loading..."}):Ae.length>0?me==="CARD"?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 pb-24",children:Ae.map(ue=>v.jsx(WT,{question:ue,isSelected:pe.has(ue.id),onToggleSelect:()=>se(ue.id),onDelete:l==="TRASH"?Ne:ie,onRestore:fe,onView:S,onEdit:E,onUpdateDifficulty:L,isTrashMode:l==="TRASH"},ue.id))}):v.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase tracking-widest",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-4 text-center",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4 text-right",children:""})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:Ae.map(ue=>v.jsx(ew,{question:ue,isSelected:pe.has(ue.id),onToggleSelect:()=>se(ue.id),onDelete:l==="TRASH"?Ne:ie,onRestore:fe,onView:S,onEdit:E,onUpdateDifficulty:L,isTrashMode:l==="TRASH"},ue.id))})]})})}):v.jsx("div",{className:"text-center py-24",children:""})]}),pe.size>0&&v.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-40 bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-6 animate-in slide-in-from-bottom-10 fade-in duration-300",children:[v.jsxs("span",{className:"text-sm font-bold",children:[" ",pe.size," "]}),l==="LIBRARY"?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20",children:""}),v.jsx("button",{onClick:it,className:"px-4 py-2 text-sm font-bold text-slate-300 hover:text-white hover:bg-white/10 rounded-xl transition-colors",children:""})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:_i,className:"px-4 py-2 bg-indigo-600 rounded-xl text-sm font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-900/20",children:""}),v.jsx("button",{onClick:bn,className:"px-4 py-2 text-sm font-bold text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded-xl transition-colors",children:""})]})]}),_&&v.jsx(nw,{onQuestionSaved:cr,onCancel:()=>{R(!1),j()}}),x&&v.jsx(tw,{question:x,onClose:()=>S(null),onUpdateDifficulty:L,onUpdateField:$}),T&&v.jsx(Jg,{question:T,onClose:()=>E(null),onSaved:ue=>{de(ue.id,ue),(x==null?void 0:x.id)===ue.id&&S(ue)}}),k&&v.jsx(rw,{questions:t,onClose:()=>U(!1)}),P&&v.jsx(lw,{questions:Q(),onClose:()=>J(!1)}),ee&&v.jsx(sw,{onClose:()=>ae(!1),onDataChanged:j}),te&&v.jsx(ow,{onClose:()=>q(!1),onConfigSaved:ue=>Ye(ue)})]})},Xg=document.getElementById("root");if(!Xg)throw new Error("Could not find root element to mount to");const cw=M3.createRoot(Xg);cw.render(v.jsx(b3.StrictMode,{children:v.jsx(uw,{})}));
