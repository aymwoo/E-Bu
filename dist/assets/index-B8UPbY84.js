(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();function r2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fc={exports:{}},ka={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function v3(){if(Dm)return ka;Dm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:t,type:l,key:c,ref:a!==void 0?a:null,props:o}}return ka.Fragment=e,ka.jsx=i,ka.jsxs=i,ka}var zm;function y3(){return zm||(zm=1,fc.exports=v3()),fc.exports}var v=y3(),hc={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function x3(){if(Lm)return Le;Lm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function U(z,K,de){this.props=z,this.context=K,this.refs=k,this.updater=de||_}U.prototype.isReactComponent={},U.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},U.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=U.prototype;function J(z,K,de){this.props=z,this.context=K,this.refs=k,this.updater=de||_}var te=J.prototype=new q;te.constructor=J,R(te,U.prototype),te.isPureReactComponent=!0;var le=Array.isArray;function ne(){}var P={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Z(z,K,de){var ge=de.ref;return{$$typeof:t,type:z,key:K,ref:ge!==void 0?ge:null,props:de}}function fe(z,K){return Z(z.type,K,z.props)}function be(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function we(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return K[de]})}var Me=/\/+/g;function Ue(z,K){return typeof z=="object"&&z!==null&&z.key!=null?we(""+z.key):K.toString(36)}function qe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ne,ne):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function j(z,K,de,ge,Ce){var Q=typeof z;(Q==="undefined"||Q==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(Q){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case t:case e:oe=!0;break;case x:return oe=z._init,j(oe(z._payload),K,de,ge,Ce)}}if(oe)return Ce=Ce(z),oe=ge===""?"."+Ue(z,0):ge,le(Ce)?(de="",oe!=null&&(de=oe.replace(Me,"$&/")+"/"),j(Ce,K,de,"",function(Qt){return Qt})):Ce!=null&&(be(Ce)&&(Ce=fe(Ce,de+(Ce.key==null||z&&z.key===Ce.key?"":(""+Ce.key).replace(Me,"$&/")+"/")+oe)),K.push(Ce)),1;oe=0;var Oe=ge===""?".":ge+":";if(le(z))for(var tt=0;tt<z.length;tt++)ge=z[tt],Q=Oe+Ue(ge,tt),oe+=j(ge,K,de,Q,Ce);else if(tt=E(z),typeof tt=="function")for(z=tt.call(z),tt=0;!(ge=z.next()).done;)ge=ge.value,Q=Oe+Ue(ge,tt++),oe+=j(ge,K,de,Q,Ce);else if(Q==="object"){if(typeof z.then=="function")return j(qe(z),K,de,ge,Ce);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return oe}function W(z,K,de){if(z==null)return z;var ge=[],Ce=0;return j(z,ge,"","",function(Q){return K.call(de,Q,Ce++)}),ge}function he(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var Te=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ee={map:W,forEach:function(z,K,de){W(z,function(){K.apply(this,arguments)},de)},count:function(z){var K=0;return W(z,function(){K++}),K},toArray:function(z){return W(z,function(K){return K})||[]},only:function(z){if(!be(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Le.Activity=S,Le.Children=Ee,Le.Component=U,Le.Fragment=i,Le.Profiler=a,Le.PureComponent=J,Le.StrictMode=l,Le.Suspense=m,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Le.__COMPILER_RUNTIME={__proto__:null,c:function(z){return P.H.useMemoCache(z)}},Le.cache=function(z){return function(){return z.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(z,K,de){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ge=R({},z.props),Ce=z.key;if(K!=null)for(Q in K.key!==void 0&&(Ce=""+K.key),K)!$.call(K,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&K.ref===void 0||(ge[Q]=K[Q]);var Q=arguments.length-2;if(Q===1)ge.children=de;else if(1<Q){for(var oe=Array(Q),Oe=0;Oe<Q;Oe++)oe[Oe]=arguments[Oe+2];ge.children=oe}return Z(z.type,Ce,ge)},Le.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Le.createElement=function(z,K,de){var ge,Ce={},Q=null;if(K!=null)for(ge in K.key!==void 0&&(Q=""+K.key),K)$.call(K,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ce[ge]=K[ge]);var oe=arguments.length-2;if(oe===1)Ce.children=de;else if(1<oe){for(var Oe=Array(oe),tt=0;tt<oe;tt++)Oe[tt]=arguments[tt+2];Ce.children=Oe}if(z&&z.defaultProps)for(ge in oe=z.defaultProps,oe)Ce[ge]===void 0&&(Ce[ge]=oe[ge]);return Z(z,Q,Ce)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:f,render:z}},Le.isValidElement=be,Le.lazy=function(z){return{$$typeof:x,_payload:{_status:-1,_result:z},_init:he}},Le.memo=function(z,K){return{$$typeof:p,type:z,compare:K===void 0?null:K}},Le.startTransition=function(z){var K=P.T,de={};P.T=de;try{var ge=z(),Ce=P.S;Ce!==null&&Ce(de,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(ne,Te)}catch(Q){Te(Q)}finally{K!==null&&de.types!==null&&(K.types=de.types),P.T=K}},Le.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Le.use=function(z){return P.H.use(z)},Le.useActionState=function(z,K,de){return P.H.useActionState(z,K,de)},Le.useCallback=function(z,K){return P.H.useCallback(z,K)},Le.useContext=function(z){return P.H.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z,K){return P.H.useDeferredValue(z,K)},Le.useEffect=function(z,K){return P.H.useEffect(z,K)},Le.useEffectEvent=function(z){return P.H.useEffectEvent(z)},Le.useId=function(){return P.H.useId()},Le.useImperativeHandle=function(z,K,de){return P.H.useImperativeHandle(z,K,de)},Le.useInsertionEffect=function(z,K){return P.H.useInsertionEffect(z,K)},Le.useLayoutEffect=function(z,K){return P.H.useLayoutEffect(z,K)},Le.useMemo=function(z,K){return P.H.useMemo(z,K)},Le.useOptimistic=function(z,K){return P.H.useOptimistic(z,K)},Le.useReducer=function(z,K,de){return P.H.useReducer(z,K,de)},Le.useRef=function(z){return P.H.useRef(z)},Le.useState=function(z){return P.H.useState(z)},Le.useSyncExternalStore=function(z,K,de){return P.H.useSyncExternalStore(z,K,de)},Le.useTransition=function(){return P.H.useTransition()},Le.version="19.2.3",Le}var Um;function rd(){return Um||(Um=1,hc.exports=x3()),hc.exports}var me=rd();const b3=r2(me);var mc={exports:{}},Ia={},pc={exports:{}},gc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function S3(){return Bm||(Bm=1,(function(t){function e(j,W){var he=j.length;j.push(W);e:for(;0<he;){var Te=he-1>>>1,Ee=j[Te];if(0<a(Ee,W))j[Te]=W,j[he]=Ee,he=Te;else break e}}function i(j){return j.length===0?null:j[0]}function l(j){if(j.length===0)return null;var W=j[0],he=j.pop();if(he!==W){j[0]=he;e:for(var Te=0,Ee=j.length,z=Ee>>>1;Te<z;){var K=2*(Te+1)-1,de=j[K],ge=K+1,Ce=j[ge];if(0>a(de,he))ge<Ee&&0>a(Ce,de)?(j[Te]=Ce,j[ge]=he,Te=ge):(j[Te]=de,j[K]=he,Te=K);else if(ge<Ee&&0>a(Ce,he))j[Te]=Ce,j[ge]=he,Te=ge;else break e}}return W}function a(j,W){var he=j.sortIndex-W.sortIndex;return he!==0?he:j.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],x=1,S=null,w=3,E=!1,_=!1,R=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function te(j){for(var W=i(p);W!==null;){if(W.callback===null)l(p);else if(W.startTime<=j)l(p),W.sortIndex=W.expirationTime,e(m,W);else break;W=i(p)}}function le(j){if(R=!1,te(j),!_)if(i(m)!==null)_=!0,ne||(ne=!0,we());else{var W=i(p);W!==null&&qe(le,W.startTime-j)}}var ne=!1,P=-1,$=5,Z=-1;function fe(){return k?!0:!(t.unstable_now()-Z<$)}function be(){if(k=!1,ne){var j=t.unstable_now();Z=j;var W=!0;try{e:{_=!1,R&&(R=!1,q(P),P=-1),E=!0;var he=w;try{t:{for(te(j),S=i(m);S!==null&&!(S.expirationTime>j&&fe());){var Te=S.callback;if(typeof Te=="function"){S.callback=null,w=S.priorityLevel;var Ee=Te(S.expirationTime<=j);if(j=t.unstable_now(),typeof Ee=="function"){S.callback=Ee,te(j),W=!0;break t}S===i(m)&&l(m),te(j)}else l(m);S=i(m)}if(S!==null)W=!0;else{var z=i(p);z!==null&&qe(le,z.startTime-j),W=!1}}break e}finally{S=null,w=he,E=!1}W=void 0}}finally{W?we():ne=!1}}}var we;if(typeof J=="function")we=function(){J(be)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Ue=Me.port2;Me.port1.onmessage=be,we=function(){Ue.postMessage(null)}}else we=function(){U(be,0)};function qe(j,W){P=U(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(j){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var he=w;w=W;try{return j()}finally{w=he}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var he=w;w=j;try{return W()}finally{w=he}},t.unstable_scheduleCallback=function(j,W,he){var Te=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Te+he:Te):he=Te,j){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=he+Ee,j={id:x++,callback:W,priorityLevel:j,startTime:he,expirationTime:Ee,sortIndex:-1},he>Te?(j.sortIndex=he,e(p,j),i(m)===null&&j===i(p)&&(R?(q(P),P=-1):R=!0,qe(le,he-Te))):(j.sortIndex=Ee,e(m,j),_||E||(_=!0,ne||(ne=!0,we()))),j},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(j){var W=w;return function(){var he=w;w=W;try{return j.apply(this,arguments)}finally{w=he}}}})(gc)),gc}var Hm;function w3(){return Hm||(Hm=1,pc.exports=S3()),pc.exports}var vc={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function T3(){if(Gm)return Vt;Gm=1;var t=rd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,p,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:m,containerInfo:p,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Vt.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,x)},Vt.flushSync=function(m){var p=c.T,x=l.p;try{if(c.T=null,l.p=2,m)return m()}finally{c.T=p,l.p=x,l.d.f()}},Vt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},Vt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},Vt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,S=f(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:E}):x==="script"&&l.d.X(m,{crossOrigin:S,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},Vt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,S=f(x,p.crossOrigin);l.d.L(m,x,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},Vt.requestFormReset=function(m){l.d.r(m)},Vt.unstable_batchedUpdates=function(m,p){return m(p)},Vt.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},Vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vt.version="19.2.3",Vt}var Pm;function A3(){if(Pm)return vc.exports;Pm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vc.exports=T3(),vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function E3(){if(qm)return Ia;qm=1;var t=w3(),e=rd(),i=A3();function l(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(o(n)!==n)throw Error(l(188))}function p(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(l(188));return r!==n?null:n}for(var s=n,u=r;;){var g=s.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){s=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===s)return m(g),n;if(y===u)return m(g),r;y=y.sibling}throw Error(l(188))}if(s.return!==u.return)s=g,u=y;else{for(var A=!1,N=g.child;N;){if(N===s){A=!0,s=g,u=y;break}if(N===u){A=!0,u=g,s=y;break}N=N.sibling}if(!A){for(N=y.child;N;){if(N===s){A=!0,s=y,u=g;break}if(N===u){A=!0,u=y,s=g;break}N=N.sibling}if(!A)throw Error(l(189))}}if(s.alternate!==u)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?n:r}function x(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=x(n),r!==null)return r;n=n.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function we(n){return n===null||typeof n!="object"?null:(n=be&&n[be]||n["@@iterator"],typeof n=="function"?n:null)}var Me=Symbol.for("react.client.reference");function Ue(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Me?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case le:return"Suspense";case ne:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case J:return n.displayName||"Context";case q:return(n._context.displayName||"Context")+".Consumer";case te:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return r=n.displayName||null,r!==null?r:Ue(n.type)||"Memo";case $:r=n._payload,n=n._init;try{return Ue(n(r))}catch{}}return null}var qe=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Te=[],Ee=-1;function z(n){return{current:n}}function K(n){0>Ee||(n.current=Te[Ee],Te[Ee]=null,Ee--)}function de(n,r){Ee++,Te[Ee]=n.current,n.current=r}var ge=z(null),Ce=z(null),Q=z(null),oe=z(null);function Oe(n,r){switch(de(Q,r),de(Ce,n),de(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?nm(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=nm(r),n=im(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(ge),de(ge,n)}function tt(){K(ge),K(Ce),K(Q)}function Qt(n){n.memoizedState!==null&&de(oe,n);var r=ge.current,s=im(r,n.type);r!==s&&(de(Ce,n),de(ge,s))}function ki(n){Ce.current===n&&(K(ge),K(Ce)),oe.current===n&&(K(oe),Na._currentValue=he)}var Ii,Ul;function Rt(n){if(Ii===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Ii=r&&r[1]||"",Ul=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ii+n+Ul}var Di=!1;function ei(n,r){if(!n||Di)return"";Di=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Y=X}Reflect.construct(n,[],re)}else{try{re.call()}catch(X){Y=X}n.call(re.prototype)}}else{try{throw Error()}catch(X){Y=X}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),A=y[0],N=y[1];if(A&&N){var L=A.split(`
`),F=N.split(`
`);for(g=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===L.length||g===F.length)for(u=L.length-1,g=F.length-1;1<=u&&0<=g&&L[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(L[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||L[u]!==F[g]){var ee=`
`+L[u].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=u&&0<=g);break}}}finally{Di=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Rt(s):""}function hr(n,r){switch(n.tag){case 26:case 27:case 5:return Rt(n.type);case 16:return Rt("Lazy");case 13:return n.child!==r&&r!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return ei(n.type,!1);case 11:return ei(n.type.render,!1);case 1:return ei(n.type,!0);case 31:return Rt("Activity");default:return""}}function ti(n){try{var r="",s=null;do r+=hr(n,s),s=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vn=Object.prototype.hasOwnProperty,Bl=t.unstable_scheduleCallback,Hl=t.unstable_cancelCallback,Br=t.unstable_shouldYield,ae=t.unstable_requestPaint,Ne=t.unstable_now,Be=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,Bt=t.unstable_UserBlockingPriority,ja=t.unstable_NormalPriority,Zg=t.unstable_LowPriority,Ld=t.unstable_IdlePriority,Wg=t.log,ev=t.unstable_setDisableYieldValue,Gl=null,un=null;function zi(n){if(typeof Wg=="function"&&ev(n),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Gl,n)}catch{}}var cn=Math.clz32?Math.clz32:iv,tv=Math.log,nv=Math.LN2;function iv(n){return n>>>=0,n===0?32:31-(tv(n)/nv|0)|0}var Ya=256,Ja=262144,Xa=4194304;function mr(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ka(n,r,s){var u=n.pendingLanes;if(u===0)return 0;var g=0,y=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var N=u&134217727;return N!==0?(u=N&~y,u!==0?g=mr(u):(A&=N,A!==0?g=mr(A):s||(s=N&~n,s!==0&&(g=mr(s))))):(N=u&~y,N!==0?g=mr(N):A!==0?g=mr(A):s||(s=u&~n,s!==0&&(g=mr(s)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,s=r&-r,y>=s||y===32&&(s&4194048)!==0)?r:g}function Pl(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function rv(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ud(){var n=Xa;return Xa<<=1,(Xa&62914560)===0&&(Xa=4194304),n}function e0(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function ql(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function lv(n,r,s,u,g,y){var A=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var N=n.entanglements,L=n.expirationTimes,F=n.hiddenUpdates;for(s=A&~s;0<s;){var ee=31-cn(s),re=1<<ee;N[ee]=0,L[ee]=-1;var Y=F[ee];if(Y!==null)for(F[ee]=null,ee=0;ee<Y.length;ee++){var X=Y[ee];X!==null&&(X.lane&=-536870913)}s&=~re}u!==0&&Bd(n,u,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(A&~r))}function Bd(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-cn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function Hd(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var u=31-cn(s),g=1<<u;g&r|n[u]&r&&(n[u]|=r),s&=~g}}function Gd(n,r){var s=r&-r;return s=(s&42)!==0?1:t0(s),(s&(n.suspendedLanes|r))!==0?0:s}function t0(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function n0(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Pd(){var n=W.p;return n!==0?n:(n=window.event,n===void 0?32:Cm(n.type))}function qd(n,r){var s=W.p;try{return W.p=n,r()}finally{W.p=s}}var Li=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Li,Zt="__reactProps$"+Li,Hr="__reactContainer$"+Li,i0="__reactEvents$"+Li,av="__reactListeners$"+Li,sv="__reactHandles$"+Li,Od="__reactResources$"+Li,Ol="__reactMarker$"+Li;function r0(n){delete n[Ht],delete n[Zt],delete n[i0],delete n[av],delete n[sv]}function Gr(n){var r=n[Ht];if(r)return r;for(var s=n.parentNode;s;){if(r=s[Hr]||s[Ht]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=cm(n);n!==null;){if(s=n[Ht])return s;n=cm(n)}return r}n=s,s=n.parentNode}return null}function Pr(n){if(n=n[Ht]||n[Hr]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Vl(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(l(33))}function qr(n){var r=n[Od];return r||(r=n[Od]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(n){n[Ol]=!0}var Vd=new Set,Fd={};function pr(n,r){Or(n,r),Or(n+"Capture",r)}function Or(n,r){for(Fd[n]=r,n=0;n<r.length;n++)Vd.add(r[n])}var ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jd={},Yd={};function uv(n){return Vn.call(Yd,n)?!0:Vn.call(jd,n)?!1:ov.test(n)?Yd[n]=!0:(jd[n]=!0,!1)}function $a(n,r,s){if(uv(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function Qa(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function ni(n,r,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+u)}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jd(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cv(n,r,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(A){s=""+A,y.call(this,A)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(A){s=""+A},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function l0(n){if(!n._valueTracker){var r=Jd(n)?"checked":"value";n._valueTracker=cv(n,r,""+n[r])}}function Xd(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return n&&(u=Jd(n)?n.checked?"true":"false":n.value),n=u,n!==s?(r.setValue(n),!0):!1}function Za(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var dv=/[\n"\\]/g;function wn(n){return n.replace(dv,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function a0(n,r,s,u,g,y,A,N){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),r!=null?A==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Sn(r)):n.value!==""+Sn(r)&&(n.value=""+Sn(r)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),r!=null?s0(n,A,Sn(r)):s!=null?s0(n,A,Sn(s)):u!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+Sn(N):n.removeAttribute("name")}function Kd(n,r,s,u,g,y,A,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),r!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){l0(n);return}s=s!=null?""+Sn(s):"",r=r!=null?""+Sn(r):s,N||r===n.value||(n.value=r),n.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=N?n.checked:!!u,n.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),l0(n)}function s0(n,r,s){r==="number"&&Za(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Vr(n,r,s,u){if(n=n.options,r){r={};for(var g=0;g<s.length;g++)r["$"+s[g]]=!0;for(s=0;s<n.length;s++)g=r.hasOwnProperty("$"+n[s].value),n[s].selected!==g&&(n[s].selected=g),g&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Sn(s),r=null,g=0;g<n.length;g++){if(n[g].value===s){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function $d(n,r,s){if(r!=null&&(r=""+Sn(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Sn(s):""}function Qd(n,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(l(92));if(qe(u)){if(1<u.length)throw Error(l(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=Sn(r),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),l0(n)}function Fr(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var fv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zd(n,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,s):typeof s!="number"||s===0||fv.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function Wd(n,r,s){if(r!=null&&typeof r!="object")throw Error(l(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&s[g]!==u&&Zd(n,g,u)}else for(var y in r)r.hasOwnProperty(y)&&Zd(n,y,r[y])}function o0(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(n){return mv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ii(){}var u0=null;function c0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jr=null,Yr=null;function ef(n){var r=Pr(n);if(r&&(n=r.stateNode)){var s=n[Zt]||null;e:switch(n=r.stateNode,r.type){case"input":if(a0(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==n&&u.form===n.form){var g=u[Zt]||null;if(!g)throw Error(l(90));a0(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===n.form&&Xd(u)}break e;case"textarea":$d(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Vr(n,!!s.multiple,r,!1)}}}var d0=!1;function tf(n,r,s){if(d0)return n(r,s);d0=!0;try{var u=n(r);return u}finally{if(d0=!1,(jr!==null||Yr!==null)&&(Ps(),jr&&(r=jr,n=Yr,Yr=jr=null,ef(r),n)))for(r=0;r<n.length;r++)ef(n[r])}}function Fl(n,r){var s=n.stateNode;if(s===null)return null;var u=s[Zt]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(l(231,r,typeof s));return s}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f0=!1;if(ri)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){f0=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{f0=!1}var Ui=null,h0=null,es=null;function nf(){if(es)return es;var n,r=h0,s=r.length,u,g="value"in Ui?Ui.value:Ui.textContent,y=g.length;for(n=0;n<s&&r[n]===g[n];n++);var A=s-n;for(u=1;u<=A&&r[s-u]===g[y-u];u++);return es=g.slice(n,1<u?1-u:void 0)}function ts(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ns(){return!0}function rf(){return!1}function Wt(n){function r(s,u,g,y,A){this._reactName=s,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(s=n[N],this[N]=s?s(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ns:rf,this.isPropagationStopped=rf,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),r}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Wt(gr),Yl=S({},gr,{view:0,detail:0}),pv=Wt(Yl),m0,p0,Jl,rs=S({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Jl&&(Jl&&n.type==="mousemove"?(m0=n.screenX-Jl.screenX,p0=n.screenY-Jl.screenY):p0=m0=0,Jl=n),m0)},movementY:function(n){return"movementY"in n?n.movementY:p0}}),lf=Wt(rs),gv=S({},rs,{dataTransfer:0}),vv=Wt(gv),yv=S({},Yl,{relatedTarget:0}),g0=Wt(yv),xv=S({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=Wt(xv),Sv=S({},gr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wv=Wt(Sv),Tv=S({},gr,{data:0}),af=Wt(Tv),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Cv[n])?!!r[n]:!1}function v0(){return Nv}var Mv=S({},Yl,{key:function(n){if(n.key){var r=Av[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ts(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ev[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v0,charCode:function(n){return n.type==="keypress"?ts(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ts(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_v=Wt(Mv),Rv=S({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=Wt(Rv),kv=S({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v0}),Iv=Wt(kv),Dv=S({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zv=Wt(Dv),Lv=S({},rs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=Wt(Lv),Bv=S({},gr,{newState:0,oldState:0}),Hv=Wt(Bv),Gv=[9,13,27,32],y0=ri&&"CompositionEvent"in window,Xl=null;ri&&"documentMode"in document&&(Xl=document.documentMode);var Pv=ri&&"TextEvent"in window&&!Xl,of=ri&&(!y0||Xl&&8<Xl&&11>=Xl),uf=" ",cf=!1;function df(n,r){switch(n){case"keyup":return Gv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ff(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Jr=!1;function qv(n,r){switch(n){case"compositionend":return ff(r);case"keypress":return r.which!==32?null:(cf=!0,uf);case"textInput":return n=r.data,n===uf&&cf?null:n;default:return null}}function Ov(n,r){if(Jr)return n==="compositionend"||!y0&&df(n,r)?(n=nf(),es=h0=Ui=null,Jr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return of&&r.locale!=="ko"?null:r.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vv[n.type]:r==="textarea"}function mf(n,r,s,u){jr?Yr?Yr.push(u):Yr=[u]:jr=u,r=Js(r,"onChange"),0<r.length&&(s=new is("onChange","change",null,s,u),n.push({event:s,listeners:r}))}var Kl=null,$l=null;function Fv(n){$1(n,0)}function ls(n){var r=Vl(n);if(Xd(r))return n}function pf(n,r){if(n==="change")return r}var gf=!1;if(ri){var x0;if(ri){var b0="oninput"in document;if(!b0){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),b0=typeof vf.oninput=="function"}x0=b0}else x0=!1;gf=x0&&(!document.documentMode||9<document.documentMode)}function yf(){Kl&&(Kl.detachEvent("onpropertychange",xf),$l=Kl=null)}function xf(n){if(n.propertyName==="value"&&ls($l)){var r=[];mf(r,$l,n,c0(n)),tf(Fv,r)}}function jv(n,r,s){n==="focusin"?(yf(),Kl=r,$l=s,Kl.attachEvent("onpropertychange",xf)):n==="focusout"&&yf()}function Yv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ls($l)}function Jv(n,r){if(n==="click")return ls(r)}function Xv(n,r){if(n==="input"||n==="change")return ls(r)}function Kv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var dn=typeof Object.is=="function"?Object.is:Kv;function Ql(n,r){if(dn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var g=s[u];if(!Vn.call(r,g)||!dn(n[g],r[g]))return!1}return!0}function bf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sf(n,r){var s=bf(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=r&&u>=r)return{node:s,offset:r-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=bf(s)}}function wf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Tf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Za(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Za(n.document)}return r}function S0(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var $v=ri&&"documentMode"in document&&11>=document.documentMode,Xr=null,w0=null,Zl=null,T0=!1;function Af(n,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;T0||Xr==null||Xr!==Za(u)||(u=Xr,"selectionStart"in u&&S0(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Ql(Zl,u)||(Zl=u,u=Js(w0,"onSelect"),0<u.length&&(r=new is("onSelect","select",null,r,s),n.push({event:r,listeners:u}),r.target=Xr)))}function vr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Kr={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},A0={},Ef={};ri&&(Ef=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function yr(n){if(A0[n])return A0[n];if(!Kr[n])return n;var r=Kr[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in Ef)return A0[n]=r[s];return n}var Cf=yr("animationend"),Nf=yr("animationiteration"),Mf=yr("animationstart"),Qv=yr("transitionrun"),Zv=yr("transitionstart"),Wv=yr("transitioncancel"),_f=yr("transitionend"),Rf=new Map,E0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");E0.push("scrollEnd");function Un(n,r){Rf.set(n,r),pr(r,[n])}var as=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Tn=[],$r=0,C0=0;function ss(){for(var n=$r,r=C0=$r=0;r<n;){var s=Tn[r];Tn[r++]=null;var u=Tn[r];Tn[r++]=null;var g=Tn[r];Tn[r++]=null;var y=Tn[r];if(Tn[r++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}y!==0&&kf(s,g,y)}}function os(n,r,s,u){Tn[$r++]=n,Tn[$r++]=r,Tn[$r++]=s,Tn[$r++]=u,C0|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function N0(n,r,s,u){return os(n,r,s,u),us(n)}function xr(n,r){return os(n,null,null,r),us(n)}function kf(n,r,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var g=!1,y=n.return;y!==null;)y.childLanes|=s,u=y.alternate,u!==null&&(u.childLanes|=s),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&r!==null&&(g=31-cn(s),n=y.hiddenUpdates,u=n[g],u===null?n[g]=[r]:u.push(r),r.lane=s|536870912),y):null}function us(n){if(50<ba)throw ba=0,Uu=null,Error(l(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Qr={};function e5(n,r,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,r,s,u){return new e5(n,r,s,u)}function M0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function li(n,r){var s=n.alternate;return s===null?(s=fn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function If(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function cs(n,r,s,u,g,y){var A=0;if(u=n,typeof n=="function")M0(n)&&(A=1);else if(typeof n=="string")A=l3(n,s,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=fn(31,s,r,g),n.elementType=Z,n.lanes=y,n;case R:return br(s.children,g,y,r);case k:A=8,g|=24;break;case U:return n=fn(12,s,r,g|2),n.elementType=U,n.lanes=y,n;case le:return n=fn(13,s,r,g),n.elementType=le,n.lanes=y,n;case ne:return n=fn(19,s,r,g),n.elementType=ne,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:A=10;break e;case q:A=9;break e;case te:A=11;break e;case P:A=14;break e;case $:A=16,u=null;break e}A=29,s=Error(l(130,n===null?"null":typeof n,"")),u=null}return r=fn(A,s,r,g),r.elementType=n,r.type=u,r.lanes=y,r}function br(n,r,s,u){return n=fn(7,n,u,r),n.lanes=s,n}function _0(n,r,s){return n=fn(6,n,null,r),n.lanes=s,n}function Df(n){var r=fn(18,null,null,0);return r.stateNode=n,r}function R0(n,r,s){return r=fn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var zf=new WeakMap;function An(n,r){if(typeof n=="object"&&n!==null){var s=zf.get(n);return s!==void 0?s:(r={value:n,source:r,stack:ti(r)},zf.set(n,r),r)}return{value:n,source:r,stack:ti(r)}}var Zr=[],Wr=0,ds=null,Wl=0,En=[],Cn=0,Bi=null,Fn=1,jn="";function ai(n,r){Zr[Wr++]=Wl,Zr[Wr++]=ds,ds=n,Wl=r}function Lf(n,r,s){En[Cn++]=Fn,En[Cn++]=jn,En[Cn++]=Bi,Bi=n;var u=Fn;n=jn;var g=32-cn(u)-1;u&=~(1<<g),s+=1;var y=32-cn(r)+g;if(30<y){var A=g-g%5;y=(u&(1<<A)-1).toString(32),u>>=A,g-=A,Fn=1<<32-cn(r)+g|s<<g|u,jn=y+n}else Fn=1<<y|s<<g|u,jn=n}function k0(n){n.return!==null&&(ai(n,1),Lf(n,1,0))}function I0(n){for(;n===ds;)ds=Zr[--Wr],Zr[Wr]=null,Wl=Zr[--Wr],Zr[Wr]=null;for(;n===Bi;)Bi=En[--Cn],En[Cn]=null,jn=En[--Cn],En[Cn]=null,Fn=En[--Cn],En[Cn]=null}function Uf(n,r){En[Cn++]=Fn,En[Cn++]=jn,En[Cn++]=Bi,Fn=r.id,jn=r.overflow,Bi=n}var Gt=null,ft=null,Je=!1,Hi=null,Nn=!1,D0=Error(l(519));function Gi(n){var r=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ea(An(r,n)),D0}function Bf(n){var r=n.stateNode,s=n.type,u=n.memoizedProps;switch(r[Ht]=n,r[Zt]=u,s){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<wa.length;s++)Fe(wa[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),Kd(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),Qd(r,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||em(r.textContent,s)?(u.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),u.onScroll!=null&&Fe("scroll",r),u.onScrollEnd!=null&&Fe("scrollend",r),u.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Gi(n,!0)}function Hf(n){for(Gt=n.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Gt=Gt.return}}function el(n){if(n!==Gt)return!1;if(!Je)return Hf(n),Je=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Qu(n.type,n.memoizedProps)),s=!s),s&&ft&&Gi(n),Hf(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));ft=um(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));ft=um(n)}else r===27?(r=ft,Wi(n.type)?(n=nc,nc=null,ft=n):ft=r):ft=Gt?_n(n.stateNode.nextSibling):null;return!0}function Sr(){ft=Gt=null,Je=!1}function z0(){var n=Hi;return n!==null&&(rn===null?rn=n:rn.push.apply(rn,n),Hi=null),n}function ea(n){Hi===null?Hi=[n]:Hi.push(n)}var L0=z(null),wr=null,si=null;function Pi(n,r,s){de(L0,r._currentValue),r._currentValue=s}function oi(n){n._currentValue=L0.current,K(L0)}function U0(n,r,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===s)break;n=n.return}}function B0(n,r,s,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=g;for(var L=0;L<r.length;L++)if(N.context===r[L]){y.lanes|=s,N=y.alternate,N!==null&&(N.lanes|=s),U0(y.return,s,n),u||(A=null);break e}y=N.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(l(341));A.lanes|=s,y=A.alternate,y!==null&&(y.lanes|=s),U0(A,s,n),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===n){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function tl(n,r,s,u){n=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(l(387));if(A=A.memoizedProps,A!==null){var N=g.type;dn(g.pendingProps.value,A.value)||(n!==null?n.push(N):n=[N])}}else if(g===oe.current){if(A=g.alternate,A===null)throw Error(l(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Na):n=[Na])}g=g.return}n!==null&&B0(r,n,s,u),r.flags|=262144}function fs(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Tr(n){wr=n,si=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Pt(n){return Gf(wr,n)}function hs(n,r){return wr===null&&Tr(n),Gf(n,r)}function Gf(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},si===null){if(n===null)throw Error(l(308));si=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else si=si.next=r;return s}var t5=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},n5=t.unstable_scheduleCallback,i5=t.unstable_NormalPriority,At={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function H0(){return{controller:new t5,data:new Map,refCount:0}}function ta(n){n.refCount--,n.refCount===0&&n5(i5,function(){n.controller.abort()})}var na=null,G0=0,nl=0,il=null;function r5(n,r){if(na===null){var s=na=[];G0=0,nl=Ou(),il={status:"pending",value:void 0,then:function(u){s.push(u)}}}return G0++,r.then(Pf,Pf),r}function Pf(){if(--G0===0&&na!==null){il!==null&&(il.status="fulfilled");var n=na;na=null,nl=0,il=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function l5(n,r){var s=[],u={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<s.length;g++)(0,s[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),u}var qf=j.S;j.S=function(n,r){A1=Ne(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r5(n,r),qf!==null&&qf(n,r)};var Ar=z(null);function P0(){var n=Ar.current;return n!==null?n:st.pooledCache}function ms(n,r){r===null?de(Ar,Ar.current):de(Ar,r.pool)}function Of(){var n=P0();return n===null?null:{parent:At._currentValue,pool:n}}var rl=Error(l(460)),q0=Error(l(474)),ps=Error(l(542)),gs={then:function(){}};function Vf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ff(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(ii,ii),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yf(n),n;default:if(typeof r.status=="string")r.then(ii,ii);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yf(n),n}throw Cr=r,rl}}function Er(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Cr=s,rl):s}}var Cr=null;function jf(){if(Cr===null)throw Error(l(459));var n=Cr;return Cr=null,n}function Yf(n){if(n===rl||n===ps)throw Error(l(483))}var ll=null,ia=0;function vs(n){var r=ia;return ia+=1,ll===null&&(ll=[]),Ff(ll,n,r)}function ra(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ys(n,r){throw r.$$typeof===w?Error(l(525)):(n=Object.prototype.toString.call(r),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Jf(n){function r(G,B){if(n){var O=G.deletions;O===null?(G.deletions=[B],G.flags|=16):O.push(B)}}function s(G,B){if(!n)return null;for(;B!==null;)r(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function g(G,B){return G=li(G,B),G.index=0,G.sibling=null,G}function y(G,B,O){return G.index=O,n?(O=G.alternate,O!==null?(O=O.index,O<B?(G.flags|=67108866,B):O):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function A(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function N(G,B,O,ie){return B===null||B.tag!==6?(B=_0(O,G.mode,ie),B.return=G,B):(B=g(B,O),B.return=G,B)}function L(G,B,O,ie){var _e=O.type;return _e===R?ee(G,B,O.props.children,ie,O.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===$&&Er(_e)===B.type)?(B=g(B,O.props),ra(B,O),B.return=G,B):(B=cs(O.type,O.key,O.props,null,G.mode,ie),ra(B,O),B.return=G,B)}function F(G,B,O,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==O.containerInfo||B.stateNode.implementation!==O.implementation?(B=R0(O,G.mode,ie),B.return=G,B):(B=g(B,O.children||[]),B.return=G,B)}function ee(G,B,O,ie,_e){return B===null||B.tag!==7?(B=br(O,G.mode,ie,_e),B.return=G,B):(B=g(B,O),B.return=G,B)}function re(G,B,O){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=_0(""+B,G.mode,O),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return O=cs(B.type,B.key,B.props,null,G.mode,O),ra(O,B),O.return=G,O;case _:return B=R0(B,G.mode,O),B.return=G,B;case $:return B=Er(B),re(G,B,O)}if(qe(B)||we(B))return B=br(B,G.mode,O,null),B.return=G,B;if(typeof B.then=="function")return re(G,vs(B),O);if(B.$$typeof===J)return re(G,hs(G,B),O);ys(G,B)}return null}function Y(G,B,O,ie){var _e=B!==null?B.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return _e!==null?null:N(G,B,""+O,ie);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===_e?L(G,B,O,ie):null;case _:return O.key===_e?F(G,B,O,ie):null;case $:return O=Er(O),Y(G,B,O,ie)}if(qe(O)||we(O))return _e!==null?null:ee(G,B,O,ie,null);if(typeof O.then=="function")return Y(G,B,vs(O),ie);if(O.$$typeof===J)return Y(G,B,hs(G,O),ie);ys(G,O)}return null}function X(G,B,O,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(O)||null,N(B,G,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return G=G.get(ie.key===null?O:ie.key)||null,L(B,G,ie,_e);case _:return G=G.get(ie.key===null?O:ie.key)||null,F(B,G,ie,_e);case $:return ie=Er(ie),X(G,B,O,ie,_e)}if(qe(ie)||we(ie))return G=G.get(O)||null,ee(B,G,ie,_e,null);if(typeof ie.then=="function")return X(G,B,O,vs(ie),_e);if(ie.$$typeof===J)return X(G,B,O,hs(B,ie),_e);ys(B,ie)}return null}function Se(G,B,O,ie){for(var _e=null,Ke=null,Ae=B,Ge=B=0,Ye=null;Ae!==null&&Ge<O.length;Ge++){Ae.index>Ge?(Ye=Ae,Ae=null):Ye=Ae.sibling;var $e=Y(G,Ae,O[Ge],ie);if($e===null){Ae===null&&(Ae=Ye);break}n&&Ae&&$e.alternate===null&&r(G,Ae),B=y($e,B,Ge),Ke===null?_e=$e:Ke.sibling=$e,Ke=$e,Ae=Ye}if(Ge===O.length)return s(G,Ae),Je&&ai(G,Ge),_e;if(Ae===null){for(;Ge<O.length;Ge++)Ae=re(G,O[Ge],ie),Ae!==null&&(B=y(Ae,B,Ge),Ke===null?_e=Ae:Ke.sibling=Ae,Ke=Ae);return Je&&ai(G,Ge),_e}for(Ae=u(Ae);Ge<O.length;Ge++)Ye=X(Ae,G,Ge,O[Ge],ie),Ye!==null&&(n&&Ye.alternate!==null&&Ae.delete(Ye.key===null?Ge:Ye.key),B=y(Ye,B,Ge),Ke===null?_e=Ye:Ke.sibling=Ye,Ke=Ye);return n&&Ae.forEach(function(rr){return r(G,rr)}),Je&&ai(G,Ge),_e}function Ie(G,B,O,ie){if(O==null)throw Error(l(151));for(var _e=null,Ke=null,Ae=B,Ge=B=0,Ye=null,$e=O.next();Ae!==null&&!$e.done;Ge++,$e=O.next()){Ae.index>Ge?(Ye=Ae,Ae=null):Ye=Ae.sibling;var rr=Y(G,Ae,$e.value,ie);if(rr===null){Ae===null&&(Ae=Ye);break}n&&Ae&&rr.alternate===null&&r(G,Ae),B=y(rr,B,Ge),Ke===null?_e=rr:Ke.sibling=rr,Ke=rr,Ae=Ye}if($e.done)return s(G,Ae),Je&&ai(G,Ge),_e;if(Ae===null){for(;!$e.done;Ge++,$e=O.next())$e=re(G,$e.value,ie),$e!==null&&(B=y($e,B,Ge),Ke===null?_e=$e:Ke.sibling=$e,Ke=$e);return Je&&ai(G,Ge),_e}for(Ae=u(Ae);!$e.done;Ge++,$e=O.next())$e=X(Ae,G,Ge,$e.value,ie),$e!==null&&(n&&$e.alternate!==null&&Ae.delete($e.key===null?Ge:$e.key),B=y($e,B,Ge),Ke===null?_e=$e:Ke.sibling=$e,Ke=$e);return n&&Ae.forEach(function(g3){return r(G,g3)}),Je&&ai(G,Ge),_e}function at(G,B,O,ie){if(typeof O=="object"&&O!==null&&O.type===R&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var _e=O.key;B!==null;){if(B.key===_e){if(_e=O.type,_e===R){if(B.tag===7){s(G,B.sibling),ie=g(B,O.props.children),ie.return=G,G=ie;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===$&&Er(_e)===B.type){s(G,B.sibling),ie=g(B,O.props),ra(ie,O),ie.return=G,G=ie;break e}s(G,B);break}else r(G,B);B=B.sibling}O.type===R?(ie=br(O.props.children,G.mode,ie,O.key),ie.return=G,G=ie):(ie=cs(O.type,O.key,O.props,null,G.mode,ie),ra(ie,O),ie.return=G,G=ie)}return A(G);case _:e:{for(_e=O.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===O.containerInfo&&B.stateNode.implementation===O.implementation){s(G,B.sibling),ie=g(B,O.children||[]),ie.return=G,G=ie;break e}else{s(G,B);break}else r(G,B);B=B.sibling}ie=R0(O,G.mode,ie),ie.return=G,G=ie}return A(G);case $:return O=Er(O),at(G,B,O,ie)}if(qe(O))return Se(G,B,O,ie);if(we(O)){if(_e=we(O),typeof _e!="function")throw Error(l(150));return O=_e.call(O),Ie(G,B,O,ie)}if(typeof O.then=="function")return at(G,B,vs(O),ie);if(O.$$typeof===J)return at(G,B,hs(G,O),ie);ys(G,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,B!==null&&B.tag===6?(s(G,B.sibling),ie=g(B,O),ie.return=G,G=ie):(s(G,B),ie=_0(O,G.mode,ie),ie.return=G,G=ie),A(G)):s(G,B)}return function(G,B,O,ie){try{ia=0;var _e=at(G,B,O,ie);return ll=null,_e}catch(Ae){if(Ae===rl||Ae===ps)throw Ae;var Ke=fn(29,Ae,null,G.mode);return Ke.lanes=ie,Ke.return=G,Ke}finally{}}}var Nr=Jf(!0),Xf=Jf(!1),qi=!1;function O0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function V0(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vi(n,r,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=us(n),kf(n,null,s),r}return os(n,u,r,s),us(n)}function la(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Hd(n,s)}}function F0(n,r){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var g=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,s=s.next}while(s!==null);y===null?g=y=r:y=y.next=r}else g=y=r;s={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var j0=!1;function aa(){if(j0){var n=il;if(n!==null)throw n}}function sa(n,r,s,u){j0=!1;var g=n.updateQueue;qi=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var L=N,F=L.next;L.next=null,A===null?y=F:A.next=F,A=L;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==A&&(N===null?ee.firstBaseUpdate=F:N.next=F,ee.lastBaseUpdate=L))}if(y!==null){var re=g.baseState;A=0,ee=F=L=null,N=y;do{var Y=N.lane&-536870913,X=Y!==N.lane;if(X?(je&Y)===Y:(u&Y)===Y){Y!==0&&Y===nl&&(j0=!0),ee!==null&&(ee=ee.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Se=n,Ie=N;Y=r;var at=s;switch(Ie.tag){case 1:if(Se=Ie.payload,typeof Se=="function"){re=Se.call(at,re,Y);break e}re=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ie.payload,Y=typeof Se=="function"?Se.call(at,re,Y):Se,Y==null)break e;re=S({},re,Y);break e;case 2:qi=!0}}Y=N.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=g.callbacks,X===null?g.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(F=ee=X,L=re):ee=ee.next=X,A|=Y;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;X=N,N=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);ee===null&&(L=re),g.baseState=L,g.firstBaseUpdate=F,g.lastBaseUpdate=ee,y===null&&(g.shared.lanes=0),Xi|=A,n.lanes=A,n.memoizedState=re}}function Kf(n,r){if(typeof n!="function")throw Error(l(191,n));n.call(r)}function $f(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Kf(s[n],r)}var al=z(null),xs=z(0);function Qf(n,r){n=vi,de(xs,n),de(al,r),vi=n|r.baseLanes}function Y0(){de(xs,vi),de(al,al.current)}function J0(){vi=xs.current,K(al),K(xs)}var hn=z(null),Mn=null;function Fi(n){var r=n.alternate;de(St,St.current&1),de(hn,n),Mn===null&&(r===null||al.current!==null||r.memoizedState!==null)&&(Mn=n)}function X0(n){de(St,St.current),de(hn,n),Mn===null&&(Mn=n)}function Zf(n){n.tag===22?(de(St,St.current),de(hn,n),Mn===null&&(Mn=n)):ji()}function ji(){de(St,St.current),de(hn,hn.current)}function mn(n){K(hn),Mn===n&&(Mn=null),K(St)}var St=z(0);function bs(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ec(s)||tc(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ui=0,He=null,rt=null,Et=null,Ss=!1,sl=!1,Mr=!1,ws=0,oa=0,ol=null,a5=0;function yt(){throw Error(l(321))}function K0(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!dn(n[s],r[s]))return!1;return!0}function $0(n,r,s,u,g,y){return ui=y,He=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,j.H=n===null||n.memoizedState===null?Lh:du,Mr=!1,y=s(u,g),Mr=!1,sl&&(y=eh(r,s,u,g)),Wf(n),y}function Wf(n){j.H=da;var r=rt!==null&&rt.next!==null;if(ui=0,Et=rt=He=null,Ss=!1,oa=0,ol=null,r)throw Error(l(300));n===null||Ct||(n=n.dependencies,n!==null&&fs(n)&&(Ct=!0))}function eh(n,r,s,u){He=n;var g=0;do{if(sl&&(ol=null),oa=0,sl=!1,25<=g)throw Error(l(301));if(g+=1,Et=rt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=Uh,y=r(s,u)}while(sl);return y}function s5(){var n=j.H,r=n.useState()[0];return r=typeof r.then=="function"?ua(r):r,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(He.flags|=1024),r}function Q0(){var n=ws!==0;return ws=0,n}function Z0(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function W0(n){if(Ss){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ss=!1}ui=0,Et=rt=He=null,sl=!1,oa=ws=0,ol=null}function jt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?He.memoizedState=Et=n:Et=Et.next=n,Et}function wt(){if(rt===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var r=Et===null?He.memoizedState:Et.next;if(r!==null)Et=r,rt=n;else{if(n===null)throw He.alternate===null?Error(l(467)):Error(l(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Et===null?He.memoizedState=Et=n:Et=Et.next=n}return Et}function Ts(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ua(n){var r=oa;return oa+=1,ol===null&&(ol=[]),n=Ff(ol,n,r),r=He,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,j.H=r===null||r.memoizedState===null?Lh:du),n}function As(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ua(n);if(n.$$typeof===J)return Pt(n)}throw Error(l(438,String(n)))}function eu(n){var r=null,s=He.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=He.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Ts(),He.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),u=0;u<n;u++)s[u]=fe;return r.index++,s}function ci(n,r){return typeof r=="function"?r(n):r}function Es(n){var r=wt();return tu(r,rt,n)}function tu(n,r,s){var u=n.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=s;var g=n.baseQueue,y=u.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}r.baseQueue=g=y,u.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{r=g.next;var N=A=null,L=null,F=r,ee=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(je&re)===re:(ui&re)===re){var Y=F.revertLane;if(Y===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===nl&&(ee=!0);else if((ui&Y)===Y){F=F.next,Y===nl&&(ee=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},L===null?(N=L=re,A=y):L=L.next=re,He.lanes|=Y,Xi|=Y;re=F.action,Mr&&s(y,re),y=F.hasEagerState?F.eagerState:s(y,re)}else Y={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},L===null?(N=L=Y,A=y):L=L.next=Y,He.lanes|=re,Xi|=re;F=F.next}while(F!==null&&F!==r);if(L===null?A=y:L.next=N,!dn(y,n.memoizedState)&&(Ct=!0,ee&&(s=il,s!==null)))throw s;n.memoizedState=y,n.baseState=A,n.baseQueue=L,u.lastRenderedState=y}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function nu(n){var r=wt(),s=r.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var u=s.dispatch,g=s.pending,y=r.memoizedState;if(g!==null){s.pending=null;var A=g=g.next;do y=n(y,A.action),A=A.next;while(A!==g);dn(y,r.memoizedState)||(Ct=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),s.lastRenderedState=y}return[y,u]}function th(n,r,s){var u=He,g=wt(),y=Je;if(y){if(s===void 0)throw Error(l(407));s=s()}else s=r();var A=!dn((rt||g).memoizedState,s);if(A&&(g.memoizedState=s,Ct=!0),g=g.queue,lu(rh.bind(null,u,g,n),[n]),g.getSnapshot!==r||A||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,ul(9,{destroy:void 0},ih.bind(null,u,g,s,r),null),st===null)throw Error(l(349));y||(ui&127)!==0||nh(u,r,s)}return s}function nh(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=He.updateQueue,r===null?(r=Ts(),He.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function ih(n,r,s,u){r.value=s,r.getSnapshot=u,lh(r)&&ah(n)}function rh(n,r,s){return s(function(){lh(r)&&ah(n)})}function lh(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!dn(n,s)}catch{return!0}}function ah(n){var r=xr(n,2);r!==null&&ln(r,n,2)}function iu(n){var r=jt();if(typeof n=="function"){var s=n;if(n=s(),Mr){zi(!0);try{s()}finally{zi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:n},r}function sh(n,r,s,u){return n.baseState=s,tu(n,rt,typeof u=="function"?u:ci)}function o5(n,r,s,u,g){if(Ms(n))throw Error(l(485));if(n=r.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};j.T!==null?s(!0):y.isTransition=!1,u(y),s=r.pending,s===null?(y.next=r.pending=y,oh(r,y)):(y.next=s.next,r.pending=s.next=y)}}function oh(n,r){var s=r.action,u=r.payload,g=n.state;if(r.isTransition){var y=j.T,A={};j.T=A;try{var N=s(g,u),L=j.S;L!==null&&L(A,N),uh(n,r,N)}catch(F){ru(n,r,F)}finally{y!==null&&A.types!==null&&(y.types=A.types),j.T=y}}else try{y=s(g,u),uh(n,r,y)}catch(F){ru(n,r,F)}}function uh(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){ch(n,r,u)},function(u){return ru(n,r,u)}):ch(n,r,s)}function ch(n,r,s){r.status="fulfilled",r.value=s,dh(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,oh(n,s)))}function ru(n,r,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,dh(r),r=r.next;while(r!==u)}n.action=null}function dh(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function fh(n,r){return r}function hh(n,r){if(Je){var s=st.formState;if(s!==null){e:{var u=He;if(Je){if(ft){t:{for(var g=ft,y=Nn;g.nodeType!==8;){if(!y){g=null;break t}if(g=_n(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ft=_n(g.nextSibling),u=g.data==="F!";break e}}Gi(u)}u=!1}u&&(r=s[0])}}return s=jt(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:r},s.queue=u,s=Ih.bind(null,He,u),u.dispatch=s,u=iu(!1),y=cu.bind(null,He,!1,u.queue),u=jt(),g={state:r,dispatch:null,action:n,pending:null},u.queue=g,s=o5.bind(null,He,g,y,s),g.dispatch=s,u.memoizedState=n,[r,s,!1]}function mh(n){var r=wt();return ph(r,rt,n)}function ph(n,r,s){if(r=tu(n,r,fh)[0],n=Es(ci)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ua(r)}catch(A){throw A===rl?ps:A}else u=r;r=wt();var g=r.queue,y=g.dispatch;return s!==r.memoizedState&&(He.flags|=2048,ul(9,{destroy:void 0},u5.bind(null,g,s),null)),[u,y,n]}function u5(n,r){n.action=r}function gh(n){var r=wt(),s=rt;if(s!==null)return ph(r,s,n);wt(),r=r.memoizedState,s=wt();var u=s.queue.dispatch;return s.memoizedState=n,[r,u,!1]}function ul(n,r,s,u){return n={tag:n,create:s,deps:u,inst:r,next:null},r=He.updateQueue,r===null&&(r=Ts(),He.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,r.lastEffect=n),n}function vh(){return wt().memoizedState}function Cs(n,r,s,u){var g=jt();He.flags|=n,g.memoizedState=ul(1|r,{destroy:void 0},s,u===void 0?null:u)}function Ns(n,r,s,u){var g=wt();u=u===void 0?null:u;var y=g.memoizedState.inst;rt!==null&&u!==null&&K0(u,rt.memoizedState.deps)?g.memoizedState=ul(r,y,s,u):(He.flags|=n,g.memoizedState=ul(1|r,y,s,u))}function yh(n,r){Cs(8390656,8,n,r)}function lu(n,r){Ns(2048,8,n,r)}function c5(n){He.flags|=4;var r=He.updateQueue;if(r===null)r=Ts(),He.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function xh(n){var r=wt().memoizedState;return c5({ref:r,nextImpl:n}),function(){if((et&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}function bh(n,r){return Ns(4,2,n,r)}function Sh(n,r){return Ns(4,4,n,r)}function wh(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Th(n,r,s){s=s!=null?s.concat([n]):null,Ns(4,4,wh.bind(null,r,n),s)}function au(){}function Ah(n,r){var s=wt();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&K0(r,u[1])?u[0]:(s.memoizedState=[n,r],n)}function Eh(n,r){var s=wt();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&K0(r,u[1]))return u[0];if(u=n(),Mr){zi(!0);try{n()}finally{zi(!1)}}return s.memoizedState=[u,r],u}function su(n,r,s){return s===void 0||(ui&1073741824)!==0&&(je&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=C1(),He.lanes|=n,Xi|=n,s)}function Ch(n,r,s,u){return dn(s,r)?s:al.current!==null?(n=su(n,s,u),dn(n,r)||(Ct=!0),n):(ui&42)===0||(ui&1073741824)!==0&&(je&261930)===0?(Ct=!0,n.memoizedState=s):(n=C1(),He.lanes|=n,Xi|=n,r)}function Nh(n,r,s,u,g){var y=W.p;W.p=y!==0&&8>y?y:8;var A=j.T,N={};j.T=N,cu(n,!1,r,s);try{var L=g(),F=j.S;if(F!==null&&F(N,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=l5(L,u);ca(n,r,ee,vn(n))}else ca(n,r,u,vn(n))}catch(re){ca(n,r,{then:function(){},status:"rejected",reason:re},vn())}finally{W.p=y,A!==null&&N.types!==null&&(A.types=N.types),j.T=A}}function d5(){}function ou(n,r,s,u){if(n.tag!==5)throw Error(l(476));var g=Mh(n).queue;Nh(n,g,r,he,s===null?d5:function(){return _h(n),s(u)})}function Mh(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:he},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function _h(n){var r=Mh(n);r.next===null&&(r=n.alternate.memoizedState),ca(n,r.next.queue,{},vn())}function uu(){return Pt(Na)}function Rh(){return wt().memoizedState}function kh(){return wt().memoizedState}function f5(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=vn();n=Oi(s);var u=Vi(r,n,s);u!==null&&(ln(u,r,s),la(u,r,s)),r={cache:H0()},n.payload=r;return}r=r.return}}function h5(n,r,s){var u=vn();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ms(n)?Dh(r,s):(s=N0(n,r,s,u),s!==null&&(ln(s,n,u),zh(s,r,u)))}function Ih(n,r,s){var u=vn();ca(n,r,s,u)}function ca(n,r,s,u){var g={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ms(n))Dh(r,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var A=r.lastRenderedState,N=y(A,s);if(g.hasEagerState=!0,g.eagerState=N,dn(N,A))return os(n,r,g,0),st===null&&ss(),!1}catch{}finally{}if(s=N0(n,r,g,u),s!==null)return ln(s,n,u),zh(s,r,u),!0}return!1}function cu(n,r,s,u){if(u={lane:2,revertLane:Ou(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ms(n)){if(r)throw Error(l(479))}else r=N0(n,s,u,2),r!==null&&ln(r,n,2)}function Ms(n){var r=n.alternate;return n===He||r!==null&&r===He}function Dh(n,r){sl=Ss=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function zh(n,r,s){if((s&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Hd(n,s)}}var da={readContext:Pt,use:As,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};da.useEffectEvent=yt;var Lh={readContext:Pt,use:As,useCallback:function(n,r){return jt().memoizedState=[n,r===void 0?null:r],n},useContext:Pt,useEffect:yh,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,Cs(4194308,4,wh.bind(null,r,n),s)},useLayoutEffect:function(n,r){return Cs(4194308,4,n,r)},useInsertionEffect:function(n,r){Cs(4,2,n,r)},useMemo:function(n,r){var s=jt();r=r===void 0?null:r;var u=n();if(Mr){zi(!0);try{n()}finally{zi(!1)}}return s.memoizedState=[u,r],u},useReducer:function(n,r,s){var u=jt();if(s!==void 0){var g=s(r);if(Mr){zi(!0);try{s(r)}finally{zi(!1)}}}else g=r;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=h5.bind(null,He,n),[u.memoizedState,n]},useRef:function(n){var r=jt();return n={current:n},r.memoizedState=n},useState:function(n){n=iu(n);var r=n.queue,s=Ih.bind(null,He,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:au,useDeferredValue:function(n,r){var s=jt();return su(s,n,r)},useTransition:function(){var n=iu(!1);return n=Nh.bind(null,He,n.queue,!0,!1),jt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var u=He,g=jt();if(Je){if(s===void 0)throw Error(l(407));s=s()}else{if(s=r(),st===null)throw Error(l(349));(je&127)!==0||nh(u,r,s)}g.memoizedState=s;var y={value:s,getSnapshot:r};return g.queue=y,yh(rh.bind(null,u,y,n),[n]),u.flags|=2048,ul(9,{destroy:void 0},ih.bind(null,u,y,s,r),null),s},useId:function(){var n=jt(),r=st.identifierPrefix;if(Je){var s=jn,u=Fn;s=(u&~(1<<32-cn(u)-1)).toString(32)+s,r="_"+r+"R_"+s,s=ws++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=a5++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:uu,useFormState:hh,useActionState:hh,useOptimistic:function(n){var r=jt();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=cu.bind(null,He,!0,s),s.dispatch=r,[n,r]},useMemoCache:eu,useCacheRefresh:function(){return jt().memoizedState=f5.bind(null,He)},useEffectEvent:function(n){var r=jt(),s={impl:n};return r.memoizedState=s,function(){if((et&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},du={readContext:Pt,use:As,useCallback:Ah,useContext:Pt,useEffect:lu,useImperativeHandle:Th,useInsertionEffect:bh,useLayoutEffect:Sh,useMemo:Eh,useReducer:Es,useRef:vh,useState:function(){return Es(ci)},useDebugValue:au,useDeferredValue:function(n,r){var s=wt();return Ch(s,rt.memoizedState,n,r)},useTransition:function(){var n=Es(ci)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:ua(n),r]},useSyncExternalStore:th,useId:Rh,useHostTransitionStatus:uu,useFormState:mh,useActionState:mh,useOptimistic:function(n,r){var s=wt();return sh(s,rt,n,r)},useMemoCache:eu,useCacheRefresh:kh};du.useEffectEvent=xh;var Uh={readContext:Pt,use:As,useCallback:Ah,useContext:Pt,useEffect:lu,useImperativeHandle:Th,useInsertionEffect:bh,useLayoutEffect:Sh,useMemo:Eh,useReducer:nu,useRef:vh,useState:function(){return nu(ci)},useDebugValue:au,useDeferredValue:function(n,r){var s=wt();return rt===null?su(s,n,r):Ch(s,rt.memoizedState,n,r)},useTransition:function(){var n=nu(ci)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:ua(n),r]},useSyncExternalStore:th,useId:Rh,useHostTransitionStatus:uu,useFormState:gh,useActionState:gh,useOptimistic:function(n,r){var s=wt();return rt!==null?sh(s,rt,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:eu,useCacheRefresh:kh};Uh.useEffectEvent=xh;function fu(n,r,s,u){r=n.memoizedState,s=s(u,r),s=s==null?r:S({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var hu={enqueueSetState:function(n,r,s){n=n._reactInternals;var u=vn(),g=Oi(u);g.payload=r,s!=null&&(g.callback=s),r=Vi(n,g,u),r!==null&&(ln(r,n,u),la(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var u=vn(),g=Oi(u);g.tag=1,g.payload=r,s!=null&&(g.callback=s),r=Vi(n,g,u),r!==null&&(ln(r,n,u),la(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=vn(),u=Oi(s);u.tag=2,r!=null&&(u.callback=r),r=Vi(n,u,s),r!==null&&(ln(r,n,s),la(r,n,s))}};function Bh(n,r,s,u,g,y,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,A):r.prototype&&r.prototype.isPureReactComponent?!Ql(s,u)||!Ql(g,y):!0}function Hh(n,r,s,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==n&&hu.enqueueReplaceState(r,r.state,null)}function _r(n,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(n=n.defaultProps){s===r&&(s=S({},s));for(var g in n)s[g]===void 0&&(s[g]=n[g])}return s}function Gh(n){as(n)}function Ph(n){console.error(n)}function qh(n){as(n)}function _s(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Oh(n,r,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function mu(n,r,s){return s=Oi(s),s.tag=3,s.payload={element:null},s.callback=function(){_s(n,r)},s}function Vh(n){return n=Oi(n),n.tag=3,n}function Fh(n,r,s,u){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;n.payload=function(){return g(y)},n.callback=function(){Oh(r,s,u)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Oh(r,s,u),typeof g!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function m5(n,r,s,u,g){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&tl(r,s,g,!0),s=hn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?qs():s.alternate===null&&xt===0&&(xt=3),s.flags&=-257,s.flags|=65536,s.lanes=g,u===gs?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),Gu(n,u,g)),!1;case 22:return s.flags|=65536,u===gs?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),Gu(n,u,g)),!1}throw Error(l(435,s.tag))}return Gu(n,u,g),qs(),!1}if(Je)return r=hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==D0&&(n=Error(l(422),{cause:u}),ea(An(n,s)))):(u!==D0&&(r=Error(l(423),{cause:u}),ea(An(r,s))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=An(u,s),g=mu(n.stateNode,u,g),F0(n,g),xt!==4&&(xt=2)),!1;var y=Error(l(520),{cause:u});if(y=An(y,s),xa===null?xa=[y]:xa.push(y),xt!==4&&(xt=2),r===null)return!0;u=An(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=g&-g,s.lanes|=n,n=mu(s.stateNode,u,n),F0(s,n),!1;case 1:if(r=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ki===null||!Ki.has(y))))return s.flags|=65536,g&=-g,s.lanes|=g,g=Vh(g),Fh(g,n,s,u),F0(s,g),!1}s=s.return}while(s!==null);return!1}var pu=Error(l(461)),Ct=!1;function qt(n,r,s,u){r.child=n===null?Xf(r,null,s,u):Nr(r,n.child,s,u)}function jh(n,r,s,u,g){s=s.render;var y=r.ref;if("ref"in u){var A={};for(var N in u)N!=="ref"&&(A[N]=u[N])}else A=u;return Tr(r),u=$0(n,r,s,A,y,g),N=Q0(),n!==null&&!Ct?(Z0(n,r,g),di(n,r,g)):(Je&&N&&k0(r),r.flags|=1,qt(n,r,u,g),r.child)}function Yh(n,r,s,u,g){if(n===null){var y=s.type;return typeof y=="function"&&!M0(y)&&y.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=y,Jh(n,r,y,u,g)):(n=cs(s.type,null,u,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,!Tu(n,g)){var A=y.memoizedProps;if(s=s.compare,s=s!==null?s:Ql,s(A,u)&&n.ref===r.ref)return di(n,r,g)}return r.flags|=1,n=li(y,u),n.ref=r.ref,n.return=r,r.child=n}function Jh(n,r,s,u,g){if(n!==null){var y=n.memoizedProps;if(Ql(y,u)&&n.ref===r.ref)if(Ct=!1,r.pendingProps=u=y,Tu(n,g))(n.flags&131072)!==0&&(Ct=!0);else return r.lanes=n.lanes,di(n,r,g)}return gu(n,r,s,u,g)}function Xh(n,r,s,u){var g=u.children,y=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,n!==null){for(u=r.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,r.child=null;return Kh(n,r,y,s,u)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ms(r,y!==null?y.cachePool:null),y!==null?Qf(r,y):Y0(),Zf(r);else return u=r.lanes=536870912,Kh(n,r,y!==null?y.baseLanes|s:s,s,u)}else y!==null?(ms(r,y.cachePool),Qf(r,y),ji(),r.memoizedState=null):(n!==null&&ms(r,null),Y0(),ji());return qt(n,r,g,s),r.child}function fa(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Kh(n,r,s,u,g){var y=P0();return y=y===null?null:{parent:At._currentValue,pool:y},r.memoizedState={baseLanes:s,cachePool:y},n!==null&&ms(r,null),Y0(),Zf(r),n!==null&&tl(n,r,u,!0),r.childLanes=g,null}function Rs(n,r){return r=Is({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function $h(n,r,s){return Nr(r,n.child,null,s),n=Rs(r,r.pendingProps),n.flags|=2,mn(r),r.memoizedState=null,n}function p5(n,r,s){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Je){if(u.mode==="hidden")return n=Rs(r,u),r.lanes=536870912,fa(null,n);if(X0(r),(n=ft)?(n=om(n,Nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Bi!==null?{id:Fn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},s=Df(n),s.return=r,r.child=s,Gt=r,ft=null)):n=null,n===null)throw Gi(r);return r.lanes=536870912,null}return Rs(r,u)}var y=n.memoizedState;if(y!==null){var A=y.dehydrated;if(X0(r),g)if(r.flags&256)r.flags&=-257,r=$h(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(l(558));else if(Ct||tl(n,r,s,!1),g=(s&n.childLanes)!==0,Ct||g){if(u=st,u!==null&&(A=Gd(u,s),A!==0&&A!==y.retryLane))throw y.retryLane=A,xr(n,A),ln(u,n,A),pu;qs(),r=$h(n,r,s)}else n=y.treeContext,ft=_n(A.nextSibling),Gt=r,Je=!0,Hi=null,Nn=!1,n!==null&&Uf(r,n),r=Rs(r,u),r.flags|=4096;return r}return n=li(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function ks(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function gu(n,r,s,u,g){return Tr(r),s=$0(n,r,s,u,void 0,g),u=Q0(),n!==null&&!Ct?(Z0(n,r,g),di(n,r,g)):(Je&&u&&k0(r),r.flags|=1,qt(n,r,s,g),r.child)}function Qh(n,r,s,u,g,y){return Tr(r),r.updateQueue=null,s=eh(r,u,s,g),Wf(n),u=Q0(),n!==null&&!Ct?(Z0(n,r,y),di(n,r,y)):(Je&&u&&k0(r),r.flags|=1,qt(n,r,s,y),r.child)}function Zh(n,r,s,u,g){if(Tr(r),r.stateNode===null){var y=Qr,A=s.contextType;typeof A=="object"&&A!==null&&(y=Pt(A)),y=new s(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=hu,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},O0(r),A=s.contextType,y.context=typeof A=="object"&&A!==null?Pt(A):Qr,y.state=r.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(fu(r,s,A,u),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&hu.enqueueReplaceState(y,y.state,null),sa(r,u,y,g),aa(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){y=r.stateNode;var N=r.memoizedProps,L=_r(s,N);y.props=L;var F=y.context,ee=s.contextType;A=Qr,typeof ee=="object"&&ee!==null&&(A=Pt(ee));var re=s.getDerivedStateFromProps;ee=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||F!==A)&&Hh(r,y,u,A),qi=!1;var Y=r.memoizedState;y.state=Y,sa(r,u,y,g),aa(),F=r.memoizedState,N||Y!==F||qi?(typeof re=="function"&&(fu(r,s,re,u),F=r.memoizedState),(L=qi||Bh(r,s,L,u,Y,F,A))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),y.props=u,y.state=F,y.context=A,u=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,V0(n,r),A=r.memoizedProps,ee=_r(s,A),y.props=ee,re=r.pendingProps,Y=y.context,F=s.contextType,L=Qr,typeof F=="object"&&F!==null&&(L=Pt(F)),N=s.getDerivedStateFromProps,(F=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==re||Y!==L)&&Hh(r,y,u,L),qi=!1,Y=r.memoizedState,y.state=Y,sa(r,u,y,g),aa();var X=r.memoizedState;A!==re||Y!==X||qi||n!==null&&n.dependencies!==null&&fs(n.dependencies)?(typeof N=="function"&&(fu(r,s,N,u),X=r.memoizedState),(ee=qi||Bh(r,s,ee,u,Y,X,L)||n!==null&&n.dependencies!==null&&fs(n.dependencies))?(F||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),y.props=u,y.state=X,y.context=L,u=ee):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),u=!1)}return y=u,ks(n,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,n!==null&&u?(r.child=Nr(r,n.child,null,g),r.child=Nr(r,null,s,g)):qt(n,r,s,g),r.memoizedState=y.state,n=r.child):n=di(n,r,g),n}function Wh(n,r,s,u){return Sr(),r.flags|=256,qt(n,r,s,u),r.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(n){return{baseLanes:n,cachePool:Of()}}function xu(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=gn),n}function e1(n,r,s){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,A;if((A=y)||(A=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),A&&(g=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,n===null){if(Je){if(g?Fi(r):ji(),(n=ft)?(n=om(n,Nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Bi!==null?{id:Fn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},s=Df(n),s.return=r,r.child=s,Gt=r,ft=null)):n=null,n===null)throw Gi(r);return tc(n)?r.lanes=32:r.lanes=536870912,null}var N=u.children;return u=u.fallback,g?(ji(),g=r.mode,N=Is({mode:"hidden",children:N},g),u=br(u,g,s,null),N.return=r,u.return=r,N.sibling=u,r.child=N,u=r.child,u.memoizedState=yu(s),u.childLanes=xu(n,A,s),r.memoizedState=vu,fa(null,u)):(Fi(r),bu(r,N))}var L=n.memoizedState;if(L!==null&&(N=L.dehydrated,N!==null)){if(y)r.flags&256?(Fi(r),r.flags&=-257,r=Su(n,r,s)):r.memoizedState!==null?(ji(),r.child=n.child,r.flags|=128,r=null):(ji(),N=u.fallback,g=r.mode,u=Is({mode:"visible",children:u.children},g),N=br(N,g,s,null),N.flags|=2,u.return=r,N.return=r,u.sibling=N,r.child=u,Nr(r,n.child,null,s),u=r.child,u.memoizedState=yu(s),u.childLanes=xu(n,A,s),r.memoizedState=vu,r=fa(null,u));else if(Fi(r),tc(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var F=A.dgst;A=F,u=Error(l(419)),u.stack="",u.digest=A,ea({value:u,source:null,stack:null}),r=Su(n,r,s)}else if(Ct||tl(n,r,s,!1),A=(s&n.childLanes)!==0,Ct||A){if(A=st,A!==null&&(u=Gd(A,s),u!==0&&u!==L.retryLane))throw L.retryLane=u,xr(n,u),ln(A,n,u),pu;ec(N)||qs(),r=Su(n,r,s)}else ec(N)?(r.flags|=192,r.child=n.child,r=null):(n=L.treeContext,ft=_n(N.nextSibling),Gt=r,Je=!0,Hi=null,Nn=!1,n!==null&&Uf(r,n),r=bu(r,u.children),r.flags|=4096);return r}return g?(ji(),N=u.fallback,g=r.mode,L=n.child,F=L.sibling,u=li(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,F!==null?N=li(F,N):(N=br(N,g,s,null),N.flags|=2),N.return=r,u.return=r,u.sibling=N,r.child=u,fa(null,u),u=r.child,N=n.child.memoizedState,N===null?N=yu(s):(g=N.cachePool,g!==null?(L=At._currentValue,g=g.parent!==L?{parent:L,pool:L}:g):g=Of(),N={baseLanes:N.baseLanes|s,cachePool:g}),u.memoizedState=N,u.childLanes=xu(n,A,s),r.memoizedState=vu,fa(n.child,u)):(Fi(r),s=n.child,n=s.sibling,s=li(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,n!==null&&(A=r.deletions,A===null?(r.deletions=[n],r.flags|=16):A.push(n)),r.child=s,r.memoizedState=null,s)}function bu(n,r){return r=Is({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Is(n,r){return n=fn(22,n,null,r),n.lanes=0,n}function Su(n,r,s){return Nr(r,n.child,null,s),n=bu(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function t1(n,r,s){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),U0(n.return,r,s)}function wu(n,r,s,u,g,y){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:g,treeForkCount:y}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=s,A.tailMode=g,A.treeForkCount=y)}function n1(n,r,s){var u=r.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var A=St.current,N=(A&2)!==0;if(N?(A=A&1|2,r.flags|=128):A&=1,de(St,A),qt(n,r,u,s),u=Je?Wl:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&t1(n,s,r);else if(n.tag===19)t1(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(s=r.child,g=null;s!==null;)n=s.alternate,n!==null&&bs(n)===null&&(g=s),s=s.sibling;s=g,s===null?(g=r.child,r.child=null):(g=s.sibling,s.sibling=null),wu(r,!1,g,s,y,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&bs(n)===null){r.child=g;break}n=g.sibling,g.sibling=s,s=g,g=n}wu(r,!0,s,null,y,u);break;case"together":wu(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function di(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Xi|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(tl(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(l(153));if(r.child!==null){for(n=r.child,s=li(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=li(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Tu(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&fs(n)))}function g5(n,r,s){switch(r.tag){case 3:Oe(r,r.stateNode.containerInfo),Pi(r,At,n.memoizedState.cache),Sr();break;case 27:case 5:Qt(r);break;case 4:Oe(r,r.stateNode.containerInfo);break;case 10:Pi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,X0(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Fi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?e1(n,r,s):(Fi(r),n=di(n,r,s),n!==null?n.sibling:null);Fi(r);break;case 19:var g=(n.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(tl(n,r,s,!1),u=(s&r.childLanes)!==0),g){if(u)return n1(n,r,s);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),de(St,St.current),u)break;return null;case 22:return r.lanes=0,Xh(n,r,s,r.pendingProps);case 24:Pi(r,At,n.memoizedState.cache)}return di(n,r,s)}function i1(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ct=!0;else{if(!Tu(n,s)&&(r.flags&128)===0)return Ct=!1,g5(n,r,s);Ct=(n.flags&131072)!==0}else Ct=!1,Je&&(r.flags&1048576)!==0&&Lf(r,Wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Er(r.elementType),r.type=n,typeof n=="function")M0(n)?(u=_r(n,u),r.tag=1,r=Zh(null,r,n,u,s)):(r.tag=0,r=gu(null,r,n,u,s));else{if(n!=null){var g=n.$$typeof;if(g===te){r.tag=11,r=jh(null,r,n,u,s);break e}else if(g===P){r.tag=14,r=Yh(null,r,n,u,s);break e}}throw r=Ue(n)||n,Error(l(306,r,""))}}return r;case 0:return gu(n,r,r.type,r.pendingProps,s);case 1:return u=r.type,g=_r(u,r.pendingProps),Zh(n,r,u,g,s);case 3:e:{if(Oe(r,r.stateNode.containerInfo),n===null)throw Error(l(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,V0(n,r),sa(r,u,null,s);var A=r.memoizedState;if(u=A.cache,Pi(r,At,u),u!==y.cache&&B0(r,[At],s,!0),aa(),u=A.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Wh(n,r,u,s);break e}else if(u!==g){g=An(Error(l(424)),r),ea(g),r=Wh(n,r,u,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=_n(n.firstChild),Gt=r,Je=!0,Hi=null,Nn=!0,s=Xf(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Sr(),u===g){r=di(n,r,s);break e}qt(n,r,u,s)}r=r.child}return r;case 26:return ks(n,r),n===null?(s=mm(r.type,null,r.pendingProps,null))?r.memoizedState=s:Je||(s=r.type,n=r.pendingProps,u=Xs(Q.current).createElement(s),u[Ht]=r,u[Zt]=n,Ot(u,s,n),zt(u),r.stateNode=u):r.memoizedState=mm(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Qt(r),n===null&&Je&&(u=r.stateNode=dm(r.type,r.pendingProps,Q.current),Gt=r,Nn=!0,g=ft,Wi(r.type)?(nc=g,ft=_n(u.firstChild)):ft=g),qt(n,r,r.pendingProps.children,s),ks(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Je&&((g=u=ft)&&(u=Y5(u,r.type,r.pendingProps,Nn),u!==null?(r.stateNode=u,Gt=r,ft=_n(u.firstChild),Nn=!1,g=!0):g=!1),g||Gi(r)),Qt(r),g=r.type,y=r.pendingProps,A=n!==null?n.memoizedProps:null,u=y.children,Qu(g,y)?u=null:A!==null&&Qu(g,A)&&(r.flags|=32),r.memoizedState!==null&&(g=$0(n,r,s5,null,null,s),Na._currentValue=g),ks(n,r),qt(n,r,u,s),r.child;case 6:return n===null&&Je&&((n=s=ft)&&(s=J5(s,r.pendingProps,Nn),s!==null?(r.stateNode=s,Gt=r,ft=null,n=!0):n=!1),n||Gi(r)),null;case 13:return e1(n,r,s);case 4:return Oe(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Nr(r,null,u,s):qt(n,r,u,s),r.child;case 11:return jh(n,r,r.type,r.pendingProps,s);case 7:return qt(n,r,r.pendingProps,s),r.child;case 8:return qt(n,r,r.pendingProps.children,s),r.child;case 12:return qt(n,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Pi(r,r.type,u.value),qt(n,r,u.children,s),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Tr(r),g=Pt(g),u=u(g),r.flags|=1,qt(n,r,u,s),r.child;case 14:return Yh(n,r,r.type,r.pendingProps,s);case 15:return Jh(n,r,r.type,r.pendingProps,s);case 19:return n1(n,r,s);case 31:return p5(n,r,s);case 22:return Xh(n,r,s,r.pendingProps);case 24:return Tr(r),u=Pt(At),n===null?(g=P0(),g===null&&(g=st,y=H0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=s),g=y),r.memoizedState={parent:u,cache:g},O0(r),Pi(r,At,g)):((n.lanes&s)!==0&&(V0(n,r),sa(r,null,null,s),aa()),g=n.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Pi(r,At,u)):(u=y.cache,Pi(r,At,u),u!==g.cache&&B0(r,[At],s,!0))),qt(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(l(156,r.tag))}function fi(n){n.flags|=4}function Au(n,r,s,u,g){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(R1())n.flags|=8192;else throw Cr=gs,q0}else n.flags&=-16777217}function r1(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!xm(r))if(R1())n.flags|=8192;else throw Cr=gs,q0}function Ds(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ud():536870912,n.lanes|=r,hl|=r)}function ha(n,r){if(!Je)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(r)for(var g=n.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=s,r}function v5(n,r,s){var u=r.pendingProps;switch(I0(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return s=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),oi(At),tt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(el(r)?fi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,z0())),ht(r),null;case 26:var g=r.type,y=r.memoizedState;return n===null?(fi(r),y!==null?(ht(r),r1(r,y)):(ht(r),Au(r,g,null,u,s))):y?y!==n.memoizedState?(fi(r),ht(r),r1(r,y)):(ht(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&fi(r),ht(r),Au(r,g,n,u,s)),null;case 27:if(ki(r),s=Q.current,g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&fi(r);else{if(!u){if(r.stateNode===null)throw Error(l(166));return ht(r),null}n=ge.current,el(r)?Bf(r):(n=dm(g,u,s),r.stateNode=n,fi(r))}return ht(r),null;case 5:if(ki(r),g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&fi(r);else{if(!u){if(r.stateNode===null)throw Error(l(166));return ht(r),null}if(y=ge.current,el(r))Bf(r);else{var A=Xs(Q.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?A.createElement(g,{is:u.is}):A.createElement(g)}}y[Ht]=r,y[Zt]=u;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=y;e:switch(Ot(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&fi(r)}}return ht(r),Au(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&fi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(l(166));if(n=Q.current,el(r)){if(n=r.stateNode,s=r.memoizedProps,u=null,g=Gt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Ht]=r,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||em(n.nodeValue,s)),n||Gi(r,!0)}else n=Xs(n).createTextNode(u),n[Ht]=r,r.stateNode=n}return ht(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(u=el(r),s!==null){if(n===null){if(!u)throw Error(l(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(557));n[Ht]=r}else Sr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),n=!1}else s=z0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(mn(r),r):(mn(r),null);if((r.flags&128)!==0)throw Error(l(558))}return ht(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=el(r),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(l(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(l(317));g[Ht]=r}else Sr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),g=!1}else g=z0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(mn(r),r):(mn(r),null)}return mn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),Ds(r,r.updateQueue),ht(r),null);case 4:return tt(),n===null&&Yu(r.stateNode.containerInfo),ht(r),null;case 10:return oi(r.type),ht(r),null;case 19:if(K(St),u=r.memoizedState,u===null)return ht(r),null;if(g=(r.flags&128)!==0,y=u.rendering,y===null)if(g)ha(u,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=bs(n),y!==null){for(r.flags|=128,ha(u,!1),n=y.updateQueue,r.updateQueue=n,Ds(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)If(s,n),s=s.sibling;return de(St,St.current&1|2),Je&&ai(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Ne()>Hs&&(r.flags|=128,g=!0,ha(u,!1),r.lanes=4194304)}else{if(!g)if(n=bs(y),n!==null){if(r.flags|=128,g=!0,n=n.updateQueue,r.updateQueue=n,Ds(r,n),ha(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Je)return ht(r),null}else 2*Ne()-u.renderingStartTime>Hs&&s!==536870912&&(r.flags|=128,g=!0,ha(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(n=u.last,n!==null?n.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ne(),n.sibling=null,s=St.current,de(St,g?s&1|2:s&1),Je&&ai(r,u.treeForkCount),n):(ht(r),null);case 22:case 23:return mn(r),J0(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),s=r.updateQueue,s!==null&&Ds(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),n!==null&&K(Ar),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),oi(At),ht(r),null;case 25:return null;case 30:return null}throw Error(l(156,r.tag))}function y5(n,r){switch(I0(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return oi(At),tt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ki(r),null;case 31:if(r.memoizedState!==null){if(mn(r),r.alternate===null)throw Error(l(340));Sr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(mn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(l(340));Sr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return K(St),null;case 4:return tt(),null;case 10:return oi(r.type),null;case 22:case 23:return mn(r),J0(),n!==null&&K(Ar),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return oi(At),null;case 25:return null;default:return null}}function l1(n,r){switch(I0(r),r.tag){case 3:oi(At),tt();break;case 26:case 27:case 5:ki(r);break;case 4:tt();break;case 31:r.memoizedState!==null&&mn(r);break;case 13:mn(r);break;case 19:K(St);break;case 10:oi(r.type);break;case 22:case 23:mn(r),J0(),n!==null&&K(Ar);break;case 24:oi(At)}}function ma(n,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var g=u.next;s=g;do{if((s.tag&n)===n){u=void 0;var y=s.create,A=s.inst;u=y(),A.destroy=u}s=s.next}while(s!==g)}}catch(N){it(r,r.return,N)}}function Yi(n,r,s){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&n)===n){var A=u.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,g=r;var L=s,F=N;try{F()}catch(ee){it(g,L,ee)}}}u=u.next}while(u!==y)}}catch(ee){it(r,r.return,ee)}}function a1(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{$f(r,s)}catch(u){it(n,n.return,u)}}}function s1(n,r,s){s.props=_r(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){it(n,r,u)}}function pa(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(g){it(n,r,g)}}function Yn(n,r){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(g){it(n,r,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){it(n,r,g)}else s.current=null}function o1(n){var r=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(g){it(n,n.return,g)}}function Eu(n,r,s){try{var u=n.stateNode;P5(u,n.type,s,r),u[Zt]=r}catch(g){it(n,n.return,g)}}function u1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Wi(n.type)||n.tag===4}function Cu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||u1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Wi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nu(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ii));else if(u!==4&&(u===27&&Wi(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Nu(n,r,s),n=n.sibling;n!==null;)Nu(n,r,s),n=n.sibling}function zs(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(u!==4&&(u===27&&Wi(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(zs(n,r,s),n=n.sibling;n!==null;)zs(n,r,s),n=n.sibling}function c1(n){var r=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Ot(r,u,s),r[Ht]=n,r[Zt]=s}catch(y){it(n,n.return,y)}}var hi=!1,Nt=!1,Mu=!1,d1=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function x5(n,r){if(n=n.containerInfo,Ku=to,n=Tf(n),S0(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var A=0,N=-1,L=-1,F=0,ee=0,re=n,Y=null;t:for(;;){for(var X;re!==s||g!==0&&re.nodeType!==3||(N=A+g),re!==y||u!==0&&re.nodeType!==3||(L=A+u),re.nodeType===3&&(A+=re.nodeValue.length),(X=re.firstChild)!==null;)Y=re,re=X;for(;;){if(re===n)break t;if(Y===s&&++F===g&&(N=A),Y===y&&++ee===u&&(L=A),(X=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=X}s=N===-1||L===-1?null:{start:N,end:L}}else s=null}s=s||{start:0,end:0}}else s=null;for($u={focusedElem:n,selectionRange:s},to=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,y=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)g=n[s],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,s=r,g=y.memoizedProps,y=y.memoizedState,u=s.stateNode;try{var Se=_r(s.type,g);n=u.getSnapshotBeforeUpdate(Se,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){it(s,s.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)Wu(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wu(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function f1(n,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:pi(n,s),u&4&&ma(5,s);break;case 1:if(pi(n,s),u&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(A){it(s,s.return,A)}else{var g=_r(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(g,r,n.__reactInternalSnapshotBeforeUpdate)}catch(A){it(s,s.return,A)}}u&64&&a1(s),u&512&&pa(s,s.return);break;case 3:if(pi(n,s),u&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{$f(n,r)}catch(A){it(s,s.return,A)}}break;case 27:r===null&&u&4&&c1(s);case 26:case 5:pi(n,s),r===null&&u&4&&o1(s),u&512&&pa(s,s.return);break;case 12:pi(n,s);break;case 31:pi(n,s),u&4&&p1(n,s);break;case 13:pi(n,s),u&4&&g1(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=M5.bind(null,s),X5(n,s))));break;case 22:if(u=s.memoizedState!==null||hi,!u){r=r!==null&&r.memoizedState!==null||Nt,g=hi;var y=Nt;hi=u,(Nt=r)&&!y?gi(n,s,(s.subtreeFlags&8772)!==0):pi(n,s),hi=g,Nt=y}break;case 30:break;default:pi(n,s)}}function h1(n){var r=n.alternate;r!==null&&(n.alternate=null,h1(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&r0(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,en=!1;function mi(n,r,s){for(s=s.child;s!==null;)m1(n,r,s),s=s.sibling}function m1(n,r,s){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Gl,s)}catch{}switch(s.tag){case 26:Nt||Yn(s,r),mi(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||Yn(s,r);var u=mt,g=en;Wi(s.type)&&(mt=s.stateNode,en=!1),mi(n,r,s),Aa(s.stateNode),mt=u,en=g;break;case 5:Nt||Yn(s,r);case 6:if(u=mt,g=en,mt=null,mi(n,r,s),mt=u,en=g,mt!==null)if(en)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(s.stateNode)}catch(y){it(s,r,y)}else try{mt.removeChild(s.stateNode)}catch(y){it(s,r,y)}break;case 18:mt!==null&&(en?(n=mt,am(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Sl(n)):am(mt,s.stateNode));break;case 4:u=mt,g=en,mt=s.stateNode.containerInfo,en=!0,mi(n,r,s),mt=u,en=g;break;case 0:case 11:case 14:case 15:Yi(2,s,r),Nt||Yi(4,s,r),mi(n,r,s);break;case 1:Nt||(Yn(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&s1(s,r,u)),mi(n,r,s);break;case 21:mi(n,r,s);break;case 22:Nt=(u=Nt)||s.memoizedState!==null,mi(n,r,s),Nt=u;break;default:mi(n,r,s)}}function p1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Sl(n)}catch(s){it(r,r.return,s)}}}function g1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Sl(n)}catch(s){it(r,r.return,s)}}function b5(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new d1),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new d1),r;default:throw Error(l(435,n.tag))}}function Ls(n,r){var s=b5(n);r.forEach(function(u){if(!s.has(u)){s.add(u);var g=_5.bind(null,n,u);u.then(g,g)}})}function tn(n,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var g=s[u],y=n,A=r,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(Wi(N.type)){mt=N.stateNode,en=!1;break e}break;case 5:mt=N.stateNode,en=!1;break e;case 3:case 4:mt=N.stateNode.containerInfo,en=!0;break e}N=N.return}if(mt===null)throw Error(l(160));m1(y,A,g),mt=null,en=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)v1(r,n),r=r.sibling}var Bn=null;function v1(n,r){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:tn(r,n),nn(n),u&4&&(Yi(3,n,n.return),ma(3,n),Yi(5,n,n.return));break;case 1:tn(r,n),nn(n),u&512&&(Nt||s===null||Yn(s,s.return)),u&64&&hi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var g=Bn;if(tn(r,n),nn(n),u&512&&(Nt||s===null||Yn(s,s.return)),u&4){var y=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ol]||y[Ht]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Ot(y,u,s),y[Ht]=n,zt(y),u=y;break e;case"link":var A=vm("link","href",g).get(u+(s.href||""));if(A){for(var N=0;N<A.length;N++)if(y=A[N],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(N,1);break t}}y=g.createElement(u),Ot(y,u,s),g.head.appendChild(y);break;case"meta":if(A=vm("meta","content",g).get(u+(s.content||""))){for(N=0;N<A.length;N++)if(y=A[N],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(N,1);break t}}y=g.createElement(u),Ot(y,u,s),g.head.appendChild(y);break;default:throw Error(l(468,u))}y[Ht]=n,zt(y),u=y}n.stateNode=u}else ym(g,n.type,n.stateNode);else n.stateNode=gm(g,u,n.memoizedProps);else y!==u?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,u===null?ym(g,n.type,n.stateNode):gm(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Eu(n,n.memoizedProps,s.memoizedProps)}break;case 27:tn(r,n),nn(n),u&512&&(Nt||s===null||Yn(s,s.return)),s!==null&&u&4&&Eu(n,n.memoizedProps,s.memoizedProps);break;case 5:if(tn(r,n),nn(n),u&512&&(Nt||s===null||Yn(s,s.return)),n.flags&32){g=n.stateNode;try{Fr(g,"")}catch(Se){it(n,n.return,Se)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,Eu(n,g,s!==null?s.memoizedProps:g)),u&1024&&(Mu=!0);break;case 6:if(tn(r,n),nn(n),u&4){if(n.stateNode===null)throw Error(l(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(Se){it(n,n.return,Se)}}break;case 3:if(Qs=null,g=Bn,Bn=Ks(r.containerInfo),tn(r,n),Bn=g,nn(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Sl(r.containerInfo)}catch(Se){it(n,n.return,Se)}Mu&&(Mu=!1,y1(n));break;case 4:u=Bn,Bn=Ks(n.stateNode.containerInfo),tn(r,n),nn(n),Bn=u;break;case 12:tn(r,n),nn(n);break;case 31:tn(r,n),nn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ls(n,u)));break;case 13:tn(r,n),nn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bs=Ne()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ls(n,u)));break;case 22:g=n.memoizedState!==null;var L=s!==null&&s.memoizedState!==null,F=hi,ee=Nt;if(hi=F||g,Nt=ee||L,tn(r,n),Nt=ee,hi=F,nn(n),u&8192)e:for(r=n.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(s===null||L||hi||Nt||Rr(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){L=s=r;try{if(y=L.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=L.stateNode;var re=L.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;N.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Se){it(L,L.return,Se)}}}else if(r.tag===6){if(s===null){L=r;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(Se){it(L,L.return,Se)}}}else if(r.tag===18){if(s===null){L=r;try{var X=L.stateNode;g?sm(X,!0):sm(L.stateNode,!1)}catch(Se){it(L,L.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Ls(n,s))));break;case 19:tn(r,n),nn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ls(n,u)));break;case 30:break;case 21:break;default:tn(r,n),nn(n)}}function nn(n){var r=n.flags;if(r&2){try{for(var s,u=n.return;u!==null;){if(u1(u)){s=u;break}u=u.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var g=s.stateNode,y=Cu(n);zs(n,y,g);break;case 5:var A=s.stateNode;s.flags&32&&(Fr(A,""),s.flags&=-33);var N=Cu(n);zs(n,N,A);break;case 3:case 4:var L=s.stateNode.containerInfo,F=Cu(n);Nu(n,F,L);break;default:throw Error(l(161))}}catch(ee){it(n,n.return,ee)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function y1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;y1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function pi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)f1(n,r.alternate,r),r=r.sibling}function Rr(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Yi(4,r,r.return),Rr(r);break;case 1:Yn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&s1(r,r.return,s),Rr(r);break;case 27:Aa(r.stateNode);case 26:case 5:Yn(r,r.return),Rr(r);break;case 22:r.memoizedState===null&&Rr(r);break;case 30:Rr(r);break;default:Rr(r)}n=n.sibling}}function gi(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=n,y=r,A=y.flags;switch(y.tag){case 0:case 11:case 15:gi(g,y,s),ma(4,y);break;case 1:if(gi(g,y,s),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){it(u,u.return,F)}if(u=y,g=u.updateQueue,g!==null){var N=u.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)Kf(L[g],N)}catch(F){it(u,u.return,F)}}s&&A&64&&a1(y),pa(y,y.return);break;case 27:c1(y);case 26:case 5:gi(g,y,s),s&&u===null&&A&4&&o1(y),pa(y,y.return);break;case 12:gi(g,y,s);break;case 31:gi(g,y,s),s&&A&4&&p1(g,y);break;case 13:gi(g,y,s),s&&A&4&&g1(g,y);break;case 22:y.memoizedState===null&&gi(g,y,s),pa(y,y.return);break;case 30:break;default:gi(g,y,s)}r=r.sibling}}function _u(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&ta(s))}function Ru(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ta(n))}function Hn(n,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)x1(n,r,s,u),r=r.sibling}function x1(n,r,s,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Hn(n,r,s,u),g&2048&&ma(9,r);break;case 1:Hn(n,r,s,u);break;case 3:Hn(n,r,s,u),g&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ta(n)));break;case 12:if(g&2048){Hn(n,r,s,u),n=r.stateNode;try{var y=r.memoizedProps,A=y.id,N=y.onPostCommit;typeof N=="function"&&N(A,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){it(r,r.return,L)}}else Hn(n,r,s,u);break;case 31:Hn(n,r,s,u);break;case 13:Hn(n,r,s,u);break;case 23:break;case 22:y=r.stateNode,A=r.alternate,r.memoizedState!==null?y._visibility&2?Hn(n,r,s,u):ga(n,r):y._visibility&2?Hn(n,r,s,u):(y._visibility|=2,cl(n,r,s,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&_u(A,r);break;case 24:Hn(n,r,s,u),g&2048&&Ru(r.alternate,r);break;default:Hn(n,r,s,u)}}function cl(n,r,s,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=n,A=r,N=s,L=u,F=A.flags;switch(A.tag){case 0:case 11:case 15:cl(y,A,N,L,g),ma(8,A);break;case 23:break;case 22:var ee=A.stateNode;A.memoizedState!==null?ee._visibility&2?cl(y,A,N,L,g):ga(y,A):(ee._visibility|=2,cl(y,A,N,L,g)),g&&F&2048&&_u(A.alternate,A);break;case 24:cl(y,A,N,L,g),g&&F&2048&&Ru(A.alternate,A);break;default:cl(y,A,N,L,g)}r=r.sibling}}function ga(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,u=r,g=u.flags;switch(u.tag){case 22:ga(s,u),g&2048&&_u(u.alternate,u);break;case 24:ga(s,u),g&2048&&Ru(u.alternate,u);break;default:ga(s,u)}r=r.sibling}}var va=8192;function dl(n,r,s){if(n.subtreeFlags&va)for(n=n.child;n!==null;)b1(n,r,s),n=n.sibling}function b1(n,r,s){switch(n.tag){case 26:dl(n,r,s),n.flags&va&&n.memoizedState!==null&&a3(s,Bn,n.memoizedState,n.memoizedProps);break;case 5:dl(n,r,s);break;case 3:case 4:var u=Bn;Bn=Ks(n.stateNode.containerInfo),dl(n,r,s),Bn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=va,va=16777216,dl(n,r,s),va=u):dl(n,r,s));break;default:dl(n,r,s)}}function S1(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ya(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Lt=u,T1(u,n)}S1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)w1(n),n=n.sibling}function w1(n){switch(n.tag){case 0:case 11:case 15:ya(n),n.flags&2048&&Yi(9,n,n.return);break;case 3:ya(n);break;case 12:ya(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Us(n)):ya(n);break;default:ya(n)}}function Us(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Lt=u,T1(u,n)}S1(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Yi(8,r,r.return),Us(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Us(r));break;default:Us(r)}n=n.sibling}}function T1(n,r){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:Yi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ta(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Lt=u;else e:for(s=n;Lt!==null;){u=Lt;var g=u.sibling,y=u.return;if(h1(u),u===s){Lt=null;break e}if(g!==null){g.return=y,Lt=g;break e}Lt=y}}}var S5={getCacheForType:function(n){var r=Pt(At),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return Pt(At).controller.signal}},w5=typeof WeakMap=="function"?WeakMap:Map,et=0,st=null,Ve=null,je=0,nt=0,pn=null,Ji=!1,fl=!1,ku=!1,vi=0,xt=0,Xi=0,kr=0,Iu=0,gn=0,hl=0,xa=null,rn=null,Du=!1,Bs=0,A1=0,Hs=1/0,Gs=null,Ki=null,kt=0,$i=null,ml=null,yi=0,zu=0,Lu=null,E1=null,ba=0,Uu=null;function vn(){return(et&2)!==0&&je!==0?je&-je:j.T!==null?Ou():Pd()}function C1(){if(gn===0)if((je&536870912)===0||Je){var n=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),gn=n}else gn=536870912;return n=hn.current,n!==null&&(n.flags|=32),gn}function ln(n,r,s){(n===st&&(nt===2||nt===9)||n.cancelPendingCommit!==null)&&(pl(n,0),Qi(n,je,gn,!1)),ql(n,s),((et&2)===0||n!==st)&&(n===st&&((et&2)===0&&(kr|=s),xt===4&&Qi(n,je,gn,!1)),Jn(n))}function N1(n,r,s){if((et&6)!==0)throw Error(l(327));var u=!s&&(r&127)===0&&(r&n.expiredLanes)===0||Pl(n,r),g=u?E5(n,r):Hu(n,r,!0),y=u;do{if(g===0){fl&&!u&&Qi(n,r,0,!1);break}else{if(s=n.current.alternate,y&&!T5(s)){g=Hu(n,r,!1),y=!1;continue}if(g===2){if(y=r,n.errorRecoveryDisabledLanes&y)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var N=n;g=xa;var L=N.current.memoizedState.isDehydrated;if(L&&(pl(N,A).flags|=256),A=Hu(N,A,!1),A!==2){if(ku&&!L){N.errorRecoveryDisabledLanes|=y,kr|=y,g=4;break e}y=rn,rn=g,y!==null&&(rn===null?rn=y:rn.push.apply(rn,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){pl(n,0),Qi(n,r,0,!0);break}e:{switch(u=n,y=g,y){case 0:case 1:throw Error(l(345));case 4:if((r&4194048)!==r)break;case 6:Qi(u,r,gn,!Ji);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((r&62914560)===r&&(g=Bs+300-Ne(),10<g)){if(Qi(u,r,gn,!Ji),Ka(u,0,!0)!==0)break e;yi=r,u.timeoutHandle=rm(M1.bind(null,u,s,rn,Gs,Du,r,gn,kr,hl,Ji,y,"Throttled",-0,0),g);break e}M1(u,s,rn,Gs,Du,r,gn,kr,hl,Ji,y,null,-0,0)}}break}while(!0);Jn(n)}function M1(n,r,s,u,g,y,A,N,L,F,ee,re,Y,X){if(n.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},b1(r,y,re);var Se=(y&62914560)===y?Bs-Ne():(y&4194048)===y?A1-Ne():0;if(Se=s3(re,Se),Se!==null){yi=y,n.cancelPendingCommit=Se(U1.bind(null,n,r,y,s,u,g,A,N,L,ee,re,null,Y,X)),Qi(n,y,A,!F);return}}U1(n,r,y,s,u,g,A,N,L)}function T5(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var g=s[u],y=g.getSnapshot;g=g.value;try{if(!dn(y(),g))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qi(n,r,s,u){r&=~Iu,r&=~kr,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var g=r;0<g;){var y=31-cn(g),A=1<<y;u[y]=-1,g&=~A}s!==0&&Bd(n,s,r)}function Ps(){return(et&6)===0?(Sa(0),!1):!0}function Bu(){if(Ve!==null){if(nt===0)var n=Ve.return;else n=Ve,si=wr=null,W0(n),ll=null,ia=0,n=Ve;for(;n!==null;)l1(n.alternate,n),n=n.return;Ve=null}}function pl(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,V5(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),yi=0,Bu(),st=n,Ve=s=li(n.current,null),je=r,nt=0,pn=null,Ji=!1,fl=Pl(n,r),ku=!1,hl=gn=Iu=kr=Xi=xt=0,rn=xa=null,Du=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var g=31-cn(u),y=1<<g;r|=n[g],u&=~y}return vi=r,ss(),s}function _1(n,r){He=null,j.H=da,r===rl||r===ps?(r=jf(),nt=3):r===q0?(r=jf(),nt=4):nt=r===pu?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,Ve===null&&(xt=1,_s(n,An(r,n.current)))}function R1(){var n=hn.current;return n===null?!0:(je&4194048)===je?Mn===null:(je&62914560)===je||(je&536870912)!==0?n===Mn:!1}function k1(){var n=j.H;return j.H=da,n===null?da:n}function I1(){var n=j.A;return j.A=S5,n}function qs(){xt=4,Ji||(je&4194048)!==je&&hn.current!==null||(fl=!0),(Xi&134217727)===0&&(kr&134217727)===0||st===null||Qi(st,je,gn,!1)}function Hu(n,r,s){var u=et;et|=2;var g=k1(),y=I1();(st!==n||je!==r)&&(Gs=null,pl(n,r)),r=!1;var A=xt;e:do try{if(nt!==0&&Ve!==null){var N=Ve,L=pn;switch(nt){case 8:Bu(),A=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(r=!0);var F=nt;if(nt=0,pn=null,gl(n,N,L,F),s&&fl){A=0;break e}break;default:F=nt,nt=0,pn=null,gl(n,N,L,F)}}A5(),A=xt;break}catch(ee){_1(n,ee)}while(!0);return r&&n.shellSuspendCounter++,si=wr=null,et=u,j.H=g,j.A=y,Ve===null&&(st=null,je=0,ss()),A}function A5(){for(;Ve!==null;)D1(Ve)}function E5(n,r){var s=et;et|=2;var u=k1(),g=I1();st!==n||je!==r?(Gs=null,Hs=Ne()+500,pl(n,r)):fl=Pl(n,r);e:do try{if(nt!==0&&Ve!==null){r=Ve;var y=pn;t:switch(nt){case 1:nt=0,pn=null,gl(n,r,y,1);break;case 2:case 9:if(Vf(y)){nt=0,pn=null,z1(r);break}r=function(){nt!==2&&nt!==9||st!==n||(nt=7),Jn(n)},y.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Vf(y)?(nt=0,pn=null,z1(r)):(nt=0,pn=null,gl(n,r,y,7));break;case 5:var A=null;switch(Ve.tag){case 26:A=Ve.memoizedState;case 5:case 27:var N=Ve;if(A?xm(A):N.stateNode.complete){nt=0,pn=null;var L=N.sibling;if(L!==null)Ve=L;else{var F=N.return;F!==null?(Ve=F,Os(F)):Ve=null}break t}}nt=0,pn=null,gl(n,r,y,5);break;case 6:nt=0,pn=null,gl(n,r,y,6);break;case 8:Bu(),xt=6;break e;default:throw Error(l(462))}}C5();break}catch(ee){_1(n,ee)}while(!0);return si=wr=null,j.H=u,j.A=g,et=s,Ve!==null?0:(st=null,je=0,ss(),xt)}function C5(){for(;Ve!==null&&!Br();)D1(Ve)}function D1(n){var r=i1(n.alternate,n,vi);n.memoizedProps=n.pendingProps,r===null?Os(n):Ve=r}function z1(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=Qh(s,r,r.pendingProps,r.type,void 0,je);break;case 11:r=Qh(s,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:W0(r);default:l1(s,r),r=Ve=If(r,vi),r=i1(s,r,vi)}n.memoizedProps=n.pendingProps,r===null?Os(n):Ve=r}function gl(n,r,s,u){si=wr=null,W0(r),ll=null,ia=0;var g=r.return;try{if(m5(n,g,r,s,je)){xt=1,_s(n,An(s,n.current)),Ve=null;return}}catch(y){if(g!==null)throw Ve=g,y;xt=1,_s(n,An(s,n.current)),Ve=null;return}r.flags&32768?(Je||u===1?n=!0:fl||(je&536870912)!==0?n=!1:(Ji=n=!0,(u===2||u===9||u===3||u===6)&&(u=hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),L1(r,n)):Os(r)}function Os(n){var r=n;do{if((r.flags&32768)!==0){L1(r,Ji);return}n=r.return;var s=v5(r.alternate,r,vi);if(s!==null){Ve=s;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);xt===0&&(xt=5)}function L1(n,r){do{var s=y5(n.alternate,n);if(s!==null){s.flags&=32767,Ve=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=s}while(n!==null);xt=6,Ve=null}function U1(n,r,s,u,g,y,A,N,L){n.cancelPendingCommit=null;do Vs();while(kt!==0);if((et&6)!==0)throw Error(l(327));if(r!==null){if(r===n.current)throw Error(l(177));if(y=r.lanes|r.childLanes,y|=C0,lv(n,s,y,A,N,L),n===st&&(Ve=st=null,je=0),ml=r,$i=n,yi=s,zu=y,Lu=g,E1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,R5(ja,function(){return q1(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,g=W.p,W.p=2,A=et,et|=4;try{x5(n,r,s)}finally{et=A,W.p=g,j.T=u}}kt=1,B1(),H1(),G1()}}function B1(){if(kt===1){kt=0;var n=$i,r=ml,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var u=W.p;W.p=2;var g=et;et|=4;try{v1(r,n);var y=$u,A=Tf(n.containerInfo),N=y.focusedElem,L=y.selectionRange;if(A!==N&&N&&N.ownerDocument&&wf(N.ownerDocument.documentElement,N)){if(L!==null&&S0(N)){var F=L.start,ee=L.end;if(ee===void 0&&(ee=F),"selectionStart"in N)N.selectionStart=F,N.selectionEnd=Math.min(ee,N.value.length);else{var re=N.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Se=N.textContent.length,Ie=Math.min(L.start,Se),at=L.end===void 0?Ie:Math.min(L.end,Se);!X.extend&&Ie>at&&(A=at,at=Ie,Ie=A);var G=Sf(N,Ie),B=Sf(N,at);if(G&&B&&(X.rangeCount!==1||X.anchorNode!==G.node||X.anchorOffset!==G.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var O=re.createRange();O.setStart(G.node,G.offset),X.removeAllRanges(),Ie>at?(X.addRange(O),X.extend(B.node,B.offset)):(O.setEnd(B.node,B.offset),X.addRange(O))}}}}for(re=[],X=N;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<re.length;N++){var ie=re[N];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}to=!!Ku,$u=Ku=null}finally{et=g,W.p=u,j.T=s}}n.current=r,kt=2}}function H1(){if(kt===2){kt=0;var n=$i,r=ml,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var u=W.p;W.p=2;var g=et;et|=4;try{f1(n,r.alternate,r)}finally{et=g,W.p=u,j.T=s}}kt=3}}function G1(){if(kt===4||kt===3){kt=0,ae();var n=$i,r=ml,s=yi,u=E1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,ml=$i=null,P1(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ki=null),n0(s),r=r.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Gl,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=j.T,g=W.p,W.p=2,j.T=null;try{for(var y=n.onRecoverableError,A=0;A<u.length;A++){var N=u[A];y(N.value,{componentStack:N.stack})}}finally{j.T=r,W.p=g}}(yi&3)!==0&&Vs(),Jn(n),g=n.pendingLanes,(s&261930)!==0&&(g&42)!==0?n===Uu?ba++:(ba=0,Uu=n):ba=0,Sa(0)}}function P1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ta(r)))}function Vs(){return B1(),H1(),G1(),q1()}function q1(){if(kt!==5)return!1;var n=$i,r=zu;zu=0;var s=n0(yi),u=j.T,g=W.p;try{W.p=32>s?32:s,j.T=null,s=Lu,Lu=null;var y=$i,A=yi;if(kt=0,ml=$i=null,yi=0,(et&6)!==0)throw Error(l(331));var N=et;if(et|=4,w1(y.current),x1(y,y.current,A,s),et=N,Sa(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Gl,y)}catch{}return!0}finally{W.p=g,j.T=u,P1(n,r)}}function O1(n,r,s){r=An(s,r),r=mu(n.stateNode,r,2),n=Vi(n,r,2),n!==null&&(ql(n,2),Jn(n))}function it(n,r,s){if(n.tag===3)O1(n,n,s);else for(;r!==null;){if(r.tag===3){O1(r,n,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ki===null||!Ki.has(u))){n=An(s,n),s=Vh(2),u=Vi(r,s,2),u!==null&&(Fh(s,u,r,n),ql(u,2),Jn(u));break}}r=r.return}}function Gu(n,r,s){var u=n.pingCache;if(u===null){u=n.pingCache=new w5;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(s)||(ku=!0,g.add(s),n=N5.bind(null,n,r,s),r.then(n,n))}function N5(n,r,s){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,st===n&&(je&s)===s&&(xt===4||xt===3&&(je&62914560)===je&&300>Ne()-Bs?(et&2)===0&&pl(n,0):Iu|=s,hl===je&&(hl=0)),Jn(n)}function V1(n,r){r===0&&(r=Ud()),n=xr(n,r),n!==null&&(ql(n,r),Jn(n))}function M5(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),V1(n,s)}function _5(n,r){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(s=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(r),V1(n,s)}function R5(n,r){return Bl(n,r)}var Fs=null,vl=null,Pu=!1,js=!1,qu=!1,Zi=0;function Jn(n){n!==vl&&n.next===null&&(vl===null?Fs=vl=n:vl=vl.next=n),js=!0,Pu||(Pu=!0,I5())}function Sa(n,r){if(!qu&&js){qu=!0;do for(var s=!1,u=Fs;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var A=u.suspendedLanes,N=u.pingedLanes;y=(1<<31-cn(42|n)+1)-1,y&=g&~(A&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,J1(u,y))}else y=je,y=Ka(u,u===st?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Pl(u,y)||(s=!0,J1(u,y));u=u.next}while(s);qu=!1}}function k5(){F1()}function F1(){js=Pu=!1;var n=0;Zi!==0&&O5()&&(n=Zi);for(var r=Ne(),s=null,u=Fs;u!==null;){var g=u.next,y=j1(u,r);y===0?(u.next=null,s===null?Fs=g:s.next=g,g===null&&(vl=s)):(s=u,(n!==0||(y&3)!==0)&&(js=!0)),u=g}kt!==0&&kt!==5||Sa(n),Zi!==0&&(Zi=0)}function j1(n,r){for(var s=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var A=31-cn(y),N=1<<A,L=g[A];L===-1?((N&s)===0||(N&u)!==0)&&(g[A]=rv(N,r)):L<=r&&(n.expiredLanes|=N),y&=~N}if(r=st,s=je,s=Ka(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===r&&(nt===2||nt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Hl(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Pl(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(u!==null&&Hl(u),n0(s)){case 2:case 8:s=Bt;break;case 32:s=ja;break;case 268435456:s=Ld;break;default:s=ja}return u=Y1.bind(null,n),s=Bl(s,u),n.callbackPriority=r,n.callbackNode=s,r}return u!==null&&u!==null&&Hl(u),n.callbackPriority=2,n.callbackNode=null,2}function Y1(n,r){if(kt!==0&&kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Vs()&&n.callbackNode!==s)return null;var u=je;return u=Ka(n,n===st?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(N1(n,u,r),j1(n,Ne()),n.callbackNode!=null&&n.callbackNode===s?Y1.bind(null,n):null)}function J1(n,r){if(Vs())return null;N1(n,r,!0)}function I5(){F5(function(){(et&6)!==0?Bl(dt,k5):F1()})}function Ou(){if(Zi===0){var n=nl;n===0&&(n=Ya,Ya<<=1,(Ya&261888)===0&&(Ya=256)),Zi=n}return Zi}function X1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Wa(""+n)}function K1(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function D5(n,r,s,u,g){if(r==="submit"&&s&&s.stateNode===g){var y=X1((g[Zt]||null).action),A=u.submitter;A&&(r=(r=A[Zt]||null)?X1(r.formAction):A.getAttribute("formAction"),r!==null&&(y=r,A=null));var N=new is("action","action",null,u,g);n.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zi!==0){var L=A?K1(g,A):new FormData(g);ou(s,{pending:!0,data:L,method:g.method,action:y},null,L)}}else typeof y=="function"&&(N.preventDefault(),L=A?K1(g,A):new FormData(g),ou(s,{pending:!0,data:L,method:g.method,action:y},y,L))},currentTarget:g}]})}}for(var Vu=0;Vu<E0.length;Vu++){var Fu=E0[Vu],z5=Fu.toLowerCase(),L5=Fu[0].toUpperCase()+Fu.slice(1);Un(z5,"on"+L5)}Un(Cf,"onAnimationEnd"),Un(Nf,"onAnimationIteration"),Un(Mf,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Qv,"onTransitionRun"),Un(Zv,"onTransitionStart"),Un(Wv,"onTransitionCancel"),Un(_f,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wa));function $1(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var A=u.length-1;0<=A;A--){var N=u[A],L=N.instance,F=N.currentTarget;if(N=N.listener,L!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=F;try{y(g)}catch(ee){as(ee)}g.currentTarget=null,y=L}else for(A=0;A<u.length;A++){if(N=u[A],L=N.instance,F=N.currentTarget,N=N.listener,L!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=F;try{y(g)}catch(ee){as(ee)}g.currentTarget=null,y=L}}}}function Fe(n,r){var s=r[i0];s===void 0&&(s=r[i0]=new Set);var u=n+"__bubble";s.has(u)||(Q1(r,n,2,!1),s.add(u))}function ju(n,r,s){var u=0;r&&(u|=4),Q1(s,n,u,r)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function Yu(n){if(!n[Ys]){n[Ys]=!0,Vd.forEach(function(s){s!=="selectionchange"&&(U5.has(s)||ju(s,!1,n),ju(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Ys]||(r[Ys]=!0,ju("selectionchange",!1,r))}}function Q1(n,r,s,u){switch(Cm(r)){case 2:var g=c3;break;case 8:g=d3;break;default:g=sc}s=g.bind(null,r,s,n),g=void 0,!f0||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(r,s,{capture:!0,passive:g}):n.addEventListener(r,s,!0):g!==void 0?n.addEventListener(r,s,{passive:g}):n.addEventListener(r,s,!1)}function Ju(n,r,s,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var N=u.stateNode.containerInfo;if(N===g)break;if(A===4)for(A=u.return;A!==null;){var L=A.tag;if((L===3||L===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;N!==null;){if(A=Gr(N),A===null)return;if(L=A.tag,L===5||L===6||L===26||L===27){u=y=A;continue e}N=N.parentNode}}u=u.return}tf(function(){var F=y,ee=c0(s),re=[];e:{var Y=Rf.get(n);if(Y!==void 0){var X=is,Se=n;switch(n){case"keypress":if(ts(s)===0)break e;case"keydown":case"keyup":X=_v;break;case"focusin":Se="focus",X=g0;break;case"focusout":Se="blur",X=g0;break;case"beforeblur":case"afterblur":X=g0;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Iv;break;case Cf:case Nf:case Mf:X=bv;break;case _f:X=zv;break;case"scroll":case"scrollend":X=pv;break;case"wheel":X=Uv;break;case"copy":case"cut":case"paste":X=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=sf;break;case"toggle":case"beforetoggle":X=Hv}var Ie=(r&4)!==0,at=!Ie&&(n==="scroll"||n==="scrollend"),G=Ie?Y!==null?Y+"Capture":null:Y;Ie=[];for(var B=F,O;B!==null;){var ie=B;if(O=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||O===null||G===null||(ie=Fl(B,G),ie!=null&&Ie.push(Ta(B,ie,O))),at)break;B=B.return}0<Ie.length&&(Y=new X(Y,Se,null,s,ee),re.push({event:Y,listeners:Ie}))}}if((r&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&s!==u0&&(Se=s.relatedTarget||s.fromElement)&&(Gr(Se)||Se[Hr]))break e;if((X||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Se=s.relatedTarget||s.toElement,X=F,Se=Se?Gr(Se):null,Se!==null&&(at=o(Se),Ie=Se.tag,Se!==at||Ie!==5&&Ie!==27&&Ie!==6)&&(Se=null)):(X=null,Se=F),X!==Se)){if(Ie=lf,ie="onMouseLeave",G="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=sf,ie="onPointerLeave",G="onPointerEnter",B="pointer"),at=X==null?Y:Vl(X),O=Se==null?Y:Vl(Se),Y=new Ie(ie,B+"leave",X,s,ee),Y.target=at,Y.relatedTarget=O,ie=null,Gr(ee)===F&&(Ie=new Ie(G,B+"enter",Se,s,ee),Ie.target=O,Ie.relatedTarget=at,ie=Ie),at=ie,X&&Se)t:{for(Ie=B5,G=X,B=Se,O=0,ie=G;ie;ie=Ie(ie))O++;ie=0;for(var _e=B;_e;_e=Ie(_e))ie++;for(;0<O-ie;)G=Ie(G),O--;for(;0<ie-O;)B=Ie(B),ie--;for(;O--;){if(G===B||B!==null&&G===B.alternate){Ie=G;break t}G=Ie(G),B=Ie(B)}Ie=null}else Ie=null;X!==null&&Z1(re,Y,X,Ie,!1),Se!==null&&at!==null&&Z1(re,at,Se,Ie,!0)}}e:{if(Y=F?Vl(F):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Ke=pf;else if(hf(Y))if(gf)Ke=Xv;else{Ke=Yv;var Ae=jv}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&o0(F.elementType)&&(Ke=pf):Ke=Jv;if(Ke&&(Ke=Ke(n,F))){mf(re,Ke,s,ee);break e}Ae&&Ae(n,Y,F),n==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&s0(Y,"number",Y.value)}switch(Ae=F?Vl(F):window,n){case"focusin":(hf(Ae)||Ae.contentEditable==="true")&&(Xr=Ae,w0=F,Zl=null);break;case"focusout":Zl=w0=Xr=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,Af(re,s,ee);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Af(re,s,ee)}var Ge;if(y0)e:{switch(n){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Jr?df(n,s)&&(Ye="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ye="onCompositionStart");Ye&&(of&&s.locale!=="ko"&&(Jr||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Jr&&(Ge=nf()):(Ui=ee,h0="value"in Ui?Ui.value:Ui.textContent,Jr=!0)),Ae=Js(F,Ye),0<Ae.length&&(Ye=new af(Ye,n,null,s,ee),re.push({event:Ye,listeners:Ae}),Ge?Ye.data=Ge:(Ge=ff(s),Ge!==null&&(Ye.data=Ge)))),(Ge=Pv?qv(n,s):Ov(n,s))&&(Ye=Js(F,"onBeforeInput"),0<Ye.length&&(Ae=new af("onBeforeInput","beforeinput",null,s,ee),re.push({event:Ae,listeners:Ye}),Ae.data=Ge)),D5(re,n,F,s,ee)}$1(re,r)})}function Ta(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Js(n,r){for(var s=r+"Capture",u=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Fl(n,s),g!=null&&u.unshift(Ta(n,g,y)),g=Fl(n,r),g!=null&&u.push(Ta(n,g,y))),n.tag===3)return u;n=n.return}return[]}function B5(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Z1(n,r,s,u,g){for(var y=r._reactName,A=[];s!==null&&s!==u;){var N=s,L=N.alternate,F=N.stateNode;if(N=N.tag,L!==null&&L===u)break;N!==5&&N!==26&&N!==27||F===null||(L=F,g?(F=Fl(s,y),F!=null&&A.unshift(Ta(s,F,L))):g||(F=Fl(s,y),F!=null&&A.push(Ta(s,F,L)))),s=s.return}A.length!==0&&n.push({event:r,listeners:A})}var H5=/\r\n?/g,G5=/\u0000|\uFFFD/g;function W1(n){return(typeof n=="string"?n:""+n).replace(H5,`
`).replace(G5,"")}function em(n,r){return r=W1(r),W1(n)===r}function lt(n,r,s,u,g,y){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Fr(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Fr(n,""+u);break;case"className":Qa(n,"class",u);break;case"tabIndex":Qa(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qa(n,s,u);break;case"style":Wd(n,u,y);break;case"data":if(r!=="object"){Qa(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Wa(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(r!=="input"&&lt(n,r,"name",g.name,g,null),lt(n,r,"formEncType",g.formEncType,g,null),lt(n,r,"formMethod",g.formMethod,g,null),lt(n,r,"formTarget",g.formTarget,g,null)):(lt(n,r,"encType",g.encType,g,null),lt(n,r,"method",g.method,g,null),lt(n,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Wa(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=ii);break;case"onScroll":u!=null&&Fe("scroll",n);break;case"onScrollEnd":u!=null&&Fe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Wa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Fe("beforetoggle",n),Fe("toggle",n),$a(n,"popover",u);break;case"xlinkActuate":ni(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ni(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ni(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ni(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ni(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ni(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ni(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ni(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ni(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$a(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hv.get(s)||s,$a(n,s,u))}}function Xu(n,r,s,u,g,y){switch(s){case"style":Wd(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"children":typeof u=="string"?Fr(n,u):(typeof u=="number"||typeof u=="bigint")&&Fr(n,""+u);break;case"onScroll":u!=null&&Fe("scroll",n);break;case"onScrollEnd":u!=null&&Fe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),r=s.slice(2,g?s.length-7:void 0),y=n[Zt]||null,y=y!=null?y[s]:null,typeof y=="function"&&n.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,u,g);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):$a(n,s,u)}}}function Ot(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",n),Fe("load",n);var u=!1,g=!1,y;for(y in s)if(s.hasOwnProperty(y)){var A=s[y];if(A!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:lt(n,r,y,A,s,null)}}g&&lt(n,r,"srcSet",s.srcSet,s,null),u&&lt(n,r,"src",s.src,s,null);return;case"input":Fe("invalid",n);var N=y=A=g=null,L=null,F=null;for(u in s)if(s.hasOwnProperty(u)){var ee=s[u];if(ee!=null)switch(u){case"name":g=ee;break;case"type":A=ee;break;case"checked":L=ee;break;case"defaultChecked":F=ee;break;case"value":y=ee;break;case"defaultValue":N=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,r));break;default:lt(n,r,u,ee,s,null)}}Kd(n,y,N,L,F,A,g,!1);return;case"select":Fe("invalid",n),u=A=y=null;for(g in s)if(s.hasOwnProperty(g)&&(N=s[g],N!=null))switch(g){case"value":y=N;break;case"defaultValue":A=N;break;case"multiple":u=N;default:lt(n,r,g,N,s,null)}r=y,s=A,n.multiple=!!u,r!=null?Vr(n,!!u,r,!1):s!=null&&Vr(n,!!u,s,!0);return;case"textarea":Fe("invalid",n),y=g=u=null;for(A in s)if(s.hasOwnProperty(A)&&(N=s[A],N!=null))switch(A){case"value":u=N;break;case"defaultValue":g=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(91));break;default:lt(n,r,A,N,s,null)}Qd(n,u,g,y);return;case"option":for(L in s)if(s.hasOwnProperty(L)&&(u=s[L],u!=null))switch(L){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(n,r,L,u,s,null)}return;case"dialog":Fe("beforetoggle",n),Fe("toggle",n),Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":Fe("load",n);break;case"video":case"audio":for(u=0;u<wa.length;u++)Fe(wa[u],n);break;case"image":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"embed":case"source":case"link":Fe("error",n),Fe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(u=s[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:lt(n,r,F,u,s,null)}return;default:if(o0(r)){for(ee in s)s.hasOwnProperty(ee)&&(u=s[ee],u!==void 0&&Xu(n,r,ee,u,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(u=s[N],u!=null&&lt(n,r,N,u,s,null))}function P5(n,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,N=null,L=null,F=null,ee=null;for(X in s){var re=s[X];if(s.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=re;default:u.hasOwnProperty(X)||lt(n,r,X,null,u,re)}}for(var Y in u){var X=u[Y];if(re=s[Y],u.hasOwnProperty(Y)&&(X!=null||re!=null))switch(Y){case"type":y=X;break;case"name":g=X;break;case"checked":F=X;break;case"defaultChecked":ee=X;break;case"value":A=X;break;case"defaultValue":N=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,r));break;default:X!==re&&lt(n,r,Y,X,u,re)}}a0(n,A,N,L,F,ee,y,g);return;case"select":X=A=N=Y=null;for(y in s)if(L=s[y],s.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":X=L;default:u.hasOwnProperty(y)||lt(n,r,y,null,u,L)}for(g in u)if(y=u[g],L=s[g],u.hasOwnProperty(g)&&(y!=null||L!=null))switch(g){case"value":Y=y;break;case"defaultValue":N=y;break;case"multiple":A=y;default:y!==L&&lt(n,r,g,y,u,L)}r=N,s=A,u=X,Y!=null?Vr(n,!!s,Y,!1):!!u!=!!s&&(r!=null?Vr(n,!!s,r,!0):Vr(n,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(N in s)if(g=s[N],s.hasOwnProperty(N)&&g!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:lt(n,r,N,null,u,g)}for(A in u)if(g=u[A],y=s[A],u.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":Y=g;break;case"defaultValue":X=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(l(91));break;default:g!==y&&lt(n,r,A,g,u,y)}$d(n,Y,X);return;case"option":for(var Se in s)if(Y=s[Se],s.hasOwnProperty(Se)&&Y!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:lt(n,r,Se,null,u,Y)}for(L in u)if(Y=u[L],X=s[L],u.hasOwnProperty(L)&&Y!==X&&(Y!=null||X!=null))switch(L){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:lt(n,r,L,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in s)Y=s[Ie],s.hasOwnProperty(Ie)&&Y!=null&&!u.hasOwnProperty(Ie)&&lt(n,r,Ie,null,u,Y);for(F in u)if(Y=u[F],X=s[F],u.hasOwnProperty(F)&&Y!==X&&(Y!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,r));break;default:lt(n,r,F,Y,u,X)}return;default:if(o0(r)){for(var at in s)Y=s[at],s.hasOwnProperty(at)&&Y!==void 0&&!u.hasOwnProperty(at)&&Xu(n,r,at,void 0,u,Y);for(ee in u)Y=u[ee],X=s[ee],!u.hasOwnProperty(ee)||Y===X||Y===void 0&&X===void 0||Xu(n,r,ee,Y,u,X);return}}for(var G in s)Y=s[G],s.hasOwnProperty(G)&&Y!=null&&!u.hasOwnProperty(G)&&lt(n,r,G,null,u,Y);for(re in u)Y=u[re],X=s[re],!u.hasOwnProperty(re)||Y===X||Y==null&&X==null||lt(n,r,re,Y,u,X)}function tm(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q5(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var g=s[u],y=g.transferSize,A=g.initiatorType,N=g.duration;if(y&&N&&tm(A)){for(A=0,N=g.responseEnd,u+=1;u<s.length;u++){var L=s[u],F=L.startTime;if(F>N)break;var ee=L.transferSize,re=L.initiatorType;ee&&tm(re)&&(L=L.responseEnd,A+=ee*(L<N?1:(N-F)/(L-F)))}if(--u,r+=8*(y+A)/(g.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ku=null,$u=null;function Xs(n){return n.nodeType===9?n:n.ownerDocument}function nm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function im(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Qu(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zu=null;function O5(){var n=window.event;return n&&n.type==="popstate"?n===Zu?!1:(Zu=n,!0):(Zu=null,!1)}var rm=typeof setTimeout=="function"?setTimeout:void 0,V5=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,F5=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(n){return lm.resolve(null).then(n).catch(j5)}:rm;function j5(n){setTimeout(function(){throw n})}function Wi(n){return n==="head"}function am(n,r){var s=r,u=0;do{var g=s.nextSibling;if(n.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(g),Sl(r);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Aa(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Aa(s);for(var y=s.firstChild;y;){var A=y.nextSibling,N=y.nodeName;y[Ol]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=A}}else s==="body"&&Aa(n.ownerDocument.body);s=g}while(s);Sl(r)}function sm(n,r){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function Wu(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wu(s),r0(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function Y5(n,r,s,u){for(;n.nodeType===1;){var g=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ol])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=_n(n.nextSibling),n===null)break}return null}function J5(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=_n(n.nextSibling),n===null))return null;return n}function om(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=_n(n.nextSibling),n===null))return null;return n}function ec(n){return n.data==="$?"||n.data==="$~"}function tc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function X5(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function _n(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var nc=null;function um(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return _n(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function cm(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function dm(n,r,s){switch(r=Xs(s),n){case"html":if(n=r.documentElement,!n)throw Error(l(452));return n;case"head":if(n=r.head,!n)throw Error(l(453));return n;case"body":if(n=r.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function Aa(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);r0(n)}var Rn=new Map,fm=new Set;function Ks(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var xi=W.d;W.d={f:K5,r:$5,D:Q5,C:Z5,L:W5,m:e3,X:n3,S:t3,M:i3};function K5(){var n=xi.f(),r=Ps();return n||r}function $5(n){var r=Pr(n);r!==null&&r.tag===5&&r.type==="form"?_h(r):xi.r(n)}var yl=typeof document>"u"?null:document;function hm(n,r,s){var u=yl;if(u&&typeof r=="string"&&r){var g=wn(r);g='link[rel="'+n+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),fm.has(g)||(fm.add(g),n={rel:n,crossOrigin:s,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),Ot(r,"link",n),zt(r),u.head.appendChild(r)))}}function Q5(n){xi.D(n),hm("dns-prefetch",n,null)}function Z5(n,r){xi.C(n,r),hm("preconnect",n,r)}function W5(n,r,s){xi.L(n,r,s);var u=yl;if(u&&n&&r){var g='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+wn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+wn(s.imageSizes)+'"]')):g+='[href="'+wn(n)+'"]';var y=g;switch(r){case"style":y=xl(n);break;case"script":y=bl(n)}Rn.has(y)||(n=S({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Rn.set(y,n),u.querySelector(g)!==null||r==="style"&&u.querySelector(Ea(y))||r==="script"&&u.querySelector(Ca(y))||(r=u.createElement("link"),Ot(r,"link",n),zt(r),u.head.appendChild(r)))}}function e3(n,r){xi.m(n,r);var s=yl;if(s&&n){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+wn(u)+'"][href="'+wn(n)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bl(n)}if(!Rn.has(y)&&(n=S({rel:"modulepreload",href:n},r),Rn.set(y,n),s.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ca(y)))return}u=s.createElement("link"),Ot(u,"link",n),zt(u),s.head.appendChild(u)}}}function t3(n,r,s){xi.S(n,r,s);var u=yl;if(u&&n){var g=qr(u).hoistableStyles,y=xl(n);r=r||"default";var A=g.get(y);if(!A){var N={loading:0,preload:null};if(A=u.querySelector(Ea(y)))N.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Rn.get(y))&&ic(n,s);var L=A=u.createElement("link");zt(L),Ot(L,"link",n),L._p=new Promise(function(F,ee){L.onload=F,L.onerror=ee}),L.addEventListener("load",function(){N.loading|=1}),L.addEventListener("error",function(){N.loading|=2}),N.loading|=4,$s(A,r,u)}A={type:"stylesheet",instance:A,count:1,state:N},g.set(y,A)}}}function n3(n,r){xi.X(n,r);var s=yl;if(s&&n){var u=qr(s).hoistableScripts,g=bl(n),y=u.get(g);y||(y=s.querySelector(Ca(g)),y||(n=S({src:n,async:!0},r),(r=Rn.get(g))&&rc(n,r),y=s.createElement("script"),zt(y),Ot(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function i3(n,r){xi.M(n,r);var s=yl;if(s&&n){var u=qr(s).hoistableScripts,g=bl(n),y=u.get(g);y||(y=s.querySelector(Ca(g)),y||(n=S({src:n,async:!0,type:"module"},r),(r=Rn.get(g))&&rc(n,r),y=s.createElement("script"),zt(y),Ot(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function mm(n,r,s,u){var g=(g=Q.current)?Ks(g):null;if(!g)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=xl(s.href),s=qr(g).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=xl(s.href);var y=qr(g).hoistableStyles,A=y.get(n);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,A),(y=g.querySelector(Ea(n)))&&!y._p&&(A.instance=y,A.state.loading=5),Rn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Rn.set(n,s),y||r3(g,n,s,A.state))),r&&u===null)throw Error(l(528,""));return A}if(r&&u!==null)throw Error(l(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bl(s),s=qr(g).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function xl(n){return'href="'+wn(n)+'"'}function Ea(n){return'link[rel="stylesheet"]['+n+"]"}function pm(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function r3(n,r,s,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ot(r,"link",s),zt(r),n.head.appendChild(r))}function bl(n){return'[src="'+wn(n)+'"]'}function Ca(n){return"script[async]"+n}function gm(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+wn(s.href)+'"]');if(u)return r.instance=u,zt(u),u;var g=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),zt(u),Ot(u,"style",g),$s(u,s.precedence,n),r.instance=u;case"stylesheet":g=xl(s.href);var y=n.querySelector(Ea(g));if(y)return r.state.loading|=4,r.instance=y,zt(y),y;u=pm(s),(g=Rn.get(g))&&ic(u,g),y=(n.ownerDocument||n).createElement("link"),zt(y);var A=y;return A._p=new Promise(function(N,L){A.onload=N,A.onerror=L}),Ot(y,"link",u),r.state.loading|=4,$s(y,s.precedence,n),r.instance=y;case"script":return y=bl(s.src),(g=n.querySelector(Ca(y)))?(r.instance=g,zt(g),g):(u=s,(g=Rn.get(y))&&(u=S({},s),rc(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),zt(g),Ot(g,"link",u),n.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(l(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,$s(u,s.precedence,n));return r.instance}function $s(n,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,A=0;A<u.length;A++){var N=u[A];if(N.dataset.precedence===r)y=N;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function ic(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function rc(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Qs=null;function vm(n,r,s){if(Qs===null){var u=new Map,g=Qs=new Map;g.set(s,u)}else g=Qs,u=g.get(s),u||(u=new Map,g.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),g=0;g<s.length;g++){var y=s[g];if(!(y[Ol]||y[Ht]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(r)||"";A=n+A;var N=u.get(A);N?N.push(y):u.set(A,[y])}}return u}function ym(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function l3(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function a3(n,r,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=xl(u.href),y=r.querySelector(Ea(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Zs.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=y,zt(y);return}y=r.ownerDocument||r,u=pm(u),(g=Rn.get(g))&&ic(u,g),y=y.createElement("link"),zt(y);var A=y;A._p=new Promise(function(N,L){A.onload=N,A.onerror=L}),Ot(y,"link",u),s.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Zs.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var lc=0;function s3(n,r){return n.stylesheets&&n.count===0&&eo(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&eo(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+r);0<n.imgBytes&&lc===0&&(lc=62500*q5());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&eo(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>lc?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Zs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eo(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ws=null;function eo(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ws=new Map,r.forEach(o3,n),Ws=null,Zs.call(n))}function o3(n,r){if(!(r.state.loading&4)){var s=Ws.get(n);if(s)var u=s.get(null);else{s=new Map,Ws.set(n,s);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),u=A)}u&&s.set(null,u)}g=r.instance,A=g.getAttribute("data-precedence"),y=s.get(A)||u,y===u&&s.set(null,g),s.set(A,g),this.count++,u=Zs.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),r.state.loading|=4}}var Na={$$typeof:J,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function u3(n,r,s,u,g,y,A,N,L){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=e0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e0(0),this.hiddenUpdates=e0(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function bm(n,r,s,u,g,y,A,N,L,F,ee,re){return n=new u3(n,r,s,A,L,F,ee,re,N),r=1,y===!0&&(r|=24),y=fn(3,null,null,r),n.current=y,y.stateNode=n,r=H0(),r.refCount++,n.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:s,cache:r},O0(y),n}function Sm(n){return n?(n=Qr,n):Qr}function wm(n,r,s,u,g,y){g=Sm(g),u.context===null?u.context=g:u.pendingContext=g,u=Oi(r),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=Vi(n,u,r),s!==null&&(ln(s,n,r),la(s,n,r))}function Tm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function ac(n,r){Tm(n,r),(n=n.alternate)&&Tm(n,r)}function Am(n){if(n.tag===13||n.tag===31){var r=xr(n,67108864);r!==null&&ln(r,n,67108864),ac(n,67108864)}}function Em(n){if(n.tag===13||n.tag===31){var r=vn();r=t0(r);var s=xr(n,r);s!==null&&ln(s,n,r),ac(n,r)}}var to=!0;function c3(n,r,s,u){var g=j.T;j.T=null;var y=W.p;try{W.p=2,sc(n,r,s,u)}finally{W.p=y,j.T=g}}function d3(n,r,s,u){var g=j.T;j.T=null;var y=W.p;try{W.p=8,sc(n,r,s,u)}finally{W.p=y,j.T=g}}function sc(n,r,s,u){if(to){var g=oc(u);if(g===null)Ju(n,r,u,no,s),Nm(n,u);else if(h3(g,n,r,s,u))u.stopPropagation();else if(Nm(n,u),r&4&&-1<f3.indexOf(n)){for(;g!==null;){var y=Pr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=mr(y.pendingLanes);if(A!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var L=1<<31-cn(A);N.entanglements[1]|=L,A&=~L}Jn(y),(et&6)===0&&(Hs=Ne()+500,Sa(0))}}break;case 31:case 13:N=xr(y,2),N!==null&&ln(N,y,2),Ps(),ac(y,2)}if(y=oc(u),y===null&&Ju(n,r,u,no,s),y===g)break;g=y}g!==null&&u.stopPropagation()}else Ju(n,r,u,null,s)}}function oc(n){return n=c0(n),uc(n)}var no=null;function uc(n){if(no=null,n=Gr(n),n!==null){var r=o(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return no=n,null}function Cm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case dt:return 2;case Bt:return 8;case ja:case Zg:return 32;case Ld:return 268435456;default:return 32}default:return 32}}var cc=!1,er=null,tr=null,nr=null,Ma=new Map,_a=new Map,ir=[],f3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nm(n,r){switch(n){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Ma.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(r.pointerId)}}function Ra(n,r,s,u,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=Pr(r),r!==null&&Am(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function h3(n,r,s,u,g){switch(r){case"focusin":return er=Ra(er,n,r,s,u,g),!0;case"dragenter":return tr=Ra(tr,n,r,s,u,g),!0;case"mouseover":return nr=Ra(nr,n,r,s,u,g),!0;case"pointerover":var y=g.pointerId;return Ma.set(y,Ra(Ma.get(y)||null,n,r,s,u,g)),!0;case"gotpointercapture":return y=g.pointerId,_a.set(y,Ra(_a.get(y)||null,n,r,s,u,g)),!0}return!1}function Mm(n){var r=Gr(n.target);if(r!==null){var s=o(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,qd(n.priority,function(){Em(s)});return}}else if(r===31){if(r=f(s),r!==null){n.blockedOn=r,qd(n.priority,function(){Em(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function io(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=oc(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);u0=u,s.target.dispatchEvent(u),u0=null}else return r=Pr(s),r!==null&&Am(r),n.blockedOn=s,!1;r.shift()}return!0}function _m(n,r,s){io(n)&&s.delete(r)}function m3(){cc=!1,er!==null&&io(er)&&(er=null),tr!==null&&io(tr)&&(tr=null),nr!==null&&io(nr)&&(nr=null),Ma.forEach(_m),_a.forEach(_m)}function ro(n,r){n.blockedOn===r&&(n.blockedOn=null,cc||(cc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,m3)))}var lo=null;function Rm(n){lo!==n&&(lo=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){lo===n&&(lo=null);for(var r=0;r<n.length;r+=3){var s=n[r],u=n[r+1],g=n[r+2];if(typeof u!="function"){if(uc(u||s)===null)continue;break}var y=Pr(s);y!==null&&(n.splice(r,3),r-=3,ou(y,{pending:!0,data:g,method:s.method,action:u},u,g))}}))}function Sl(n){function r(L){return ro(L,n)}er!==null&&ro(er,n),tr!==null&&ro(tr,n),nr!==null&&ro(nr,n),Ma.forEach(r),_a.forEach(r);for(var s=0;s<ir.length;s++){var u=ir[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ir.length&&(s=ir[0],s.blockedOn===null);)Mm(s),s.blockedOn===null&&ir.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var g=s[u],y=s[u+1],A=g[Zt]||null;if(typeof y=="function")A||Rm(s);else if(A){var N=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[Zt]||null)N=A.formAction;else if(uc(g)!==null)continue}else N=A.action;typeof N=="function"?s[u+1]=N:(s.splice(u,3),u-=3),Rm(s)}}}function km(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function dc(n){this._internalRoot=n}ao.prototype.render=dc.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(l(409));var s=r.current,u=vn();wm(s,u,n,r,null,null)},ao.prototype.unmount=dc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;wm(n.current,2,null,n,null,null),Ps(),r[Hr]=null}};function ao(n){this._internalRoot=n}ao.prototype.unstable_scheduleHydration=function(n){if(n){var r=Pd();n={blockedOn:null,target:n,priority:r};for(var s=0;s<ir.length&&r!==0&&r<ir[s].priority;s++);ir.splice(s,0,n),s===0&&Mm(n)}};var Im=e.version;if(Im!=="19.2.3")throw Error(l(527,Im,"19.2.3"));W.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=p(r),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var p3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{Gl=so.inject(p3),un=so}catch{}}return Ia.createRoot=function(n,r){if(!a(n))throw Error(l(299));var s=!1,u="",g=Gh,y=Ph,A=qh;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=bm(n,1,!1,null,null,s,u,null,g,y,A,km),n[Hr]=r.current,Yu(n),new dc(r)},Ia.hydrateRoot=function(n,r,s){if(!a(n))throw Error(l(299));var u=!1,g="",y=Gh,A=Ph,N=qh,L=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.formState!==void 0&&(L=s.formState)),r=bm(n,1,!0,r,s??null,u,g,L,y,A,N,km),r.context=Sm(null),s=r.current,u=vn(),u=t0(u),g=Oi(u),g.callback=null,Vi(s,g,u),s=u,r.current.lanes=s,ql(r,s),Jn(r),n[Hr]=r.current,Yu(n),new ao(r)},Ia.version="19.2.3",Ia}var Om;function C3(){if(Om)return mc.exports;Om=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mc.exports=E3(),mc.exports}var N3=C3();const M3=r2(N3);var Go=(t=>(t.MATH="",t.PHYSICS="",t.CHEMISTRY="",t.BIOLOGY="",t.ENGLISH="",t.CHINESE="",t.OTHER="",t))(Go||{}),Qe=(t=>(t.GEMINI="GEMINI",t.QWEN="QWEN",t.DOUBAO="DOUBAO",t.OPENAI="OPENAI",t))(Qe||{}),_3={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R3,k3;function I3(){return{geminiUrl:R3,vertexUrl:k3}}function D3(t,e,i,l){var a,o;if(!(t!=null&&t.baseUrl)){const c=I3();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(o=c.geminiUrl)!==null&&o!==void 0?o:l}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mi{}function ve(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(l,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const o=e[a];return o!=null?String(o):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function h(t,e,i){for(let o=0;o<e.length-1;o++){const c=e[o];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(i))t[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const m=t[f];if(Array.isArray(i))for(let p=0;p<m.length;p++){const x=m[p];h(x,e.slice(o+1),i[p])}else for(const p of m)h(p,e.slice(o+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const m=t[f];h(m[0],e.slice(o+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const l=e[e.length-1],a=t[l];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[l]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let l=0;l<e.length;l++){if(typeof t!="object"||t===null)return i;const a=e[l];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in t){const c=t[o];return Array.isArray(c)?c.map(f=>d(f,e.slice(l+1),i)):i}else return i}else t=t[a]}return t}catch(l){if(l instanceof TypeError)return i;throw l}}function z3(t,e){for(const[i,l]of Object.entries(e)){const a=i.split("."),o=l.split("."),c=new Set;let f=-1;for(let m=0;m<a.length;m++)if(a[m]==="*"){f=m;break}if(f!==-1&&o.length>f)for(let m=f;m<o.length;m++){const p=o[m];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Lc(t,a,o,0,c)}}function Lc(t,e,i,l,a){if(l>=e.length||typeof t!="object"||t===null)return;const o=e[l];if(o.endsWith("[]")){const c=o.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const m of f[c])Lc(m,e,i,l+1,a)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),m={};for(const p of f)m[p]=c[p];for(const[p,x]of Object.entries(m)){const S=[];for(const w of i.slice(l))w==="*"?S.push(p):S.push(w);h(c,S,x)}for(const p of f)delete c[p]}}else{const c=t;o in c&&Lc(c[o],e,i,l+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ld(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L3(t){const e={},i=d(t,["operationName"]);i!=null&&h(e,["operationName"],i);const l=d(t,["resourceName"]);return l!=null&&h(e,["_url","resourceName"],l),e}function U3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],H3(c)),e}function B3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],G3(c)),e}function H3(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>P3(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function G3(t){const e={},i=d(t,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>q3(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function P3(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],J3(i)),e}function q3(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],X3(i)),e}function O3(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function V3(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function F3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],j3(c)),e}function j3(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function l2(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],Y3(c)),e}function Y3(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function J3(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["encodedVideo"]);l!=null&&h(e,["videoBytes"],ld(l));const a=d(t,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function X3(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["videoBytes"],ld(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vm||(Vm={}));var Fm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Fm||(Fm={}));var jm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(jm||(jm={}));var Mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mt||(Mt={}));var Ym;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ym||(Ym={}));var Jm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Jm||(Jm={}));var Xm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Xm||(Xm={}));var Km;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Km||(Km={}));var $m;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})($m||($m={}));var Qm;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Qm||(Qm={}));var Zm;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Zm||(Zm={}));var Wm;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Wm||(Wm={}));var ep;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ep||(ep={}));var tp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(tp||(tp={}));var np;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(np||(np={}));var ip;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ip||(ip={}));var rp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(rp||(rp={}));var lp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(lp||(lp={}));var ap;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ap||(ap={}));var No;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(No||(No={}));var sp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sp||(sp={}));var op;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(op||(op={}));var up;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(up||(up={}));var Uc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Uc||(Uc={}));var cp;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(cp||(cp={}));var dp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(dp||(dp={}));var fp;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(fp||(fp={}));var hp;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(hp||(hp={}));var mp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mp||(mp={}));var pp;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pp||(pp={}));var gp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(gp||(gp={}));var vp;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vp||(vp={}));var yp;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(yp||(yp={}));var xp;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(xp||(xp={}));var bp;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bp||(bp={}));var Sp;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Sp||(Sp={}));var wp;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wp||(wp={}));var Tp;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Tp||(Tp={}));var Ap;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ap||(Ap={}));var Ep;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Ep||(Ep={}));var Cp;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Cp||(Cp={}));var Np;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Np||(Np={}));var Mp;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Mp||(Mp={}));var _p;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(_p||(_p={}));var Rp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Rp||(Rp={}));var kp;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(kp||(kp={}));var Ip;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ip||(Ip={}));var Dp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Dp||(Dp={}));var zp;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zp||(zp={}));var Lp;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Lp||(Lp={}));var Up;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Up||(Up={}));var Bp;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Bp||(Bp={}));var Hp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Hp||(Hp={}));var Gp;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Gp||(Gp={}));var Pp;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Pp||(Pp={}));var El;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(El||(El={}));class Bc{constructor(e){const i={};for(const l of e.headers.entries())i[l[0]]=l[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Da{get text(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const S=[];for(const w of(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[E,_]of Object.entries(w))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(_!==null||_!==void 0)&&S.push(E);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;x=!0,p+=w.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const S of(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[w,E]of Object.entries(S))w!=="inlineData"&&(E!==null||E!==void 0)&&x.push(w);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,l,a,o,c,f,m,p;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,l,a,o,c,f,m,p;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class qp{}class Op{}class K3{}class $3{}class Q3{}class Z3{}class Vp{}class Fp{}class jp{}class W3{}class Mo{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new Mo;let a;const o=e;return i?a=B3(o):a=U3(o),Object.assign(l,a),l}}class Yp{}class Jp{}class Xp{}class Kp{}class e6{}class t6{}class n6{}class ad{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new ad,o=F3(e);return Object.assign(l,o),l}}class i6{}class r6{}class l6{}class $p{}class a6{get text(){var e,i,l;let a="",o=!1;const c=[];for(const f of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[m,p]of Object.entries(f))m!=="text"&&m!=="thought"&&p!==null&&c.push(m);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;o=!0,a+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?a:void 0}get data(){var e,i,l;let a="";const o=[];for(const c of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[f,m]of Object.entries(c))f!=="inlineData"&&m!==null&&o.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class s6{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class sd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new sd,o=l2(e);return Object.assign(l,o),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function a2(t,e){const i=We(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function s2(t){return Array.isArray(t)?t.map(e=>_o(e)):[_o(t)]}function _o(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function o2(t){const e=_o(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function u2(t){const e=_o(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function c2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Qp(e)):[Qp(t)]}function Hc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Zp(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Wp(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ft(t){if(t==null)throw new Error("ContentUnion is required");return Hc(t)?t:{role:"user",parts:c2(t)}}function od(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const l=Ft(i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(t.isVertexAI()){const i=Ft(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Ft(i)):[Ft(e)]}function In(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Zp(t)||Wp(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ft(t)]}const e=[],i=[],l=Hc(t[0]);for(const a of t){const o=Hc(a);if(o!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(a);else{if(Zp(a)||Wp(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return l||e.push({role:"user",parts:c2(i)}),e}function o6(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(l=>l!=="null");if(i.length===1)e.type=Object.values(Mt).includes(i[0].toUpperCase())?i[0].toUpperCase():Mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of i)e.anyOf.push({type:Object.values(Mt).includes(l.toUpperCase())?l.toUpperCase():Mt.TYPE_UNSPECIFIED})}}function Nl(t){const e={},i=["items"],l=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&o6(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Mt).includes(f.toUpperCase())?f.toUpperCase():Mt.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Nl(f);else if(l.includes(c)){const m=[];for(const p of f){if(p.type=="null"){e.nullable=!0;continue}m.push(Nl(p))}e[c]=m}else if(a.includes(c)){const m={};for(const[p,x]of Object.entries(f))m[p]=Nl(x);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=f}return e}function ud(t){return Nl(t)}function cd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function kl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nl(e.response));return t}function Il(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function u6(t,e,i,l=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===l;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function _i(t,e){if(typeof e!="string")throw new Error("name must be a string");return u6(t,e,"cachedContents")}function d2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function dr(t){return ld(t)}function c6(t){return t!=null&&typeof t=="object"&&"name"in t}function d6(t){return t!=null&&typeof t=="object"&&"video"in t}function f6(t){return t!=null&&typeof t=="object"&&"uri"in t}function f2(t){var e;let i;if(c6(t)&&(i=t.name),!(f6(t)&&(i=t.uri,i===void 0))&&!(d6(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function h2(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function m2(t){for(const e of["models","tunedModels","publisherModels"])if(h6(t,e))return t[e];return[]}function h6(t,e){return t!==null&&typeof t=="object"&&e in t}function m6(t,e={}){const i=t,l={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(l.responseJsonSchema=i.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function p6(t,e={}){const i=[],l=new Set;for(const a of t){const o=a.name;if(l.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);l.add(o);const c=m6(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function p2(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const l=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function g6(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function g2(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let o=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Dl(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function v2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v6(t){const e={},i=d(t,["responsesFile"]);i!=null&&h(e,["fileName"],i);const l=d(t,["inlinedResponses","inlinedResponses"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Q6(c))),h(e,["inlinedResponses"],o)}const a=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["inlinedEmbedContentResponses"],o)}return e}function y6(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&h(e,["format"],i);const l=d(t,["gcsDestination","outputUriPrefix"]);l!=null&&h(e,["gcsUri"],l);const a=d(t,["bigqueryDestination","outputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function x6(t){const e={},i=d(t,["format"]);i!=null&&h(e,["predictionsFormat"],i);const l=d(t,["gcsUri"]);l!=null&&h(e,["gcsDestination","outputUriPrefix"],l);const a=d(t,["bigqueryUri"]);if(a!=null&&h(e,["bigqueryDestination","outputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function To(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata","displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["metadata","state"]);a!=null&&h(e,["state"],v2(a));const o=d(t,["metadata","createTime"]);o!=null&&h(e,["createTime"],o);const c=d(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&h(e,["updateTime"],f);const m=d(t,["metadata","model"]);m!=null&&h(e,["model"],m);const p=d(t,["metadata","output"]);return p!=null&&h(e,["dest"],v6(g2(p))),e}function Gc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["state"]);a!=null&&h(e,["state"],v2(a));const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["createTime"]);c!=null&&h(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(e,["startTime"],f);const m=d(t,["endTime"]);m!=null&&h(e,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(e,["updateTime"],p);const x=d(t,["model"]);x!=null&&h(e,["model"],x);const S=d(t,["inputConfig"]);S!=null&&h(e,["src"],b6(S));const w=d(t,["outputConfig"]);w!=null&&h(e,["dest"],y6(g2(w)));const E=d(t,["completionStats"]);return E!=null&&h(e,["completionStats"],E),e}function b6(t){const e={},i=d(t,["instancesFormat"]);i!=null&&h(e,["format"],i);const l=d(t,["gcsSource","uris"]);l!=null&&h(e,["gcsUri"],l);const a=d(t,["bigquerySource","inputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function S6(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=d(e,["fileName"]);l!=null&&h(i,["fileName"],l);const a=d(e,["inlinedRequests"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>$6(t,c))),h(i,["requests","requests"],o)}return i}function w6(t){const e={},i=d(t,["format"]);i!=null&&h(e,["instancesFormat"],i);const l=d(t,["gcsUri"]);l!=null&&h(e,["gcsSource","uris"],l);const a=d(t,["bigqueryUri"]);if(a!=null&&h(e,["bigquerySource","inputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function T6(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function A6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Dl(t,l)),i}function E6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Dl(t,l)),i}function C6(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const l=d(t,["citationMetadata"]);l!=null&&h(e,["citationMetadata"],N6(l));const a=d(t,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const o=d(t,["finishReason"]);o!=null&&h(e,["finishReason"],o);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(t,["index"]);m!=null&&h(e,["index"],m);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const x=d(t,["safetyRatings"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(E=>E)),h(e,["safetyRatings"],w)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function N6(t){const e={},i=d(t,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["citations"],l)}return e}function y2(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>r7(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function M6(t,e){const i={},l=d(t,["displayName"]);if(e!==void 0&&l!=null&&h(e,["batch","displayName"],l),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function _6(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["dest"]);return e!==void 0&&a!=null&&h(e,["outputConfig"],x6(g6(a))),i}function e4(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["src"]);a!=null&&h(i,["batch","inputConfig"],S6(t,p2(t,a)));const o=d(e,["config"]);return o!=null&&M6(o,i),i}function R6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],We(t,l));const a=d(e,["src"]);a!=null&&h(i,["inputConfig"],w6(p2(t,a)));const o=d(e,["config"]);return o!=null&&_6(o,i),i}function k6(t,e){const i={},l=d(t,["displayName"]);return e!==void 0&&l!=null&&h(e,["batch","displayName"],l),i}function I6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["src"]);a!=null&&h(i,["batch","inputConfig"],G6(t,a));const o=d(e,["config"]);return o!=null&&k6(o,i),i}function D6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Dl(t,l)),i}function z6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Dl(t,l)),i}function L6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function U6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function B6(t,e){const i={},l=d(e,["contents"]);if(l!=null){let o=od(t,l);Array.isArray(o)&&(o=o.map(c=>c)),h(i,["requests[]","request","content"],o)}const a=d(e,["config"]);return a!=null&&(h(i,["_self"],H6(a,i)),z3(i,{"requests[].*":"requests[].request.*"})),i}function H6(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["requests[]","taskType"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&h(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function G6(t,e){const i={},l=d(e,["fileName"]);l!=null&&h(i,["file_name"],l);const a=d(e,["inlinedRequests"]);return a!=null&&h(i,["requests"],B6(t,a)),i}function P6(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function q6(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O6(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function V6(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],y2(Ft(a)));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const w=d(e,["logprobs"]);w!=null&&h(l,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],ud(U));const q=d(e,["responseJsonSchema"]);if(q!=null&&h(l,["responseJsonSchema"],q),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=d(e,["safetySettings"]);if(i!==void 0&&J!=null){let Me=J;Array.isArray(Me)&&(Me=Me.map(Ue=>l7(Ue))),h(i,["safetySettings"],Me)}const te=d(e,["tools"]);if(i!==void 0&&te!=null){let Me=Il(te);Array.isArray(Me)&&(Me=Me.map(Ue=>s7(kl(Ue)))),h(i,["tools"],Me)}const le=d(e,["toolConfig"]);if(i!==void 0&&le!=null&&h(i,["toolConfig"],a7(le)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=d(e,["cachedContent"]);i!==void 0&&ne!=null&&h(i,["cachedContent"],_i(t,ne));const P=d(e,["responseModalities"]);P!=null&&h(l,["responseModalities"],P);const $=d(e,["mediaResolution"]);$!=null&&h(l,["mediaResolution"],$);const Z=d(e,["speechConfig"]);if(Z!=null&&h(l,["speechConfig"],cd(Z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=d(e,["thinkingConfig"]);fe!=null&&h(l,["thinkingConfig"],fe);const be=d(e,["imageConfig"]);be!=null&&h(l,["imageConfig"],K6(be));const we=d(e,["enableEnhancedCivicAnswers"]);return we!=null&&h(l,["enableEnhancedCivicAnswers"],we),l}function F6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>C6(p))),h(e,["candidates"],m)}const a=d(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function j6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Dl(t,l)),i}function Y6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Dl(t,l)),i}function J6(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function X6(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function K6(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);if(l!=null&&h(e,["imageSize"],l),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["request","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let f=In(a);Array.isArray(f)&&(f=f.map(m=>y2(m))),h(i,["request","contents"],f)}const o=d(e,["metadata"]);o!=null&&h(i,["metadata"],o);const c=d(e,["config"]);return c!=null&&h(i,["request","generationConfig"],V6(t,c,d(i,["request"],{}))),i}function Q6(t){const e={},i=d(t,["response"]);i!=null&&h(e,["response"],F6(i));const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function Z6(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);if(e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function W6(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&h(e,["_query","pageToken"],a);const o=d(t,["filter"]);return e!==void 0&&o!=null&&h(e,["_query","filter"],o),i}function e7(t){const e={},i=d(t,["config"]);return i!=null&&Z6(i,e),e}function t7(t){const e={},i=d(t,["config"]);return i!=null&&W6(i,e),e}function n7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["operations"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>To(c))),h(e,["batchJobs"],o)}return e}function i7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["batchPredictionJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>Gc(c))),h(e,["batchJobs"],o)}return e}function r7(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],P6(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],q6(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],T6(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function l7(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=d(t,["threshold"]);return l!=null&&h(e,["threshold"],l),e}function a7(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],O6(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function s7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],J6(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],X6(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ai;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ai||(Ai={}));class Lr{constructor(e,i,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,l,a)}init(e,i,l){var a,o;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!l||Object.keys(l).length===0?c={config:{}}:typeof l=="object"?c=Object.assign({},l):c=l,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(o=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o7 extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Lr(Ai.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=e4(this.apiClient,e),l=i._url,a=ve("{model}:batchGenerateContent",l),f=i.batch.inputConfig.requests,m=f.requests,p=[];for(const x of m){const S=Object.assign({},x);if(S.systemInstruction){const w=S.systemInstruction;delete S.systemInstruction;const E=S.request;E.systemInstruction=w,S.request=E}p.push(S)}return f.requests=p,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const l=i?Object.assign({},i):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const o=this.getGcsUri(e),c=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?l.dest=`${o.slice(0,-6)}/dest`:l.dest=`${o}_dest_${a}`;else if(c)l.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=R6(this.apiClient,e);return f=ve("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Gc(x))}else{const p=e4(this.apiClient,e);return f=ve("{model}:batchGenerateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>To(x))}}async createEmbeddingsInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=I6(this.apiClient,e);return o=ve("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>To(m))}}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Y6(this.apiClient,e);return f=ve("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Gc(x))}else{const p=j6(this.apiClient,e);return f=ve("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>To(x))}}async cancel(e){var i,l,a,o;let c="",f={};if(this.apiClient.isVertexAI()){const m=E6(this.apiClient,e);c=ve("batchPredictionJobs/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const m=A6(this.apiClient,e);c=ve("batches/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=t7(e);return f=ve("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=i7(x),w=new $p;return Object.assign(w,S),w})}else{const p=e7(e);return f=ve("batches",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=n7(x),w=new $p;return Object.assign(w,S),w})}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=z6(this.apiClient,e);return f=ve("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>U6(x))}else{const p=D6(this.apiClient,e);return f=ve("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>L6(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u7(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function t4(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>I7(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function c7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let x=In(c);Array.isArray(x)&&(x=x.map(S=>t4(S))),h(e,["contents"],x)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],t4(Ft(f)));const m=d(t,["tools"]);if(e!==void 0&&m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>z7(S))),h(e,["tools"],x)}const p=d(t,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],D7(p)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function d7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let S=In(c);Array.isArray(S)&&(S=S.map(w=>w)),h(e,["contents"],S)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Ft(f));const m=d(t,["tools"]);if(e!==void 0&&m!=null){let S=m;Array.isArray(S)&&(S=S.map(w=>L7(w))),h(e,["tools"],S)}const p=d(t,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const x=d(t,["kmsKeyName"]);return e!==void 0&&x!=null&&h(e,["encryption_spec","kmsKeyName"],x),i}function f7(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],a2(t,l));const a=d(e,["config"]);return a!=null&&c7(a,i),i}function h7(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],a2(t,l));const a=d(e,["config"]);return a!=null&&d7(a,i),i}function m7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],_i(t,l)),i}function p7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],_i(t,l)),i}function g7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function v7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function y7(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function x7(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function b7(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function S7(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function w7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],_i(t,l)),i}function T7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],_i(t,l)),i}function A7(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function E7(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function C7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function N7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function M7(t){const e={},i=d(t,["config"]);return i!=null&&C7(i,e),e}function _7(t){const e={},i=d(t,["config"]);return i!=null&&N7(i,e),e}function R7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["cachedContents"],o)}return e}function k7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["cachedContents"],o)}return e}function I7(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],y7(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],x7(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],u7(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function D7(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],b7(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function z7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],A7(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],E7(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function L7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(w=>S7(w))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function U7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),i}function B7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),i}function H7(t,e){const i={},l=d(e,["name"]);l!=null&&h(i,["_url","name"],_i(t,l));const a=d(e,["config"]);return a!=null&&U7(a,i),i}function G7(t,e){const i={},l=d(e,["name"]);l!=null&&h(i,["_url","name"],_i(t,l));const a=d(e,["config"]);return a!=null&&B7(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P7 extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Lr(Ai.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(i),i)}async create(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=h7(this.apiClient,e);return f=ve("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=f7(this.apiClient,e);return f=ve("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=T7(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=w7(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=p7(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=v7(x),w=new Xp;return Object.assign(w,S),w})}else{const p=m7(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=g7(x),w=new Xp;return Object.assign(w,S),w})}}async update(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=G7(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=H7(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=_7(e);return f=ve("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=k7(x),w=new Kp;return Object.assign(w,S),w})}else{const p=M7(e);return f=ve("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=R7(x),w=new Kp;return Object.assign(w,S),w})}}}function Ro(t,e){var i={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(i[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(i[l[a]]=t[l[a]]);return i}function n4(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],l=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ze(t){return this instanceof ze?(this.v=t,this):new ze(t)}function Pn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(_){return Promise.resolve(_).then(E,S)}}function f(E,_){l[E]&&(a[E]=function(R){return new Promise(function(k,U){o.push([E,R,k,U])>1||m(E,R)})},_&&(a[E]=_(a[E])))}function m(E,_){try{p(l[E](_))}catch(R){w(o[0][3],R)}}function p(E){E.value instanceof ze?Promise.resolve(E.value.v).then(x,S):w(o[0][2],E)}function x(E){m("next",E)}function S(E){m("throw",E)}function w(E,_){E(_),o.shift(),o.length&&m(o[0][0],o[0][1])}}function qn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof n4=="function"?n4(t):t[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(o){i[o]=t[o]&&function(c){return new Promise(function(f,m){c=t[o](c),a(f,m,c.done,c.value)})}}function a(o,c,f,m){Promise.resolve(m).then(function(p){o({value:p,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q7(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:x2(i)}function x2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function O7(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function i4(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let l=0;for(;l<i;)if(t[l].role==="user")e.push(t[l]),l++;else{const a=[];let o=!0;for(;l<i&&t[l].role==="model";)a.push(t[l]),o&&!x2(t[l])&&(o=!1),l++;o?e.push(...a):e.pop()}return e}class V7{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new F7(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class F7{constructor(e,i,l,a={},o=[]){this.apiClient=e,this.modelsModule=i,this.model=l,this.config=a,this.history=o,this.sendPromise=Promise.resolve(),O7(o)}async sendMessage(e){var i;await this.sendPromise;const l=Ft(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var o,c,f;const m=await a,p=(c=(o=m.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content,x=m.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let w=[];x!=null&&(w=(f=x.slice(S))!==null&&f!==void 0?f:[]);const E=p?[p]:[];this.recordHistory(l,E,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const l=Ft(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const o=await a;return this.processStreamResponse(o,l)}getHistory(e=!1){const i=e?i4(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Pn(this,arguments,function*(){var a,o,c,f,m,p;const x=[];try{for(var S=!0,w=qn(e),E;E=yield ze(w.next()),a=E.done,!a;S=!0){f=E.value,S=!1;const _=f;if(q7(_)){const R=(p=(m=_.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content;R!==void 0&&x.push(R)}yield yield ze(_)}}catch(_){o={error:_}}finally{try{!S&&!a&&(c=w.return)&&(yield ze(c.call(w)))}finally{if(o)throw o.error}}this.recordHistory(i,x)})}recordHistory(e,i,l){let a=[];i.length>0&&i.every(o=>o.role!==void 0)?a=i:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...i4(l)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Po extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Po.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j7(t){const e={},i=d(t,["file"]);return i!=null&&h(e,["file"],i),e}function Y7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function J7(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],f2(i)),e}function X7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function K7(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],f2(i)),e}function $7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function Q7(t){const e={},i=d(t,["config"]);return i!=null&&$7(i,e),e}function Z7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["files"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W7 extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Lr(Ai.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q7(e);return o=ve("files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=Z7(m),x=new i6;return Object.assign(x,p),x})}}async createInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=j7(e);return o=ve("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=Y7(m),x=new r6;return Object.assign(x,p),x})}}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=K7(e);return o=ve("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J7(e);return o=ve("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=X7(m),x=new l6;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ao(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function ey(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gy(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function ty(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function ny(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iy(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function ry(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const l=d(t,["responseJsonSchema"]);l!=null&&h(e,["responseJsonSchema"],l);const a=d(t,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const o=d(t,["candidateCount"]);o!=null&&h(e,["candidateCount"],o);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const x=d(t,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const w=d(t,["responseLogprobs"]);w!=null&&h(e,["responseLogprobs"],w);const E=d(t,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const _=d(t,["responseModalities"]);_!=null&&h(e,["responseModalities"],_);const R=d(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const U=d(t,["seed"]);U!=null&&h(e,["seed"],U);const q=d(t,["speechConfig"]);q!=null&&h(e,["speechConfig"],q);const J=d(t,["stopSequences"]);J!=null&&h(e,["stopSequences"],J);const te=d(t,["temperature"]);te!=null&&h(e,["temperature"],te);const le=d(t,["thinkingConfig"]);le!=null&&h(e,["thinkingConfig"],le);const ne=d(t,["topK"]);ne!=null&&h(e,["topK"],ne);const P=d(t,["topP"]);if(P!=null&&h(e,["topP"],P),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ly(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function ay(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function sy(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],l);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],dd(S));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],ey(Ft(_)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let ne=Il(R);Array.isArray(ne)&&(ne=ne.map(P=>yy(kl(P)))),h(e,["setup","tools"],ne)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],vy(k));const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const q=d(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const te=d(t,["contextWindowCompression"]);e!==void 0&&te!=null&&h(e,["setup","contextWindowCompression"],te);const le=d(t,["proactivity"]);if(e!==void 0&&le!=null&&h(e,["setup","proactivity"],le),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function oy(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],ry(l));const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],dd(S));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],Ft(_));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let P=Il(R);Array.isArray(P)&&(P=P.map($=>xy(kl($)))),h(e,["setup","tools"],P)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],k);const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const q=d(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const te=d(t,["contextWindowCompression"]);e!==void 0&&te!=null&&h(e,["setup","contextWindowCompression"],te);const le=d(t,["proactivity"]);e!==void 0&&le!=null&&h(e,["setup","proactivity"],le);const ne=d(t,["explicitVadSignal"]);return e!==void 0&&ne!=null&&h(e,["setup","explicitVadSignal"],ne),i}function uy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],We(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],sy(a,i)),i}function cy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],We(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],oy(a,i)),i}function dy(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],i),e}function fy(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["weightedPrompts"],l)}return e}function hy(t){const e={},i=d(t,["media"]);if(i!=null){let p=s2(i);Array.isArray(p)&&(p=p.map(x=>Ao(x))),h(e,["mediaChunks"],p)}const l=d(t,["audio"]);l!=null&&h(e,["audio"],Ao(u2(l)));const a=d(t,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const o=d(t,["video"]);o!=null&&h(e,["video"],Ao(o2(o)));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function my(t){const e={},i=d(t,["media"]);if(i!=null){let p=s2(i);Array.isArray(p)&&(p=p.map(x=>x)),h(e,["mediaChunks"],p)}const l=d(t,["audio"]);l!=null&&h(e,["audio"],u2(l));const a=d(t,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const o=d(t,["video"]);o!=null&&h(e,["video"],o2(o));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function py(t){const e={},i=d(t,["setupComplete"]);i!=null&&h(e,["setupComplete"],i);const l=d(t,["serverContent"]);l!=null&&h(e,["serverContent"],l);const a=d(t,["toolCall"]);a!=null&&h(e,["toolCall"],a);const o=d(t,["toolCallCancellation"]);o!=null&&h(e,["toolCallCancellation"],o);const c=d(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],by(c));const f=d(t,["goAway"]);f!=null&&h(e,["goAway"],f);const m=d(t,["sessionResumptionUpdate"]);m!=null&&h(e,["sessionResumptionUpdate"],m);const p=d(t,["voiceActivityDetectionSignal"]);return p!=null&&h(e,["voiceActivityDetectionSignal"],p),e}function gy(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],ty(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],ny(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],Ao(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function vy(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yy(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],ly(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],ay(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function xy(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(w=>iy(w))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function by(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&h(e,["promptTokenCount"],i);const l=d(t,["cachedContentTokenCount"]);l!=null&&h(e,["cachedContentTokenCount"],l);const a=d(t,["candidatesTokenCount"]);a!=null&&h(e,["responseTokenCount"],a);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&h(e,["toolUsePromptTokenCount"],o);const c=d(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&h(e,["totalTokenCount"],f);const m=d(t,["promptTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["promptTokensDetails"],E)}const p=d(t,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["cacheTokensDetails"],E)}const x=d(t,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["responseTokensDetails"],E)}const S=d(t,["toolUsePromptTokensDetails"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["toolUsePromptTokensDetails"],E)}const w=d(t,["trafficType"]);return w!=null&&h(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sy(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function wy(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const l=d(t,["citationMetadata"]);l!=null&&h(e,["citationMetadata"],Ty(l));const a=d(t,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const o=d(t,["finishReason"]);o!=null&&h(e,["finishReason"],o);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(t,["index"]);m!=null&&h(e,["index"],m);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const x=d(t,["safetyRatings"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(E=>E)),h(e,["safetyRatings"],w)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function Ty(t){const e={},i=d(t,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["citations"],l)}return e}function Ay(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let o=In(a);Array.isArray(o)&&(o=o.map(c=>c)),h(i,["contents"],o)}return i}function Ey(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["tokensInfo"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["tokensInfo"],a)}return e}function Cy(t){const e={},i=d(t,["values"]);i!=null&&h(e,["values"],i);const l=d(t,["statistics"]);return l!=null&&h(e,["statistics"],Ny(l)),e}function Ny(t){const e={},i=d(t,["truncated"]);i!=null&&h(e,["truncated"],i);const l=d(t,["token_count"]);return l!=null&&h(e,["tokenCount"],l),e}function qo(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>U8(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function My(t){const e={},i=d(t,["controlType"]);i!=null&&h(e,["controlType"],i);const l=d(t,["enableControlImageComputation"]);return l!=null&&h(e,["computeControl"],l),e}function _y(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ry(t,e){const i={},l=d(t,["systemInstruction"]);e!==void 0&&l!=null&&h(e,["systemInstruction"],Ft(l));const a=d(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>T2(f))),h(e,["tools"],c)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&h(e,["generationConfig"],S8(o)),i}function ky(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(f=>qo(f))),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&_y(o),i}function Iy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&Ry(o,i),i}function Dy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["totalTokens"]);l!=null&&h(e,["totalTokens"],l);const a=d(t,["cachedContentTokenCount"]);return a!=null&&h(e,["cachedContentTokenCount"],a),e}function zy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["totalTokens"]);return l!=null&&h(e,["totalTokens"],l),e}function Ly(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],We(t,l)),i}function Uy(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],We(t,l)),i}function By(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Hy(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Gy(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&h(e,["parameters","includeRaiReason"],w);const E=d(t,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const U=d(t,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const q=d(t,["editMode"]);e!==void 0&&q!=null&&h(e,["parameters","editMode"],q);const J=d(t,["baseSteps"]);return e!==void 0&&J!=null&&h(e,["parameters","editConfig","baseSteps"],J),i}function Py(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>O8(m))),h(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&Gy(c,i),i}function qy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>Oo(o))),h(e,["generatedImages"],a)}return e}function Oy(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["requests[]","taskType"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&h(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Vy(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["instances[]","task_type"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["instances[]","title"],a);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&h(e,["parameters","outputDimensionality"],o);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&h(e,["parameters","autoTruncate"],f),i}function Fy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let f=od(t,a);Array.isArray(f)&&(f=f.map(m=>m)),h(i,["requests[]","content"],f)}const o=d(e,["config"]);o!=null&&Oy(o,i);const c=d(e,["model"]);return c!==void 0&&h(i,["requests[]","model"],We(t,c)),i}function jy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=od(t,a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["instances[]","content"],c)}const o=d(e,["config"]);return o!=null&&Vy(o,i),i}function Yy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["embeddings"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["embeddings"],o)}const a=d(t,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function Jy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions[]","embeddings"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Cy(c))),h(e,["embeddings"],o)}const a=d(t,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function Xy(t){const e={},i=d(t,["endpoint"]);i!=null&&h(e,["name"],i);const l=d(t,["deployedModelId"]);return l!=null&&h(e,["deployedModelId"],l),e}function Ky(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function $y(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qy(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zy(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function Wy(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],qo(Ft(a)));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const w=d(e,["logprobs"]);w!=null&&h(l,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],ud(U));const q=d(e,["responseJsonSchema"]);if(q!=null&&h(l,["responseJsonSchema"],q),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=d(e,["safetySettings"]);if(i!==void 0&&J!=null){let Me=J;Array.isArray(Me)&&(Me=Me.map(Ue=>V8(Ue))),h(i,["safetySettings"],Me)}const te=d(e,["tools"]);if(i!==void 0&&te!=null){let Me=Il(te);Array.isArray(Me)&&(Me=Me.map(Ue=>$8(kl(Ue)))),h(i,["tools"],Me)}const le=d(e,["toolConfig"]);if(i!==void 0&&le!=null&&h(i,["toolConfig"],K8(le)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=d(e,["cachedContent"]);i!==void 0&&ne!=null&&h(i,["cachedContent"],_i(t,ne));const P=d(e,["responseModalities"]);P!=null&&h(l,["responseModalities"],P);const $=d(e,["mediaResolution"]);$!=null&&h(l,["mediaResolution"],$);const Z=d(e,["speechConfig"]);if(Z!=null&&h(l,["speechConfig"],cd(Z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=d(e,["thinkingConfig"]);fe!=null&&h(l,["thinkingConfig"],fe);const be=d(e,["imageConfig"]);be!=null&&h(l,["imageConfig"],C8(be));const we=d(e,["enableEnhancedCivicAnswers"]);return we!=null&&h(l,["enableEnhancedCivicAnswers"],we),l}function e8(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],Ft(a));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const w=d(e,["logprobs"]);w!=null&&h(l,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],ud(U));const q=d(e,["responseJsonSchema"]);q!=null&&h(l,["responseJsonSchema"],q);const J=d(e,["routingConfig"]);J!=null&&h(l,["routingConfig"],J);const te=d(e,["modelSelectionConfig"]);te!=null&&h(l,["modelConfig"],te);const le=d(e,["safetySettings"]);if(i!==void 0&&le!=null){let j=le;Array.isArray(j)&&(j=j.map(W=>W)),h(i,["safetySettings"],j)}const ne=d(e,["tools"]);if(i!==void 0&&ne!=null){let j=Il(ne);Array.isArray(j)&&(j=j.map(W=>T2(kl(W)))),h(i,["tools"],j)}const P=d(e,["toolConfig"]);i!==void 0&&P!=null&&h(i,["toolConfig"],P);const $=d(e,["labels"]);i!==void 0&&$!=null&&h(i,["labels"],$);const Z=d(e,["cachedContent"]);i!==void 0&&Z!=null&&h(i,["cachedContent"],_i(t,Z));const fe=d(e,["responseModalities"]);fe!=null&&h(l,["responseModalities"],fe);const be=d(e,["mediaResolution"]);be!=null&&h(l,["mediaResolution"],be);const we=d(e,["speechConfig"]);we!=null&&h(l,["speechConfig"],cd(we));const Me=d(e,["audioTimestamp"]);Me!=null&&h(l,["audioTimestamp"],Me);const Ue=d(e,["thinkingConfig"]);Ue!=null&&h(l,["thinkingConfig"],Ue);const qe=d(e,["imageConfig"]);if(qe!=null&&h(l,["imageConfig"],N8(qe)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function r4(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(f=>qo(f))),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&h(i,["generationConfig"],Wy(t,o,i)),i}function l4(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&h(i,["generationConfig"],e8(t,o,i)),i}function a4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>wy(p))),h(e,["candidates"],m)}const a=d(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function s4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(x=>x)),h(e,["candidates"],p)}const a=d(t,["createTime"]);a!=null&&h(e,["createTime"],a);const o=d(t,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const c=d(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&h(e,["responseId"],f);const m=d(t,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function t8(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&h(e,["parameters","aspectRatio"],a);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&h(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f);const m=d(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&h(e,["parameters","includeSafetyAttributes"],m);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const x=d(t,["language"]);e!==void 0&&x!=null&&h(e,["parameters","language"],x);const S=d(t,["outputMimeType"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","mimeType"],S);const w=d(t,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&h(e,["parameters","outputOptions","compressionQuality"],w),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(t,["imageSize"]);if(e!==void 0&&E!=null&&h(e,["parameters","sampleImageSize"],E),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function n8(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&h(e,["parameters","includeRaiReason"],w);const E=d(t,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const U=d(t,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const q=d(t,["imageSize"]);e!==void 0&&q!=null&&h(e,["parameters","sampleImageSize"],q);const J=d(t,["enhancePrompt"]);return e!==void 0&&J!=null&&h(e,["parameters","enhancePrompt"],J),i}function i8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["config"]);return o!=null&&t8(o,i),i}function r8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["config"]);return o!=null&&n8(o,i),i}function l8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>v8(c))),h(e,["generatedImages"],o)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],S2(a)),e}function a8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Oo(c))),h(e,["generatedImages"],o)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],w2(a)),e}function s8(t,e){const i={},l=d(t,["numberOfVideos"]);if(e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(t,["durationSeconds"]);if(e!==void 0&&a!=null&&h(e,["parameters","durationSeconds"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const c=d(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=d(t,["negativePrompt"]);e!==void 0&&m!=null&&h(e,["parameters","negativePrompt"],m);const p=d(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&h(e,["instances[0]","lastFrame"],Vo(x));const S=d(t,["referenceImages"]);if(e!==void 0&&S!=null){let w=S;Array.isArray(w)&&(w=w.map(E=>ux(E))),h(e,["instances[0]","referenceImages"],w)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function o8(t,e){const i={},l=d(t,["numberOfVideos"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const o=d(t,["fps"]);e!==void 0&&o!=null&&h(e,["parameters","fps"],o);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const m=d(t,["aspectRatio"]);e!==void 0&&m!=null&&h(e,["parameters","aspectRatio"],m);const p=d(t,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["pubsubTopic"]);e!==void 0&&S!=null&&h(e,["parameters","pubsubTopic"],S);const w=d(t,["negativePrompt"]);e!==void 0&&w!=null&&h(e,["parameters","negativePrompt"],w);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&h(e,["parameters","enhancePrompt"],E);const _=d(t,["generateAudio"]);e!==void 0&&_!=null&&h(e,["parameters","generateAudio"],_);const R=d(t,["lastFrame"]);e!==void 0&&R!=null&&h(e,["instances[0]","lastFrame"],On(R));const k=d(t,["referenceImages"]);if(e!==void 0&&k!=null){let J=k;Array.isArray(J)&&(J=J.map(te=>cx(te))),h(e,["instances[0]","referenceImages"],J)}const U=d(t,["mask"]);e!==void 0&&U!=null&&h(e,["instances[0]","mask"],ox(U));const q=d(t,["compressionQuality"]);return e!==void 0&&q!=null&&h(e,["parameters","compressionQuality"],q),i}function u8(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],h8(c)),e}function c8(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],m8(c)),e}function d8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],Vo(o));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],A2(c));const f=d(e,["source"]);f!=null&&p8(f,i);const m=d(e,["config"]);return m!=null&&s8(m,i),i}function f8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],On(o));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],E2(c));const f=d(e,["source"]);f!=null&&g8(f,i);const m=d(e,["config"]);return m!=null&&o8(m,i),i}function h8(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>x8(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function m8(t){const e={},i=d(t,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>b8(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function p8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],Vo(a));const o=d(t,["video"]);return e!==void 0&&o!=null&&h(e,["instances[0]","video"],A2(o)),i}function g8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],On(a));const o=d(t,["video"]);return e!==void 0&&o!=null&&h(e,["instances[0]","video"],E2(o)),i}function v8(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],M8(i));const l=d(t,["raiFilteredReason"]);l!=null&&h(e,["raiFilteredReason"],l);const a=d(t,["_self"]);return a!=null&&h(e,["safetyAttributes"],S2(a)),e}function Oo(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],b2(i));const l=d(t,["raiFilteredReason"]);l!=null&&h(e,["raiFilteredReason"],l);const a=d(t,["_self"]);a!=null&&h(e,["safetyAttributes"],w2(a));const o=d(t,["prompt"]);return o!=null&&h(e,["enhancedPrompt"],o),e}function y8(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["mask"],b2(i));const l=d(t,["labels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["labels"],a)}return e}function x8(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],ax(i)),e}function b8(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],sx(i)),e}function S8(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const l=d(t,["responseJsonSchema"]);l!=null&&h(e,["responseJsonSchema"],l);const a=d(t,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const o=d(t,["candidateCount"]);o!=null&&h(e,["candidateCount"],o);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const x=d(t,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const w=d(t,["responseLogprobs"]);w!=null&&h(e,["responseLogprobs"],w);const E=d(t,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const _=d(t,["responseModalities"]);_!=null&&h(e,["responseModalities"],_);const R=d(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const U=d(t,["seed"]);U!=null&&h(e,["seed"],U);const q=d(t,["speechConfig"]);q!=null&&h(e,["speechConfig"],q);const J=d(t,["stopSequences"]);J!=null&&h(e,["stopSequences"],J);const te=d(t,["temperature"]);te!=null&&h(e,["temperature"],te);const le=d(t,["thinkingConfig"]);le!=null&&h(e,["thinkingConfig"],le);const ne=d(t,["topK"]);ne!=null&&h(e,["topK"],ne);const P=d(t,["topP"]);if(P!=null&&h(e,["topP"],P),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function w8(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],We(t,l)),i}function T8(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],We(t,l)),i}function A8(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function E8(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function C8(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);if(l!=null&&h(e,["imageSize"],l),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function N8(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);l!=null&&h(e,["imageSize"],l);const a=d(t,["outputMimeType"]);a!=null&&h(e,["imageOutputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);return o!=null&&h(e,["imageOutputOptions","compressionQuality"],o),e}function M8(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],dr(i));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function b2(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["imageBytes"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function Vo(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],dr(i));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function On(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["imageBytes"]);l!=null&&h(e,["bytesBase64Encoded"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function _8(t,e,i){const l={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&h(i,["_query","pageSize"],a);const o=d(e,["pageToken"]);i!==void 0&&o!=null&&h(i,["_query","pageToken"],o);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],h2(t,f)),l}function R8(t,e,i){const l={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&h(i,["_query","pageSize"],a);const o=d(e,["pageToken"]);i!==void 0&&o!=null&&h(i,["_query","pageToken"],o);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],h2(t,f)),l}function k8(t,e){const i={},l=d(e,["config"]);return l!=null&&_8(t,l,i),i}function I8(t,e){const i={},l=d(e,["config"]);return l!=null&&R8(t,l,i),i}function D8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["_self"]);if(a!=null){let o=m2(a);Array.isArray(o)&&(o=o.map(c=>Pc(c))),h(e,["models"],o)}return e}function z8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["_self"]);if(a!=null){let o=m2(a);Array.isArray(o)&&(o=o.map(c=>qc(c))),h(e,["models"],o)}return e}function L8(t){const e={},i=d(t,["maskMode"]);i!=null&&h(e,["maskMode"],i);const l=d(t,["segmentationClasses"]);l!=null&&h(e,["maskClasses"],l);const a=d(t,["maskDilation"]);return a!=null&&h(e,["dilation"],a),e}function Pc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);a!=null&&h(e,["description"],a);const o=d(t,["version"]);o!=null&&h(e,["version"],o);const c=d(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],Q8(c));const f=d(t,["inputTokenLimit"]);f!=null&&h(e,["inputTokenLimit"],f);const m=d(t,["outputTokenLimit"]);m!=null&&h(e,["outputTokenLimit"],m);const p=d(t,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const x=d(t,["temperature"]);x!=null&&h(e,["temperature"],x);const S=d(t,["maxTemperature"]);S!=null&&h(e,["maxTemperature"],S);const w=d(t,["topP"]);w!=null&&h(e,["topP"],w);const E=d(t,["topK"]);E!=null&&h(e,["topK"],E);const _=d(t,["thinking"]);return _!=null&&h(e,["thinking"],_),e}function qc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);a!=null&&h(e,["description"],a);const o=d(t,["versionId"]);o!=null&&h(e,["version"],o);const c=d(t,["deployedModels"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(w=>Xy(w))),h(e,["endpoints"],S)}const f=d(t,["labels"]);f!=null&&h(e,["labels"],f);const m=d(t,["_self"]);m!=null&&h(e,["tunedModelInfo"],Z8(m));const p=d(t,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const x=d(t,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(w=>w)),h(e,["checkpoints"],S)}return e}function U8(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],Ky(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],$y(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],Sy(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function B8(t){const e={},i=d(t,["productImage"]);return i!=null&&h(e,["image"],On(i)),e}function H8(t,e){const i={},l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["baseSteps"]);e!==void 0&&a!=null&&h(e,["parameters","baseSteps"],a);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const m=d(t,["personGeneration"]);e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m);const p=d(t,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","mimeType"],x);const S=d(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S);const w=d(t,["enhancePrompt"]);e!==void 0&&w!=null&&h(e,["parameters","enhancePrompt"],w);const E=d(t,["labels"]);return e!==void 0&&E!=null&&h(e,["labels"],E),i}function G8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["source"]);a!=null&&q8(a,i);const o=d(e,["config"]);return o!=null&&H8(o,i),i}function P8(t){const e={},i=d(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>Oo(a))),h(e,["generatedImages"],l)}return e}function q8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["personImage"]);e!==void 0&&a!=null&&h(e,["instances[0]","personImage","image"],On(a));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>B8(f))),h(e,["instances[0]","productImages"],c)}return i}function O8(t){const e={},i=d(t,["referenceImage"]);i!=null&&h(e,["referenceImage"],On(i));const l=d(t,["referenceId"]);l!=null&&h(e,["referenceId"],l);const a=d(t,["referenceType"]);a!=null&&h(e,["referenceType"],a);const o=d(t,["maskImageConfig"]);o!=null&&h(e,["maskImageConfig"],L8(o));const c=d(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],My(c));const f=d(t,["styleImageConfig"]);f!=null&&h(e,["styleImageConfig"],f);const m=d(t,["subjectImageConfig"]);return m!=null&&h(e,["subjectImageConfig"],m),e}function S2(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const l=d(t,["safetyAttributes","scores"]);l!=null&&h(e,["scores"],l);const a=d(t,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function w2(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const l=d(t,["safetyAttributes","scores"]);l!=null&&h(e,["scores"],l);const a=d(t,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function V8(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=d(t,["threshold"]);return l!=null&&h(e,["threshold"],l),e}function F8(t){const e={},i=d(t,["image"]);return i!=null&&h(e,["image"],On(i)),e}function j8(t,e){const i={},l=d(t,["mode"]);e!==void 0&&l!=null&&h(e,["parameters","mode"],l);const a=d(t,["maxPredictions"]);e!==void 0&&a!=null&&h(e,["parameters","maxPredictions"],a);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&h(e,["parameters","confidenceThreshold"],o);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&h(e,["parameters","binaryColorThreshold"],f);const m=d(t,["labels"]);return e!==void 0&&m!=null&&h(e,["labels"],m),i}function Y8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["source"]);a!=null&&X8(a,i);const o=d(e,["config"]);return o!=null&&j8(o,i),i}function J8(t){const e={},i=d(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>y8(a))),h(e,["generatedMasks"],l)}return e}function X8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],On(a));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&h(e,["instances[0]","scribble"],F8(o)),i}function K8(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],Qy(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function $8(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],A8(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],E8(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function T2(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(w=>Zy(w))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function Q8(t){const e={},i=d(t,["baseModel"]);i!=null&&h(e,["baseModel"],i);const l=d(t,["createTime"]);l!=null&&h(e,["createTime"],l);const a=d(t,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function Z8(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(e,["baseModel"],i);const l=d(t,["createTime"]);l!=null&&h(e,["createTime"],l);const a=d(t,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function W8(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&h(e,["defaultCheckpointId"],o),i}function ex(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&h(e,["defaultCheckpointId"],o),i}function tx(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","name"],We(t,l));const a=d(e,["config"]);return a!=null&&W8(a,i),i}function nx(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["config"]);return a!=null&&ex(a,i),i}function ix(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&h(e,["parameters","safetySetting"],a);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&h(e,["parameters","personGeneration"],o);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const m=d(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&h(e,["parameters","outputOptions","compressionQuality"],m);const p=d(t,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const x=d(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const w=d(t,["numberOfImages"]);e!==void 0&&w!=null&&h(e,["parameters","sampleCount"],w);const E=d(t,["mode"]);return e!==void 0&&E!=null&&h(e,["parameters","mode"],E),i}function rx(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["image"]);a!=null&&h(i,["instances[0]","image"],On(a));const o=d(e,["upscaleFactor"]);o!=null&&h(i,["parameters","upscaleConfig","upscaleFactor"],o);const c=d(e,["config"]);return c!=null&&ix(c,i),i}function lx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>Oo(o))),h(e,["generatedImages"],a)}return e}function ax(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["encodedVideo"]);l!=null&&h(e,["videoBytes"],dr(l));const a=d(t,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function sx(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["videoBytes"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function ox(t){const e={},i=d(t,["image"]);i!=null&&h(e,["_self"],On(i));const l=d(t,["maskMode"]);return l!=null&&h(e,["maskMode"],l),e}function ux(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],Vo(i));const l=d(t,["referenceType"]);return l!=null&&h(e,["referenceType"],l),e}function cx(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],On(i));const l=d(t,["referenceType"]);return l!=null&&h(e,["referenceType"],l),e}function A2(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["videoBytes"]);l!=null&&h(e,["encodedVideo"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["encoding"],a),e}function E2(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["videoBytes"]);l!=null&&h(e,["bytesBase64Encoded"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dx(t,e){const i={},l=d(t,["displayName"]);return e!==void 0&&l!=null&&h(e,["displayName"],l),i}function fx(t){const e={},i=d(t,["config"]);return i!=null&&dx(i,e),e}function hx(t,e){const i={},l=d(t,["force"]);return e!==void 0&&l!=null&&h(e,["_query","force"],l),i}function mx(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const l=d(t,["config"]);return l!=null&&hx(l,e),e}function px(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function gx(t,e){const i={},l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["customMetadata"],o)}const a=d(t,["chunkingConfig"]);return e!==void 0&&a!=null&&h(e,["chunkingConfig"],a),i}function vx(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],xx(c)),e}function yx(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const l=d(t,["fileName"]);l!=null&&h(e,["fileName"],l);const a=d(t,["config"]);return a!=null&&gx(a,e),e}function xx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function bx(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function Sx(t){const e={},i=d(t,["config"]);return i!=null&&bx(i,e),e}function wx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["fileSearchStores"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["fileSearchStores"],o)}return e}function C2(t,e){const i={},l=d(t,["mimeType"]);e!==void 0&&l!=null&&h(e,["mimeType"],l);const a=d(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),h(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),i}function Tx(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const l=d(t,["config"]);return l!=null&&C2(l,e),e}function Ax(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ex="Content-Type",Cx="X-Server-Timeout",Nx="User-Agent",Oc="x-goog-api-client",Mx="1.34.0",_x=`google-genai-sdk/${Mx}`,Rx="v1beta1",kx="v1beta";class Ix{constructor(e){var i,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Rx,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:kx,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,l){const a=[this.getRequestUrlInternal(i)];return l&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,l);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))a.searchParams.append(c,String(f));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,i,a.toString(),e.abortSignal),this.unaryApiCall(a,o,e.httpMethod)}patchHttpOptions(e,i){const l=JSON.parse(JSON.stringify(e));for(const[a,o]of Object.entries(i))typeof o=="object"?l[a]=Object.assign(Object.assign({},l[a]),o):o!==void 0&&(l[a]=o);return l}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,i,a.toString(),e.abortSignal),this.streamApiCall(a,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,l,a){if(i&&i.timeout||a){const o=new AbortController,c=o.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>o.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}a&&a.addEventListener("abort",()=>{o.abort()}),e.signal=c}return i&&i.extraBody!==null&&Dx(e,i.extraBody),e.headers=await this.getHeadersInternal(i,l),e}async unaryApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async a=>(await o4(a),new Bc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async a=>(await o4(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Pn(this,arguments,function*(){var l;const a=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),o=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const f="data:",m=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:x}=yield ze(a.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=o.decode(x,{stream:!0});try{const _=JSON.parse(S);if("error"in _){const R=JSON.parse(JSON.stringify(_.error)),k=R.status,U=R.code,q=`got status: ${k}. ${JSON.stringify(_)}`;if(U>=400&&U<600)throw new Po({message:q,status:U})}}catch(_){if(_.name==="ApiError")throw _}c+=S;let w=-1,E=0;for(;;){w=-1,E=0;for(const k of m){const U=c.indexOf(k);U!==-1&&(w===-1||U<w)&&(w=U,E=k.length)}if(w===-1)break;const _=c.substring(0,w);c=c.substring(w+E);const R=_.trim();if(R.startsWith(f)){const k=R.substring(f.length).trim();try{const U=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ze(new Bc(U))}catch(U){throw new Error(`exception parsing stream chunk ${k}. ${U}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},i=_x+" "+this.clientOptions.userAgentExtra;return e[Nx]=i,e[Oc]=i,e[Ex]="application/json",e}async getHeadersInternal(e,i){const l=new Headers;if(e&&e.headers){for(const[a,o]of Object.entries(e.headers))l.append(a,o);e.timeout&&e.timeout>0&&l.append(Cx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,i),l}getFileName(e){var i;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(i=l.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),l}async uploadFile(e,i){var l;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const o=this.clientOptions.uploader,c=await o.stat(e);a.sizeBytes=String(c.size);const f=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=f;const m={file:a},p=this.getFileName(e),x=ve("upload/v1beta/files",m._url),S=await this.fetchUploadUrl(x,a.sizeBytes,a.mimeType,p,m,i==null?void 0:i.httpOptions);return o.upload(e,S,this)}async uploadFileToFileSearchStore(e,i,l){var a;const o=this.clientOptions.uploader,c=await o.stat(i),f=String(c.size),m=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(i),S={};l!=null&&C2(l,S);const w=await this.fetchUploadUrl(p,f,m,x,S,l==null?void 0:l.httpOptions);return o.uploadToFileSearchStore(i,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,l,a,o,c){var f;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:m});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(f=p==null?void 0:p.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function o4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let l;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await t.json():l={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(l);throw i>=400&&i<600?new Po({message:a,status:i}):new Error(a)}}function Dx(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))i=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(o,c){const f=Object.assign({},o);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const p=c[m],x=f[m];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?f[m]=l(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),f[m]=p)}return f}const a=l(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx="mcp_used/unknown";let Lx=!1;function N2(t){for(const e of t)if(Ux(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Lx}function M2(t){var e;const i=(e=t[Oc])!==null&&e!==void 0?e:"";t[Oc]=(i+` ${zx}`).trimStart()}function Ux(t){return t!==null&&typeof t=="object"&&t instanceof fd}function Bx(t){return Pn(this,arguments,function*(i,l=100){let a,o=0;for(;o<l;){const c=yield ze(i.listTools({cursor:a}));for(const f of c.tools)yield yield ze(f),o++;if(!c.nextCursor)break;a=c.nextCursor}})}class fd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new fd(e,i)}async initialize(){var e,i,l,a;if(this.mcpTools.length>0)return;const o={},c=[];for(const x of this.mcpClients)try{for(var f=!0,m=(i=void 0,qn(Bx(x))),p;p=await m.next(),e=p.done,!e;f=!0){a=p.value,f=!1;const S=a;c.push(S);const w=S.name;if(o[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);o[w]=x}}catch(S){i={error:S}}finally{try{!f&&!e&&(l=m.return)&&await l.call(m)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),p6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const c=await a.callTool({name:l.name,arguments:l.args},void 0,o);i.push({functionResponse:{name:l.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Hx(t,e,i){const l=new s6;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(l,a),e(l)}class Gx{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l}async connect(e){var i,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),c=Ox(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),m=`${a}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${f}`;let p=()=>{};const x=new Promise(J=>{p=J}),S=e.callbacks,w=function(){p({})},E=this.apiClient,_={onopen:w,onmessage:J=>{Hx(E,S.onmessage,J)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(J){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(J){}},R=this.webSocketFactory.create(m,qx(c),_);R.connect(),await x;const q={setup:{model:We(this.apiClient,e.model)}};return R.send(JSON.stringify(q)),new Px(R,this.apiClient)}}class Px{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=fy(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=dy(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(El.PLAY)}pause(){this.sendPlaybackControl(El.PAUSE)}stop(){this.sendPlaybackControl(El.STOP)}resetContext(){this.sendPlaybackControl(El.RESET_CONTEXT)}close(){this.conn.close()}}function qx(t){const e={};return t.forEach((i,l)=>{e[l]=i}),e}function Ox(t){const e=new Headers;for(const[i,l]of Object.entries(t))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Fx(t,e,i){const l=new a6;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const o=JSON.parse(a);if(t.isVertexAI()){const c=py(o);Object.assign(l,c)}else Object.assign(l,o);e(l)}class jx{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l,this.music=new Gx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,l,a,o,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&N2(e.config.tools)&&M2(S);const w=Kx(S);if(this.apiClient.isVertexAI())x=`${m}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,x);else{const Z=this.apiClient.getApiKey();let fe="BidiGenerateContent",be="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",be="access_token"),x=`${m}/ws/google.ai.generativelanguage.${p}.GenerativeService.${fe}?${be}=${Z}`}let E=()=>{};const _=new Promise(Z=>{E=Z}),R=e.callbacks,k=function(){var Z;(Z=R==null?void 0:R.onopen)===null||Z===void 0||Z.call(R),E({})},U=this.apiClient,q={onopen:k,onmessage:Z=>{Fx(U,R.onmessage,Z)},onerror:(i=R==null?void 0:R.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(l=R==null?void 0:R.onclose)!==null&&l!==void 0?l:function(Z){}},J=this.webSocketFactory.create(x,Xx(w),q);J.connect(),await _;let te=We(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&te.startsWith("publishers/")){const Z=this.apiClient.getProject(),fe=this.apiClient.getLocation();te=`projects/${Z}/locations/${fe}/`+te}let le={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[No.AUDIO]}:e.config.responseModalities=[No.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],P=[];for(const Z of ne)if(this.isCallableTool(Z)){const fe=Z;P.push(await fe.tool())}else P.push(Z);P.length>0&&(e.config.tools=P);const $={model:te,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?le=cy(this.apiClient,$):le=uy(this.apiClient,$),delete le.config,J.send(JSON.stringify(le)),new Jx(J,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Yx={turnComplete:!0};class Jx{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let l=[];try{l=In(i.turns),e.isVertexAI()||(l=l.map(a=>qo(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:l,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let l=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?l=i.functionResponses:l=[i.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const o of l){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Vx)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Yx),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:my(e)}:i={realtimeInput:hy(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Xx(t){const e={};return t.forEach((i,l)=>{e[l]=i}),e}function Kx(t){const e=new Headers;for(const[i,l]of Object.entries(t))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u4=10;function c4(t){var e,i,l;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Ml(c)){a=!0;break}if(!a)return!0;const o=(l=t==null?void 0:t.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ml(t){return"callTool"in t&&typeof t.callTool=="function"}function $x(t){var e,i,l;return(l=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Ml(a)))!==null&&l!==void 0?l:!1}function d4(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((l,a)=>{if(Ml(l))return;const o=l;o.functionDeclarations&&o.functionDeclarations.length>0&&i.push(a)}),i}function f4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx extends Mi{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var l,a,o,c,f;const m=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!$x(i)||c4(i.config))return await this.generateContentInternal(m);const p=d4(i);if(p.length>0){const R=p.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let x,S;const w=In(m.contents),E=(o=(a=(l=m.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&o!==void 0?o:u4;let _=0;for(;_<E&&(x=await this.generateContentInternal(m),!(!x.functionCalls||x.functionCalls.length===0));){const R=x.candidates[0].content,k=[];for(const U of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(Ml(U)){const J=await U.callTool(x.functionCalls);k.push(...J)}_++,S={role:"user",parts:k},m.contents=In(m.contents),m.contents.push(R),m.contents.push(S),f4(m.config)&&(w.push(R),w.push(S))}return f4(m.config)&&(x.automaticFunctionCallingHistory=w),x},this.generateContentStream=async i=>{var l,a,o,c,f;if(this.maybeMoveToResponseJsonSchem(i),c4(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const m=d4(i);if(m.length>0){const S=m.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(o=(a=(l=i==null?void 0:i.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,x=(f=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(p&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(l=>{var a;let o;const c=[];if(l!=null&&l.generatedImages)for(const m of l.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((a=m==null?void 0:m.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?o=m==null?void 0:m.safetyAttributes:c.push(m);let f;return o?f={generatedImages:c,positivePromptSafetyAttributes:o,sdkHttpResponse:l.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:l.sdkHttpResponse},f}),this.list=async i=>{var l;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((l=c.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Lr(Ai.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const l={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(l.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async i=>{let l={numberOfImages:1,mode:"upscale"};i.config&&(l=Object.assign(Object.assign({},l),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var l,a,o,c,f,m;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=i.video)===null||l===void 0)&&l.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(o=i.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.uri&&(!((m=(f=i.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,l,a;const o=(i=e.config)===null||i===void 0?void 0:i.tools;if(!o)return e;const c=await Promise.all(o.map(async m=>Ml(m)?await m.tool():m)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&N2(e.config.tools)){const m=(a=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},m);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),M2(p),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return f}async initAfcToolsMap(e){var i,l,a;const o=new Map;for(const c of(l=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&l!==void 0?l:[])if(Ml(c)){const f=c,m=await f.tool();for(const p of(a=m.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(o.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);o.set(p.name,f)}}return o}async processAfcStream(e){var i,l,a;const o=(a=(l=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:u4;let c=!1,f=0;const m=await this.initAfcToolsMap(e);return(function(p,x,S){return Pn(this,arguments,function*(){for(var w,E,_,R,k,U;f<o;){c&&(f++,c=!1);const le=yield ze(p.processParamsMaybeAddMcpUsage(S)),ne=yield ze(p.generateContentStreamInternal(le)),P=[],$=[];try{for(var q=!0,J=(E=void 0,qn(ne)),te;te=yield ze(J.next()),w=te.done,!w;q=!0){R=te.value,q=!1;const Z=R;if(yield yield ze(Z),Z.candidates&&(!((k=Z.candidates[0])===null||k===void 0)&&k.content)){$.push(Z.candidates[0].content);for(const fe of(U=Z.candidates[0].content.parts)!==null&&U!==void 0?U:[])if(f<o&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(fe.functionCall.name)){const be=yield ze(x.get(fe.functionCall.name).callTool([fe.functionCall]));P.push(...be)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(Z){E={error:Z}}finally{try{!q&&!w&&(_=J.return)&&(yield ze(_.call(J)))}finally{if(E)throw E.error}}if(P.length>0){c=!0;const Z=new Da;Z.candidates=[{content:{role:"user",parts:P}}],yield yield ze(Z);const fe=[];fe.push(...$),fe.push({role:"user",parts:P});const be=In(S.contents).concat(fe);S.contents=be}else break}})})(this,m,e)}async generateContentInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=l4(this.apiClient,e);return f=ve("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=s4(x),w=new Da;return Object.assign(w,S),w})}else{const p=r4(this.apiClient,e);return f=ve("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=a4(x),w=new Da;return Object.assign(w,S),w})}}async generateContentStreamInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=l4(this.apiClient,e);return f=ve("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(S){return Pn(this,arguments,function*(){var w,E,_,R;try{for(var k=!0,U=qn(S),q;q=yield ze(U.next()),w=q.done,!w;k=!0){R=q.value,k=!1;const J=R,te=s4(yield ze(J.json()));te.sdkHttpResponse={headers:J.headers};const le=new Da;Object.assign(le,te),yield yield ze(le)}}catch(J){E={error:J}}finally{try{!k&&!w&&(_=U.return)&&(yield ze(_.call(U)))}finally{if(E)throw E.error}}})})}else{const p=r4(this.apiClient,e);return f=ve("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(S){return Pn(this,arguments,function*(){var w,E,_,R;try{for(var k=!0,U=qn(S),q;q=yield ze(U.next()),w=q.done,!w;k=!0){R=q.value,k=!1;const J=R,te=a4(yield ze(J.json()));te.sdkHttpResponse={headers:J.headers};const le=new Da;Object.assign(le,te),yield yield ze(le)}}catch(J){E={error:J}}finally{try{!k&&!w&&(_=U.return)&&(yield ze(_.call(U)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=jy(this.apiClient,e);return f=ve("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=Jy(x),w=new qp;return Object.assign(w,S),w})}else{const p=Fy(this.apiClient,e);return f=ve("{model}:batchEmbedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=Yy(x),w=new qp;return Object.assign(w,S),w})}}async generateImagesInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=r8(this.apiClient,e);return f=ve("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=a8(x),w=new Op;return Object.assign(w,S),w})}else{const p=i8(this.apiClient,e);return f=ve("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=l8(x),w=new Op;return Object.assign(w,S),w})}}async editImageInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Py(this.apiClient,e);return o=ve("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=qy(m),x=new K3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=rx(this.apiClient,e);return o=ve("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=lx(m),x=new $3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=G8(this.apiClient,e);return o=ve("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=P8(m),x=new Q3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Y8(this.apiClient,e);return o=ve("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=J8(m),x=new Z3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=T8(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>qc(x))}else{const p=w8(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>Pc(x))}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=I8(this.apiClient,e);return f=ve("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=z8(x),w=new Vp;return Object.assign(w,S),w})}else{const p=k8(this.apiClient,e);return f=ve("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=D8(x),w=new Vp;return Object.assign(w,S),w})}}async update(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=nx(this.apiClient,e);return f=ve("{model}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>qc(x))}else{const p=tx(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>Pc(x))}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Uy(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=Hy(x),w=new Fp;return Object.assign(w,S),w})}else{const p=Ly(this.apiClient,e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=By(x),w=new Fp;return Object.assign(w,S),w})}}async countTokens(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Iy(this.apiClient,e);return f=ve("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=zy(x),w=new jp;return Object.assign(w,S),w})}else{const p=ky(this.apiClient,e);return f=ve("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=Dy(x),w=new jp;return Object.assign(w,S),w})}}async computeTokens(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Ay(this.apiClient,e);return o=ve("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=Ey(m),x=new W3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=f8(this.apiClient,e);return f=ve("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const S=c8(x),w=new Mo;return Object.assign(w,S),w})}else{const p=d8(this.apiClient,e);return f=ve("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>{const S=u8(x),w=new Mo;return Object.assign(w,S),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zx extends Mi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let o;l&&"httpOptions"in l&&(o=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:o}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let o;l&&"httpOptions"in l&&(o=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:o}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=V3(e);return f=ve("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c}else{const p=O3(e);return f=ve("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=L3(e);return o=ve("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function e9(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>u9(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function t9(t,e,i){const l={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&h(i,["expireTime"],a);const o=d(e,["newSessionExpireTime"]);i!==void 0&&o!=null&&h(i,["newSessionExpireTime"],o);const c=d(e,["uses"]);i!==void 0&&c!=null&&h(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&h(i,["bidiGenerateContentSetup"],o9(t,f));const m=d(e,["lockAdditionalFields"]);return i!==void 0&&m!=null&&h(i,["fieldMask"],m),l}function n9(t,e){const i={},l=d(e,["config"]);return l!=null&&h(i,["config"],t9(t,l,i)),i}function i9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function r9(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l9(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function a9(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function s9(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],l);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],dd(S));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],e9(Ft(_)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let ne=Il(R);Array.isArray(ne)&&(ne=ne.map(P=>d9(kl(P)))),h(e,["setup","tools"],ne)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],c9(k));const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const q=d(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const te=d(t,["contextWindowCompression"]);e!==void 0&&te!=null&&h(e,["setup","contextWindowCompression"],te);const le=d(t,["proactivity"]);if(e!==void 0&&le!=null&&h(e,["setup","proactivity"],le),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function o9(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],We(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],s9(a,i)),i}function u9(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],i9(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],r9(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],Wx(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function c9(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function d9(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],l9(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],a9(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f9(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const l=t[i];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(o=>`${i}.${o}`);e.push(...a)}else e.push(i)}return e.join(",")}function h9(t,e){let i=null;const l=t.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const o=l.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,i=o):delete t.bidiGenerateContentSetup}else l!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const o=f9(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];a.length>0&&(f=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const m=[];o&&m.push(o),f.length>0&&m.push(...f),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class m9 extends Mi{constructor(e){super(),this.apiClient=e}async create(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=n9(this.apiClient,e);o=ve("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const m=h9(f,e.config);return a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p9(t,e){const i={},l=d(t,["force"]);return e!==void 0&&l!=null&&h(e,["_query","force"],l),i}function g9(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const l=d(t,["config"]);return l!=null&&p9(l,e),e}function v9(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function y9(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function x9(t){const e={},i=d(t,["parent"]);i!=null&&h(e,["_url","parent"],i);const l=d(t,["config"]);return l!=null&&y9(l,e),e}function b9(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["documents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S9 extends Mi{constructor(e){super(),this.apiClient=e,this.list=async i=>new Lr(Ai.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:i.parent,config:l.config}),await this.listInternal(i),i)}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=v9(e);return o=ve("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=g9(e);a=ve("{name}",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=x9(e);return o=ve("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=b9(m),x=new e6;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w9 extends Mi{constructor(e,i=new S9(e)){super(),this.apiClient=e,this.documents=i,this.list=async(l={})=>new Lr(Ai.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=fx(e);return o=ve("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=px(e);return o=ve("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mx(e);a=ve("{name}",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Sx(e);return o=ve("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=wx(m),x=new t6;return Object.assign(x,p),x})}}async uploadToFileSearchStoreInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Tx(e);return o=ve("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=Ax(m),x=new n6;return Object.assign(x,p),x})}}async importFile(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=yx(e);return o=ve("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=vx(m),x=new ad;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _2=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return _2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^i()&15>>+l/4).toString(16))};const T9=()=>_2();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Fc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dn extends Error{}class Kt extends Dn{constructor(e,i,l,a){super(`${Kt.makeMessage(e,i,l)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,l){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):l;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,l,a){if(!e||!a)return new Fo({message:l,cause:Fc(i)});const o=i;return e===400?new k2(e,o,l,a):e===401?new I2(e,o,l,a):e===403?new D2(e,o,l,a):e===404?new z2(e,o,l,a):e===409?new L2(e,o,l,a):e===422?new U2(e,o,l,a):e===429?new B2(e,o,l,a):e>=500?new H2(e,o,l,a):new Kt(e,o,l,a)}}class jc extends Kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Fo extends Kt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class R2 extends Fo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class k2 extends Kt{}class I2 extends Kt{}class D2 extends Kt{}class z2 extends Kt{}class L2 extends Kt{}class U2 extends Kt{}class B2 extends Kt{}class H2 extends Kt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A9=/^[a-z][a-z0-9+.-]*:/i,E9=t=>A9.test(t);let Yc=t=>(Yc=Array.isArray,Yc(t));const C9=Yc;let N9=C9;const h4=N9;function M9(t){if(!t)return!0;for(const e in t)return!1;return!0}function _9(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const R9=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Dn(`${t} must be an integer`);if(e<0)throw new Dn(`${t} must be a positive integer`);return e},k9=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I9=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Al="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const z9=()=>{var t,e,i,l,a;const o=D9();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":p4(Deno.build.os),"X-Stainless-Arch":m4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":p4((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":m4((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=L9();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function L9(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const l=i.exec(navigator.userAgent);if(l){const a=l[1]||0,o=l[2]||0,c=l[3]||0;return{browser:e,version:`${a}.${o}.${c}`}}}return null}const m4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",p4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let oo;const U9=()=>oo??(oo=z9());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function G2(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function H9(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return G2({start(){},async pull(i){const{done:l,value:a}=await e.next();l?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function P2(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function G9(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const l=t.getReader(),a=l.cancel();l.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P9=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q2=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yc(t,e,i){return q2(),new File(t,e??"unknown_file",i)}function q9(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const O9=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",V9=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&O2(t),F9=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function j9(t,e,i){if(q2(),t=await t,V9(t))return t instanceof File?t:yc([await t.arrayBuffer()],t.name);if(F9(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),yc(await Jc(a),e,i)}const l=await Jc(t);if(e||(e=q9(t)),!(i!=null&&i.type)){const a=l.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return yc(l,e,i)}async function Jc(t){var e,i,l,a,o;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(O2(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(O9(t))try{for(var f=!0,m=qn(t),p;p=await m.next(),e=p.done,!e;f=!0){a=p.value,f=!1;const x=a;c.push(...await Jc(x))}}catch(x){i={error:x}}finally{try{!f&&!e&&(l=m.return)&&await l.call(m)}finally{if(i)throw i.error}}else{const x=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${Y9(t)}`)}return c}function Y9(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V2{constructor(e){this._client=e}}V2._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F2(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const g4=Object.freeze(Object.create(null)),J9=(t=F2)=>(function(i,...l){if(i.length===1)return i[0];let a=!1;const o=[],c=i.reduce((x,S,w)=>{var E,_,R;/[?#]/.test(S)&&(a=!0);const k=l[w];let U=(a?encodeURIComponent:t)(""+k);return w!==l.length&&(k==null||typeof k=="object"&&k.toString===((R=Object.getPrototypeOf((_=Object.getPrototypeOf((E=k.hasOwnProperty)!==null&&E!==void 0?E:g4))!==null&&_!==void 0?_:g4))===null||R===void 0?void 0:R.toString))&&(U=k+"",o.push({start:x.length+S.length,length:U.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),x+S+(w===l.length?"":U)},""),f=c.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=m.exec(f))!==null;)o.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(o.sort((x,S)=>x.start-S.start),o.length>0){let x=0;const S=o.reduce((w,E)=>{const _=" ".repeat(E.start-x),R="^".repeat(E.length);return x=E.start+E.length,w+_+R},"");throw new Dn(`Path parameters result in path with invalid segments:
${o.map(w=>w.error).join(`
`)}
${c}
${S}`)}return c}),uo=J9(F2);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j2 extends V2{create(e,i){var l;const{api_version:a=this._client.apiVersion}=e,o=Ro(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Dn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Dn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(uo`/${a}/interactions`,Object.assign(Object.assign({body:o},i),{stream:(l=e.stream)!==null&&l!==void 0?l:!1}))}delete(e,i={},l){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(uo`/${a}/interactions/${e}`,l)}cancel(e,i={},l){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(uo`/${a}/interactions/${e}/cancel`,l)}get(e,i={},l){var a;const o=i??{},{api_version:c=this._client.apiVersion}=o,f=Ro(o,["api_version"]);return this._client.get(uo`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},l),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}j2._key=Object.freeze(["interactions"]);class Y2 extends j2{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X9(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let l=0;for(const a of t)i.set(a,l),l+=a.length;return i}let co;function hd(t){let e;return(co??(e=new globalThis.TextEncoder,co=e.encode.bind(e)))(t)}let fo;function v4(t){let e;return(fo??(e=new globalThis.TextDecoder,fo=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jo{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?hd(e):e;this.buffer=X9([this.buffer,i]);const l=[];let a;for(;(a=K9(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){l.push(v4(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=v4(this.buffer.subarray(0,o));l.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}jo.NEWLINE_CHARS=new Set([`
`,"\r"]);jo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function K9(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function $9(t){for(let l=0;l<t.length-1;l++){if(t[l]===10&&t[l+1]===10||t[l]===13&&t[l+1]===13)return l+2;if(t[l]===13&&t[l+1]===10&&l+3<t.length&&t[l+2]===13&&t[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ko={off:0,error:200,warn:300,info:400,debug:500},y4=(t,e,i)=>{if(t){if(_9(ko,t))return t;Jt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ko))}`)}};function Ua(){}function ho(t,e,i){return!e||ko[t]>ko[i]?Ua:e[t].bind(e)}const Q9={error:Ua,warn:Ua,info:Ua,debug:Ua};let x4=new WeakMap;function Jt(t){var e;const i=t.logger,l=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return Q9;const a=x4.get(i);if(a&&a[0]===l)return a[1];const o={error:ho("error",i,l),warn:ho("warn",i,l),info:ho("info",i,l),debug:ho("debug",i,l)};return x4.set(i,[l,o]),o}const zr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cl{constructor(e,i,l){this.iterator=e,this.controller=i,this.client=l}static fromSSEResponse(e,i,l){let a=!1;const o=l?Jt(l):console;function c(){return Pn(this,arguments,function*(){var m,p,x,S;if(a)throw new Dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let w=!1;try{try{for(var E=!0,_=qn(Z9(e,i)),R;R=yield ze(_.next()),m=R.done,!m;E=!0){S=R.value,E=!1;const k=S;if(!w)if(k.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield ze(JSON.parse(k.data))}catch(U){throw o.error("Could not parse message into JSON:",k.data),o.error("From chunk:",k.raw),U}}}catch(k){p={error:k}}finally{try{!E&&!m&&(x=_.return)&&(yield ze(x.call(_)))}finally{if(p)throw p.error}}w=!0}catch(k){if(Vc(k))return yield ze(void 0);throw k}finally{w||i.abort()}})}return new Cl(c,i,l)}static fromReadableStream(e,i,l){let a=!1;function o(){return Pn(this,arguments,function*(){var m,p,x,S;const w=new jo,E=P2(e);try{for(var _=!0,R=qn(E),k;k=yield ze(R.next()),m=k.done,!m;_=!0){S=k.value,_=!1;const U=S;for(const q of w.decode(U))yield yield ze(q)}}catch(U){p={error:U}}finally{try{!_&&!m&&(x=R.return)&&(yield ze(x.call(R)))}finally{if(p)throw p.error}}for(const U of w.flush())yield yield ze(U)})}function c(){return Pn(this,arguments,function*(){var m,p,x,S;if(a)throw new Dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let w=!1;try{try{for(var E=!0,_=qn(o()),R;R=yield ze(_.next()),m=R.done,!m;E=!0){S=R.value,E=!1;const k=S;w||k&&(yield yield ze(JSON.parse(k)))}}catch(k){p={error:k}}finally{try{!E&&!m&&(x=_.return)&&(yield ze(x.call(_)))}finally{if(p)throw p.error}}w=!0}catch(k){if(Vc(k))return yield ze(void 0);throw k}finally{w||i.abort()}})}return new Cl(c,i,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],l=this.iterator(),a=o=>({next:()=>{if(o.length===0){const c=l.next();e.push(c),i.push(c)}return o.shift()}});return[new Cl(()=>a(e),this.controller,this.client),new Cl(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return G2({async start(){i=e[Symbol.asyncIterator]()},async pull(l){try{const{value:a,done:o}=await i.next();if(o)return l.close();const c=hd(JSON.stringify(a)+`
`);l.enqueue(c)}catch(a){l.error(a)}},async cancel(){var l;await((l=i.return)===null||l===void 0?void 0:l.call(i))}})}}function Z9(t,e){return Pn(this,arguments,function*(){var l,a,o,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Dn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Dn("Attempted to iterate over a response with no body");const f=new eb,m=new jo,p=P2(t.body);try{for(var x=!0,S=qn(W9(p)),w;w=yield ze(S.next()),l=w.done,!l;x=!0){c=w.value,x=!1;const E=c;for(const _ of m.decode(E)){const R=f.decode(_);R&&(yield yield ze(R))}}}catch(E){a={error:E}}finally{try{!x&&!l&&(o=S.return)&&(yield ze(o.call(S)))}finally{if(a)throw a.error}}for(const E of m.flush()){const _=f.decode(E);_&&(yield yield ze(_))}})}function W9(t){return Pn(this,arguments,function*(){var i,l,a,o;let c=new Uint8Array;try{for(var f=!0,m=qn(t),p;p=yield ze(m.next()),i=p.done,!i;f=!0){o=p.value,f=!1;const x=o;if(x==null)continue;const S=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?hd(x):x;let w=new Uint8Array(c.length+S.length);w.set(c),w.set(S,c.length),c=w;let E;for(;(E=$9(c))!==-1;)yield yield ze(c.slice(0,E)),c=c.slice(E)}}catch(x){l={error:x}}finally{try{!f&&!i&&(a=m.return)&&(yield ze(a.call(m)))}finally{if(l)throw l.error}}c.length>0&&(yield yield ze(c))})}class eb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,l,a]=tb(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function tb(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nb(t,e){const{response:i,requestLogID:l,retryOfRequestLogID:a,startTime:o}=e,c=await(async()=>{var f;if(e.options.stream)return Jt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Cl.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const m=i.headers.get("content-type"),p=(f=m==null?void 0:m.split(";")[0])===null||f===void 0?void 0:f.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?await i.json():await i.text()})();return Jt(t).debug(`[${l}] response parsed`,zr({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-o})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class md extends Promise{constructor(e,i,l=nb){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=l,this.client=e}_thenUnwrap(e){return new md(this.client,this.responsePromise,async(i,l)=>e(await this.parseResponse(i,l),l))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J2=Symbol("brand.privateNullableHeaders");function*ib(t){if(!t)return;if(J2 in t){const{values:l,nulls:a}=t;yield*l.entries();for(const o of a)yield[o,null];return}let e=!1,i;t instanceof Headers?i=t.entries():h4(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let l of i){const a=l[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const o=h4(l[1])?l[1]:[l[1]];let c=!1;for(const f of o)f!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,f])}}const za=t=>{const e=new Headers,i=new Set;for(const l of t){const a=new Set;for(const[o,c]of ib(l)){const f=o.toLowerCase();a.has(f)||(e.delete(o),a.add(f)),c===null?(e.delete(o),i.add(f)):(e.append(o,c),i.delete(f))}}return{[J2]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xc=t=>{var e,i,l,a,o,c;if(typeof globalThis.process<"u")return(l=(i=(e=_3)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(c=(o=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||o===void 0?void 0:o.call(a,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var X2;class Yo{constructor(e){var i,l,a,o,c,f,m,{baseURL:p=xc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(i=xc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=e,w=Ro(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:S},w),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(l=E.timeout)!==null&&l!==void 0?l:Yo.DEFAULT_TIMEOUT,this.logger=(a=E.logger)!==null&&a!==void 0?a:console;const _="warn";this.logLevel=_,this.logLevel=(c=(o=y4(E.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:y4(xc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:_,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(m=E.fetch)!==null&&m!==void 0?m:B9(),this.encoder=P9,this._options=E,this.apiKey=x,this.apiVersion=S,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=za([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return za([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return za([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,l])=>typeof l<"u").map(([i,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(i)}=`;throw new Dn(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Al}`}defaultIdempotencyKey(){return`stainless-node-retry-${T9()}`}makeStatusError(e,i,l,a){return Kt.generate(e,i,l,a)}buildURL(e,i,l){const a=!this.baseURLOverridden()&&l||this.baseURL,o=E9(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return M9(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(o.search=this.stringifyQuery(i)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:l}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,l){return this.request(Promise.resolve(l).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new md(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,l){var a,o,c;const f=await e,m=(a=f.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=m),await this.prepareOptions(f);const{req:p,url:x,timeout:S}=await this.buildRequest(f,{retryCount:m-i});await this.prepareRequest(p,{url:x,options:f});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=l===void 0?"":`, retryOf: ${l}`,_=Date.now();if(Jt(this).debug(`[${w}] sending request`,zr({retryOfRequestLogID:l,method:f.method,url:x,options:f,headers:p.headers})),!((o=f.signal)===null||o===void 0)&&o.aborted)throw new jc;const R=new AbortController,k=await this.fetchWithTimeout(x,p,S,R).catch(Fc),U=Date.now();if(k instanceof globalThis.Error){const J=`retrying, ${i} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new jc;const te=Vc(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(i)return Jt(this).info(`[${w}] connection ${te?"timed out":"failed"} - ${J}`),Jt(this).debug(`[${w}] connection ${te?"timed out":"failed"} (${J})`,zr({retryOfRequestLogID:l,url:x,durationMs:U-_,message:k.message})),this.retryRequest(f,i,l??w);throw Jt(this).info(`[${w}] connection ${te?"timed out":"failed"} - error; no more retries left`),Jt(this).debug(`[${w}] connection ${te?"timed out":"failed"} (error; no more retries left)`,zr({retryOfRequestLogID:l,url:x,durationMs:U-_,message:k.message})),te?new R2:new Fo({cause:k})}const q=`[${w}${E}] ${p.method} ${x} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${U-_}ms`;if(!k.ok){const J=await this.shouldRetry(k);if(i&&J){const Z=`retrying, ${i} attempts remaining`;return await G9(k.body),Jt(this).info(`${q} - ${Z}`),Jt(this).debug(`[${w}] response error (${Z})`,zr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,durationMs:U-_})),this.retryRequest(f,i,l??w,k.headers)}const te=J?"error; no more retries left":"error; not retryable";Jt(this).info(`${q} - ${te}`);const le=await k.text().catch(Z=>Fc(Z).message),ne=k9(le),P=ne?void 0:le;throw Jt(this).debug(`[${w}] response error (${te})`,zr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,message:P,durationMs:Date.now()-_})),this.makeStatusError(k.status,ne,P,k.headers)}return Jt(this).info(q),Jt(this).debug(`[${w}] response start`,zr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,durationMs:U-_})),{response:k,options:f,controller:R,requestLogID:w,retryOfRequestLogID:l,startTime:_}}async fetchWithTimeout(e,i,l,a){const o=i||{},{signal:c,method:f}=o,m=Ro(o,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const p=setTimeout(()=>a.abort(),l),x=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,S=Object.assign(Object.assign(Object.assign({signal:a.signal},x?{duplex:"half"}:{}),{method:"GET"}),m);f&&(S.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(p)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,l,a){var o;let c;const f=a==null?void 0:a.get("retry-after-ms");if(f){const p=parseFloat(f);Number.isNaN(p)||(c=p)}const m=a==null?void 0:a.get("retry-after");if(m&&!c){const p=parseFloat(m);Number.isNaN(p)?c=Date.parse(m)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,p)}return await I9(c),this.makeRequest(e,i-1,l)}calculateDefaultRetryTimeoutMillis(e,i){const o=i-e,c=Math.min(.5*Math.pow(2,o),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:i=0}={}){var l,a,o;const c=Object.assign({},e),{method:f,path:m,query:p,defaultBaseURL:x}=c,S=this.buildURL(m,p,x);"timeout"in c&&R9("timeout",c.timeout),c.timeout=(l=c.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:w,body:E}=this.buildBody({options:c}),_=await this.buildHeaders({options:e,method:f,bodyHeaders:w,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:_},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(o=c.fetchOptions)!==null&&o!==void 0?o:{}),url:S,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:a}){let o={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let f=za([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),U9()),this._options.defaultHeaders,l,e.headers,c]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const l=za([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&l.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:H9(e)}:this.encoder({body:e,headers:l})}}Yo.DEFAULT_TIMEOUT=6e4;class Ut extends Yo{constructor(){super(...arguments),this.interactions=new Y2(this)}}X2=Ut;Ut.GeminiNextGenAPIClient=X2;Ut.GeminiNextGenAPIClientError=Dn;Ut.APIError=Kt;Ut.APIConnectionError=Fo;Ut.APIConnectionTimeoutError=R2;Ut.APIUserAbortError=jc;Ut.NotFoundError=z2;Ut.ConflictError=L2;Ut.RateLimitError=B2;Ut.BadRequestError=k2;Ut.AuthenticationError=I2;Ut.InternalServerError=H2;Ut.PermissionDeniedError=D2;Ut.UnprocessableEntityError=U2;Ut.toFile=j9;Ut.Interactions=Y2;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function lb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function ab(t,e){const i={},l=d(t,["sdkHttpResponse"]);return l!=null&&h(i,["sdkHttpResponse"],l),i}function sb(t,e){const i={},l=d(t,["sdkHttpResponse"]);return l!=null&&h(i,["sdkHttpResponse"],l),i}function ob(t,e,i){const l={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&h(e,["displayName"],a),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&h(e,["tuningTask","hyperparameters","epochCount"],o);const c=d(t,["learningRateMultiplier"]);if(c!=null&&h(l,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&h(e,["tuningTask","hyperparameters","batchSize"],f);const m=d(t,["learningRate"]);if(e!==void 0&&m!=null&&h(e,["tuningTask","hyperparameters","learningRate"],m),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function ub(t,e,i){const l={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec"],b4(E))}else if(a==="PREFERENCE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec"],b4(E))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&h(e,["tunedModelDisplayName"],o);const c=d(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let f=d(i,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(f==="PREFERENCE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(m==="PREFERENCE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(p==="PREFERENCE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const w=d(t,["beta"]);return e!==void 0&&w!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),l}function cb(t,e){const i={},l=d(t,["baseModel"]);l!=null&&h(i,["baseModel"],l);const a=d(t,["preTunedModel"]);a!=null&&h(i,["preTunedModel"],a);const o=d(t,["trainingDataset"]);o!=null&&Sb(o);const c=d(t,["config"]);return c!=null&&ob(c,i),i}function db(t,e){const i={},l=d(t,["baseModel"]);l!=null&&h(i,["baseModel"],l);const a=d(t,["preTunedModel"]);a!=null&&h(i,["preTunedModel"],a);const o=d(t,["trainingDataset"]);o!=null&&wb(o,i,e);const c=d(t,["config"]);return c!=null&&ub(c,i,e),i}function fb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function hb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function mb(t,e,i){const l={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),l}function pb(t,e,i){const l={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),l}function gb(t,e){const i={},l=d(t,["config"]);return l!=null&&mb(l,i),i}function vb(t,e){const i={},l=d(t,["config"]);return l!=null&&pb(l,i),i}function yb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["nextPageToken"]);a!=null&&h(i,["nextPageToken"],a);const o=d(t,["tunedModels"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>K2(f))),h(i,["tuningJobs"],c)}return i}function xb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["nextPageToken"]);a!=null&&h(i,["nextPageToken"],a);const o=d(t,["tuningJobs"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Xc(f))),h(i,["tuningJobs"],c)}return i}function bb(t,e){const i={},l=d(t,["name"]);l!=null&&h(i,["model"],l);const a=d(t,["name"]);return a!=null&&h(i,["endpoint"],a),i}function Sb(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=d(t,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(i,["examples","examples"],a)}return i}function wb(t,e,i){const l={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function K2(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["state"]);o!=null&&h(i,["state"],d2(o));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&h(i,["startTime"],f);const m=d(t,["tuningTask","completeTime"]);m!=null&&h(i,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(i,["updateTime"],p);const x=d(t,["description"]);x!=null&&h(i,["description"],x);const S=d(t,["baseModel"]);S!=null&&h(i,["baseModel"],S);const w=d(t,["_self"]);return w!=null&&h(i,["tunedModel"],bb(w)),i}function Xc(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["state"]);o!=null&&h(i,["state"],d2(o));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(i,["startTime"],f);const m=d(t,["endTime"]);m!=null&&h(i,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(i,["updateTime"],p);const x=d(t,["error"]);x!=null&&h(i,["error"],x);const S=d(t,["description"]);S!=null&&h(i,["description"],S);const w=d(t,["baseModel"]);w!=null&&h(i,["baseModel"],w);const E=d(t,["tunedModel"]);E!=null&&h(i,["tunedModel"],E);const _=d(t,["preTunedModel"]);_!=null&&h(i,["preTunedModel"],_);const R=d(t,["supervisedTuningSpec"]);R!=null&&h(i,["supervisedTuningSpec"],R);const k=d(t,["preferenceOptimizationSpec"]);k!=null&&h(i,["preferenceOptimizationSpec"],k);const U=d(t,["tuningDataStats"]);U!=null&&h(i,["tuningDataStats"],U);const q=d(t,["encryptionSpec"]);q!=null&&h(i,["encryptionSpec"],q);const J=d(t,["partnerModelTuningSpec"]);J!=null&&h(i,["partnerModelTuningSpec"],J);const te=d(t,["customBaseModel"]);te!=null&&h(i,["customBaseModel"],te);const le=d(t,["experiment"]);le!=null&&h(i,["experiment"],le);const ne=d(t,["labels"]);ne!=null&&h(i,["labels"],ne);const P=d(t,["outputUri"]);P!=null&&h(i,["outputUri"],P);const $=d(t,["pipelineJob"]);$!=null&&h(i,["pipelineJob"],$);const Z=d(t,["serviceAccount"]);Z!=null&&h(i,["serviceAccount"],Z);const fe=d(t,["tunedModelDisplayName"]);fe!=null&&h(i,["tunedModelDisplayName"],fe);const be=d(t,["veoTuningSpec"]);return be!=null&&h(i,["veoTuningSpec"],be),i}function Tb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["metadata"]);o!=null&&h(i,["metadata"],o);const c=d(t,["done"]);c!=null&&h(i,["done"],c);const f=d(t,["error"]);return f!=null&&h(i,["error"],f),i}function b4(t,e){const i={},l=d(t,["gcsUri"]);l!=null&&h(i,["validationDatasetUri"],l);const a=d(t,["vertexDatasetResource"]);return a!=null&&h(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ab extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Lr(Ai.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var l;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((l=i.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},i),{preTunedModel:a});return o.baseModel=void 0,await this.tuneInternal(o)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),o=await this.tuneMldevInternal(a);let c="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?c=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(c=o.name.split("/operations/")[0]),{name:c,state:Uc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=hb(e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>Xc(x))}else{const p=fb(e);return f=ve("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>K2(x))}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=vb(e);return f=ve("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=xb(x),w=new Yp;return Object.assign(w,S),w})}else{const p=gb(e);return f=ve("tunedModels",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=yb(x),w=new Yp;return Object.assign(w,S),w})}}async cancel(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=lb(e);return f=ve("{name}:cancel",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=sb(x),w=new Jp;return Object.assign(w,S),w})}else{const p=rb(e);return f=ve("{name}:cancel",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=ab(x),w=new Jp;return Object.assign(w,S),w})}}async tuneInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=db(e,e);return o=ve("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>Xc(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=cb(e);return o=ve("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>Tb(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eb{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Cb=1024*1024*8,Nb=3,Mb=1e3,_b=2,Io="x-goog-upload-status";async function Rb(t,e,i){var l;const a=await $2(t,e,i),o=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[Io])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function kb(t,e,i){var l;const a=await $2(t,e,i),o=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[Io])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=l2(o),f=new sd;return Object.assign(f,c),f}async function $2(t,e,i){var l,a;let o=0,c=0,f=new Bc(new Response),m="upload";for(o=t.size;c<o;){const p=Math.min(Cb,o-c),x=t.slice(c,c+p);c+p>=o&&(m+=", finalize");let S=0,w=Mb;for(;S<Nb&&(f=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((l=f==null?void 0:f.headers)===null||l===void 0)&&l[Io]));)S++,await Db(w),w=w*_b;if(c+=p,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[Io])!=="active")break;if(o<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function Ib(t){return{size:t.size,type:t.type}}function Db(t){return new Promise(e=>setTimeout(e,t))}class zb{async upload(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rb(e,i,l)}async uploadToFileSearchStore(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kb(e,i,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ib(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lb{create(e,i,l){return new Ub(e,i,l)}}class Ub{constructor(e,i,l){this.url=e,this.headers=i,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S4="x-goog-api-key";class Bb{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(S4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(S4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="gl-node/";class Q2{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new Ut({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const l=D3(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new Bb(this.apiKey);this.apiClient=new Ix({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Hb+"web",uploader:new zb,downloader:new Eb}),this.models=new Qx(this.apiClient),this.live=new jx(this.apiClient,a,new Lb),this.batches=new o7(this.apiClient),this.chats=new V7(this.models,this.apiClient),this.caches=new P7(this.apiClient),this.files=new W7(this.apiClient),this.operations=new Zx(this.apiClient),this.authTokens=new m9(this.apiClient),this.tunings=new Ab(this.apiClient),this.fileSearchStores=new w9(this.apiClient)}}const Gb={type:Mt.OBJECT,properties:{content:{type:Mt.STRING,description:" Markdown  LaTeX  ($...$)"},options:{type:Mt.ARRAY,items:{type:Mt.STRING},description:" LaTeX  ($...$)"},diagramDescription:{type:Mt.STRING,description:"/"},answer:{type:Mt.STRING,description:""},analysis:{type:Mt.STRING,description:" Markdown  LaTeX"},learningGuide:{type:Mt.STRING,description:""},knowledgePoints:{type:Mt.ARRAY,items:{type:Mt.STRING},description:""},subject:{type:Mt.STRING,enum:Object.values(Go),description:""},difficulty:{type:Mt.INTEGER,description:" (1-5)"}},required:["content","analysis","knowledgePoints","subject","difficulty"]},Do=`

1. //
2.  LaTeX$...$  $$...$$ Unicode  LaTeX
   -              // Unicode 
   - 
     - 6  $\\sqrt{6}$
     - x  $x^2$
     -   $\\times$
     -   $^\\circ$
     -   $\\theta$
     - /  $\\leq$ / $\\geq$
3.  JSON content, options, diagramDescription, answer, analysis, learningGuide, knowledgePoints, subject, difficulty
   - options  ["A. ", "B. "]
4.  $...$ $...$
5. 
6.  JSON  ( \\frac  \frac\\sqrt  sqrt)`;function Pb(t){let e="",i=0;for(;i<t.length;)if(t[i]==="\\"&&i+1<t.length){const l=t[i+1];if(l==="\\"){e+="\\\\",i+=2;continue}if(l==='"'||l==="/"){e+="\\"+l,i+=2;continue}if(l==="u"&&i+5<t.length&&/^[0-9a-fA-F]{4}$/.test(t.substring(i+2,i+6))){e+=t.substring(i,i+6),i+=6;continue}if("bfnrt".includes(l)){const a=i+2<t.length?t[i+2]:"";if(!/[a-zA-Z]/.test(a)){e+="\\"+l,i+=2;continue}}e+="\\\\"+l,i+=2}else e+=t[i],i++;return e}const qb=async t=>new Promise(e=>{const i=new Image;i.src=t,i.onload=()=>{const l=document.createElement("canvas");let a=i.width,o=i.height;const c=1024;(a>c||o>c)&&(a>o?(o=Math.round(o*c/a),a=c):(a=Math.round(a*c/o),o=c)),l.width=a,l.height=o;const f=l.getContext("2d");f==null||f.drawImage(i,0,0,a,o),e(l.toDataURL("image/jpeg",.8))},i.onerror=()=>e(t)});function Ob(t){let e=t.trim();e.startsWith("```json")?e=e.slice(7):e.startsWith("```")&&(e=e.slice(3)),e.endsWith("```")&&(e=e.slice(0,-3)),e=e.trim(),e=e.trim();const i=Pb(e);try{return JSON.parse(i)}catch(l){try{return JSON.parse(e)}catch{try{let o=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"");return JSON.parse(o)}catch{throw console.error("JSON parsing failed after all cleanup attempts:",t.substring(0,500)),new Error(`JSON : ${l.message}`)}}}}async function Vb(t,e,i){if(!e.apiKey)throw new Error("API Key ");const l=new Q2({apiKey:e.apiKey}),a=e.modelName||"gemini-2.0-flash",c=(await l.models.generateContent({model:a,contents:[{role:"user",parts:[{inlineData:{mimeType:"image/jpeg",data:t.split(",")[1]||t}},{text:i}]}],config:{responseMimeType:"application/json",responseSchema:Gb}})).text;if(!c)throw new Error("Gemini ");return JSON.parse(c.trim())}async function Fb(t,e,i){var p,x;let l=e.baseUrl,a=e.modelName||"gpt-4o";if(e.type===Qe.QWEN)l=l||"https://dashscope.aliyuncs.com/compatible-mode/v1",a=e.modelName||"qwen-vl-max";else if(e.type===Qe.DOUBAO){if(l=l||"https://ark.cn-beijing.volces.com/api/v3",!((p=e.modelName)!=null&&p.trim()))throw new Error("ID (ep-xxxxxxxxxx) Ark ");a=e.modelName.trim()}if(!e.apiKey)throw new Error("API Key ");let o;if(e.type===Qe.QWEN)o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}};else if(e.type===Qe.DOUBAO){const S=t.startsWith("data:")?t:`data:image/jpeg;base64,${t}`;o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:S}}]}]}}else o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}};const c=await fetch(`${l}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${e.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok){let S="AI ";try{const w=await c.json();console.error("AI API Error Response:",w);const E=((x=w.error)==null?void 0:x.message)||w.message||JSON.stringify(w);E.includes("support text")||E.includes("MultiContent")?S="/(Vision)":S=E}catch{console.error("AI API Error (Text):",await c.text()),S=`HTTP error! status: ${c.status}`}throw new Error(S)}const f=await c.json(),m=f.choices?f.choices[0].message.content:f.result.response;return Ob(m)}const w4=async t=>{var i,l,a,o;const e="''";try{if(t.type===Qe.GEMINI){if(!t.apiKey)throw new Error("API Key ");const c=new Q2({apiKey:t.apiKey}),f=t.modelName||"gemini-2.0-flash";if(!(await c.models.generateContent({model:f,contents:e})).text)throw new Error("Gemini ");return!0}else{let c=t.baseUrl,f=t.modelName||"gpt-4o";if(t.type===Qe.QWEN?(c=c||"https://dashscope.aliyuncs.com/compatible-mode/v1",f=t.modelName||"qwen-vl-max"):t.type===Qe.DOUBAO&&(c=c||"https://ark.cn-beijing.volces.com/api/v3",f=t.modelName||"doubao-1-5-pro-32k-250115"),!t.apiKey)throw new Error("API Key ");let m;t.type===Qe.DOUBAO?m={model:f,messages:[{role:"user",content:[{type:"text",text:e}]}]}:m={model:f,messages:[{role:"system",content:e},{role:"user",content:e}]};const p=await fetch(`${c}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${t.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!p.ok){const w=await p.json();throw new Error(((i=w.error)==null?void 0:i.message)||"AI ")}const x=await p.json();return x.choices?!!((a=(l=x.choices[0])==null?void 0:l.message)!=null&&a.content):!!((o=x.result)!=null&&o.response)}}catch(c){throw console.error("AI Config Test Failed:",c),new Error(`AI : ${c.message}`)}},jb=async(t,e)=>{const i=e.systemPrompt||Do,l=e.systemPrompt||Do;console.log("AI Config:",{...e,systemPrompt:e.systemPrompt?"Custom":"Default",usedPromptPrefix:l.slice(0,50)+"..."});const a=await qb(t);try{return e.type===Qe.GEMINI?await Vb(a,e,i):await Fb(a,e,i)}catch(o){throw console.error("AI Analysis Failed:",o),new Error(" AI ")}},wl=t=>({...t,options:t.options?typeof t.options=="string"?JSON.parse(t.options):t.options:[],knowledgePoints:t.knowledgePoints?typeof t.knowledgePoints=="string"?JSON.parse(t.knowledgePoints):t.knowledgePoints:[]}),Yb=/\$\$[\s\S]*?\$\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]|\$(?:\\\$|[^$])*\$/g,Z2=/\\(?:frac|sqrt|times|cdot|pm|leq|geq|neq|approx|pi|theta|sin|cos|tan|log|ln|sum|prod|int|cdots|ldots)\b(?:\s*\{[^{}]*\})?/g,Jb=/\\frac\s*\{[^{}]*\}\s*\{[^{}]*\}/g,Xb=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)(?:\\s*[+\\-*/]\\s*\\d+)?","g"),W2=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^\\{[^{}]*\\}|\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)+","g"),Kb=t=>{const e=String(t||"").trim();return!e||e.includes("$$")||/(^|[^\\])\$/.test(e)||e.includes("\\(")||e.includes("\\[")||/[\u4e00-\u9fff]/.test(e)?!1:Z2.test(e)||W2.test(e)||/[=+\-*/()<>]/.test(e)},Ba=t=>{const e=String(t??"");if(!e.trim())return e;const i=[];for(const f of e.matchAll(Yb))f.index!=null&&i.push({start:f.index,end:f.index+f[0].length});const l=f=>i.some(m=>f>=m.start&&f<m.end),a=(f,m)=>{i.push({start:f,end:m})},o=(f,m)=>m.replace(f,(p,x)=>{if(l(x)||/^\\[ntr]$/.test(p))return p;const S=`$${p}$`;return a(x,x+S.length),S});if(Kb(e))return`$${e}$`;let c=e;return c=o(Jb,c),c=o(Z2,c),c=o(Xb,c),c=o(W2,c),c},$b=t=>t?(Array.isArray(t)?t:[t]).map(i=>Ba(typeof i=="string"?i:JSON.stringify(i))):[],ut={async getAIConfig(){try{const t=await fetch("/api/config");if(!t.ok)throw new Error("Failed to load config");const e=await t.json();return e.configData?JSON.parse(e.configData):{...{activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0},...e}}catch(t){return console.warn("Could not load remote config, using defaults",t),{activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0}}},async saveAIConfig(t){try{await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({configData:JSON.stringify(t)})})}catch(e){throw console.error("Failed to save config",e),e}},async syncRemoteConfig(){try{return await this.getAIConfig()}catch{return null}},async getActiveProviderConfig(){const t=await this.getAIConfig(),e=t.activeProvider;if(Object.values(Qe).includes(e)){const l=t.providers[e]||{};return{type:e,apiKey:l.apiKey,baseUrl:l.baseUrl,modelName:l.modelName,systemPrompt:t.systemPrompt}}const i=t.customProviders.find(l=>l.id===e);return i?{type:i.id,apiKey:i.config.apiKey,baseUrl:i.config.baseUrl,modelName:i.config.modelName,systemPrompt:t.systemPrompt}:{type:Qe.GEMINI}},async fetchQuestions(t){const e=new URL("/api/questions",window.location.origin);(t==null?void 0:t.page)!=null&&e.searchParams.set("page",String(t.page)),(t==null?void 0:t.pageSize)!=null&&e.searchParams.set("pageSize",String(t.pageSize)),t!=null&&t.tag&&e.searchParams.set("tag",t.tag),t!=null&&t.q&&e.searchParams.set("q",t.q),t!=null&&t.subject&&e.searchParams.set("subject",t.subject);const i=await fetch(e.toString().replace(window.location.origin,""));if(!i.ok)throw new Error("Failed to fetch questions");const l=await i.json();return Array.isArray(l)?l.map(wl).sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()):{items:(l.items||[]).map(wl),total:Number(l.total)||0,page:Number(l.page)||((t==null?void 0:t.page)??1),pageSize:Number(l.pageSize)||((t==null?void 0:t.pageSize)??20)}},async fetchTrash(t){const e=new URL("/api/trash",window.location.origin);(t==null?void 0:t.page)!=null&&e.searchParams.set("page",String(t.page)),(t==null?void 0:t.pageSize)!=null&&e.searchParams.set("pageSize",String(t.pageSize)),t!=null&&t.tag&&e.searchParams.set("tag",t.tag),t!=null&&t.q&&e.searchParams.set("q",t.q),t!=null&&t.subject&&e.searchParams.set("subject",t.subject);const i=await fetch(e.toString().replace(window.location.origin,""));if(!i.ok)throw new Error("Failed to fetch trash");const l=await i.json();return Array.isArray(l)?l.map(wl).sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()):{items:(l.items||[]).map(wl),total:Number(l.total)||0,page:Number(l.page)||((t==null?void 0:t.page)??1),pageSize:Number(l.pageSize)||((t==null?void 0:t.pageSize)??20)}},async createQuestion(t){const e=(o,c=[])=>{if(!o)return c;if(Array.isArray(o))return o;if(typeof o=="string")try{const f=JSON.parse(o);return Array.isArray(f)?f:[o]}catch{return[o]}return c},i={...t,content:Ba(t.content||""),options:$b(e(t.options)),knowledgePoints:e(t.knowledgePoints,[""]),subject:String(t.subject||""),answer:(()=>{const o=Array.isArray(t.answer)?t.answer.join(", "):String(t.answer||"");return Ba(o)})(),analysis:Ba(t.analysis||""),learningGuide:Ba(t.learningGuide||""),difficulty:Number(t.difficulty)||3},l=await fetch("/api/questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){const o=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||`Create failed: ${l.status}`)}const a=await l.json();return wl(a)},async updateQuestion(t,e){const i=await fetch(`/api/questions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok){const a=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(a.error||`Update failed: ${i.status}`)}const l=await i.json();return wl(l)},async deleteQuestion(t){if(!(await fetch(`/api/questions/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete question")},async restoreQuestion(t){if(!(await fetch(`/api/questions/${t}/restore`,{method:"PATCH"})).ok)throw new Error("Failed to restore question")},async hardDeleteQuestion(t){if(!(await fetch(`/api/questions/${t}/hard`,{method:"DELETE"})).ok)throw new Error("Failed to hard delete question")},async getMistakeCount(){return(await this.fetchQuestions()).length},async analyzeImage(t,e){const i=await this.getActiveProviderConfig();return jb(t,i)},async exportBackup(){window.open("/api/export","_blank")},async getMigrationStatus(){const t=await fetch("/api/db/migrations");if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`Failed to get migrations: ${t.status}`)}return t.json()},async migrateToLatest(){const t=await fetch("/api/db/migrate",{method:"POST"});if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`Failed to migrate: ${t.status}`)}return t.json()},async importBackup(t){let e;try{e=JSON.parse(t)}catch{throw new Error("Invalid JSON")}if(!(await fetch("/api/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to import backup")}};class sn{constructor(e,i,l){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=i,this.end=l}static range(e,i){return i?!e||!e.loc||!i.loc||e.loc.lexer!==i.loc.lexer?null:new sn(e.loc.lexer,e.loc.start,i.loc.end):e&&e.loc}}class xn{constructor(e,i){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=i}range(e,i){return new xn(i,sn.range(this,e))}}class ce{constructor(e,i){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var l="KaTeX parse error: "+e,a,o,c=i&&i.loc;if(c&&c.start<=c.end){var f=c.lexer.input;a=c.start,o=c.end,a===f.length?l+=" at end of input: ":l+=" at position "+(a+1)+": ";var m=f.slice(a,o).replace(/[^]/g,"$&"),p;a>15?p=""+f.slice(a-15,a):p=f.slice(0,a);var x;o+15<f.length?x=f.slice(o,o+15)+"":x=f.slice(o),l+=p+m+x}var S=new Error(l);return S.name="ParseError",S.__proto__=ce.prototype,S.position=a,a!=null&&o!=null&&(S.length=o-a),S.rawMessage=e,S}}ce.prototype.__proto__=Error.prototype;var Qb=function(e,i){return e===void 0?i:e},Zb=/([A-Z])/g,Wb=function(e){return e.replace(Zb,"-$1").toLowerCase()},eS={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},tS=/[&><"']/g;function nS(t){return String(t).replace(tS,e=>eS[e])}var eg=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},iS=function(e){var i=eg(e);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},rS=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},lS=function(e){var i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"},Ze={deflt:Qb,escape:nS,hyphenate:Wb,getBaseElem:eg,isCharacterBox:iS,protocolFromUrl:lS},Eo={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function aS(t){if(t.default)return t.default;var e=t.type,i=Array.isArray(e)?e[0]:e;if(typeof i!="string")return i.enum[0];switch(i){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class pd{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var i in Eo)if(Eo.hasOwnProperty(i)){var l=Eo[i];this[i]=e[i]!==void 0?l.processor?l.processor(e[i]):e[i]:aS(l)}}reportNonstrict(e,i,l){var a=this.strict;if(typeof a=="function"&&(a=a(e,i,l)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new ce("LaTeX-incompatible input and strict mode is set to 'error': "+(i+" ["+e+"]"),l);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+i+" ["+e+"]"))}}useStrictBehavior(e,i,l){var a=this.strict;if(typeof a=="function")try{a=a(e,i,l)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+i+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var i=Ze.protocolFromUrl(e.url);if(i==null)return!1;e.protocol=i}var l=typeof this.trust=="function"?this.trust(e):this.trust;return!!l}}class lr{constructor(e,i,l){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=i,this.cramped=l}sup(){return Xn[sS[this.id]]}sub(){return Xn[oS[this.id]]}fracNum(){return Xn[uS[this.id]]}fracDen(){return Xn[cS[this.id]]}cramp(){return Xn[dS[this.id]]}text(){return Xn[fS[this.id]]}isTight(){return this.size>=2}}var gd=0,zo=1,_l=2,wi=3,Pa=4,kn=5,Rl=6,Xt=7,Xn=[new lr(gd,0,!1),new lr(zo,0,!0),new lr(_l,1,!1),new lr(wi,1,!0),new lr(Pa,2,!1),new lr(kn,2,!0),new lr(Rl,3,!1),new lr(Xt,3,!0)],sS=[Pa,kn,Pa,kn,Rl,Xt,Rl,Xt],oS=[kn,kn,kn,kn,Xt,Xt,Xt,Xt],uS=[_l,wi,Pa,kn,Rl,Xt,Rl,Xt],cS=[wi,wi,kn,kn,Xt,Xt,Xt,Xt],dS=[zo,zo,wi,wi,kn,kn,Xt,Xt],fS=[gd,zo,_l,wi,_l,wi,_l,wi],ke={DISPLAY:Xn[gd],TEXT:Xn[_l],SCRIPT:Xn[Pa],SCRIPTSCRIPT:Xn[Rl]},Kc=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function hS(t){for(var e=0;e<Kc.length;e++)for(var i=Kc[e],l=0;l<i.blocks.length;l++){var a=i.blocks[l];if(t>=a[0]&&t<=a[1])return i.name}return null}var Co=[];Kc.forEach(t=>t.blocks.forEach(e=>Co.push(...e)));function tg(t){for(var e=0;e<Co.length;e+=2)if(t>=Co[e]&&t<=Co[e+1])return!0;return!1}var Tl=80,mS=function(e,i){return"M95,"+(622+e+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},pS=function(e,i){return"M263,"+(601+e+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},gS=function(e,i){return"M983 "+(10+e+i)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},vS=function(e,i){return"M424,"+(2398+e+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+i+`
h400000v`+(40+e)+"h-400000z"},yS=function(e,i){return"M473,"+(2713+e+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+i+"h400000v"+(40+e)+"H1017.7z"},xS=function(e){var i=e/2;return"M400000 "+e+" H0 L"+i+" 0 l65 45 L145 "+(e-80)+" H400000z"},bS=function(e,i,l){var a=l-54-i-e;return"M702 "+(e+i)+"H400000"+(40+e)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+e)+"H742z"},SS=function(e,i,l){i=1e3*i;var a="";switch(e){case"sqrtMain":a=mS(i,Tl);break;case"sqrtSize1":a=pS(i,Tl);break;case"sqrtSize2":a=gS(i,Tl);break;case"sqrtSize3":a=vS(i,Tl);break;case"sqrtSize4":a=yS(i,Tl);break;case"sqrtTall":a=bS(i,Tl,l)}return a},wS=function(e,i){switch(e){case"":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},T4={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},TS=function(e,i){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Oa{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){for(var e="",i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e}toText(){var e=i=>i.toText();return this.children.map(e).join("")}}var Kn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},mo={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},A4={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function AS(t,e){Kn[t]=e}function vd(t,e,i){if(!Kn[e])throw new Error("Font metrics not found for font: "+e+".");var l=t.charCodeAt(0),a=Kn[e][l];if(!a&&t[0]in A4&&(l=A4[t[0]].charCodeAt(0),a=Kn[e][l]),!a&&i==="text"&&tg(l)&&(a=Kn[e][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var bc={};function ES(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!bc[e]){var i=bc[e]={cssEmPerMu:mo.quad[e]/18};for(var l in mo)mo.hasOwnProperty(l)&&(i[l]=mo[l][e])}return bc[e]}var CS=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],E4=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],C4=function(e,i){return i.size<2?e:CS[e-1][i.size-1]};class Si{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Si.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=E4[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var l in e)e.hasOwnProperty(l)&&(i[l]=e[l]);return new Si(i)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:C4(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:E4[e-1]})}havingBaseStyle(e){e=e||this.style.text();var i=C4(Si.BASESIZE,e);return this.size===i&&this.textSize===Si.BASESIZE&&this.style===e?this:this.extend({style:e,size:i})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Si.BASESIZE?["sizing","reset-size"+this.size,"size"+Si.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ES(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Si.BASESIZE=6;var $c={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},NS={ex:!0,em:!0,mu:!0},ng=function(e){return typeof e!="string"&&(e=e.unit),e in $c||e in NS||e==="ex"},vt=function(e,i){var l;if(e.unit in $c)l=$c[e.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(e.unit==="mu")l=i.fontMetrics().cssEmPerMu;else{var a;if(i.style.isTight()?a=i.havingStyle(i.style.text()):a=i,e.unit==="ex")l=a.fontMetrics().xHeight;else if(e.unit==="em")l=a.fontMetrics().quad;else throw new ce("Invalid unit: '"+e.unit+"'");a!==i&&(l*=a.sizeMultiplier/i.sizeMultiplier)}return Math.min(e.number*l,i.maxSize)},pe=function(e){return+e.toFixed(4)+"em"},or=function(e){return e.filter(i=>i).join(" ")},ig=function(e,i,l){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=l||{},i){i.style.isTight()&&this.classes.push("mtight");var a=i.getColor();a&&(this.style.color=a)}},rg=function(e){var i=document.createElement(e);i.className=or(this.classes);for(var l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&i.setAttribute(a,this.attributes[a]);for(var o=0;o<this.children.length;o++)i.appendChild(this.children[o].toNode());return i},MS=/[\s"'>/=\x00-\x1f]/,lg=function(e){var i="<"+e;this.classes.length&&(i+=' class="'+Ze.escape(or(this.classes))+'"');var l="";for(var a in this.style)this.style.hasOwnProperty(a)&&(l+=Ze.hyphenate(a)+":"+this.style[a]+";");l&&(i+=' style="'+Ze.escape(l)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(MS.test(o))throw new ce("Invalid attribute name '"+o+"'");i+=" "+o+'="'+Ze.escape(this.attributes[o])+'"'}i+=">";for(var c=0;c<this.children.length;c++)i+=this.children[c].toMarkup();return i+="</"+e+">",i};class Va{constructor(e,i,l,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ig.call(this,e,l,a),this.children=i||[]}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return rg.call(this,"span")}toMarkup(){return lg.call(this,"span")}}class yd{constructor(e,i,l,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ig.call(this,i,a),this.children=l||[],this.setAttribute("href",e)}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return rg.call(this,"a")}toMarkup(){return lg.call(this,"a")}}class _S{constructor(e,i,l){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=i,this.src=e,this.classes=["mord"],this.style=l}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);return e}toMarkup(){var e='<img src="'+Ze.escape(this.src)+'"'+(' alt="'+Ze.escape(this.alt)+'"'),i="";for(var l in this.style)this.style.hasOwnProperty(l)&&(i+=Ze.hyphenate(l)+":"+this.style[l]+";");return i&&(e+=' style="'+Ze.escape(i)+'"'),e+="'/>",e}}var RS={:"",:"",:"",:""};class zn{constructor(e,i,l,a,o,c,f,m){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=i||0,this.depth=l||0,this.italic=a||0,this.skew=o||0,this.width=c||0,this.classes=f||[],this.style=m||{},this.maxFontSize=0;var p=hS(this.text.charCodeAt(0));p&&this.classes.push(p+"_fallback"),/[]/.test(this.text)&&(this.text=RS[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),i=null;this.italic>0&&(i=document.createElement("span"),i.style.marginRight=pe(this.italic)),this.classes.length>0&&(i=i||document.createElement("span"),i.className=or(this.classes));for(var l in this.style)this.style.hasOwnProperty(l)&&(i=i||document.createElement("span"),i.style[l]=this.style[l]);return i?(i.appendChild(e),i):e}toMarkup(){var e=!1,i="<span";this.classes.length&&(e=!0,i+=' class="',i+=Ze.escape(or(this.classes)),i+='"');var l="";this.italic>0&&(l+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(l+=Ze.hyphenate(a)+":"+this.style[a]+";");l&&(e=!0,i+=' style="'+Ze.escape(l)+'"');var o=Ze.escape(this.text);return e?(i+=">",i+=o,i+="</span>",i):o}}class Ei{constructor(e,i){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=i||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg");for(var l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);for(var a=0;a<this.children.length;a++)i.appendChild(this.children[a].toNode());return i}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+Ze.escape(this.attributes[i])+'"');e+=">";for(var l=0;l<this.children.length;l++)e+=this.children[l].toMarkup();return e+="</svg>",e}}class ur{constructor(e,i){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=i}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"path");return this.alternate?i.setAttribute("d",this.alternate):i.setAttribute("d",T4[this.pathName]),i}toMarkup(){return this.alternate?'<path d="'+Ze.escape(this.alternate)+'"/>':'<path d="'+Ze.escape(T4[this.pathName])+'"/>'}}class Qc{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"line");for(var l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);return i}toMarkup(){var e="<line";for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+Ze.escape(this.attributes[i])+'"');return e+="/>",e}}function N4(t){if(t instanceof zn)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function kS(t){if(t instanceof Va)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var IS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},DS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ct={math:{},text:{}};function b(t,e,i,l,a,o){ct[t][a]={font:e,group:i,replace:l},o&&l&&(ct[t][l]=ct[t][a])}var T="math",se="text",C="main",I="ams",pt="accent-token",xe="bin",$t="close",zl="inner",Re="mathord",_t="op-token",bn="open",Jo="punct",D="rel",Ri="spacing",H="textord";b(T,C,D,"","\\equiv",!0);b(T,C,D,"","\\prec",!0);b(T,C,D,"","\\succ",!0);b(T,C,D,"","\\sim",!0);b(T,C,D,"","\\perp");b(T,C,D,"","\\preceq",!0);b(T,C,D,"","\\succeq",!0);b(T,C,D,"","\\simeq",!0);b(T,C,D,"","\\mid",!0);b(T,C,D,"","\\ll",!0);b(T,C,D,"","\\gg",!0);b(T,C,D,"","\\asymp",!0);b(T,C,D,"","\\parallel");b(T,C,D,"","\\bowtie",!0);b(T,C,D,"","\\smile",!0);b(T,C,D,"","\\sqsubseteq",!0);b(T,C,D,"","\\sqsupseteq",!0);b(T,C,D,"","\\doteq",!0);b(T,C,D,"","\\frown",!0);b(T,C,D,"","\\ni",!0);b(T,C,D,"","\\propto",!0);b(T,C,D,"","\\vdash",!0);b(T,C,D,"","\\dashv",!0);b(T,C,D,"","\\owns");b(T,C,Jo,".","\\ldotp");b(T,C,Jo,"","\\cdotp");b(T,C,H,"#","\\#");b(se,C,H,"#","\\#");b(T,C,H,"&","\\&");b(se,C,H,"&","\\&");b(T,C,H,"","\\aleph",!0);b(T,C,H,"","\\forall",!0);b(T,C,H,"","\\hbar",!0);b(T,C,H,"","\\exists",!0);b(T,C,H,"","\\nabla",!0);b(T,C,H,"","\\flat",!0);b(T,C,H,"","\\ell",!0);b(T,C,H,"","\\natural",!0);b(T,C,H,"","\\clubsuit",!0);b(T,C,H,"","\\wp",!0);b(T,C,H,"","\\sharp",!0);b(T,C,H,"","\\diamondsuit",!0);b(T,C,H,"","\\Re",!0);b(T,C,H,"","\\heartsuit",!0);b(T,C,H,"","\\Im",!0);b(T,C,H,"","\\spadesuit",!0);b(T,C,H,"","\\S",!0);b(se,C,H,"","\\S");b(T,C,H,"","\\P",!0);b(se,C,H,"","\\P");b(T,C,H,"","\\dag");b(se,C,H,"","\\dag");b(se,C,H,"","\\textdagger");b(T,C,H,"","\\ddag");b(se,C,H,"","\\ddag");b(se,C,H,"","\\textdaggerdbl");b(T,C,$t,"","\\rmoustache",!0);b(T,C,bn,"","\\lmoustache",!0);b(T,C,$t,"","\\rgroup",!0);b(T,C,bn,"","\\lgroup",!0);b(T,C,xe,"","\\mp",!0);b(T,C,xe,"","\\ominus",!0);b(T,C,xe,"","\\uplus",!0);b(T,C,xe,"","\\sqcap",!0);b(T,C,xe,"","\\ast");b(T,C,xe,"","\\sqcup",!0);b(T,C,xe,"","\\bigcirc",!0);b(T,C,xe,"","\\bullet",!0);b(T,C,xe,"","\\ddagger");b(T,C,xe,"","\\wr",!0);b(T,C,xe,"","\\amalg");b(T,C,xe,"&","\\And");b(T,C,D,"","\\longleftarrow",!0);b(T,C,D,"","\\Leftarrow",!0);b(T,C,D,"","\\Longleftarrow",!0);b(T,C,D,"","\\longrightarrow",!0);b(T,C,D,"","\\Rightarrow",!0);b(T,C,D,"","\\Longrightarrow",!0);b(T,C,D,"","\\leftrightarrow",!0);b(T,C,D,"","\\longleftrightarrow",!0);b(T,C,D,"","\\Leftrightarrow",!0);b(T,C,D,"","\\Longleftrightarrow",!0);b(T,C,D,"","\\mapsto",!0);b(T,C,D,"","\\longmapsto",!0);b(T,C,D,"","\\nearrow",!0);b(T,C,D,"","\\hookleftarrow",!0);b(T,C,D,"","\\hookrightarrow",!0);b(T,C,D,"","\\searrow",!0);b(T,C,D,"","\\leftharpoonup",!0);b(T,C,D,"","\\rightharpoonup",!0);b(T,C,D,"","\\swarrow",!0);b(T,C,D,"","\\leftharpoondown",!0);b(T,C,D,"","\\rightharpoondown",!0);b(T,C,D,"","\\nwarrow",!0);b(T,C,D,"","\\rightleftharpoons",!0);b(T,I,D,"","\\nless",!0);b(T,I,D,"","\\@nleqslant");b(T,I,D,"","\\@nleqq");b(T,I,D,"","\\lneq",!0);b(T,I,D,"","\\lneqq",!0);b(T,I,D,"","\\@lvertneqq");b(T,I,D,"","\\lnsim",!0);b(T,I,D,"","\\lnapprox",!0);b(T,I,D,"","\\nprec",!0);b(T,I,D,"","\\npreceq",!0);b(T,I,D,"","\\precnsim",!0);b(T,I,D,"","\\precnapprox",!0);b(T,I,D,"","\\nsim",!0);b(T,I,D,"","\\@nshortmid");b(T,I,D,"","\\nmid",!0);b(T,I,D,"","\\nvdash",!0);b(T,I,D,"","\\nvDash",!0);b(T,I,D,"","\\ntriangleleft");b(T,I,D,"","\\ntrianglelefteq",!0);b(T,I,D,"","\\subsetneq",!0);b(T,I,D,"","\\@varsubsetneq");b(T,I,D,"","\\subsetneqq",!0);b(T,I,D,"","\\@varsubsetneqq");b(T,I,D,"","\\ngtr",!0);b(T,I,D,"","\\@ngeqslant");b(T,I,D,"","\\@ngeqq");b(T,I,D,"","\\gneq",!0);b(T,I,D,"","\\gneqq",!0);b(T,I,D,"","\\@gvertneqq");b(T,I,D,"","\\gnsim",!0);b(T,I,D,"","\\gnapprox",!0);b(T,I,D,"","\\nsucc",!0);b(T,I,D,"","\\nsucceq",!0);b(T,I,D,"","\\succnsim",!0);b(T,I,D,"","\\succnapprox",!0);b(T,I,D,"","\\ncong",!0);b(T,I,D,"","\\@nshortparallel");b(T,I,D,"","\\nparallel",!0);b(T,I,D,"","\\nVDash",!0);b(T,I,D,"","\\ntriangleright");b(T,I,D,"","\\ntrianglerighteq",!0);b(T,I,D,"","\\@nsupseteqq");b(T,I,D,"","\\supsetneq",!0);b(T,I,D,"","\\@varsupsetneq");b(T,I,D,"","\\supsetneqq",!0);b(T,I,D,"","\\@varsupsetneqq");b(T,I,D,"","\\nVdash",!0);b(T,I,D,"","\\precneqq",!0);b(T,I,D,"","\\succneqq",!0);b(T,I,D,"","\\@nsubseteqq");b(T,I,xe,"","\\unlhd");b(T,I,xe,"","\\unrhd");b(T,I,D,"","\\nleftarrow",!0);b(T,I,D,"","\\nrightarrow",!0);b(T,I,D,"","\\nLeftarrow",!0);b(T,I,D,"","\\nRightarrow",!0);b(T,I,D,"","\\nleftrightarrow",!0);b(T,I,D,"","\\nLeftrightarrow",!0);b(T,I,D,"","\\vartriangle");b(T,I,H,"","\\hslash");b(T,I,H,"","\\triangledown");b(T,I,H,"","\\lozenge");b(T,I,H,"","\\circledS");b(T,I,H,"","\\circledR");b(se,I,H,"","\\circledR");b(T,I,H,"","\\measuredangle",!0);b(T,I,H,"","\\nexists");b(T,I,H,"","\\mho");b(T,I,H,"","\\Finv",!0);b(T,I,H,"","\\Game",!0);b(T,I,H,"","\\backprime");b(T,I,H,"","\\blacktriangle");b(T,I,H,"","\\blacktriangledown");b(T,I,H,"","\\blacksquare");b(T,I,H,"","\\blacklozenge");b(T,I,H,"","\\bigstar");b(T,I,H,"","\\sphericalangle",!0);b(T,I,H,"","\\complement",!0);b(T,I,H,"","\\eth",!0);b(se,C,H,"","");b(T,I,H,"","\\diagup");b(T,I,H,"","\\diagdown");b(T,I,H,"","\\square");b(T,I,H,"","\\Box");b(T,I,H,"","\\Diamond");b(T,I,H,"","\\yen",!0);b(se,I,H,"","\\yen",!0);b(T,I,H,"","\\checkmark",!0);b(se,I,H,"","\\checkmark");b(T,I,H,"","\\beth",!0);b(T,I,H,"","\\daleth",!0);b(T,I,H,"","\\gimel",!0);b(T,I,H,"","\\digamma",!0);b(T,I,H,"","\\varkappa");b(T,I,bn,"","\\@ulcorner",!0);b(T,I,$t,"","\\@urcorner",!0);b(T,I,bn,"","\\@llcorner",!0);b(T,I,$t,"","\\@lrcorner",!0);b(T,I,D,"","\\leqq",!0);b(T,I,D,"","\\leqslant",!0);b(T,I,D,"","\\eqslantless",!0);b(T,I,D,"","\\lesssim",!0);b(T,I,D,"","\\lessapprox",!0);b(T,I,D,"","\\approxeq",!0);b(T,I,xe,"","\\lessdot");b(T,I,D,"","\\lll",!0);b(T,I,D,"","\\lessgtr",!0);b(T,I,D,"","\\lesseqgtr",!0);b(T,I,D,"","\\lesseqqgtr",!0);b(T,I,D,"","\\doteqdot");b(T,I,D,"","\\risingdotseq",!0);b(T,I,D,"","\\fallingdotseq",!0);b(T,I,D,"","\\backsim",!0);b(T,I,D,"","\\backsimeq",!0);b(T,I,D,"","\\subseteqq",!0);b(T,I,D,"","\\Subset",!0);b(T,I,D,"","\\sqsubset",!0);b(T,I,D,"","\\preccurlyeq",!0);b(T,I,D,"","\\curlyeqprec",!0);b(T,I,D,"","\\precsim",!0);b(T,I,D,"","\\precapprox",!0);b(T,I,D,"","\\vartriangleleft");b(T,I,D,"","\\trianglelefteq");b(T,I,D,"","\\vDash",!0);b(T,I,D,"","\\Vvdash",!0);b(T,I,D,"","\\smallsmile");b(T,I,D,"","\\smallfrown");b(T,I,D,"","\\bumpeq",!0);b(T,I,D,"","\\Bumpeq",!0);b(T,I,D,"","\\geqq",!0);b(T,I,D,"","\\geqslant",!0);b(T,I,D,"","\\eqslantgtr",!0);b(T,I,D,"","\\gtrsim",!0);b(T,I,D,"","\\gtrapprox",!0);b(T,I,xe,"","\\gtrdot");b(T,I,D,"","\\ggg",!0);b(T,I,D,"","\\gtrless",!0);b(T,I,D,"","\\gtreqless",!0);b(T,I,D,"","\\gtreqqless",!0);b(T,I,D,"","\\eqcirc",!0);b(T,I,D,"","\\circeq",!0);b(T,I,D,"","\\triangleq",!0);b(T,I,D,"","\\thicksim");b(T,I,D,"","\\thickapprox");b(T,I,D,"","\\supseteqq",!0);b(T,I,D,"","\\Supset",!0);b(T,I,D,"","\\sqsupset",!0);b(T,I,D,"","\\succcurlyeq",!0);b(T,I,D,"","\\curlyeqsucc",!0);b(T,I,D,"","\\succsim",!0);b(T,I,D,"","\\succapprox",!0);b(T,I,D,"","\\vartriangleright");b(T,I,D,"","\\trianglerighteq");b(T,I,D,"","\\Vdash",!0);b(T,I,D,"","\\shortmid");b(T,I,D,"","\\shortparallel");b(T,I,D,"","\\between",!0);b(T,I,D,"","\\pitchfork",!0);b(T,I,D,"","\\varpropto");b(T,I,D,"","\\blacktriangleleft");b(T,I,D,"","\\therefore",!0);b(T,I,D,"","\\backepsilon");b(T,I,D,"","\\blacktriangleright");b(T,I,D,"","\\because",!0);b(T,I,D,"","\\llless");b(T,I,D,"","\\gggtr");b(T,I,xe,"","\\lhd");b(T,I,xe,"","\\rhd");b(T,I,D,"","\\eqsim",!0);b(T,C,D,"","\\Join");b(T,I,D,"","\\Doteq",!0);b(T,I,xe,"","\\dotplus",!0);b(T,I,xe,"","\\smallsetminus");b(T,I,xe,"","\\Cap",!0);b(T,I,xe,"","\\Cup",!0);b(T,I,xe,"","\\doublebarwedge",!0);b(T,I,xe,"","\\boxminus",!0);b(T,I,xe,"","\\boxplus",!0);b(T,I,xe,"","\\divideontimes",!0);b(T,I,xe,"","\\ltimes",!0);b(T,I,xe,"","\\rtimes",!0);b(T,I,xe,"","\\leftthreetimes",!0);b(T,I,xe,"","\\rightthreetimes",!0);b(T,I,xe,"","\\curlywedge",!0);b(T,I,xe,"","\\curlyvee",!0);b(T,I,xe,"","\\circleddash",!0);b(T,I,xe,"","\\circledast",!0);b(T,I,xe,"","\\centerdot");b(T,I,xe,"","\\intercal",!0);b(T,I,xe,"","\\doublecap");b(T,I,xe,"","\\doublecup");b(T,I,xe,"","\\boxtimes",!0);b(T,I,D,"","\\dashrightarrow",!0);b(T,I,D,"","\\dashleftarrow",!0);b(T,I,D,"","\\leftleftarrows",!0);b(T,I,D,"","\\leftrightarrows",!0);b(T,I,D,"","\\Lleftarrow",!0);b(T,I,D,"","\\twoheadleftarrow",!0);b(T,I,D,"","\\leftarrowtail",!0);b(T,I,D,"","\\looparrowleft",!0);b(T,I,D,"","\\leftrightharpoons",!0);b(T,I,D,"","\\curvearrowleft",!0);b(T,I,D,"","\\circlearrowleft",!0);b(T,I,D,"","\\Lsh",!0);b(T,I,D,"","\\upuparrows",!0);b(T,I,D,"","\\upharpoonleft",!0);b(T,I,D,"","\\downharpoonleft",!0);b(T,C,D,"","\\origof",!0);b(T,C,D,"","\\imageof",!0);b(T,I,D,"","\\multimap",!0);b(T,I,D,"","\\leftrightsquigarrow",!0);b(T,I,D,"","\\rightrightarrows",!0);b(T,I,D,"","\\rightleftarrows",!0);b(T,I,D,"","\\twoheadrightarrow",!0);b(T,I,D,"","\\rightarrowtail",!0);b(T,I,D,"","\\looparrowright",!0);b(T,I,D,"","\\curvearrowright",!0);b(T,I,D,"","\\circlearrowright",!0);b(T,I,D,"","\\Rsh",!0);b(T,I,D,"","\\downdownarrows",!0);b(T,I,D,"","\\upharpoonright",!0);b(T,I,D,"","\\downharpoonright",!0);b(T,I,D,"","\\rightsquigarrow",!0);b(T,I,D,"","\\leadsto");b(T,I,D,"","\\Rrightarrow",!0);b(T,I,D,"","\\restriction");b(T,C,H,"","`");b(T,C,H,"$","\\$");b(se,C,H,"$","\\$");b(se,C,H,"$","\\textdollar");b(T,C,H,"%","\\%");b(se,C,H,"%","\\%");b(T,C,H,"_","\\_");b(se,C,H,"_","\\_");b(se,C,H,"_","\\textunderscore");b(T,C,H,"","\\angle",!0);b(T,C,H,"","\\infty",!0);b(T,C,H,"","\\prime");b(T,C,H,"","\\triangle");b(T,C,H,"","\\Gamma",!0);b(T,C,H,"","\\Delta",!0);b(T,C,H,"","\\Theta",!0);b(T,C,H,"","\\Lambda",!0);b(T,C,H,"","\\Xi",!0);b(T,C,H,"","\\Pi",!0);b(T,C,H,"","\\Sigma",!0);b(T,C,H,"","\\Upsilon",!0);b(T,C,H,"","\\Phi",!0);b(T,C,H,"","\\Psi",!0);b(T,C,H,"","\\Omega",!0);b(T,C,H,"A","");b(T,C,H,"B","");b(T,C,H,"E","");b(T,C,H,"Z","");b(T,C,H,"H","");b(T,C,H,"I","");b(T,C,H,"K","");b(T,C,H,"M","");b(T,C,H,"N","");b(T,C,H,"O","");b(T,C,H,"P","");b(T,C,H,"T","");b(T,C,H,"X","");b(T,C,H,"","\\neg",!0);b(T,C,H,"","\\lnot");b(T,C,H,"","\\top");b(T,C,H,"","\\bot");b(T,C,H,"","\\emptyset");b(T,I,H,"","\\varnothing");b(T,C,Re,"","\\alpha",!0);b(T,C,Re,"","\\beta",!0);b(T,C,Re,"","\\gamma",!0);b(T,C,Re,"","\\delta",!0);b(T,C,Re,"","\\epsilon",!0);b(T,C,Re,"","\\zeta",!0);b(T,C,Re,"","\\eta",!0);b(T,C,Re,"","\\theta",!0);b(T,C,Re,"","\\iota",!0);b(T,C,Re,"","\\kappa",!0);b(T,C,Re,"","\\lambda",!0);b(T,C,Re,"","\\mu",!0);b(T,C,Re,"","\\nu",!0);b(T,C,Re,"","\\xi",!0);b(T,C,Re,"","\\omicron",!0);b(T,C,Re,"","\\pi",!0);b(T,C,Re,"","\\rho",!0);b(T,C,Re,"","\\sigma",!0);b(T,C,Re,"","\\tau",!0);b(T,C,Re,"","\\upsilon",!0);b(T,C,Re,"","\\phi",!0);b(T,C,Re,"","\\chi",!0);b(T,C,Re,"","\\psi",!0);b(T,C,Re,"","\\omega",!0);b(T,C,Re,"","\\varepsilon",!0);b(T,C,Re,"","\\vartheta",!0);b(T,C,Re,"","\\varpi",!0);b(T,C,Re,"","\\varrho",!0);b(T,C,Re,"","\\varsigma",!0);b(T,C,Re,"","\\varphi",!0);b(T,C,xe,"","*",!0);b(T,C,xe,"+","+");b(T,C,xe,"","-",!0);b(T,C,xe,"","\\cdot",!0);b(T,C,xe,"","\\circ",!0);b(T,C,xe,"","\\div",!0);b(T,C,xe,"","\\pm",!0);b(T,C,xe,"","\\times",!0);b(T,C,xe,"","\\cap",!0);b(T,C,xe,"","\\cup",!0);b(T,C,xe,"","\\setminus",!0);b(T,C,xe,"","\\land");b(T,C,xe,"","\\lor");b(T,C,xe,"","\\wedge",!0);b(T,C,xe,"","\\vee",!0);b(T,C,H,"","\\surd");b(T,C,bn,"","\\langle",!0);b(T,C,bn,"","\\lvert");b(T,C,bn,"","\\lVert");b(T,C,$t,"?","?");b(T,C,$t,"!","!");b(T,C,$t,"","\\rangle",!0);b(T,C,$t,"","\\rvert");b(T,C,$t,"","\\rVert");b(T,C,D,"=","=");b(T,C,D,":",":");b(T,C,D,"","\\approx",!0);b(T,C,D,"","\\cong",!0);b(T,C,D,"","\\ge");b(T,C,D,"","\\geq",!0);b(T,C,D,"","\\gets");b(T,C,D,">","\\gt",!0);b(T,C,D,"","\\in",!0);b(T,C,D,"","\\@not");b(T,C,D,"","\\subset",!0);b(T,C,D,"","\\supset",!0);b(T,C,D,"","\\subseteq",!0);b(T,C,D,"","\\supseteq",!0);b(T,I,D,"","\\nsubseteq",!0);b(T,I,D,"","\\nsupseteq",!0);b(T,C,D,"","\\models");b(T,C,D,"","\\leftarrow",!0);b(T,C,D,"","\\le");b(T,C,D,"","\\leq",!0);b(T,C,D,"<","\\lt",!0);b(T,C,D,"","\\rightarrow",!0);b(T,C,D,"","\\to");b(T,I,D,"","\\ngeq",!0);b(T,I,D,"","\\nleq",!0);b(T,C,Ri,"","\\ ");b(T,C,Ri,"","\\space");b(T,C,Ri,"","\\nobreakspace");b(se,C,Ri,"","\\ ");b(se,C,Ri,""," ");b(se,C,Ri,"","\\space");b(se,C,Ri,"","\\nobreakspace");b(T,C,Ri,null,"\\nobreak");b(T,C,Ri,null,"\\allowbreak");b(T,C,Jo,",",",");b(T,C,Jo,";",";");b(T,I,xe,"","\\barwedge",!0);b(T,I,xe,"","\\veebar",!0);b(T,C,xe,"","\\odot",!0);b(T,C,xe,"","\\oplus",!0);b(T,C,xe,"","\\otimes",!0);b(T,C,H,"","\\partial",!0);b(T,C,xe,"","\\oslash",!0);b(T,I,xe,"","\\circledcirc",!0);b(T,I,xe,"","\\boxdot",!0);b(T,C,xe,"","\\bigtriangleup");b(T,C,xe,"","\\bigtriangledown");b(T,C,xe,"","\\dagger");b(T,C,xe,"","\\diamond");b(T,C,xe,"","\\star");b(T,C,xe,"","\\triangleleft");b(T,C,xe,"","\\triangleright");b(T,C,bn,"{","\\{");b(se,C,H,"{","\\{");b(se,C,H,"{","\\textbraceleft");b(T,C,$t,"}","\\}");b(se,C,H,"}","\\}");b(se,C,H,"}","\\textbraceright");b(T,C,bn,"{","\\lbrace");b(T,C,$t,"}","\\rbrace");b(T,C,bn,"[","\\lbrack",!0);b(se,C,H,"[","\\lbrack",!0);b(T,C,$t,"]","\\rbrack",!0);b(se,C,H,"]","\\rbrack",!0);b(T,C,bn,"(","\\lparen",!0);b(T,C,$t,")","\\rparen",!0);b(se,C,H,"<","\\textless",!0);b(se,C,H,">","\\textgreater",!0);b(T,C,bn,"","\\lfloor",!0);b(T,C,$t,"","\\rfloor",!0);b(T,C,bn,"","\\lceil",!0);b(T,C,$t,"","\\rceil",!0);b(T,C,H,"\\","\\backslash");b(T,C,H,"","|");b(T,C,H,"","\\vert");b(se,C,H,"|","\\textbar",!0);b(T,C,H,"","\\|");b(T,C,H,"","\\Vert");b(se,C,H,"","\\textbardbl");b(se,C,H,"~","\\textasciitilde");b(se,C,H,"\\","\\textbackslash");b(se,C,H,"^","\\textasciicircum");b(T,C,D,"","\\uparrow",!0);b(T,C,D,"","\\Uparrow",!0);b(T,C,D,"","\\downarrow",!0);b(T,C,D,"","\\Downarrow",!0);b(T,C,D,"","\\updownarrow",!0);b(T,C,D,"","\\Updownarrow",!0);b(T,C,_t,"","\\coprod");b(T,C,_t,"","\\bigvee");b(T,C,_t,"","\\bigwedge");b(T,C,_t,"","\\biguplus");b(T,C,_t,"","\\bigcap");b(T,C,_t,"","\\bigcup");b(T,C,_t,"","\\int");b(T,C,_t,"","\\intop");b(T,C,_t,"","\\iint");b(T,C,_t,"","\\iiint");b(T,C,_t,"","\\prod");b(T,C,_t,"","\\sum");b(T,C,_t,"","\\bigotimes");b(T,C,_t,"","\\bigoplus");b(T,C,_t,"","\\bigodot");b(T,C,_t,"","\\oint");b(T,C,_t,"","\\oiint");b(T,C,_t,"","\\oiiint");b(T,C,_t,"","\\bigsqcup");b(T,C,_t,"","\\smallint");b(se,C,zl,"","\\textellipsis");b(T,C,zl,"","\\mathellipsis");b(se,C,zl,"","\\ldots",!0);b(T,C,zl,"","\\ldots",!0);b(T,C,zl,"","\\@cdots",!0);b(T,C,zl,"","\\ddots",!0);b(T,C,H,"","\\varvdots");b(se,C,H,"","\\varvdots");b(T,C,pt,"","\\acute");b(T,C,pt,"","\\grave");b(T,C,pt,"","\\ddot");b(T,C,pt,"~","\\tilde");b(T,C,pt,"","\\bar");b(T,C,pt,"","\\breve");b(T,C,pt,"","\\check");b(T,C,pt,"^","\\hat");b(T,C,pt,"","\\vec");b(T,C,pt,"","\\dot");b(T,C,pt,"","\\mathring");b(T,C,Re,"","\\@imath");b(T,C,Re,"","\\@jmath");b(T,C,H,"","");b(T,C,H,"","");b(se,C,H,"","\\i",!0);b(se,C,H,"","\\j",!0);b(se,C,H,"","\\ss",!0);b(se,C,H,"","\\ae",!0);b(se,C,H,"","\\oe",!0);b(se,C,H,"","\\o",!0);b(se,C,H,"","\\AE",!0);b(se,C,H,"","\\OE",!0);b(se,C,H,"","\\O",!0);b(se,C,pt,"","\\'");b(se,C,pt,"","\\`");b(se,C,pt,"","\\^");b(se,C,pt,"","\\~");b(se,C,pt,"","\\=");b(se,C,pt,"","\\u");b(se,C,pt,"","\\.");b(se,C,pt,"","\\c");b(se,C,pt,"","\\r");b(se,C,pt,"","\\v");b(se,C,pt,"",'\\"');b(se,C,pt,"","\\H");b(se,C,pt,"","\\textcircled");var ag={"--":!0,"---":!0,"``":!0,"''":!0};b(se,C,H,"","--",!0);b(se,C,H,"","\\textendash");b(se,C,H,"","---",!0);b(se,C,H,"","\\textemdash");b(se,C,H,"","`",!0);b(se,C,H,"","\\textquoteleft");b(se,C,H,"","'",!0);b(se,C,H,"","\\textquoteright");b(se,C,H,"","``",!0);b(se,C,H,"","\\textquotedblleft");b(se,C,H,"","''",!0);b(se,C,H,"","\\textquotedblright");b(T,C,H,"","\\degree",!0);b(se,C,H,"","\\degree");b(se,C,H,"","\\textdegree",!0);b(T,C,H,"","\\pounds");b(T,C,H,"","\\mathsterling",!0);b(se,C,H,"","\\pounds");b(se,C,H,"","\\textsterling",!0);b(T,I,H,"","\\maltese");b(se,I,H,"","\\maltese");var M4='0123456789/@."';for(var Sc=0;Sc<M4.length;Sc++){var _4=M4.charAt(Sc);b(T,C,H,_4,_4)}var R4='0123456789!@*()-=+";:?/.,';for(var wc=0;wc<R4.length;wc++){var k4=R4.charAt(wc);b(se,C,H,k4,k4)}var Lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Tc=0;Tc<Lo.length;Tc++){var po=Lo.charAt(Tc);b(T,C,Re,po,po),b(se,C,H,po,po)}b(T,I,H,"C","");b(se,I,H,"C","");b(T,I,H,"H","");b(se,I,H,"H","");b(T,I,H,"N","");b(se,I,H,"N","");b(T,I,H,"P","");b(se,I,H,"P","");b(T,I,H,"Q","");b(se,I,H,"Q","");b(T,I,H,"R","");b(se,I,H,"R","");b(T,I,H,"Z","");b(se,I,H,"Z","");b(T,C,Re,"h","");b(se,C,Re,"h","");var De="";for(var Yt=0;Yt<Lo.length;Yt++){var bt=Lo.charAt(Yt);De=String.fromCharCode(55349,56320+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56372+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56424+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56580+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56684+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56736+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56788+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56840+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56944+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),Yt<26&&(De=String.fromCharCode(55349,56632+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De),De=String.fromCharCode(55349,56476+Yt),b(T,C,Re,bt,De),b(se,C,H,bt,De))}De="";b(T,C,Re,"k",De);b(se,C,H,"k",De);for(var Ir=0;Ir<10;Ir++){var ar=Ir.toString();De=String.fromCharCode(55349,57294+Ir),b(T,C,Re,ar,De),b(se,C,H,ar,De),De=String.fromCharCode(55349,57314+Ir),b(T,C,Re,ar,De),b(se,C,H,ar,De),De=String.fromCharCode(55349,57324+Ir),b(T,C,Re,ar,De),b(se,C,H,ar,De),De=String.fromCharCode(55349,57334+Ir),b(T,C,Re,ar,De),b(se,C,H,ar,De)}var Zc="";for(var Ac=0;Ac<Zc.length;Ac++){var go=Zc.charAt(Ac);b(T,C,Re,go,go),b(se,C,H,go,go)}var vo=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],I4=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],zS=function(e,i){var l=e.charCodeAt(0),a=e.charCodeAt(1),o=(l-55296)*1024+(a-56320)+65536,c=i==="math"?0:1;if(119808<=o&&o<120484){var f=Math.floor((o-119808)/26);return[vo[f][2],vo[f][c]]}else if(120782<=o&&o<=120831){var m=Math.floor((o-120782)/10);return[I4[m][2],I4[m][c]]}else{if(o===120485||o===120486)return[vo[0][2],vo[0][c]];if(120486<o&&o<120782)return["",""];throw new ce("Unsupported character: "+e)}},Xo=function(e,i,l){return ct[l][e]&&ct[l][e].replace&&(e=ct[l][e].replace),{value:e,metrics:vd(e,i,l)}},Gn=function(e,i,l,a,o){var c=Xo(e,i,l),f=c.metrics;e=c.value;var m;if(f){var p=f.italic;(l==="text"||a&&a.font==="mathit")&&(p=0),m=new zn(e,f.height,f.depth,p,f.skew,f.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+i+"' and mode '"+l+"'")),m=new zn(e,0,0,0,0,0,o);if(a){m.maxFontSize=a.sizeMultiplier,a.style.isTight()&&m.classes.push("mtight");var x=a.getColor();x&&(m.style.color=x)}return m},LS=function(e,i,l,a){return a===void 0&&(a=[]),l.font==="boldsymbol"&&Xo(e,"Main-Bold",i).metrics?Gn(e,"Main-Bold",i,l,a.concat(["mathbf"])):e==="\\"||ct[i][e].font==="main"?Gn(e,"Main-Regular",i,l,a):Gn(e,"AMS-Regular",i,l,a.concat(["amsrm"]))},US=function(e,i,l,a,o){return o!=="textord"&&Xo(e,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},BS=function(e,i,l){var a=e.mode,o=e.text,c=["mord"],f=a==="math"||a==="text"&&i.font,m=f?i.font:i.fontFamily,p="",x="";if(o.charCodeAt(0)===55349&&([p,x]=zS(o,a)),p.length>0)return Gn(o,p,a,i,c.concat(x));if(m){var S,w;if(m==="boldsymbol"){var E=US(o,a,i,c,l);S=E.fontName,w=[E.fontClass]}else f?(S=ug[m].fontName,w=[m]):(S=yo(m,i.fontWeight,i.fontShape),w=[m,i.fontWeight,i.fontShape]);if(Xo(o,S,a).metrics)return Gn(o,S,a,i,c.concat(w));if(ag.hasOwnProperty(o)&&S.slice(0,10)==="Typewriter"){for(var _=[],R=0;R<o.length;R++)_.push(Gn(o[R],S,a,i,c.concat(w)));return og(_)}}if(l==="mathord")return Gn(o,"Math-Italic",a,i,c.concat(["mathnormal"]));if(l==="textord"){var k=ct[a][o]&&ct[a][o].font;if(k==="ams"){var U=yo("amsrm",i.fontWeight,i.fontShape);return Gn(o,U,a,i,c.concat("amsrm",i.fontWeight,i.fontShape))}else if(k==="main"||!k){var q=yo("textrm",i.fontWeight,i.fontShape);return Gn(o,q,a,i,c.concat(i.fontWeight,i.fontShape))}else{var J=yo(k,i.fontWeight,i.fontShape);return Gn(o,J,a,i,c.concat(J,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+l+" in makeOrd")},HS=(t,e)=>{if(or(t.classes)!==or(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var i=t.classes[0];if(i==="mbin"||i==="mord")return!1}for(var l in t.style)if(t.style.hasOwnProperty(l)&&t.style[l]!==e.style[l])return!1;for(var a in e.style)if(e.style.hasOwnProperty(a)&&t.style[a]!==e.style[a])return!1;return!0},GS=t=>{for(var e=0;e<t.length-1;e++){var i=t[e],l=t[e+1];i instanceof zn&&l instanceof zn&&HS(i,l)&&(i.text+=l.text,i.height=Math.max(i.height,l.height),i.depth=Math.max(i.depth,l.depth),i.italic=l.italic,t.splice(e+1,1),e--)}return t},xd=function(e){for(var i=0,l=0,a=0,o=0;o<e.children.length;o++){var c=e.children[o];c.height>i&&(i=c.height),c.depth>l&&(l=c.depth),c.maxFontSize>a&&(a=c.maxFontSize)}e.height=i,e.depth=l,e.maxFontSize=a},an=function(e,i,l,a){var o=new Va(e,i,l,a);return xd(o),o},sg=(t,e,i,l)=>new Va(t,e,i,l),PS=function(e,i,l){var a=an([e],[],i);return a.height=Math.max(l||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),a.style.borderBottomWidth=pe(a.height),a.maxFontSize=1,a},qS=function(e,i,l,a){var o=new yd(e,i,l,a);return xd(o),o},og=function(e){var i=new Oa(e);return xd(i),i},OS=function(e,i){return e instanceof Oa?an([],[e],i):e},VS=function(e){if(e.positionType==="individualShift"){for(var i=e.children,l=[i[0]],a=-i[0].shift-i[0].elem.depth,o=a,c=1;c<i.length;c++){var f=-i[c].shift-o-i[c].elem.depth,m=f-(i[c-1].elem.height+i[c-1].elem.depth);o=o+f,l.push({type:"kern",size:m}),l.push(i[c])}return{children:l,depth:a}}var p;if(e.positionType==="top"){for(var x=e.positionData,S=0;S<e.children.length;S++){var w=e.children[S];x-=w.type==="kern"?w.size:w.elem.height+w.elem.depth}p=x}else if(e.positionType==="bottom")p=-e.positionData;else{var E=e.children[0];if(E.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")p=-E.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")p=-E.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:p}},FS=function(e,i){for(var{children:l,depth:a}=VS(e),o=0,c=0;c<l.length;c++){var f=l[c];if(f.type==="elem"){var m=f.elem;o=Math.max(o,m.maxFontSize,m.height)}}o+=2;var p=an(["pstrut"],[]);p.style.height=pe(o);for(var x=[],S=a,w=a,E=a,_=0;_<l.length;_++){var R=l[_];if(R.type==="kern")E+=R.size;else{var k=R.elem,U=R.wrapperClasses||[],q=R.wrapperStyle||{},J=an(U,[p,k],void 0,q);J.style.top=pe(-o-E-k.depth),R.marginLeft&&(J.style.marginLeft=R.marginLeft),R.marginRight&&(J.style.marginRight=R.marginRight),x.push(J),E+=k.height+k.depth}S=Math.min(S,E),w=Math.max(w,E)}var te=an(["vlist"],x);te.style.height=pe(w);var le;if(S<0){var ne=an([],[]),P=an(["vlist"],[ne]);P.style.height=pe(-S);var $=an(["vlist-s"],[new zn("")]);le=[an(["vlist-r"],[te,$]),an(["vlist-r"],[P])]}else le=[an(["vlist-r"],[te])];var Z=an(["vlist-t"],le);return le.length===2&&Z.classes.push("vlist-t2"),Z.height=w,Z.depth=-S,Z},jS=(t,e)=>{var i=an(["mspace"],[],e),l=vt(t,e);return i.style.marginRight=pe(l),i},yo=function(e,i,l){var a="";switch(e){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=e}var o;return i==="textbf"&&l==="textit"?o="BoldItalic":i==="textbf"?o="Bold":i==="textit"?o="Italic":o="Regular",a+"-"+o},ug={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},cg={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},YS=function(e,i){var[l,a,o]=cg[e],c=new ur(l),f=new Ei([c],{width:pe(a),height:pe(o),style:"width:"+pe(a),viewBox:"0 0 "+1e3*a+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),m=sg(["overlay"],[f],i);return m.height=o,m.style.height=pe(o),m.style.width=pe(a),m},V={fontMap:ug,makeSymbol:Gn,mathsym:LS,makeSpan:an,makeSvgSpan:sg,makeLineSpan:PS,makeAnchor:qS,makeFragment:og,wrapFragment:OS,makeVList:FS,makeOrd:BS,makeGlue:jS,staticSvg:YS,svgData:cg,tryCombineChars:GS},gt={number:3,unit:"mu"},Dr={number:4,unit:"mu"},bi={number:5,unit:"mu"},JS={mord:{mop:gt,mbin:Dr,mrel:bi,minner:gt},mop:{mord:gt,mop:gt,mrel:bi,minner:gt},mbin:{mord:Dr,mop:Dr,mopen:Dr,minner:Dr},mrel:{mord:bi,mop:bi,mopen:bi,minner:bi},mopen:{},mclose:{mop:gt,mbin:Dr,mrel:bi,minner:gt},mpunct:{mord:gt,mop:gt,mrel:bi,mopen:gt,mclose:gt,mpunct:gt,minner:gt},minner:{mord:gt,mop:gt,mbin:Dr,mrel:bi,mopen:gt,mpunct:gt,minner:gt}},XS={mord:{mop:gt},mop:{mord:gt,mop:gt},mbin:{},mrel:{},mopen:{},mclose:{mop:gt},mpunct:{},minner:{mop:gt}},dg={},Uo={},Bo={};function ye(t){for(var{type:e,names:i,props:l,handler:a,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:l.numArgs,argTypes:l.argTypes,allowedInArgument:!!l.allowedInArgument,allowedInText:!!l.allowedInText,allowedInMath:l.allowedInMath===void 0?!0:l.allowedInMath,numOptionalArgs:l.numOptionalArgs||0,infix:!!l.infix,primitive:!!l.primitive,handler:a},m=0;m<i.length;++m)dg[i[m]]=f;e&&(o&&(Uo[e]=o),c&&(Bo[e]=c))}function Ur(t){var{type:e,htmlBuilder:i,mathmlBuilder:l}=t;ye({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:i,mathmlBuilder:l})}var Ho=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Tt=function(e){return e.type==="ordgroup"?e.body:[e]},Ci=V.makeSpan,KS=["leftmost","mbin","mopen","mrel","mop","mpunct"],$S=["rightmost","mrel","mclose","mpunct"],QS={display:ke.DISPLAY,text:ke.TEXT,script:ke.SCRIPT,scriptscript:ke.SCRIPTSCRIPT},ZS={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Dt=function(e,i,l,a){a===void 0&&(a=[null,null]);for(var o=[],c=0;c<e.length;c++){var f=Xe(e[c],i);if(f instanceof Oa){var m=f.children;o.push(...m)}else o.push(f)}if(V.tryCombineChars(o),!l)return o;var p=i;if(e.length===1){var x=e[0];x.type==="sizing"?p=i.havingSize(x.size):x.type==="styling"&&(p=i.havingStyle(QS[x.style]))}var S=Ci([a[0]||"leftmost"],[],i),w=Ci([a[1]||"rightmost"],[],i),E=l==="root";return D4(o,(_,R)=>{var k=R.classes[0],U=_.classes[0];k==="mbin"&&$S.includes(U)?R.classes[0]="mord":U==="mbin"&&KS.includes(k)&&(_.classes[0]="mord")},{node:S},w,E),D4(o,(_,R)=>{var k=Wc(R),U=Wc(_),q=k&&U?_.hasClass("mtight")?XS[k][U]:JS[k][U]:null;if(q)return V.makeGlue(q,p)},{node:S},w,E),o},D4=function t(e,i,l,a,o){a&&e.push(a);for(var c=0;c<e.length;c++){var f=e[c],m=fg(f);if(m){t(m.children,i,l,null,o);continue}var p=!f.hasClass("mspace");if(p){var x=i(f,l.node);x&&(l.insertAfter?l.insertAfter(x):(e.unshift(x),c++))}p?l.node=f:o&&f.hasClass("newline")&&(l.node=Ci(["leftmost"])),l.insertAfter=(S=>w=>{e.splice(S+1,0,w),c++})(c)}a&&e.pop()},fg=function(e){return e instanceof Oa||e instanceof yd||e instanceof Va&&e.hasClass("enclosing")?e:null},WS=function t(e,i){var l=fg(e);if(l){var a=l.children;if(a.length){if(i==="right")return t(a[a.length-1],"right");if(i==="left")return t(a[0],"left")}}return e},Wc=function(e,i){return e?(i&&(e=WS(e,i)),ZS[e.classes[0]]||null):null},qa=function(e,i){var l=["nulldelimiter"].concat(e.baseSizingClasses());return Ci(i.concat(l))},Xe=function(e,i,l){if(!e)return Ci();if(Uo[e.type]){var a=Uo[e.type](e,i);if(l&&i.size!==l.size){a=Ci(i.sizingClasses(l),[a],i);var o=i.sizeMultiplier/l.sizeMultiplier;a.height*=o,a.depth*=o}return a}else throw new ce("Got group of unknown type: '"+e.type+"'")};function xo(t,e){var i=Ci(["base"],t,e),l=Ci(["strut"]);return l.style.height=pe(i.height+i.depth),i.depth&&(l.style.verticalAlign=pe(-i.depth)),i.children.unshift(l),i}function ed(t,e){var i=null;t.length===1&&t[0].type==="tag"&&(i=t[0].tag,t=t[0].body);var l=Dt(t,e,"root"),a;l.length===2&&l[1].hasClass("tag")&&(a=l.pop());for(var o=[],c=[],f=0;f<l.length;f++)if(c.push(l[f]),l[f].hasClass("mbin")||l[f].hasClass("mrel")||l[f].hasClass("allowbreak")){for(var m=!1;f<l.length-1&&l[f+1].hasClass("mspace")&&!l[f+1].hasClass("newline");)f++,c.push(l[f]),l[f].hasClass("nobreak")&&(m=!0);m||(o.push(xo(c,e)),c=[])}else l[f].hasClass("newline")&&(c.pop(),c.length>0&&(o.push(xo(c,e)),c=[]),o.push(l[f]));c.length>0&&o.push(xo(c,e));var p;i?(p=xo(Dt(i,e,!0)),p.classes=["tag"],o.push(p)):a&&o.push(a);var x=Ci(["katex-html"],o);if(x.setAttribute("aria-hidden","true"),p){var S=p.children[0];S.style.height=pe(x.height+x.depth),x.depth&&(S.style.verticalAlign=pe(-x.depth))}return x}function hg(t){return new Oa(t)}class yn{constructor(e,i,l){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=i||[],this.classes=l||[]}setAttribute(e,i){this.attributes[e]=i}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);this.classes.length>0&&(e.className=or(this.classes));for(var l=0;l<this.children.length;l++)if(this.children[l]instanceof $n&&this.children[l+1]instanceof $n){for(var a=this.children[l].toText()+this.children[++l].toText();this.children[l+1]instanceof $n;)a+=this.children[++l].toText();e.appendChild(new $n(a).toNode())}else e.appendChild(this.children[l].toNode());return e}toMarkup(){var e="<"+this.type;for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="',e+=Ze.escape(this.attributes[i]),e+='"');this.classes.length>0&&(e+=' class ="'+Ze.escape(or(this.classes))+'"'),e+=">";for(var l=0;l<this.children.length;l++)e+=this.children[l].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class $n{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ze.escape(this.toText())}toText(){return this.text}}class ew{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",pe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+pe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ue={MathNode:yn,TextNode:$n,SpaceNode:ew,newDocumentFragment:hg},Ln=function(e,i,l){return ct[i][e]&&ct[i][e].replace&&e.charCodeAt(0)!==55349&&!(ag.hasOwnProperty(e)&&l&&(l.fontFamily&&l.fontFamily.slice(4,6)==="tt"||l.font&&l.font.slice(4,6)==="tt"))&&(e=ct[i][e].replace),new ue.TextNode(e)},bd=function(e){return e.length===1?e[0]:new ue.MathNode("mrow",e)},Sd=function(e,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";var l=i.font;if(!l||l==="mathnormal")return null;var a=e.mode;if(l==="mathit")return"italic";if(l==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(l==="mathbf")return"bold";if(l==="mathbb")return"double-struck";if(l==="mathsfit")return"sans-serif-italic";if(l==="mathfrak")return"fraktur";if(l==="mathscr"||l==="mathcal")return"script";if(l==="mathsf")return"sans-serif";if(l==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;ct[a][o]&&ct[a][o].replace&&(o=ct[a][o].replace);var c=V.fontMap[l].fontName;return vd(o,c,a)?V.fontMap[l].variant:null};function Ec(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof $n&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var i=t.children[0];return i instanceof $n&&i.text===","}else return!1}var on=function(e,i,l){if(e.length===1){var a=ot(e[0],i);return l&&a instanceof yn&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var o=[],c,f=0;f<e.length;f++){var m=ot(e[f],i);if(m instanceof yn&&c instanceof yn){if(m.type==="mtext"&&c.type==="mtext"&&m.getAttribute("mathvariant")===c.getAttribute("mathvariant")){c.children.push(...m.children);continue}else if(m.type==="mn"&&c.type==="mn"){c.children.push(...m.children);continue}else if(Ec(m)&&c.type==="mn"){c.children.push(...m.children);continue}else if(m.type==="mn"&&Ec(c))m.children=[...c.children,...m.children],o.pop();else if((m.type==="msup"||m.type==="msub")&&m.children.length>=1&&(c.type==="mn"||Ec(c))){var p=m.children[0];p instanceof yn&&p.type==="mn"&&(p.children=[...c.children,...p.children],o.pop())}else if(c.type==="mi"&&c.children.length===1){var x=c.children[0];if(x instanceof $n&&x.text===""&&(m.type==="mo"||m.type==="mi"||m.type==="mn")){var S=m.children[0];S instanceof $n&&S.text.length>0&&(S.text=S.text.slice(0,1)+""+S.text.slice(1),o.pop())}}}o.push(m),c=m}return o},cr=function(e,i,l){return bd(on(e,i,l))},ot=function(e,i){if(!e)return new ue.MathNode("mrow");if(Bo[e.type]){var l=Bo[e.type](e,i);return l}else throw new ce("Got group of unknown type: '"+e.type+"'")};function z4(t,e,i,l,a){var o=on(t,i),c;o.length===1&&o[0]instanceof yn&&["mrow","mtable"].includes(o[0].type)?c=o[0]:c=new ue.MathNode("mrow",o);var f=new ue.MathNode("annotation",[new ue.TextNode(e)]);f.setAttribute("encoding","application/x-tex");var m=new ue.MathNode("semantics",[c,f]),p=new ue.MathNode("math",[m]);p.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),l&&p.setAttribute("display","block");var x=a?"katex":"katex-mathml";return V.makeSpan([x],[p])}var mg=function(e){return new Si({style:e.displayMode?ke.DISPLAY:ke.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},pg=function(e,i){if(i.displayMode){var l=["katex-display"];i.leqno&&l.push("leqno"),i.fleqn&&l.push("fleqn"),e=V.makeSpan(l,[e])}return e},tw=function(e,i,l){var a=mg(l),o;if(l.output==="mathml")return z4(e,i,a,l.displayMode,!0);if(l.output==="html"){var c=ed(e,a);o=V.makeSpan(["katex"],[c])}else{var f=z4(e,i,a,l.displayMode,!1),m=ed(e,a);o=V.makeSpan(["katex"],[f,m])}return pg(o,l)},nw=function(e,i,l){var a=mg(l),o=ed(e,a),c=V.makeSpan(["katex"],[o]);return pg(c,l)},iw={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},rw=function(e){var i=new ue.MathNode("mo",[new ue.TextNode(iw[e.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},lw={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},aw=function(e){return e.type==="ordgroup"?e.body.length:1},sw=function(e,i){function l(){var f=4e5,m=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(m)){var p=e,x=aw(p.base),S,w,E;if(x>5)m==="widehat"||m==="widecheck"?(S=420,f=2364,E=.42,w=m+"4"):(S=312,f=2340,E=.34,w="tilde4");else{var _=[1,1,2,2,3,3][x];m==="widehat"||m==="widecheck"?(f=[0,1062,2364,2364,2364][_],S=[0,239,300,360,420][_],E=[0,.24,.3,.3,.36,.42][_],w=m+_):(f=[0,600,1033,2339,2340][_],S=[0,260,286,306,312][_],E=[0,.26,.286,.3,.306,.34][_],w="tilde"+_)}var R=new ur(w),k=new Ei([R],{width:"100%",height:pe(E),viewBox:"0 0 "+f+" "+S,preserveAspectRatio:"none"});return{span:V.makeSvgSpan([],[k],i),minWidth:0,height:E}}else{var U=[],q=lw[m],[J,te,le]=q,ne=le/1e3,P=J.length,$,Z;if(P===1){var fe=q[3];$=["hide-tail"],Z=[fe]}else if(P===2)$=["halfarrow-left","halfarrow-right"],Z=["xMinYMin","xMaxYMin"];else if(P===3)$=["brace-left","brace-center","brace-right"],Z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+P+" children.");for(var be=0;be<P;be++){var we=new ur(J[be]),Me=new Ei([we],{width:"400em",height:pe(ne),viewBox:"0 0 "+f+" "+le,preserveAspectRatio:Z[be]+" slice"}),Ue=V.makeSvgSpan([$[be]],[Me],i);if(P===1)return{span:Ue,minWidth:te,height:ne};Ue.style.height=pe(ne),U.push(Ue)}return{span:V.makeSpan(["stretchy"],U,i),minWidth:te,height:ne}}}var{span:a,minWidth:o,height:c}=l();return a.height=c,a.style.height=pe(c),o>0&&(a.style.minWidth=pe(o)),a},ow=function(e,i,l,a,o){var c,f=e.height+e.depth+l+a;if(/fbox|color|angl/.test(i)){if(c=V.makeSpan(["stretchy",i],[],o),i==="fbox"){var m=o.color&&o.getColor();m&&(c.style.borderColor=m)}}else{var p=[];/^[bx]cancel$/.test(i)&&p.push(new Qc({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&p.push(new Qc({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var x=new Ei(p,{width:"100%",height:pe(f)});c=V.makeSvgSpan([],[x],o)}return c.height=f,c.style.height=pe(f),c},Ni={encloseSpan:ow,mathMLnode:rw,svgSpan:sw};function Pe(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function wd(t){var e=Ko(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Ko(t){return t&&(t.type==="atom"||DS.hasOwnProperty(t.type))?t:null}var Td=(t,e)=>{var i,l,a;t&&t.type==="supsub"?(l=Pe(t.base,"accent"),i=l.base,t.base=i,a=kS(Xe(t,e)),t.base=l):(l=Pe(t,"accent"),i=l.base);var o=Xe(i,e.havingCrampedStyle()),c=l.isShifty&&Ze.isCharacterBox(i),f=0;if(c){var m=Ze.getBaseElem(i),p=Xe(m,e.havingCrampedStyle());f=N4(p).skew}var x=l.label==="\\c",S=x?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),w;if(l.isStretchy)w=Ni.svgSpan(l,e),w=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:w,wrapperClasses:["svg-align"],wrapperStyle:f>0?{width:"calc(100% - "+pe(2*f)+")",marginLeft:pe(2*f)}:void 0}]},e);else{var E,_;l.label==="\\vec"?(E=V.staticSvg("vec",e),_=V.svgData.vec[1]):(E=V.makeOrd({mode:l.mode,text:l.label},e,"textord"),E=N4(E),E.italic=0,_=E.width,x&&(S+=E.depth)),w=V.makeSpan(["accent-body"],[E]);var R=l.label==="\\textcircled";R&&(w.classes.push("accent-full"),S=o.height);var k=f;R||(k-=_/2),w.style.left=pe(k),l.label==="\\textcircled"&&(w.style.top=".2em"),w=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-S},{type:"elem",elem:w}]},e)}var U=V.makeSpan(["mord","accent"],[w],e);return a?(a.children[0]=U,a.height=Math.max(U.height,a.height),a.classes[0]="mord",a):U},gg=(t,e)=>{var i=t.isStretchy?Ni.mathMLnode(t.label):new ue.MathNode("mo",[Ln(t.label,t.mode)]),l=new ue.MathNode("mover",[ot(t.base,e),i]);return l.setAttribute("accent","true"),l},uw=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ye({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var i=Ho(e[0]),l=!uw.test(t.funcName),a=!l||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:l,isShifty:a,base:i}},htmlBuilder:Td,mathmlBuilder:gg});ye({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var i=e[0],l=t.parser.mode;return l==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),l="text"),{type:"accent",mode:l,label:t.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:Td,mathmlBuilder:gg});ye({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"accentUnder",mode:i.mode,label:l,base:a}},htmlBuilder:(t,e)=>{var i=Xe(t.base,e),l=Ni.svgSpan(t,e),a=t.label==="\\utilde"?.12:0,o=V.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:l,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:i}]},e);return V.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var i=Ni.mathMLnode(t.label),l=new ue.MathNode("munder",[ot(t.base,e),i]);return l.setAttribute("accentunder","true"),l}});var bo=t=>{var e=new ue.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ye({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:l,funcName:a}=t;return{type:"xArrow",mode:l.mode,label:a,body:e[0],below:i[0]}},htmlBuilder(t,e){var i=e.style,l=e.havingStyle(i.sup()),a=V.wrapFragment(Xe(t.body,l,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(o+"-arrow-pad");var c;t.below&&(l=e.havingStyle(i.sub()),c=V.wrapFragment(Xe(t.below,l,e),e),c.classes.push(o+"-arrow-pad"));var f=Ni.svgSpan(t,e),m=-e.fontMetrics().axisHeight+.5*f.height,p=-e.fontMetrics().axisHeight-.5*f.height-.111;(a.depth>.25||t.label==="\\xleftequilibrium")&&(p-=a.depth);var x;if(c){var S=-e.fontMetrics().axisHeight+c.height+.5*f.height+.111;x=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:p},{type:"elem",elem:f,shift:m},{type:"elem",elem:c,shift:S}]},e)}else x=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:p},{type:"elem",elem:f,shift:m}]},e);return x.children[0].children[0].children[1].classes.push("svg-align"),V.makeSpan(["mrel","x-arrow"],[x],e)},mathmlBuilder(t,e){var i=Ni.mathMLnode(t.label);i.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var l;if(t.body){var a=bo(ot(t.body,e));if(t.below){var o=bo(ot(t.below,e));l=new ue.MathNode("munderover",[i,o,a])}else l=new ue.MathNode("mover",[i,a])}else if(t.below){var c=bo(ot(t.below,e));l=new ue.MathNode("munder",[i,c])}else l=bo(),l=new ue.MathNode("mover",[i,l]);return l}});var cw=V.makeSpan;function vg(t,e){var i=Dt(t.body,e,!0);return cw([t.mclass],i,e)}function yg(t,e){var i,l=on(t.body,e);return t.mclass==="minner"?i=new ue.MathNode("mpadded",l):t.mclass==="mord"?t.isCharacterBox?(i=l[0],i.type="mi"):i=new ue.MathNode("mi",l):(t.isCharacterBox?(i=l[0],i.type="mo"):i=new ue.MathNode("mo",l),t.mclass==="mbin"?(i.attributes.lspace="0.22em",i.attributes.rspace="0.22em"):t.mclass==="mpunct"?(i.attributes.lspace="0em",i.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(i.attributes.lspace="0em",i.attributes.rspace="0em"):t.mclass==="minner"&&(i.attributes.lspace="0.0556em",i.attributes.width="+0.1111em")),i}ye({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"mclass",mode:i.mode,mclass:"m"+l.slice(5),body:Tt(a),isCharacterBox:Ze.isCharacterBox(a)}},htmlBuilder:vg,mathmlBuilder:yg});var $o=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ye({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:i}=t;return{type:"mclass",mode:i.mode,mclass:$o(e[0]),body:Tt(e[1]),isCharacterBox:Ze.isCharacterBox(e[1])}}});ye({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:i,funcName:l}=t,a=e[1],o=e[0],c;l!=="\\stackrel"?c=$o(a):c="mrel";var f={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:l!=="\\stackrel",body:Tt(a)},m={type:"supsub",mode:o.mode,base:f,sup:l==="\\underset"?null:o,sub:l==="\\underset"?o:null};return{type:"mclass",mode:i.mode,mclass:c,body:[m],isCharacterBox:Ze.isCharacterBox(m)}},htmlBuilder:vg,mathmlBuilder:yg});ye({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"pmb",mode:i.mode,mclass:$o(e[0]),body:Tt(e[0])}},htmlBuilder(t,e){var i=Dt(t.body,e,!0),l=V.makeSpan([t.mclass],i,e);return l.style.textShadow="0.02em 0.01em 0.04px",l},mathmlBuilder(t,e){var i=on(t.body,e),l=new ue.MathNode("mstyle",i);return l.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),l}});var dw={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},L4=()=>({type:"styling",body:[],mode:"math",style:"display"}),U4=t=>t.type==="textord"&&t.text==="@",fw=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function hw(t,e,i){var l=dw[t];switch(l){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return i.callFunction(l,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var a=i.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:l,mode:"math",family:"rel"},c=i.callFunction("\\Big",[o],[]),f=i.callFunction("\\\\cdright",[e[1]],[]),m={type:"ordgroup",mode:"math",body:[a,c,f]};return i.callFunction("\\\\cdparent",[m],[])}case"\\\\cdlongequal":return i.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var p={type:"textord",text:"\\Vert",mode:"math"};return i.callFunction("\\Big",[p],[])}default:return{type:"textord",text:" ",mode:"math"}}}function mw(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var i=t.fetch().text;if(i==="&"||i==="\\\\")t.consume();else if(i==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ce("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var l=[],a=[l],o=0;o<e.length;o++){for(var c=e[o],f=L4(),m=0;m<c.length;m++)if(!U4(c[m]))f.body.push(c[m]);else{l.push(f),m+=1;var p=wd(c[m]).text,x=new Array(2);if(x[0]={type:"ordgroup",mode:"math",body:[]},x[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(p)>-1))if("<>AV".indexOf(p)>-1)for(var S=0;S<2;S++){for(var w=!0,E=m+1;E<c.length;E++){if(fw(c[E],p)){w=!1,m=E;break}if(U4(c[E]))throw new ce("Missing a "+p+" character to complete a CD arrow.",c[E]);x[S].body.push(c[E])}if(w)throw new ce("Missing a "+p+" character to complete a CD arrow.",c[m])}else throw new ce('Expected one of "<>AV=|." after @',c[m]);var _=hw(p,x,t),R={type:"styling",body:[_],mode:"math",style:"display"};l.push(R),f=L4()}o%2===0?l.push(f):l.shift(),l=[],a.push(l)}t.gullet.endGroup(),t.gullet.endGroup();var k=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:k,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}ye({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t;return{type:"cdlabel",mode:i.mode,side:l.slice(4),label:e[0]}},htmlBuilder(t,e){var i=e.havingStyle(e.style.sup()),l=V.wrapFragment(Xe(t.label,i,e),e);return l.classes.push("cd-label-"+t.side),l.style.bottom=pe(.8-l.depth),l.height=0,l.depth=0,l},mathmlBuilder(t,e){var i=new ue.MathNode("mrow",[ot(t.label,e)]);return i=new ue.MathNode("mpadded",[i]),i.setAttribute("width","0"),t.side==="left"&&i.setAttribute("lspace","-1width"),i.setAttribute("voffset","0.7em"),i=new ue.MathNode("mstyle",[i]),i.setAttribute("displaystyle","false"),i.setAttribute("scriptlevel","1"),i}});ye({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:i}=t;return{type:"cdlabelparent",mode:i.mode,fragment:e[0]}},htmlBuilder(t,e){var i=V.wrapFragment(Xe(t.fragment,e),e);return i.classes.push("cd-vert-arrow"),i},mathmlBuilder(t,e){return new ue.MathNode("mrow",[ot(t.fragment,e)])}});ye({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:i}=t,l=Pe(e[0],"ordgroup"),a=l.body,o="",c=0;c<a.length;c++){var f=Pe(a[c],"textord");o+=f.text}var m=parseInt(o),p;if(isNaN(m))throw new ce("\\@char has non-numeric argument "+o);if(m<0||m>=1114111)throw new ce("\\@char with invalid code point "+o);return m<=65535?p=String.fromCharCode(m):(m-=65536,p=String.fromCharCode((m>>10)+55296,(m&1023)+56320)),{type:"textord",mode:i.mode,text:p}}});var xg=(t,e)=>{var i=Dt(t.body,e.withColor(t.color),!1);return V.makeFragment(i)},bg=(t,e)=>{var i=on(t.body,e.withColor(t.color)),l=new ue.MathNode("mstyle",i);return l.setAttribute("mathcolor",t.color),l};ye({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:i}=t,l=Pe(e[0],"color-token").color,a=e[1];return{type:"color",mode:i.mode,color:l,body:Tt(a)}},htmlBuilder:xg,mathmlBuilder:bg});ye({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:i,breakOnTokenText:l}=t,a=Pe(e[0],"color-token").color;i.gullet.macros.set("\\current@color",a);var o=i.parseExpression(!0,l);return{type:"color",mode:i.mode,color:a,body:o}},htmlBuilder:xg,mathmlBuilder:bg});ye({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,i){var{parser:l}=t,a=l.gullet.future().text==="["?l.parseSizeGroup(!0):null,o=!l.settings.displayMode||!l.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:l.mode,newLine:o,size:a&&Pe(a,"size").value}},htmlBuilder(t,e){var i=V.makeSpan(["mspace"],[],e);return t.newLine&&(i.classes.push("newline"),t.size&&(i.style.marginTop=pe(vt(t.size,e)))),i},mathmlBuilder(t,e){var i=new ue.MathNode("mspace");return t.newLine&&(i.setAttribute("linebreak","newline"),t.size&&i.setAttribute("height",pe(vt(t.size,e)))),i}});var td={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Sg=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ce("Expected a control sequence",t);return e},pw=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},wg=(t,e,i,l)=>{var a=t.gullet.macros.get(i.text);a==null&&(i.noexpand=!0,a={tokens:[i],numArgs:0,unexpandable:!t.gullet.isExpandable(i.text)}),t.gullet.macros.set(e,a,l)};ye({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:i}=t;e.consumeSpaces();var l=e.fetch();if(td[l.text])return(i==="\\global"||i==="\\\\globallong")&&(l.text=td[l.text]),Pe(e.parseFunction(),"internal");throw new ce("Invalid token after macro prefix",l)}});ye({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=e.gullet.popToken(),a=l.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new ce("Expected a control sequence",l);for(var o=0,c,f=[[]];e.gullet.future().text!=="{";)if(l=e.gullet.popToken(),l.text==="#"){if(e.gullet.future().text==="{"){c=e.gullet.future(),f[o].push("{");break}if(l=e.gullet.popToken(),!/^[1-9]$/.test(l.text))throw new ce('Invalid argument number "'+l.text+'"');if(parseInt(l.text)!==o+1)throw new ce('Argument number "'+l.text+'" out of order');o++,f.push([])}else{if(l.text==="EOF")throw new ce("Expected a macro definition");f[o].push(l.text)}var{tokens:m}=e.gullet.consumeArg();return c&&m.unshift(c),(i==="\\edef"||i==="\\xdef")&&(m=e.gullet.expandTokens(m),m.reverse()),e.gullet.macros.set(a,{tokens:m,numArgs:o,delimiters:f},i===td[i]),{type:"internal",mode:e.mode}}});ye({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=Sg(e.gullet.popToken());e.gullet.consumeSpaces();var a=pw(e);return wg(e,l,a,i==="\\\\globallet"),{type:"internal",mode:e.mode}}});ye({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=Sg(e.gullet.popToken()),a=e.gullet.popToken(),o=e.gullet.popToken();return wg(e,l,o,i==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(a),{type:"internal",mode:e.mode}}});var Ha=function(e,i,l){var a=ct.math[e]&&ct.math[e].replace,o=vd(a||e,i,l);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+i+".");return o},Ad=function(e,i,l,a){var o=l.havingBaseStyle(i),c=V.makeSpan(a.concat(o.sizingClasses(l)),[e],l),f=o.sizeMultiplier/l.sizeMultiplier;return c.height*=f,c.depth*=f,c.maxFontSize=o.sizeMultiplier,c},Tg=function(e,i,l){var a=i.havingBaseStyle(l),o=(1-i.sizeMultiplier/a.sizeMultiplier)*i.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=pe(o),e.height-=o,e.depth+=o},gw=function(e,i,l,a,o,c){var f=V.makeSymbol(e,"Main-Regular",o,a),m=Ad(f,i,a,c);return l&&Tg(m,a,i),m},vw=function(e,i,l,a){return V.makeSymbol(e,"Size"+i+"-Regular",l,a)},Ag=function(e,i,l,a,o,c){var f=vw(e,i,o,a),m=Ad(V.makeSpan(["delimsizing","size"+i],[f],a),ke.TEXT,a,c);return l&&Tg(m,a,ke.TEXT),m},Cc=function(e,i,l){var a;i==="Size1-Regular"?a="delim-size1":a="delim-size4";var o=V.makeSpan(["delimsizinginner",a],[V.makeSpan([],[V.makeSymbol(e,i,l)])]);return{type:"elem",elem:o}},Nc=function(e,i,l){var a=Kn["Size4-Regular"][e.charCodeAt(0)]?Kn["Size4-Regular"][e.charCodeAt(0)][4]:Kn["Size1-Regular"][e.charCodeAt(0)][4],o=new ur("inner",wS(e,Math.round(1e3*i))),c=new Ei([o],{width:pe(a),height:pe(i),style:"width:"+pe(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),f=V.makeSvgSpan([],[c],l);return f.height=i,f.style.height=pe(i),f.style.width=pe(a),{type:"elem",elem:f}},nd=.008,So={type:"kern",size:-1*nd},yw=["|","\\lvert","\\rvert","\\vert"],xw=["\\|","\\lVert","\\rVert","\\Vert"],Eg=function(e,i,l,a,o,c){var f,m,p,x,S="",w=0;f=p=x=e,m=null;var E="Size1-Regular";e==="\\uparrow"?p=x="":e==="\\Uparrow"?p=x="":e==="\\downarrow"?f=p="":e==="\\Downarrow"?f=p="":e==="\\updownarrow"?(f="\\uparrow",p="",x="\\downarrow"):e==="\\Updownarrow"?(f="\\Uparrow",p="",x="\\Downarrow"):yw.includes(e)?(p="",S="vert",w=333):xw.includes(e)?(p="",S="doublevert",w=556):e==="["||e==="\\lbrack"?(f="",p="",x="",E="Size4-Regular",S="lbrack",w=667):e==="]"||e==="\\rbrack"?(f="",p="",x="",E="Size4-Regular",S="rbrack",w=667):e==="\\lfloor"||e===""?(p=f="",x="",E="Size4-Regular",S="lfloor",w=667):e==="\\lceil"||e===""?(f="",p=x="",E="Size4-Regular",S="lceil",w=667):e==="\\rfloor"||e===""?(p=f="",x="",E="Size4-Regular",S="rfloor",w=667):e==="\\rceil"||e===""?(f="",p=x="",E="Size4-Regular",S="rceil",w=667):e==="("||e==="\\lparen"?(f="",p="",x="",E="Size4-Regular",S="lparen",w=875):e===")"||e==="\\rparen"?(f="",p="",x="",E="Size4-Regular",S="rparen",w=875):e==="\\{"||e==="\\lbrace"?(f="",m="",x="",p="",E="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(f="",m="",x="",p="",E="Size4-Regular"):e==="\\lgroup"||e===""?(f="",x="",p="",E="Size4-Regular"):e==="\\rgroup"||e===""?(f="",x="",p="",E="Size4-Regular"):e==="\\lmoustache"||e===""?(f="",x="",p="",E="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(f="",x="",p="",E="Size4-Regular");var _=Ha(f,E,o),R=_.height+_.depth,k=Ha(p,E,o),U=k.height+k.depth,q=Ha(x,E,o),J=q.height+q.depth,te=0,le=1;if(m!==null){var ne=Ha(m,E,o);te=ne.height+ne.depth,le=2}var P=R+J+te,$=Math.max(0,Math.ceil((i-P)/(le*U))),Z=P+$*le*U,fe=a.fontMetrics().axisHeight;l&&(fe*=a.sizeMultiplier);var be=Z/2-fe,we=[];if(S.length>0){var Me=Z-R-J,Ue=Math.round(Z*1e3),qe=TS(S,Math.round(Me*1e3)),j=new ur(S,qe),W=(w/1e3).toFixed(3)+"em",he=(Ue/1e3).toFixed(3)+"em",Te=new Ei([j],{width:W,height:he,viewBox:"0 0 "+w+" "+Ue}),Ee=V.makeSvgSpan([],[Te],a);Ee.height=Ue/1e3,Ee.style.width=W,Ee.style.height=he,we.push({type:"elem",elem:Ee})}else{if(we.push(Cc(x,E,o)),we.push(So),m===null){var z=Z-R-J+2*nd;we.push(Nc(p,z,a))}else{var K=(Z-R-J-te)/2+2*nd;we.push(Nc(p,K,a)),we.push(So),we.push(Cc(m,E,o)),we.push(So),we.push(Nc(p,K,a))}we.push(So),we.push(Cc(f,E,o))}var de=a.havingBaseStyle(ke.TEXT),ge=V.makeVList({positionType:"bottom",positionData:be,children:we},de);return Ad(V.makeSpan(["delimsizing","mult"],[ge],de),ke.TEXT,a,c)},Mc=80,_c=.08,Rc=function(e,i,l,a,o){var c=SS(e,a,l),f=new ur(e,c),m=new Ei([f],{width:"400em",height:pe(i),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});return V.makeSvgSpan(["hide-tail"],[m],o)},bw=function(e,i){var l=i.havingBaseSizing(),a=_g("\\surd",e*l.sizeMultiplier,Mg,l),o=l.sizeMultiplier,c=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness),f,m=0,p=0,x=0,S;return a.type==="small"?(x=1e3+1e3*c+Mc,e<1?o=1:e<1.4&&(o=.7),m=(1+c+_c)/o,p=(1+c)/o,f=Rc("sqrtMain",m,x,c,i),f.style.minWidth="0.853em",S=.833/o):a.type==="large"?(x=(1e3+Mc)*Ga[a.size],p=(Ga[a.size]+c)/o,m=(Ga[a.size]+c+_c)/o,f=Rc("sqrtSize"+a.size,m,x,c,i),f.style.minWidth="1.02em",S=1/o):(m=e+c+_c,p=e+c,x=Math.floor(1e3*e+c)+Mc,f=Rc("sqrtTall",m,x,c,i),f.style.minWidth="0.742em",S=1.056),f.height=p,f.style.height=pe(m),{span:f,advanceWidth:S,ruleWidth:(i.fontMetrics().sqrtRuleThickness+c)*o}},Cg=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Sw=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Ng=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ga=[0,1.2,1.8,2.4,3],ww=function(e,i,l,a,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Cg.includes(e)||Ng.includes(e))return Ag(e,i,!1,l,a,o);if(Sw.includes(e))return Eg(e,Ga[i],!1,l,a,o);throw new ce("Illegal delimiter: '"+e+"'")},Tw=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Aw=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"stack"}],Mg=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Ew=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},_g=function(e,i,l,a){for(var o=Math.min(2,3-a.style.size),c=o;c<l.length&&l[c].type!=="stack";c++){var f=Ha(e,Ew(l[c]),"math"),m=f.height+f.depth;if(l[c].type==="small"){var p=a.havingBaseStyle(l[c].style);m*=p.sizeMultiplier}if(m>i)return l[c]}return l[l.length-1]},Rg=function(e,i,l,a,o,c){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var f;Ng.includes(e)?f=Tw:Cg.includes(e)?f=Mg:f=Aw;var m=_g(e,i,f,a);return m.type==="small"?gw(e,m.style,l,a,o,c):m.type==="large"?Ag(e,m.size,l,a,o,c):Eg(e,i,l,a,o,c)},Cw=function(e,i,l,a,o,c){var f=a.fontMetrics().axisHeight*a.sizeMultiplier,m=901,p=5/a.fontMetrics().ptPerEm,x=Math.max(i-f,l+f),S=Math.max(x/500*m,2*x-p);return Rg(e,S,!0,a,o,c)},Ti={sqrtImage:bw,sizedDelim:ww,sizeToMaxHeight:Ga,customSizedDelim:Rg,leftRightDelim:Cw},B4={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Nw=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Qo(t,e){var i=Ko(t);if(i&&Nw.includes(i.text))return i;throw i?new ce("Invalid delimiter '"+i.text+"' after '"+e.funcName+"'",t):new ce("Invalid delimiter type '"+t.type+"'",t)}ye({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var i=Qo(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:B4[t.funcName].size,mclass:B4[t.funcName].mclass,delim:i.text}},htmlBuilder:(t,e)=>t.delim==="."?V.makeSpan([t.mclass]):Ti.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ln(t.delim,t.mode));var i=new ue.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i.setAttribute("stretchy","true");var l=pe(Ti.sizeToMaxHeight[t.size]);return i.setAttribute("minsize",l),i.setAttribute("maxsize",l),i}});function H4(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ye({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=t.parser.gullet.macros.get("\\current@color");if(i&&typeof i!="string")throw new ce("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Qo(e[0],t).text,color:i}}});ye({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=Qo(e[0],t),l=t.parser;++l.leftrightDepth;var a=l.parseExpression(!1);--l.leftrightDepth,l.expect("\\right",!1);var o=Pe(l.parseFunction(),"leftright-right");return{type:"leftright",mode:l.mode,body:a,left:i.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{H4(t);for(var i=Dt(t.body,e,!0,["mopen","mclose"]),l=0,a=0,o=!1,c=0;c<i.length;c++)i[c].isMiddle?o=!0:(l=Math.max(i[c].height,l),a=Math.max(i[c].depth,a));l*=e.sizeMultiplier,a*=e.sizeMultiplier;var f;if(t.left==="."?f=qa(e,["mopen"]):f=Ti.leftRightDelim(t.left,l,a,e,t.mode,["mopen"]),i.unshift(f),o)for(var m=1;m<i.length;m++){var p=i[m],x=p.isMiddle;x&&(i[m]=Ti.leftRightDelim(x.delim,l,a,x.options,t.mode,[]))}var S;if(t.right===".")S=qa(e,["mclose"]);else{var w=t.rightColor?e.withColor(t.rightColor):e;S=Ti.leftRightDelim(t.right,l,a,w,t.mode,["mclose"])}return i.push(S),V.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{H4(t);var i=on(t.body,e);if(t.left!=="."){var l=new ue.MathNode("mo",[Ln(t.left,t.mode)]);l.setAttribute("fence","true"),i.unshift(l)}if(t.right!=="."){var a=new ue.MathNode("mo",[Ln(t.right,t.mode)]);a.setAttribute("fence","true"),t.rightColor&&a.setAttribute("mathcolor",t.rightColor),i.push(a)}return bd(i)}});ye({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=Qo(e[0],t);if(!t.parser.leftrightDepth)throw new ce("\\middle without preceding \\left",i);return{type:"middle",mode:t.parser.mode,delim:i.text}},htmlBuilder:(t,e)=>{var i;if(t.delim===".")i=qa(e,[]);else{i=Ti.sizedDelim(t.delim,1,e,t.mode,[]);var l={delim:t.delim,options:e};i.isMiddle=l}return i},mathmlBuilder:(t,e)=>{var i=t.delim==="\\vert"||t.delim==="|"?Ln("|","text"):Ln(t.delim,t.mode),l=new ue.MathNode("mo",[i]);return l.setAttribute("fence","true"),l.setAttribute("lspace","0.05em"),l.setAttribute("rspace","0.05em"),l}});var Ed=(t,e)=>{var i=V.wrapFragment(Xe(t.body,e),e),l=t.label.slice(1),a=e.sizeMultiplier,o,c=0,f=Ze.isCharacterBox(t.body);if(l==="sout")o=V.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/a,c=-.5*e.fontMetrics().xHeight;else if(l==="phase"){var m=vt({number:.6,unit:"pt"},e),p=vt({number:.35,unit:"ex"},e),x=e.havingBaseSizing();a=a/x.sizeMultiplier;var S=i.height+i.depth+m+p;i.style.paddingLeft=pe(S/2+m);var w=Math.floor(1e3*S*a),E=xS(w),_=new Ei([new ur("phase",E)],{width:"400em",height:pe(w/1e3),viewBox:"0 0 400000 "+w,preserveAspectRatio:"xMinYMin slice"});o=V.makeSvgSpan(["hide-tail"],[_],e),o.style.height=pe(S),c=i.depth+m+p}else{/cancel/.test(l)?f||i.classes.push("cancel-pad"):l==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var R=0,k=0,U=0;/box/.test(l)?(U=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),R=e.fontMetrics().fboxsep+(l==="colorbox"?0:U),k=R):l==="angl"?(U=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),R=4*U,k=Math.max(0,.25-i.depth)):(R=f?.2:0,k=R),o=Ni.encloseSpan(i,l,R,k,e),/fbox|boxed|fcolorbox/.test(l)?(o.style.borderStyle="solid",o.style.borderWidth=pe(U)):l==="angl"&&U!==.049&&(o.style.borderTopWidth=pe(U),o.style.borderRightWidth=pe(U)),c=i.depth+k,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var q;if(t.backgroundColor)q=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:i,shift:0}]},e);else{var J=/cancel|phase/.test(l)?["svg-align"]:[];q=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:o,shift:c,wrapperClasses:J}]},e)}return/cancel/.test(l)&&(q.height=i.height,q.depth=i.depth),/cancel/.test(l)&&!f?V.makeSpan(["mord","cancel-lap"],[q],e):V.makeSpan(["mord"],[q],e)},Cd=(t,e)=>{var i=0,l=new ue.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ot(t.body,e)]);switch(t.label){case"\\cancel":l.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":l.setAttribute("notation","downdiagonalstrike");break;case"\\phase":l.setAttribute("notation","phasorangle");break;case"\\sout":l.setAttribute("notation","horizontalstrike");break;case"\\fbox":l.setAttribute("notation","box");break;case"\\angl":l.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(i=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,l.setAttribute("width","+"+2*i+"pt"),l.setAttribute("height","+"+2*i+"pt"),l.setAttribute("lspace",i+"pt"),l.setAttribute("voffset",i+"pt"),t.label==="\\fcolorbox"){var a=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);l.setAttribute("style","border: "+a+"em solid "+String(t.borderColor))}break;case"\\xcancel":l.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&l.setAttribute("mathbackground",t.backgroundColor),l};ye({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,i){var{parser:l,funcName:a}=t,o=Pe(e[0],"color-token").color,c=e[1];return{type:"enclose",mode:l.mode,label:a,backgroundColor:o,body:c}},htmlBuilder:Ed,mathmlBuilder:Cd});ye({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,i){var{parser:l,funcName:a}=t,o=Pe(e[0],"color-token").color,c=Pe(e[1],"color-token").color,f=e[2];return{type:"enclose",mode:l.mode,label:a,backgroundColor:c,borderColor:o,body:f}},htmlBuilder:Ed,mathmlBuilder:Cd});ye({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\fbox",body:e[0]}}});ye({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"enclose",mode:i.mode,label:l,body:a}},htmlBuilder:Ed,mathmlBuilder:Cd});ye({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\angl",body:e[0]}}});var kg={};function Qn(t){for(var{type:e,names:i,props:l,handler:a,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:l.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},m=0;m<i.length;++m)kg[i[m]]=f;o&&(Uo[e]=o),c&&(Bo[e]=c)}var Ig={};function M(t,e){Ig[t]=e}function G4(t){var e=[];t.consumeSpaces();var i=t.fetch().text;for(i==="\\relax"&&(t.consume(),t.consumeSpaces(),i=t.fetch().text);i==="\\hline"||i==="\\hdashline";)t.consume(),e.push(i==="\\hdashline"),t.consumeSpaces(),i=t.fetch().text;return e}var Zo=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ce("{"+t.envName+"} can be used only in display mode.")};function Nd(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function fr(t,e,i){var{hskipBeforeAndAfter:l,addJot:a,cols:o,arraystretch:c,colSeparationType:f,autoTag:m,singleRow:p,emptySingleRow:x,maxNumCols:S,leqno:w}=e;if(t.gullet.beginGroup(),p||t.gullet.macros.set("\\cr","\\\\\\relax"),!c){var E=t.gullet.expandMacroAsText("\\arraystretch");if(E==null)c=1;else if(c=parseFloat(E),!c||c<0)throw new ce("Invalid \\arraystretch: "+E)}t.gullet.beginGroup();var _=[],R=[_],k=[],U=[],q=m!=null?[]:void 0;function J(){m&&t.gullet.macros.set("\\@eqnsw","1",!0)}function te(){q&&(t.gullet.macros.get("\\df@tag")?(q.push(t.subparse([new xn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):q.push(!!m&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(J(),U.push(G4(t));;){var le=t.parseExpression(!1,p?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),le={type:"ordgroup",mode:t.mode,body:le},i&&(le={type:"styling",mode:t.mode,style:i,body:[le]}),_.push(le);var ne=t.fetch().text;if(ne==="&"){if(S&&_.length===S){if(p||f)throw new ce("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(ne==="\\end"){te(),_.length===1&&le.type==="styling"&&le.body[0].body.length===0&&(R.length>1||!x)&&R.pop(),U.length<R.length+1&&U.push([]);break}else if(ne==="\\\\"){t.consume();var P=void 0;t.gullet.future().text!==" "&&(P=t.parseSizeGroup(!0)),k.push(P?P.value:null),te(),U.push(G4(t)),_=[],R.push(_),J()}else throw new ce("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:a,arraystretch:c,body:R,cols:o,rowGaps:k,hskipBeforeAndAfter:l,hLinesBeforeRow:U,colSeparationType:f,tags:q,leqno:w}}function Md(t){return t.slice(0,1)==="d"?"display":"text"}var Zn=function(e,i){var l,a,o=e.body.length,c=e.hLinesBeforeRow,f=0,m=new Array(o),p=[],x=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),S=1/i.fontMetrics().ptPerEm,w=5*S;if(e.colSeparationType&&e.colSeparationType==="small"){var E=i.havingStyle(ke.SCRIPT).sizeMultiplier;w=.2778*(E/i.sizeMultiplier)}var _=e.colSeparationType==="CD"?vt({number:3,unit:"ex"},i):12*S,R=3*S,k=e.arraystretch*_,U=.7*k,q=.3*k,J=0;function te(ti){for(var Vn=0;Vn<ti.length;++Vn)Vn>0&&(J+=.25),p.push({pos:J,isDashed:ti[Vn]})}for(te(c[0]),l=0;l<e.body.length;++l){var le=e.body[l],ne=U,P=q;f<le.length&&(f=le.length);var $=new Array(le.length);for(a=0;a<le.length;++a){var Z=Xe(le[a],i);P<Z.depth&&(P=Z.depth),ne<Z.height&&(ne=Z.height),$[a]=Z}var fe=e.rowGaps[l],be=0;fe&&(be=vt(fe,i),be>0&&(be+=q,P<be&&(P=be),be=0)),e.addJot&&(P+=R),$.height=ne,$.depth=P,J+=ne,$.pos=J,J+=P+be,m[l]=$,te(c[l+1])}var we=J/2+i.fontMetrics().axisHeight,Me=e.cols||[],Ue=[],qe,j,W=[];if(e.tags&&e.tags.some(ti=>ti))for(l=0;l<o;++l){var he=m[l],Te=he.pos-we,Ee=e.tags[l],z=void 0;Ee===!0?z=V.makeSpan(["eqn-num"],[],i):Ee===!1?z=V.makeSpan([],[],i):z=V.makeSpan([],Dt(Ee,i,!0),i),z.depth=he.depth,z.height=he.height,W.push({type:"elem",elem:z,shift:Te})}for(a=0,j=0;a<f||j<Me.length;++a,++j){for(var K=Me[j]||{},de=!0;K.type==="separator";){if(de||(qe=V.makeSpan(["arraycolsep"],[]),qe.style.width=pe(i.fontMetrics().doubleRuleSep),Ue.push(qe)),K.separator==="|"||K.separator===":"){var ge=K.separator==="|"?"solid":"dashed",Ce=V.makeSpan(["vertical-separator"],[],i);Ce.style.height=pe(J),Ce.style.borderRightWidth=pe(x),Ce.style.borderRightStyle=ge,Ce.style.margin="0 "+pe(-x/2);var Q=J-we;Q&&(Ce.style.verticalAlign=pe(-Q)),Ue.push(Ce)}else throw new ce("Invalid separator type: "+K.separator);j++,K=Me[j]||{},de=!1}if(!(a>=f)){var oe=void 0;(a>0||e.hskipBeforeAndAfter)&&(oe=Ze.deflt(K.pregap,w),oe!==0&&(qe=V.makeSpan(["arraycolsep"],[]),qe.style.width=pe(oe),Ue.push(qe)));var Oe=[];for(l=0;l<o;++l){var tt=m[l],Qt=tt[a];if(Qt){var ki=tt.pos-we;Qt.depth=tt.depth,Qt.height=tt.height,Oe.push({type:"elem",elem:Qt,shift:ki})}}Oe=V.makeVList({positionType:"individualShift",children:Oe},i),Oe=V.makeSpan(["col-align-"+(K.align||"c")],[Oe]),Ue.push(Oe),(a<f-1||e.hskipBeforeAndAfter)&&(oe=Ze.deflt(K.postgap,w),oe!==0&&(qe=V.makeSpan(["arraycolsep"],[]),qe.style.width=pe(oe),Ue.push(qe)))}}if(m=V.makeSpan(["mtable"],Ue),p.length>0){for(var Ii=V.makeLineSpan("hline",i,x),Ul=V.makeLineSpan("hdashline",i,x),Rt=[{type:"elem",elem:m,shift:0}];p.length>0;){var Di=p.pop(),ei=Di.pos-we;Di.isDashed?Rt.push({type:"elem",elem:Ul,shift:ei}):Rt.push({type:"elem",elem:Ii,shift:ei})}m=V.makeVList({positionType:"individualShift",children:Rt},i)}if(W.length===0)return V.makeSpan(["mord"],[m],i);var hr=V.makeVList({positionType:"individualShift",children:W},i);return hr=V.makeSpan(["tag"],[hr],i),V.makeFragment([m,hr])},Mw={c:"center ",l:"left ",r:"right "},Wn=function(e,i){for(var l=[],a=new ue.MathNode("mtd",[],["mtr-glue"]),o=new ue.MathNode("mtd",[],["mml-eqn-num"]),c=0;c<e.body.length;c++){for(var f=e.body[c],m=[],p=0;p<f.length;p++)m.push(new ue.MathNode("mtd",[ot(f[p],i)]));e.tags&&e.tags[c]&&(m.unshift(a),m.push(a),e.leqno?m.unshift(o):m.push(o)),l.push(new ue.MathNode("mtr",m))}var x=new ue.MathNode("mtable",l),S=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);x.setAttribute("rowspacing",pe(S));var w="",E="";if(e.cols&&e.cols.length>0){var _=e.cols,R="",k=!1,U=0,q=_.length;_[0].type==="separator"&&(w+="top ",U=1),_[_.length-1].type==="separator"&&(w+="bottom ",q-=1);for(var J=U;J<q;J++)_[J].type==="align"?(E+=Mw[_[J].align],k&&(R+="none "),k=!0):_[J].type==="separator"&&k&&(R+=_[J].separator==="|"?"solid ":"dashed ",k=!1);x.setAttribute("columnalign",E.trim()),/[sd]/.test(R)&&x.setAttribute("columnlines",R.trim())}if(e.colSeparationType==="align"){for(var te=e.cols||[],le="",ne=1;ne<te.length;ne++)le+=ne%2?"0em ":"1em ";x.setAttribute("columnspacing",le.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?x.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?x.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?x.setAttribute("columnspacing","0.5em"):x.setAttribute("columnspacing","1em");var P="",$=e.hLinesBeforeRow;w+=$[0].length>0?"left ":"",w+=$[$.length-1].length>0?"right ":"";for(var Z=1;Z<$.length-1;Z++)P+=$[Z].length===0?"none ":$[Z][0]?"dashed ":"solid ";return/[sd]/.test(P)&&x.setAttribute("rowlines",P.trim()),w!==""&&(x=new ue.MathNode("menclose",[x]),x.setAttribute("notation",w.trim())),e.arraystretch&&e.arraystretch<1&&(x=new ue.MathNode("mstyle",[x]),x.setAttribute("scriptlevel","1")),x},Dg=function(e,i){e.envName.indexOf("ed")===-1&&Zo(e);var l=[],a=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",c=fr(e.parser,{cols:l,addJot:!0,autoTag:o?void 0:Nd(e.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),f,m=0,p={type:"ordgroup",mode:e.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){for(var x="",S=0;S<i[0].body.length;S++){var w=Pe(i[0].body[S],"textord");x+=w.text}f=Number(x),m=f*2}var E=!m;c.body.forEach(function(U){for(var q=1;q<U.length;q+=2){var J=Pe(U[q],"styling"),te=Pe(J.body[0],"ordgroup");te.body.unshift(p)}if(E)m<U.length&&(m=U.length);else{var le=U.length/2;if(f<le)throw new ce("Too many math in a row: "+("expected "+f+", but got "+le),U[0])}});for(var _=0;_<m;++_){var R="r",k=0;_%2===1?R="l":_>0&&E&&(k=1),l[_]={type:"align",align:R,pregap:k,postgap:0}}return c.colSeparationType=E?"align":"alignat",c};Qn({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var i=Ko(e[0]),l=i?[e[0]]:Pe(e[0],"ordgroup").body,a=l.map(function(c){var f=wd(c),m=f.text;if("lcr".indexOf(m)!==-1)return{type:"align",align:m};if(m==="|")return{type:"separator",separator:"|"};if(m===":")return{type:"separator",separator:":"};throw new ce("Unknown column alignment: "+m,c)}),o={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return fr(t.parser,o,Md(t.envName))},htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],i="c",l={hskipBeforeAndAfter:!1,cols:[{type:"align",align:i}]};if(t.envName.charAt(t.envName.length-1)==="*"){var a=t.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),i=a.fetch().text,"lcr".indexOf(i)===-1)throw new ce("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),l.cols=[{type:"align",align:i}]}}var o=fr(t.parser,l,Md(t.envName)),c=Math.max(0,...o.body.map(f=>f.length));return o.cols=new Array(c).fill({type:"align",align:i}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},i=fr(t.parser,e,"script");return i.colSeparationType="small",i},htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var i=Ko(e[0]),l=i?[e[0]]:Pe(e[0],"ordgroup").body,a=l.map(function(c){var f=wd(c),m=f.text;if("lc".indexOf(m)!==-1)return{type:"align",align:m};throw new ce("Unknown column alignment: "+m,c)});if(a.length>1)throw new ce("{subarray} can contain only one column");var o={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=fr(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new ce("{subarray} can contain only one column");return o},htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},i=fr(t.parser,e,Md(t.envName));return{type:"leftright",mode:t.mode,body:[i],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Dg,htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Zo(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Nd(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return fr(t.parser,e,"display")},htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Dg,htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Zo(t);var e={autoTag:Nd(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return fr(t.parser,e,"display")},htmlBuilder:Zn,mathmlBuilder:Wn});Qn({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Zo(t),mw(t.parser)},htmlBuilder:Zn,mathmlBuilder:Wn});M("\\nonumber","\\gdef\\@eqnsw{0}");M("\\notag","\\nonumber");ye({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ce(t.funcName+" valid only within array environment")}});var P4=kg;ye({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];if(a.type!=="ordgroup")throw new ce("Invalid environment name",a);for(var o="",c=0;c<a.body.length;++c)o+=Pe(a.body[c],"textord").text;if(l==="\\begin"){if(!P4.hasOwnProperty(o))throw new ce("No such environment: "+o,a);var f=P4[o],{args:m,optArgs:p}=i.parseArguments("\\begin{"+o+"}",f),x={mode:i.mode,envName:o,parser:i},S=f.handler(x,m,p);i.expect("\\end",!1);var w=i.nextToken,E=Pe(i.parseFunction(),"environment");if(E.name!==o)throw new ce("Mismatch: \\begin{"+o+"} matched by \\end{"+E.name+"}",w);return S}return{type:"environment",mode:i.mode,name:o,nameGroup:a}}});var zg=(t,e)=>{var i=t.font,l=e.withFont(i);return Xe(t.body,l)},Lg=(t,e)=>{var i=t.font,l=e.withFont(i);return ot(t.body,l)},q4={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ye({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=Ho(e[0]),o=l;return o in q4&&(o=q4[o]),{type:"font",mode:i.mode,font:o.slice(1),body:a}},htmlBuilder:zg,mathmlBuilder:Lg});ye({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:i}=t,l=e[0],a=Ze.isCharacterBox(l);return{type:"mclass",mode:i.mode,mclass:$o(l),body:[{type:"font",mode:i.mode,font:"boldsymbol",body:l}],isCharacterBox:a}}});ye({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l,breakOnTokenText:a}=t,{mode:o}=i,c=i.parseExpression(!0,a),f="math"+l.slice(1);return{type:"font",mode:o,font:f,body:{type:"ordgroup",mode:i.mode,body:c}}},htmlBuilder:zg,mathmlBuilder:Lg});var Ug=(t,e)=>{var i=e;return t==="display"?i=i.id>=ke.SCRIPT.id?i.text():ke.DISPLAY:t==="text"&&i.size===ke.DISPLAY.size?i=ke.TEXT:t==="script"?i=ke.SCRIPT:t==="scriptscript"&&(i=ke.SCRIPTSCRIPT),i},_d=(t,e)=>{var i=Ug(t.size,e.style),l=i.fracNum(),a=i.fracDen(),o;o=e.havingStyle(l);var c=Xe(t.numer,o,e);if(t.continued){var f=8.5/e.fontMetrics().ptPerEm,m=3.5/e.fontMetrics().ptPerEm;c.height=c.height<f?f:c.height,c.depth=c.depth<m?m:c.depth}o=e.havingStyle(a);var p=Xe(t.denom,o,e),x,S,w;t.hasBarLine?(t.barSize?(S=vt(t.barSize,e),x=V.makeLineSpan("frac-line",e,S)):x=V.makeLineSpan("frac-line",e),S=x.height,w=x.height):(x=null,S=0,w=e.fontMetrics().defaultRuleThickness);var E,_,R;i.size===ke.DISPLAY.size||t.size==="display"?(E=e.fontMetrics().num1,S>0?_=3*w:_=7*w,R=e.fontMetrics().denom1):(S>0?(E=e.fontMetrics().num2,_=w):(E=e.fontMetrics().num3,_=3*w),R=e.fontMetrics().denom2);var k;if(x){var q=e.fontMetrics().axisHeight;E-c.depth-(q+.5*S)<_&&(E+=_-(E-c.depth-(q+.5*S))),q-.5*S-(p.height-R)<_&&(R+=_-(q-.5*S-(p.height-R)));var J=-(q-.5*S);k=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:R},{type:"elem",elem:x,shift:J},{type:"elem",elem:c,shift:-E}]},e)}else{var U=E-c.depth-(p.height-R);U<_&&(E+=.5*(_-U),R+=.5*(_-U)),k=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:R},{type:"elem",elem:c,shift:-E}]},e)}o=e.havingStyle(i),k.height*=o.sizeMultiplier/e.sizeMultiplier,k.depth*=o.sizeMultiplier/e.sizeMultiplier;var te;i.size===ke.DISPLAY.size?te=e.fontMetrics().delim1:i.size===ke.SCRIPTSCRIPT.size?te=e.havingStyle(ke.SCRIPT).fontMetrics().delim2:te=e.fontMetrics().delim2;var le,ne;return t.leftDelim==null?le=qa(e,["mopen"]):le=Ti.customSizedDelim(t.leftDelim,te,!0,e.havingStyle(i),t.mode,["mopen"]),t.continued?ne=V.makeSpan([]):t.rightDelim==null?ne=qa(e,["mclose"]):ne=Ti.customSizedDelim(t.rightDelim,te,!0,e.havingStyle(i),t.mode,["mclose"]),V.makeSpan(["mord"].concat(o.sizingClasses(e)),[le,V.makeSpan(["mfrac"],[k]),ne],e)},Rd=(t,e)=>{var i=new ue.MathNode("mfrac",[ot(t.numer,e),ot(t.denom,e)]);if(!t.hasBarLine)i.setAttribute("linethickness","0px");else if(t.barSize){var l=vt(t.barSize,e);i.setAttribute("linethickness",pe(l))}var a=Ug(t.size,e.style);if(a.size!==e.style.size){i=new ue.MathNode("mstyle",[i]);var o=a.size===ke.DISPLAY.size?"true":"false";i.setAttribute("displaystyle",o),i.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var c=[];if(t.leftDelim!=null){var f=new ue.MathNode("mo",[new ue.TextNode(t.leftDelim.replace("\\",""))]);f.setAttribute("fence","true"),c.push(f)}if(c.push(i),t.rightDelim!=null){var m=new ue.MathNode("mo",[new ue.TextNode(t.rightDelim.replace("\\",""))]);m.setAttribute("fence","true"),c.push(m)}return bd(c)}return i};ye({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=e[1],c,f=null,m=null,p="auto";switch(l){case"\\dfrac":case"\\frac":case"\\tfrac":c=!0;break;case"\\\\atopfrac":c=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":c=!1,f="(",m=")";break;case"\\\\bracefrac":c=!1,f="\\{",m="\\}";break;case"\\\\brackfrac":c=!1,f="[",m="]";break;default:throw new Error("Unrecognized genfrac command")}switch(l){case"\\dfrac":case"\\dbinom":p="display";break;case"\\tfrac":case"\\tbinom":p="text";break}return{type:"genfrac",mode:i.mode,continued:!1,numer:a,denom:o,hasBarLine:c,leftDelim:f,rightDelim:m,size:p,barSize:null}},htmlBuilder:_d,mathmlBuilder:Rd});ye({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=e[1];return{type:"genfrac",mode:i.mode,continued:!0,numer:a,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ye({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:i,token:l}=t,a;switch(i){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:a,token:l}}});var O4=["display","text","script","scriptscript"],V4=function(e){var i=null;return e.length>0&&(i=e,i=i==="."?null:i),i};ye({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:i}=t,l=e[4],a=e[5],o=Ho(e[0]),c=o.type==="atom"&&o.family==="open"?V4(o.text):null,f=Ho(e[1]),m=f.type==="atom"&&f.family==="close"?V4(f.text):null,p=Pe(e[2],"size"),x,S=null;p.isBlank?x=!0:(S=p.value,x=S.number>0);var w="auto",E=e[3];if(E.type==="ordgroup"){if(E.body.length>0){var _=Pe(E.body[0],"textord");w=O4[Number(_.text)]}}else E=Pe(E,"textord"),w=O4[Number(E.text)];return{type:"genfrac",mode:i.mode,numer:l,denom:a,continued:!1,hasBarLine:x,barSize:S,leftDelim:c,rightDelim:m,size:w}},htmlBuilder:_d,mathmlBuilder:Rd});ye({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:i,funcName:l,token:a}=t;return{type:"infix",mode:i.mode,replaceWith:"\\\\abovefrac",size:Pe(e[0],"size").value,token:a}}});ye({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=rS(Pe(e[1],"infix").size),c=e[2],f=o.number>0;return{type:"genfrac",mode:i.mode,numer:a,denom:c,continued:!1,hasBarLine:f,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:_d,mathmlBuilder:Rd});var Bg=(t,e)=>{var i=e.style,l,a;t.type==="supsub"?(l=t.sup?Xe(t.sup,e.havingStyle(i.sup()),e):Xe(t.sub,e.havingStyle(i.sub()),e),a=Pe(t.base,"horizBrace")):a=Pe(t,"horizBrace");var o=Xe(a.base,e.havingBaseStyle(ke.DISPLAY)),c=Ni.svgSpan(a,e),f;if(a.isOver?(f=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:c}]},e),f.children[0].children[0].children[1].classes.push("svg-align")):(f=V.makeVList({positionType:"bottom",positionData:o.depth+.1+c.height,children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:o}]},e),f.children[0].children[0].children[0].classes.push("svg-align")),l){var m=V.makeSpan(["mord",a.isOver?"mover":"munder"],[f],e);a.isOver?f=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"kern",size:.2},{type:"elem",elem:l}]},e):f=V.makeVList({positionType:"bottom",positionData:m.depth+.2+l.height+l.depth,children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:m}]},e)}return V.makeSpan(["mord",a.isOver?"mover":"munder"],[f],e)},_w=(t,e)=>{var i=Ni.mathMLnode(t.label);return new ue.MathNode(t.isOver?"mover":"munder",[ot(t.base,e),i])};ye({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t;return{type:"horizBrace",mode:i.mode,label:l,isOver:/^\\over/.test(l),base:e[0]}},htmlBuilder:Bg,mathmlBuilder:_w});ye({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[1],a=Pe(e[0],"url").url;return i.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:i.mode,href:a,body:Tt(l)}:i.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var i=Dt(t.body,e,!1);return V.makeAnchor(t.href,[],i,e)},mathmlBuilder:(t,e)=>{var i=cr(t.body,e);return i instanceof yn||(i=new yn("mrow",[i])),i.setAttribute("href",t.href),i}});ye({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=Pe(e[0],"url").url;if(!i.settings.isTrusted({command:"\\url",url:l}))return i.formatUnsupportedCmd("\\url");for(var a=[],o=0;o<l.length;o++){var c=l[o];c==="~"&&(c="\\textasciitilde"),a.push({type:"textord",mode:"text",text:c})}var f={type:"text",mode:i.mode,font:"\\texttt",body:a};return{type:"href",mode:i.mode,href:l,body:Tt(f)}}});ye({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:i}=t;return{type:"hbox",mode:i.mode,body:Tt(e[0])}},htmlBuilder(t,e){var i=Dt(t.body,e,!1);return V.makeFragment(i)},mathmlBuilder(t,e){return new ue.MathNode("mrow",on(t.body,e))}});ye({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l,token:a}=t,o=Pe(e[0],"raw").string,c=e[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var f,m={};switch(l){case"\\htmlClass":m.class=o,f={command:"\\htmlClass",class:o};break;case"\\htmlId":m.id=o,f={command:"\\htmlId",id:o};break;case"\\htmlStyle":m.style=o,f={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var p=o.split(","),x=0;x<p.length;x++){var S=p[x],w=S.indexOf("=");if(w<0)throw new ce("\\htmlData key/value '"+S+"' missing equals sign");var E=S.slice(0,w),_=S.slice(w+1);m["data-"+E.trim()]=_}f={command:"\\htmlData",attributes:m};break}default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(f)?{type:"html",mode:i.mode,attributes:m,body:Tt(c)}:i.formatUnsupportedCmd(l)},htmlBuilder:(t,e)=>{var i=Dt(t.body,e,!1),l=["enclosing"];t.attributes.class&&l.push(...t.attributes.class.trim().split(/\s+/));var a=V.makeSpan(l,i,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&a.setAttribute(o,t.attributes[o]);return a},mathmlBuilder:(t,e)=>cr(t.body,e)});ye({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"htmlmathml",mode:i.mode,html:Tt(e[0]),mathml:Tt(e[1])}},htmlBuilder:(t,e)=>{var i=Dt(t.html,e,!1);return V.makeFragment(i)},mathmlBuilder:(t,e)=>cr(t.mathml,e)});var kc=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!i)throw new ce("Invalid size: '"+e+"' in \\includegraphics");var l={number:+(i[1]+i[2]),unit:i[3]};if(!ng(l))throw new ce("Invalid unit: '"+l.unit+"' in \\includegraphics.");return l};ye({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,i)=>{var{parser:l}=t,a={number:0,unit:"em"},o={number:.9,unit:"em"},c={number:0,unit:"em"},f="";if(i[0])for(var m=Pe(i[0],"raw").string,p=m.split(","),x=0;x<p.length;x++){var S=p[x].split("=");if(S.length===2){var w=S[1].trim();switch(S[0].trim()){case"alt":f=w;break;case"width":a=kc(w);break;case"height":o=kc(w);break;case"totalheight":c=kc(w);break;default:throw new ce("Invalid key: '"+S[0]+"' in \\includegraphics.")}}}var E=Pe(e[0],"url").url;return f===""&&(f=E,f=f.replace(/^.*[\\/]/,""),f=f.substring(0,f.lastIndexOf("."))),l.settings.isTrusted({command:"\\includegraphics",url:E})?{type:"includegraphics",mode:l.mode,alt:f,width:a,height:o,totalheight:c,src:E}:l.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var i=vt(t.height,e),l=0;t.totalheight.number>0&&(l=vt(t.totalheight,e)-i);var a=0;t.width.number>0&&(a=vt(t.width,e));var o={height:pe(i+l)};a>0&&(o.width=pe(a)),l>0&&(o.verticalAlign=pe(-l));var c=new _S(t.src,t.alt,o);return c.height=i,c.depth=l,c},mathmlBuilder:(t,e)=>{var i=new ue.MathNode("mglyph",[]);i.setAttribute("alt",t.alt);var l=vt(t.height,e),a=0;if(t.totalheight.number>0&&(a=vt(t.totalheight,e)-l,i.setAttribute("valign",pe(-a))),i.setAttribute("height",pe(l+a)),t.width.number>0){var o=vt(t.width,e);i.setAttribute("width",pe(o))}return i.setAttribute("src",t.src),i}});ye({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:l}=t,a=Pe(e[0],"size");if(i.settings.strict){var o=l[1]==="m",c=a.value.unit==="mu";o?(c||i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" supports only mu units, "+("not "+a.value.unit+" units")),i.mode!=="math"&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" works only in math mode")):c&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" doesn't support mu units")}return{type:"kern",mode:i.mode,dimension:a.value}},htmlBuilder(t,e){return V.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var i=vt(t.dimension,e);return new ue.SpaceNode(i)}});ye({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"lap",mode:i.mode,alignment:l.slice(5),body:a}},htmlBuilder:(t,e)=>{var i;t.alignment==="clap"?(i=V.makeSpan([],[Xe(t.body,e)]),i=V.makeSpan(["inner"],[i],e)):i=V.makeSpan(["inner"],[Xe(t.body,e)]);var l=V.makeSpan(["fix"],[]),a=V.makeSpan([t.alignment],[i,l],e),o=V.makeSpan(["strut"]);return o.style.height=pe(a.height+a.depth),a.depth&&(o.style.verticalAlign=pe(-a.depth)),a.children.unshift(o),a=V.makeSpan(["thinbox"],[a],e),V.makeSpan(["mord","vbox"],[a],e)},mathmlBuilder:(t,e)=>{var i=new ue.MathNode("mpadded",[ot(t.body,e)]);if(t.alignment!=="rlap"){var l=t.alignment==="llap"?"-1":"-0.5";i.setAttribute("lspace",l+"width")}return i.setAttribute("width","0px"),i}});ye({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:i,parser:l}=t,a=l.mode;l.switchMode("math");var o=i==="\\("?"\\)":"$",c=l.parseExpression(!1,o);return l.expect(o),l.switchMode(a),{type:"styling",mode:l.mode,style:"text",body:c}}});ye({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ce("Mismatched "+t.funcName)}});var F4=(t,e)=>{switch(e.style.size){case ke.DISPLAY.size:return t.display;case ke.TEXT.size:return t.text;case ke.SCRIPT.size:return t.script;case ke.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ye({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"mathchoice",mode:i.mode,display:Tt(e[0]),text:Tt(e[1]),script:Tt(e[2]),scriptscript:Tt(e[3])}},htmlBuilder:(t,e)=>{var i=F4(t,e),l=Dt(i,e,!1);return V.makeFragment(l)},mathmlBuilder:(t,e)=>{var i=F4(t,e);return cr(i,e)}});var Hg=(t,e,i,l,a,o,c)=>{t=V.makeSpan([],[t]);var f=i&&Ze.isCharacterBox(i),m,p;if(e){var x=Xe(e,l.havingStyle(a.sup()),l);p={elem:x,kern:Math.max(l.fontMetrics().bigOpSpacing1,l.fontMetrics().bigOpSpacing3-x.depth)}}if(i){var S=Xe(i,l.havingStyle(a.sub()),l);m={elem:S,kern:Math.max(l.fontMetrics().bigOpSpacing2,l.fontMetrics().bigOpSpacing4-S.height)}}var w;if(p&&m){var E=l.fontMetrics().bigOpSpacing5+m.elem.height+m.elem.depth+m.kern+t.depth+c;w=V.makeVList({positionType:"bottom",positionData:E,children:[{type:"kern",size:l.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:pe(-o)},{type:"kern",size:m.kern},{type:"elem",elem:t},{type:"kern",size:p.kern},{type:"elem",elem:p.elem,marginLeft:pe(o)},{type:"kern",size:l.fontMetrics().bigOpSpacing5}]},l)}else if(m){var _=t.height-c;w=V.makeVList({positionType:"top",positionData:_,children:[{type:"kern",size:l.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:pe(-o)},{type:"kern",size:m.kern},{type:"elem",elem:t}]},l)}else if(p){var R=t.depth+c;w=V.makeVList({positionType:"bottom",positionData:R,children:[{type:"elem",elem:t},{type:"kern",size:p.kern},{type:"elem",elem:p.elem,marginLeft:pe(o)},{type:"kern",size:l.fontMetrics().bigOpSpacing5}]},l)}else return t;var k=[w];if(m&&o!==0&&!f){var U=V.makeSpan(["mspace"],[],l);U.style.marginRight=pe(o),k.unshift(U)}return V.makeSpan(["mop","op-limits"],k,l)},Gg=["\\smallint"],Ll=(t,e)=>{var i,l,a=!1,o;t.type==="supsub"?(i=t.sup,l=t.sub,o=Pe(t.base,"op"),a=!0):o=Pe(t,"op");var c=e.style,f=!1;c.size===ke.DISPLAY.size&&o.symbol&&!Gg.includes(o.name)&&(f=!0);var m;if(o.symbol){var p=f?"Size2-Regular":"Size1-Regular",x="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(x=o.name.slice(1),o.name=x==="oiint"?"\\iint":"\\iiint"),m=V.makeSymbol(o.name,p,"math",e,["mop","op-symbol",f?"large-op":"small-op"]),x.length>0){var S=m.italic,w=V.staticSvg(x+"Size"+(f?"2":"1"),e);m=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:0},{type:"elem",elem:w,shift:f?.08:0}]},e),o.name="\\"+x,m.classes.unshift("mop"),m.italic=S}}else if(o.body){var E=Dt(o.body,e,!0);E.length===1&&E[0]instanceof zn?(m=E[0],m.classes[0]="mop"):m=V.makeSpan(["mop"],E,e)}else{for(var _=[],R=1;R<o.name.length;R++)_.push(V.mathsym(o.name[R],o.mode,e));m=V.makeSpan(["mop"],_,e)}var k=0,U=0;return(m instanceof zn||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(k=(m.height-m.depth)/2-e.fontMetrics().axisHeight,U=m.italic),a?Hg(m,i,l,e,c,U,k):(k&&(m.style.position="relative",m.style.top=pe(k)),m)},Fa=(t,e)=>{var i;if(t.symbol)i=new yn("mo",[Ln(t.name,t.mode)]),Gg.includes(t.name)&&i.setAttribute("largeop","false");else if(t.body)i=new yn("mo",on(t.body,e));else{i=new yn("mi",[new $n(t.name.slice(1))]);var l=new yn("mo",[Ln("","text")]);t.parentIsSupSub?i=new yn("mrow",[i,l]):i=hg([i,l])}return i},Rw={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ye({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=l;return a.length===1&&(a=Rw[a]),{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:Ll,mathmlBuilder:Fa});ye({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Tt(l)}},htmlBuilder:Ll,mathmlBuilder:Fa});var kw={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ye({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:Ll,mathmlBuilder:Fa});ye({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:Ll,mathmlBuilder:Fa});ye({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:i}=t,l=i;return l.length===1&&(l=kw[l]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:l}},htmlBuilder:Ll,mathmlBuilder:Fa});var Pg=(t,e)=>{var i,l,a=!1,o;t.type==="supsub"?(i=t.sup,l=t.sub,o=Pe(t.base,"operatorname"),a=!0):o=Pe(t,"operatorname");var c;if(o.body.length>0){for(var f=o.body.map(S=>{var w=S.text;return typeof w=="string"?{type:"textord",mode:S.mode,text:w}:S}),m=Dt(f,e.withFont("mathrm"),!0),p=0;p<m.length;p++){var x=m[p];x instanceof zn&&(x.text=x.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}c=V.makeSpan(["mop"],m,e)}else c=V.makeSpan(["mop"],[],e);return a?Hg(c,i,l,e,e.style,0,0):c},Iw=(t,e)=>{for(var i=on(t.body,e.withFont("mathrm")),l=!0,a=0;a<i.length;a++){var o=i[a];if(!(o instanceof ue.SpaceNode))if(o instanceof ue.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var c=o.children[0];o.children.length===1&&c instanceof ue.TextNode?c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):l=!1;break}default:l=!1}else l=!1}if(l){var f=i.map(x=>x.toText()).join("");i=[new ue.TextNode(f)]}var m=new ue.MathNode("mi",i);m.setAttribute("mathvariant","normal");var p=new ue.MathNode("mo",[Ln("","text")]);return t.parentIsSupSub?new ue.MathNode("mrow",[m,p]):ue.newDocumentFragment([m,p])};ye({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"operatorname",mode:i.mode,body:Tt(a),alwaysHandleSupSub:l==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Pg,mathmlBuilder:Iw});M("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ur({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?V.makeFragment(Dt(t.body,e,!1)):V.makeSpan(["mord"],Dt(t.body,e,!0),e)},mathmlBuilder(t,e){return cr(t.body,e,!0)}});ye({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:i}=t,l=e[0];return{type:"overline",mode:i.mode,body:l}},htmlBuilder(t,e){var i=Xe(t.body,e.havingCrampedStyle()),l=V.makeLineSpan("overline-line",e),a=e.fontMetrics().defaultRuleThickness,o=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:3*a},{type:"elem",elem:l},{type:"kern",size:a}]},e);return V.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var i=new ue.MathNode("mo",[new ue.TextNode("")]);i.setAttribute("stretchy","true");var l=new ue.MathNode("mover",[ot(t.body,e),i]);return l.setAttribute("accent","true"),l}});ye({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"phantom",mode:i.mode,body:Tt(l)}},htmlBuilder:(t,e)=>{var i=Dt(t.body,e.withPhantom(),!1);return V.makeFragment(i)},mathmlBuilder:(t,e)=>{var i=on(t.body,e);return new ue.MathNode("mphantom",i)}});ye({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"hphantom",mode:i.mode,body:l}},htmlBuilder:(t,e)=>{var i=V.makeSpan([],[Xe(t.body,e.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var l=0;l<i.children.length;l++)i.children[l].height=0,i.children[l].depth=0;return i=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e),V.makeSpan(["mord"],[i],e)},mathmlBuilder:(t,e)=>{var i=on(Tt(t.body),e),l=new ue.MathNode("mphantom",i),a=new ue.MathNode("mpadded",[l]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});ye({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"vphantom",mode:i.mode,body:l}},htmlBuilder:(t,e)=>{var i=V.makeSpan(["inner"],[Xe(t.body,e.withPhantom())]),l=V.makeSpan(["fix"],[]);return V.makeSpan(["mord","rlap"],[i,l],e)},mathmlBuilder:(t,e)=>{var i=on(Tt(t.body),e),l=new ue.MathNode("mphantom",i),a=new ue.MathNode("mpadded",[l]);return a.setAttribute("width","0px"),a}});ye({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t,l=Pe(e[0],"size").value,a=e[1];return{type:"raisebox",mode:i.mode,dy:l,body:a}},htmlBuilder(t,e){var i=Xe(t.body,e),l=vt(t.dy,e);return V.makeVList({positionType:"shift",positionData:-l,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){var i=new ue.MathNode("mpadded",[ot(t.body,e)]),l=t.dy.number+t.dy.unit;return i.setAttribute("voffset",l),i}});ye({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ye({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,i){var{parser:l}=t,a=i[0],o=Pe(e[0],"size"),c=Pe(e[1],"size");return{type:"rule",mode:l.mode,shift:a&&Pe(a,"size").value,width:o.value,height:c.value}},htmlBuilder(t,e){var i=V.makeSpan(["mord","rule"],[],e),l=vt(t.width,e),a=vt(t.height,e),o=t.shift?vt(t.shift,e):0;return i.style.borderRightWidth=pe(l),i.style.borderTopWidth=pe(a),i.style.bottom=pe(o),i.width=l,i.height=a+o,i.depth=-o,i.maxFontSize=a*1.125*e.sizeMultiplier,i},mathmlBuilder(t,e){var i=vt(t.width,e),l=vt(t.height,e),a=t.shift?vt(t.shift,e):0,o=e.color&&e.getColor()||"black",c=new ue.MathNode("mspace");c.setAttribute("mathbackground",o),c.setAttribute("width",pe(i)),c.setAttribute("height",pe(l));var f=new ue.MathNode("mpadded",[c]);return a>=0?f.setAttribute("height",pe(a)):(f.setAttribute("height",pe(a)),f.setAttribute("depth",pe(-a))),f.setAttribute("voffset",pe(a)),f}});function qg(t,e,i){for(var l=Dt(t,e,!1),a=e.sizeMultiplier/i.sizeMultiplier,o=0;o<l.length;o++){var c=l[o].classes.indexOf("sizing");c<0?Array.prototype.push.apply(l[o].classes,e.sizingClasses(i)):l[o].classes[c+1]==="reset-size"+e.size&&(l[o].classes[c+1]="reset-size"+i.size),l[o].height*=a,l[o].depth*=a}return V.makeFragment(l)}var j4=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Dw=(t,e)=>{var i=e.havingSize(t.size);return qg(t.body,i,e)};ye({type:"sizing",names:j4,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:i,funcName:l,parser:a}=t,o=a.parseExpression(!1,i);return{type:"sizing",mode:a.mode,size:j4.indexOf(l)+1,body:o}},htmlBuilder:Dw,mathmlBuilder:(t,e)=>{var i=e.havingSize(t.size),l=on(t.body,i),a=new ue.MathNode("mstyle",l);return a.setAttribute("mathsize",pe(i.sizeMultiplier)),a}});ye({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,i)=>{var{parser:l}=t,a=!1,o=!1,c=i[0]&&Pe(i[0],"ordgroup");if(c)for(var f="",m=0;m<c.body.length;++m){var p=c.body[m];if(f=p.text,f==="t")a=!0;else if(f==="b")o=!0;else{a=!1,o=!1;break}}else a=!0,o=!0;var x=e[0];return{type:"smash",mode:l.mode,body:x,smashHeight:a,smashDepth:o}},htmlBuilder:(t,e)=>{var i=V.makeSpan([],[Xe(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return i;if(t.smashHeight&&(i.height=0,i.children))for(var l=0;l<i.children.length;l++)i.children[l].height=0;if(t.smashDepth&&(i.depth=0,i.children))for(var a=0;a<i.children.length;a++)i.children[a].depth=0;var o=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e);return V.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var i=new ue.MathNode("mpadded",[ot(t.body,e)]);return t.smashHeight&&i.setAttribute("height","0px"),t.smashDepth&&i.setAttribute("depth","0px"),i}});ye({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:l}=t,a=i[0],o=e[0];return{type:"sqrt",mode:l.mode,body:o,index:a}},htmlBuilder(t,e){var i=Xe(t.body,e.havingCrampedStyle());i.height===0&&(i.height=e.fontMetrics().xHeight),i=V.wrapFragment(i,e);var l=e.fontMetrics(),a=l.defaultRuleThickness,o=a;e.style.id<ke.TEXT.id&&(o=e.fontMetrics().xHeight);var c=a+o/4,f=i.height+i.depth+c+a,{span:m,ruleWidth:p,advanceWidth:x}=Ti.sqrtImage(f,e),S=m.height-p;S>i.height+i.depth+c&&(c=(c+S-i.height-i.depth)/2);var w=m.height-i.height-c-p;i.style.paddingLeft=pe(x);var E=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+w)},{type:"elem",elem:m},{type:"kern",size:p}]},e);if(t.index){var _=e.havingStyle(ke.SCRIPTSCRIPT),R=Xe(t.index,_,e),k=.6*(E.height-E.depth),U=V.makeVList({positionType:"shift",positionData:-k,children:[{type:"elem",elem:R}]},e),q=V.makeSpan(["root"],[U]);return V.makeSpan(["mord","sqrt"],[q,E],e)}else return V.makeSpan(["mord","sqrt"],[E],e)},mathmlBuilder(t,e){var{body:i,index:l}=t;return l?new ue.MathNode("mroot",[ot(i,e),ot(l,e)]):new ue.MathNode("msqrt",[ot(i,e)])}});var Y4={display:ke.DISPLAY,text:ke.TEXT,script:ke.SCRIPT,scriptscript:ke.SCRIPTSCRIPT};ye({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:i,funcName:l,parser:a}=t,o=a.parseExpression(!0,i),c=l.slice(1,l.length-5);return{type:"styling",mode:a.mode,style:c,body:o}},htmlBuilder(t,e){var i=Y4[t.style],l=e.havingStyle(i).withFont("");return qg(t.body,l,e)},mathmlBuilder(t,e){var i=Y4[t.style],l=e.havingStyle(i),a=on(t.body,l),o=new ue.MathNode("mstyle",a),c={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},f=c[t.style];return o.setAttribute("scriptlevel",f[0]),o.setAttribute("displaystyle",f[1]),o}});var zw=function(e,i){var l=e.base;if(l)if(l.type==="op"){var a=l.limits&&(i.style.size===ke.DISPLAY.size||l.alwaysHandleSupSub);return a?Ll:null}else if(l.type==="operatorname"){var o=l.alwaysHandleSupSub&&(i.style.size===ke.DISPLAY.size||l.limits);return o?Pg:null}else{if(l.type==="accent")return Ze.isCharacterBox(l.base)?Td:null;if(l.type==="horizBrace"){var c=!e.sub;return c===l.isOver?Bg:null}else return null}else return null};Ur({type:"supsub",htmlBuilder(t,e){var i=zw(t,e);if(i)return i(t,e);var{base:l,sup:a,sub:o}=t,c=Xe(l,e),f,m,p=e.fontMetrics(),x=0,S=0,w=l&&Ze.isCharacterBox(l);if(a){var E=e.havingStyle(e.style.sup());f=Xe(a,E,e),w||(x=c.height-E.fontMetrics().supDrop*E.sizeMultiplier/e.sizeMultiplier)}if(o){var _=e.havingStyle(e.style.sub());m=Xe(o,_,e),w||(S=c.depth+_.fontMetrics().subDrop*_.sizeMultiplier/e.sizeMultiplier)}var R;e.style===ke.DISPLAY?R=p.sup1:e.style.cramped?R=p.sup3:R=p.sup2;var k=e.sizeMultiplier,U=pe(.5/p.ptPerEm/k),q=null;if(m){var J=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(c instanceof zn||J)&&(q=pe(-c.italic))}var te;if(f&&m){x=Math.max(x,R,f.depth+.25*p.xHeight),S=Math.max(S,p.sub2);var le=p.defaultRuleThickness,ne=4*le;if(x-f.depth-(m.height-S)<ne){S=ne-(x-f.depth)+m.height;var P=.8*p.xHeight-(x-f.depth);P>0&&(x+=P,S-=P)}var $=[{type:"elem",elem:m,shift:S,marginRight:U,marginLeft:q},{type:"elem",elem:f,shift:-x,marginRight:U}];te=V.makeVList({positionType:"individualShift",children:$},e)}else if(m){S=Math.max(S,p.sub1,m.height-.8*p.xHeight);var Z=[{type:"elem",elem:m,marginLeft:q,marginRight:U}];te=V.makeVList({positionType:"shift",positionData:S,children:Z},e)}else if(f)x=Math.max(x,R,f.depth+.25*p.xHeight),te=V.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:f,marginRight:U}]},e);else throw new Error("supsub must have either sup or sub.");var fe=Wc(c,"right")||"mord";return V.makeSpan([fe],[c,V.makeSpan(["msupsub"],[te])],e)},mathmlBuilder(t,e){var i=!1,l,a;t.base&&t.base.type==="horizBrace"&&(a=!!t.sup,a===t.base.isOver&&(i=!0,l=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[ot(t.base,e)];t.sub&&o.push(ot(t.sub,e)),t.sup&&o.push(ot(t.sup,e));var c;if(i)c=l?"mover":"munder";else if(t.sub)if(t.sup){var p=t.base;p&&p.type==="op"&&p.limits&&e.style===ke.DISPLAY||p&&p.type==="operatorname"&&p.alwaysHandleSupSub&&(e.style===ke.DISPLAY||p.limits)?c="munderover":c="msubsup"}else{var m=t.base;m&&m.type==="op"&&m.limits&&(e.style===ke.DISPLAY||m.alwaysHandleSupSub)||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(m.limits||e.style===ke.DISPLAY)?c="munder":c="msub"}else{var f=t.base;f&&f.type==="op"&&f.limits&&(e.style===ke.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||e.style===ke.DISPLAY)?c="mover":c="msup"}return new ue.MathNode(c,o)}});Ur({type:"atom",htmlBuilder(t,e){return V.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var i=new ue.MathNode("mo",[Ln(t.text,t.mode)]);if(t.family==="bin"){var l=Sd(t,e);l==="bold-italic"&&i.setAttribute("mathvariant",l)}else t.family==="punct"?i.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&i.setAttribute("stretchy","false");return i}});var Og={mi:"italic",mn:"normal",mtext:"normal"};Ur({type:"mathord",htmlBuilder(t,e){return V.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var i=new ue.MathNode("mi",[Ln(t.text,t.mode,e)]),l=Sd(t,e)||"italic";return l!==Og[i.type]&&i.setAttribute("mathvariant",l),i}});Ur({type:"textord",htmlBuilder(t,e){return V.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var i=Ln(t.text,t.mode,e),l=Sd(t,e)||"normal",a;return t.mode==="text"?a=new ue.MathNode("mtext",[i]):/[0-9]/.test(t.text)?a=new ue.MathNode("mn",[i]):t.text==="\\prime"?a=new ue.MathNode("mo",[i]):a=new ue.MathNode("mi",[i]),l!==Og[a.type]&&a.setAttribute("mathvariant",l),a}});var Ic={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Dc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ur({type:"spacing",htmlBuilder(t,e){if(Dc.hasOwnProperty(t.text)){var i=Dc[t.text].className||"";if(t.mode==="text"){var l=V.makeOrd(t,e,"textord");return l.classes.push(i),l}else return V.makeSpan(["mspace",i],[V.mathsym(t.text,t.mode,e)],e)}else{if(Ic.hasOwnProperty(t.text))return V.makeSpan(["mspace",Ic[t.text]],[],e);throw new ce('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var i;if(Dc.hasOwnProperty(t.text))i=new ue.MathNode("mtext",[new ue.TextNode("")]);else{if(Ic.hasOwnProperty(t.text))return new ue.MathNode("mspace");throw new ce('Unknown type of space "'+t.text+'"')}return i}});var J4=()=>{var t=new ue.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Ur({type:"tag",mathmlBuilder(t,e){var i=new ue.MathNode("mtable",[new ue.MathNode("mtr",[J4(),new ue.MathNode("mtd",[cr(t.body,e)]),J4(),new ue.MathNode("mtd",[cr(t.tag,e)])])]);return i.setAttribute("width","100%"),i}});var X4={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},K4={"\\textbf":"textbf","\\textmd":"textmd"},Lw={"\\textit":"textit","\\textup":"textup"},$4=(t,e)=>{var i=t.font;if(i){if(X4[i])return e.withTextFontFamily(X4[i]);if(K4[i])return e.withTextFontWeight(K4[i]);if(i==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Lw[i])};ye({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"text",mode:i.mode,body:Tt(a),font:l}},htmlBuilder(t,e){var i=$4(t,e),l=Dt(t.body,i,!0);return V.makeSpan(["mord","text"],l,i)},mathmlBuilder(t,e){var i=$4(t,e);return cr(t.body,i)}});ye({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"underline",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Xe(t.body,e),l=V.makeLineSpan("underline-line",e),a=e.fontMetrics().defaultRuleThickness,o=V.makeVList({positionType:"top",positionData:i.height,children:[{type:"kern",size:a},{type:"elem",elem:l},{type:"kern",size:3*a},{type:"elem",elem:i}]},e);return V.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var i=new ue.MathNode("mo",[new ue.TextNode("")]);i.setAttribute("stretchy","true");var l=new ue.MathNode("munder",[ot(t.body,e),i]);return l.setAttribute("accentunder","true"),l}});ye({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"vcenter",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Xe(t.body,e),l=e.fontMetrics().axisHeight,a=.5*(i.height-l-(i.depth+l));return V.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){return new ue.MathNode("mpadded",[ot(t.body,e)],["vcenter"])}});ye({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,i){throw new ce("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var i=Q4(t),l=[],a=e.havingStyle(e.style.text()),o=0;o<i.length;o++){var c=i[o];c==="~"&&(c="\\textasciitilde"),l.push(V.makeSymbol(c,"Typewriter-Regular",t.mode,a,["mord","texttt"]))}return V.makeSpan(["mord","text"].concat(a.sizingClasses(e)),V.tryCombineChars(l),a)},mathmlBuilder(t,e){var i=new ue.TextNode(Q4(t)),l=new ue.MathNode("mtext",[i]);return l.setAttribute("mathvariant","monospace"),l}});var Q4=t=>t.body.replace(/ /g,t.star?"":""),sr=dg,Vg=`[ \r
	]`,Uw="\\\\[a-zA-Z@]+",Bw="\\\\[^\uD800-\uDFFF]",Hw="("+Uw+")"+Vg+"*",Gw=`\\\\(
|[ \r	]+
?)[ \r	]*`,id="[-]",Pw=new RegExp(id+"+$"),qw="("+Vg+"+)|"+(Gw+"|")+"([!-\\[\\]---]"+(id+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(id+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Hw)+("|"+Bw+")");class Z4{constructor(e,i){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=i,this.tokenRegex=new RegExp(qw,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,i){this.catcodes[e]=i}lex(){var e=this.input,i=this.tokenRegex.lastIndex;if(i===e.length)return new xn("EOF",new sn(this,i,i));var l=this.tokenRegex.exec(e);if(l===null||l.index!==i)throw new ce("Unexpected character: '"+e[i]+"'",new xn(e[i],new sn(this,i,i+1)));var a=l[6]||l[3]||(l[2]?"\\ ":" ");if(this.catcodes[a]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new xn(a,new sn(this,i,this.tokenRegex.lastIndex))}}class Ow{constructor(e,i){e===void 0&&(e={}),i===void 0&&(i={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=i,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ce("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var i in e)e.hasOwnProperty(i)&&(e[i]==null?delete this.current[i]:this.current[i]=e[i])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,i,l){if(l===void 0&&(l=!1),l){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=i)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}i==null?delete this.current[e]:this.current[e]=i}}var Vw=Ig;M("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});M("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});M("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});M("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});M("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var i=t.future();return e[0].length===1&&e[0][0].text===i.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});M("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");M("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var W4={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};M("\\char",function(t){var e=t.popToken(),i,l="";if(e.text==="'")i=8,e=t.popToken();else if(e.text==='"')i=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")l=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ce("\\char` missing argument");l=e.text.charCodeAt(0)}else i=10;if(i){if(l=W4[e.text],l==null||l>=i)throw new ce("Invalid base-"+i+" digit "+e.text);for(var a;(a=W4[t.future().text])!=null&&a<i;)l*=i,l+=a,t.popToken()}return"\\@char{"+l+"}"});var kd=(t,e,i,l)=>{var a=t.consumeArg().tokens;if(a.length!==1)throw new ce("\\newcommand's first argument must be a macro name");var o=a[0].text,c=t.isDefined(o);if(c&&!e)throw new ce("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!c&&!i)throw new ce("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var f=0;if(a=t.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var m="",p=t.expandNextToken();p.text!=="]"&&p.text!=="EOF";)m+=p.text,p=t.expandNextToken();if(!m.match(/^\s*[0-9]+\s*$/))throw new ce("Invalid number of arguments: "+m);f=parseInt(m),a=t.consumeArg().tokens}return c&&l||t.macros.set(o,{tokens:a,numArgs:f}),""};M("\\newcommand",t=>kd(t,!1,!0,!1));M("\\renewcommand",t=>kd(t,!0,!1,!1));M("\\providecommand",t=>kd(t,!0,!0,!0));M("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(i=>i.text).join("")),""});M("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(i=>i.text).join("")),""});M("\\show",t=>{var e=t.popToken(),i=e.text;return console.log(e,t.macros.get(i),sr[i],ct.math[i],ct.text[i]),""});M("\\bgroup","{");M("\\egroup","}");M("~","\\nobreakspace");M("\\lq","`");M("\\rq","'");M("\\aa","\\r a");M("\\AA","\\r A");M("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");M("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");M("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");M("","\\mathscr{B}");M("","\\mathscr{E}");M("","\\mathscr{F}");M("","\\mathscr{H}");M("","\\mathscr{I}");M("","\\mathscr{L}");M("","\\mathscr{M}");M("","\\mathscr{R}");M("","\\mathfrak{C}");M("","\\mathfrak{H}");M("","\\mathfrak{Z}");M("\\Bbbk","\\Bbb{k}");M("","\\cdotp");M("\\llap","\\mathllap{\\textrm{#1}}");M("\\rlap","\\mathrlap{\\textrm{#1}}");M("\\clap","\\mathclap{\\textrm{#1}}");M("\\mathstrut","\\vphantom{(}");M("\\underbar","\\underline{\\text{#1}}");M("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');M("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");M("\\ne","\\neq");M("","\\neq");M("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");M("","\\notin");M("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");M("","\\perp");M("","\\mathclose{!\\mkern-0.8mu!}");M("","\\notni");M("","\\ulcorner");M("","\\urcorner");M("","\\llcorner");M("","\\lrcorner");M("","\\copyright");M("","\\textregistered");M("","\\textregistered");M("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');M("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');M("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');M("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');M("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");M("","\\vdots");M("\\varGamma","\\mathit{\\Gamma}");M("\\varDelta","\\mathit{\\Delta}");M("\\varTheta","\\mathit{\\Theta}");M("\\varLambda","\\mathit{\\Lambda}");M("\\varXi","\\mathit{\\Xi}");M("\\varPi","\\mathit{\\Pi}");M("\\varSigma","\\mathit{\\Sigma}");M("\\varUpsilon","\\mathit{\\Upsilon}");M("\\varPhi","\\mathit{\\Phi}");M("\\varPsi","\\mathit{\\Psi}");M("\\varOmega","\\mathit{\\Omega}");M("\\substack","\\begin{subarray}{c}#1\\end{subarray}");M("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");M("\\boxed","\\fbox{$\\displaystyle{#1}$}");M("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");M("\\implies","\\DOTSB\\;\\Longrightarrow\\;");M("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");M("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");M("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var e2={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};M("\\dots",function(t){var e="\\dotso",i=t.expandAfterFuture().text;return i in e2?e=e2[i]:(i.slice(0,4)==="\\not"||i in ct.math&&["bin","rel"].includes(ct.math[i].group))&&(e="\\dotsb"),e});var Id={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};M("\\dotso",function(t){var e=t.future().text;return e in Id?"\\ldots\\,":"\\ldots"});M("\\dotsc",function(t){var e=t.future().text;return e in Id&&e!==","?"\\ldots\\,":"\\ldots"});M("\\cdots",function(t){var e=t.future().text;return e in Id?"\\@cdots\\,":"\\@cdots"});M("\\dotsb","\\cdots");M("\\dotsm","\\cdots");M("\\dotsi","\\!\\cdots");M("\\dotsx","\\ldots\\,");M("\\DOTSI","\\relax");M("\\DOTSB","\\relax");M("\\DOTSX","\\relax");M("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");M("\\,","\\tmspace+{3mu}{.1667em}");M("\\thinspace","\\,");M("\\>","\\mskip{4mu}");M("\\:","\\tmspace+{4mu}{.2222em}");M("\\medspace","\\:");M("\\;","\\tmspace+{5mu}{.2777em}");M("\\thickspace","\\;");M("\\!","\\tmspace-{3mu}{.1667em}");M("\\negthinspace","\\!");M("\\negmedspace","\\tmspace-{4mu}{.2222em}");M("\\negthickspace","\\tmspace-{5mu}{.277em}");M("\\enspace","\\kern.5em ");M("\\enskip","\\hskip.5em\\relax");M("\\quad","\\hskip1em\\relax");M("\\qquad","\\hskip2em\\relax");M("\\tag","\\@ifstar\\tag@literal\\tag@paren");M("\\tag@paren","\\tag@literal{({#1})}");M("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ce("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});M("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");M("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");M("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");M("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");M("\\newline","\\\\\\relax");M("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Fg=pe(Kn["Main-Regular"][84][1]-.7*Kn["Main-Regular"][65][1]);M("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Fg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");M("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Fg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");M("\\hspace","\\@ifstar\\@hspacer\\@hspace");M("\\@hspace","\\hskip #1\\relax");M("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");M("\\ordinarycolon",":");M("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");M("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');M("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');M("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');M("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');M("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');M("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');M("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');M("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');M("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');M("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');M("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');M("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');M("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');M("","\\dblcolon");M("","\\eqcolon");M("","\\coloneqq");M("","\\eqqcolon");M("","\\Coloneqq");M("\\ratio","\\vcentcolon");M("\\coloncolon","\\dblcolon");M("\\colonequals","\\coloneqq");M("\\coloncolonequals","\\Coloneqq");M("\\equalscolon","\\eqqcolon");M("\\equalscoloncolon","\\Eqqcolon");M("\\colonminus","\\coloneq");M("\\coloncolonminus","\\Coloneq");M("\\minuscolon","\\eqcolon");M("\\minuscoloncolon","\\Eqcolon");M("\\coloncolonapprox","\\Colonapprox");M("\\coloncolonsim","\\Colonsim");M("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");M("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");M("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");M("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");M("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");M("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");M("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");M("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");M("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");M("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");M("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");M("\\ngeqq","\\html@mathml{\\@ngeqq}{}");M("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");M("\\nleqq","\\html@mathml{\\@nleqq}{}");M("\\nleqslant","\\html@mathml{\\@nleqslant}{}");M("\\nshortmid","\\html@mathml{\\@nshortmid}{}");M("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");M("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");M("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");M("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");M("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");M("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");M("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");M("\\imath","\\html@mathml{\\@imath}{}");M("\\jmath","\\html@mathml{\\@jmath}{}");M("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");M("","\\llbracket");M("","\\rrbracket");M("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");M("","\\lBrace");M("","\\rBrace");M("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");M("","\\minuso");M("\\darr","\\downarrow");M("\\dArr","\\Downarrow");M("\\Darr","\\Downarrow");M("\\lang","\\langle");M("\\rang","\\rangle");M("\\uarr","\\uparrow");M("\\uArr","\\Uparrow");M("\\Uarr","\\Uparrow");M("\\N","\\mathbb{N}");M("\\R","\\mathbb{R}");M("\\Z","\\mathbb{Z}");M("\\alef","\\aleph");M("\\alefsym","\\aleph");M("\\Alpha","\\mathrm{A}");M("\\Beta","\\mathrm{B}");M("\\bull","\\bullet");M("\\Chi","\\mathrm{X}");M("\\clubs","\\clubsuit");M("\\cnums","\\mathbb{C}");M("\\Complex","\\mathbb{C}");M("\\Dagger","\\ddagger");M("\\diamonds","\\diamondsuit");M("\\empty","\\emptyset");M("\\Epsilon","\\mathrm{E}");M("\\Eta","\\mathrm{H}");M("\\exist","\\exists");M("\\harr","\\leftrightarrow");M("\\hArr","\\Leftrightarrow");M("\\Harr","\\Leftrightarrow");M("\\hearts","\\heartsuit");M("\\image","\\Im");M("\\infin","\\infty");M("\\Iota","\\mathrm{I}");M("\\isin","\\in");M("\\Kappa","\\mathrm{K}");M("\\larr","\\leftarrow");M("\\lArr","\\Leftarrow");M("\\Larr","\\Leftarrow");M("\\lrarr","\\leftrightarrow");M("\\lrArr","\\Leftrightarrow");M("\\Lrarr","\\Leftrightarrow");M("\\Mu","\\mathrm{M}");M("\\natnums","\\mathbb{N}");M("\\Nu","\\mathrm{N}");M("\\Omicron","\\mathrm{O}");M("\\plusmn","\\pm");M("\\rarr","\\rightarrow");M("\\rArr","\\Rightarrow");M("\\Rarr","\\Rightarrow");M("\\real","\\Re");M("\\reals","\\mathbb{R}");M("\\Reals","\\mathbb{R}");M("\\Rho","\\mathrm{P}");M("\\sdot","\\cdot");M("\\sect","\\S");M("\\spades","\\spadesuit");M("\\sub","\\subset");M("\\sube","\\subseteq");M("\\supe","\\supseteq");M("\\Tau","\\mathrm{T}");M("\\thetasym","\\vartheta");M("\\weierp","\\wp");M("\\Zeta","\\mathrm{Z}");M("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");M("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");M("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");M("\\bra","\\mathinner{\\langle{#1}|}");M("\\ket","\\mathinner{|{#1}\\rangle}");M("\\braket","\\mathinner{\\langle{#1}\\rangle}");M("\\Bra","\\left\\langle#1\\right|");M("\\Ket","\\left|#1\\right\\rangle");var jg=t=>e=>{var i=e.consumeArg().tokens,l=e.consumeArg().tokens,a=e.consumeArg().tokens,o=e.consumeArg().tokens,c=e.macros.get("|"),f=e.macros.get("\\|");e.macros.beginGroup();var m=S=>w=>{t&&(w.macros.set("|",c),a.length&&w.macros.set("\\|",f));var E=S;if(!S&&a.length){var _=w.future();_.text==="|"&&(w.popToken(),E=!0)}return{tokens:E?a:l,numArgs:0}};e.macros.set("|",m(!1)),a.length&&e.macros.set("\\|",m(!0));var p=e.consumeArg().tokens,x=e.expandTokens([...o,...p,...i]);return e.macros.endGroup(),{tokens:x.reverse(),numArgs:0}};M("\\bra@ket",jg(!1));M("\\bra@set",jg(!0));M("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");M("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");M("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");M("\\angln","{\\angl n}");M("\\blue","\\textcolor{##6495ed}{#1}");M("\\orange","\\textcolor{##ffa500}{#1}");M("\\pink","\\textcolor{##ff00af}{#1}");M("\\red","\\textcolor{##df0030}{#1}");M("\\green","\\textcolor{##28ae7b}{#1}");M("\\gray","\\textcolor{gray}{#1}");M("\\purple","\\textcolor{##9d38bd}{#1}");M("\\blueA","\\textcolor{##ccfaff}{#1}");M("\\blueB","\\textcolor{##80f6ff}{#1}");M("\\blueC","\\textcolor{##63d9ea}{#1}");M("\\blueD","\\textcolor{##11accd}{#1}");M("\\blueE","\\textcolor{##0c7f99}{#1}");M("\\tealA","\\textcolor{##94fff5}{#1}");M("\\tealB","\\textcolor{##26edd5}{#1}");M("\\tealC","\\textcolor{##01d1c1}{#1}");M("\\tealD","\\textcolor{##01a995}{#1}");M("\\tealE","\\textcolor{##208170}{#1}");M("\\greenA","\\textcolor{##b6ffb0}{#1}");M("\\greenB","\\textcolor{##8af281}{#1}");M("\\greenC","\\textcolor{##74cf70}{#1}");M("\\greenD","\\textcolor{##1fab54}{#1}");M("\\greenE","\\textcolor{##0d923f}{#1}");M("\\goldA","\\textcolor{##ffd0a9}{#1}");M("\\goldB","\\textcolor{##ffbb71}{#1}");M("\\goldC","\\textcolor{##ff9c39}{#1}");M("\\goldD","\\textcolor{##e07d10}{#1}");M("\\goldE","\\textcolor{##a75a05}{#1}");M("\\redA","\\textcolor{##fca9a9}{#1}");M("\\redB","\\textcolor{##ff8482}{#1}");M("\\redC","\\textcolor{##f9685d}{#1}");M("\\redD","\\textcolor{##e84d39}{#1}");M("\\redE","\\textcolor{##bc2612}{#1}");M("\\maroonA","\\textcolor{##ffbde0}{#1}");M("\\maroonB","\\textcolor{##ff92c6}{#1}");M("\\maroonC","\\textcolor{##ed5fa6}{#1}");M("\\maroonD","\\textcolor{##ca337c}{#1}");M("\\maroonE","\\textcolor{##9e034e}{#1}");M("\\purpleA","\\textcolor{##ddd7ff}{#1}");M("\\purpleB","\\textcolor{##c6b9fc}{#1}");M("\\purpleC","\\textcolor{##aa87ff}{#1}");M("\\purpleD","\\textcolor{##7854ab}{#1}");M("\\purpleE","\\textcolor{##543b78}{#1}");M("\\mintA","\\textcolor{##f5f9e8}{#1}");M("\\mintB","\\textcolor{##edf2df}{#1}");M("\\mintC","\\textcolor{##e0e5cc}{#1}");M("\\grayA","\\textcolor{##f6f7f7}{#1}");M("\\grayB","\\textcolor{##f0f1f2}{#1}");M("\\grayC","\\textcolor{##e3e5e6}{#1}");M("\\grayD","\\textcolor{##d6d8da}{#1}");M("\\grayE","\\textcolor{##babec2}{#1}");M("\\grayF","\\textcolor{##888d93}{#1}");M("\\grayG","\\textcolor{##626569}{#1}");M("\\grayH","\\textcolor{##3b3e40}{#1}");M("\\grayI","\\textcolor{##21242c}{#1}");M("\\kaBlue","\\textcolor{##314453}{#1}");M("\\kaGreen","\\textcolor{##71B307}{#1}");var Yg={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Fw{constructor(e,i,l){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=i,this.expansionCount=0,this.feed(e),this.macros=new Ow(Vw,i.macros),this.mode=l,this.stack=[]}feed(e){this.lexer=new Z4(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var i,l,a;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;i=this.popToken(),{tokens:a,end:l}=this.consumeArg(["]"])}else({tokens:a,start:i,end:l}=this.consumeArg());return this.pushToken(new xn("EOF",l.loc)),this.pushTokens(a),new xn("",sn.range(i,l))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var i=[],l=e&&e.length>0;l||this.consumeSpaces();var a=this.future(),o,c=0,f=0;do{if(o=this.popToken(),i.push(o),o.text==="{")++c;else if(o.text==="}"){if(--c,c===-1)throw new ce("Extra }",o)}else if(o.text==="EOF")throw new ce("Unexpected end of input in a macro argument, expected '"+(e&&l?e[f]:"}")+"'",o);if(e&&l)if((c===0||c===1&&e[f]==="{")&&o.text===e[f]){if(++f,f===e.length){i.splice(-f,f);break}}else f=0}while(c!==0||l);return a.text==="{"&&i[i.length-1].text==="}"&&(i.pop(),i.shift()),i.reverse(),{tokens:i,start:a,end:o}}consumeArgs(e,i){if(i){if(i.length!==e+1)throw new ce("The length of delimiters doesn't match the number of args!");for(var l=i[0],a=0;a<l.length;a++){var o=this.popToken();if(l[a]!==o.text)throw new ce("Use of the macro doesn't match its definition",o)}}for(var c=[],f=0;f<e;f++)c.push(this.consumeArg(i&&i[f+1]).tokens);return c}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ce("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var i=this.popToken(),l=i.text,a=i.noexpand?null:this._getExpansion(l);if(a==null||e&&a.unexpandable){if(e&&a==null&&l[0]==="\\"&&!this.isDefined(l))throw new ce("Undefined control sequence: "+l);return this.pushToken(i),!1}this.countExpansion(1);var o=a.tokens,c=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){o=o.slice();for(var f=o.length-1;f>=0;--f){var m=o[f];if(m.text==="#"){if(f===0)throw new ce("Incomplete placeholder at end of macro body",m);if(m=o[--f],m.text==="#")o.splice(f+1,1);else if(/^[1-9]$/.test(m.text))o.splice(f,2,...c[+m.text-1]);else throw new ce("Not a valid argument number",m)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new xn(e)]):void 0}expandTokens(e){var i=[],l=this.stack.length;for(this.pushTokens(e);this.stack.length>l;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),i.push(a)}return this.countExpansion(i.length),i}expandMacroAsText(e){var i=this.expandMacro(e);return i&&i.map(l=>l.text).join("")}_getExpansion(e){var i=this.macros.get(e);if(i==null)return i;if(e.length===1){var l=this.lexer.catcodes[e];if(l!=null&&l!==13)return}var a=typeof i=="function"?i(this):i;if(typeof a=="string"){var o=0;if(a.indexOf("#")!==-1)for(var c=a.replace(/##/g,"");c.indexOf("#"+(o+1))!==-1;)++o;for(var f=new Z4(a,this.settings),m=[],p=f.lex();p.text!=="EOF";)m.push(p),p=f.lex();m.reverse();var x={tokens:m,numArgs:o};return x}return a}isDefined(e){return this.macros.has(e)||sr.hasOwnProperty(e)||ct.math.hasOwnProperty(e)||ct.text.hasOwnProperty(e)||Yg.hasOwnProperty(e)}isExpandable(e){var i=this.macros.get(e);return i!=null?typeof i=="string"||typeof i=="function"||!i.unexpandable:sr.hasOwnProperty(e)&&!sr[e].primitive}}var t2=/^[]/,wo=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),zc={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},n2={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Wo{constructor(e,i){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Fw(e,i,this.mode),this.settings=i,this.leftrightDepth=0}expect(e,i){if(i===void 0&&(i=!0),this.fetch().text!==e)throw new ce("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());i&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var i=this.nextToken;this.consume(),this.gullet.pushToken(new xn("}")),this.gullet.pushTokens(e);var l=this.parseExpression(!1);return this.expect("}"),this.nextToken=i,l}parseExpression(e,i){for(var l=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(Wo.endOfExpression.indexOf(a.text)!==-1||i&&a.text===i||e&&sr[a.text]&&sr[a.text].infix)break;var o=this.parseAtom(i);if(o){if(o.type==="internal")continue}else break;l.push(o)}return this.mode==="text"&&this.formLigatures(l),this.handleInfixNodes(l)}handleInfixNodes(e){for(var i=-1,l,a=0;a<e.length;a++)if(e[a].type==="infix"){if(i!==-1)throw new ce("only one infix operator per group",e[a].token);i=a,l=e[a].replaceWith}if(i!==-1&&l){var o,c,f=e.slice(0,i),m=e.slice(i+1);f.length===1&&f[0].type==="ordgroup"?o=f[0]:o={type:"ordgroup",mode:this.mode,body:f},m.length===1&&m[0].type==="ordgroup"?c=m[0]:c={type:"ordgroup",mode:this.mode,body:m};var p;return l==="\\\\abovefrac"?p=this.callFunction(l,[o,e[i],c],[]):p=this.callFunction(l,[o,c],[]),[p]}else return e}handleSupSubscript(e){var i=this.fetch(),l=i.text;this.consume(),this.consumeSpaces();var a;do{var o;a=this.parseGroup(e)}while(((o=a)==null?void 0:o.type)==="internal");if(!a)throw new ce("Expected group after '"+l+"'",i);return a}formatUnsupportedCmd(e){for(var i=[],l=0;l<e.length;l++)i.push({type:"textord",mode:"text",text:e[l]});var a={type:"text",mode:this.mode,body:i},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return o}parseAtom(e){var i=this.parseGroup("atom",e);if((i==null?void 0:i.type)==="internal"||this.mode==="text")return i;for(var l,a;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(i&&i.type==="op"){var c=o.text==="\\limits";i.limits=c,i.alwaysHandleSupSub=!0}else if(i&&i.type==="operatorname")i.alwaysHandleSupSub&&(i.limits=o.text==="\\limits");else throw new ce("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(l)throw new ce("Double superscript",o);l=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(a)throw new ce("Double subscript",o);a=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(l)throw new ce("Double superscript",o);var f={type:"textord",mode:this.mode,text:"\\prime"},m=[f];for(this.consume();this.fetch().text==="'";)m.push(f),this.consume();this.fetch().text==="^"&&m.push(this.handleSupSubscript("superscript")),l={type:"ordgroup",mode:this.mode,body:m}}else if(wo[o.text]){var p=t2.test(o.text),x=[];for(x.push(new xn(wo[o.text])),this.consume();;){var S=this.fetch().text;if(!wo[S]||t2.test(S)!==p)break;x.unshift(new xn(wo[S])),this.consume()}var w=this.subparse(x);p?a={type:"ordgroup",mode:"math",body:w}:l={type:"ordgroup",mode:"math",body:w}}else break}return l||a?{type:"supsub",mode:this.mode,base:i,sup:l,sub:a}:i}parseFunction(e,i){var l=this.fetch(),a=l.text,o=sr[a];if(!o)return null;if(this.consume(),i&&i!=="atom"&&!o.allowedInArgument)throw new ce("Got function '"+a+"' with no arguments"+(i?" as "+i:""),l);if(this.mode==="text"&&!o.allowedInText)throw new ce("Can't use function '"+a+"' in text mode",l);if(this.mode==="math"&&o.allowedInMath===!1)throw new ce("Can't use function '"+a+"' in math mode",l);var{args:c,optArgs:f}=this.parseArguments(a,o);return this.callFunction(a,c,f,l,e)}callFunction(e,i,l,a,o){var c={funcName:e,parser:this,token:a,breakOnTokenText:o},f=sr[e];if(f&&f.handler)return f.handler(c,i,l);throw new ce("No function handler for "+e)}parseArguments(e,i){var l=i.numArgs+i.numOptionalArgs;if(l===0)return{args:[],optArgs:[]};for(var a=[],o=[],c=0;c<l;c++){var f=i.argTypes&&i.argTypes[c],m=c<i.numOptionalArgs;(i.primitive&&f==null||i.type==="sqrt"&&c===1&&o[0]==null)&&(f="primitive");var p=this.parseGroupOfType("argument to '"+e+"'",f,m);if(m)o.push(p);else if(p!=null)a.push(p);else throw new ce("Null argument, please report this as a bug")}return{args:a,optArgs:o}}parseGroupOfType(e,i,l){switch(i){case"color":return this.parseColorGroup(l);case"size":return this.parseSizeGroup(l);case"url":return this.parseUrlGroup(l);case"math":case"text":return this.parseArgumentGroup(l,i);case"hbox":{var a=this.parseArgumentGroup(l,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",l);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(l)throw new ce("A primitive argument cannot be optional");var c=this.parseGroup(e);if(c==null)throw new ce("Expected group as "+e,this.fetch());return c}case"original":case null:case void 0:return this.parseArgumentGroup(l);default:throw new ce("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,i){var l=this.gullet.scanArgument(i);if(l==null)return null;for(var a="",o;(o=this.fetch()).text!=="EOF";)a+=o.text,this.consume();return this.consume(),l.text=a,l}parseRegexGroup(e,i){for(var l=this.fetch(),a=l,o="",c;(c=this.fetch()).text!=="EOF"&&e.test(o+c.text);)a=c,o+=a.text,this.consume();if(o==="")throw new ce("Invalid "+i+": '"+l.text+"'",l);return l.range(a,o)}parseColorGroup(e){var i=this.parseStringGroup("color",e);if(i==null)return null;var l=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(i.text);if(!l)throw new ce("Invalid color: '"+i.text+"'",i);var a=l[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(e){var i,l=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?i=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):i=this.parseStringGroup("size",e),!i)return null;!e&&i.text.length===0&&(i.text="0pt",l=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(i.text);if(!a)throw new ce("Invalid size: '"+i.text+"'",i);var o={number:+(a[1]+a[2]),unit:a[3]};if(!ng(o))throw new ce("Invalid unit: '"+o.unit+"'",i);return{type:"size",mode:this.mode,value:o,isBlank:l}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var i=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),i==null)return null;var l=i.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:l}}parseArgumentGroup(e,i){var l=this.gullet.scanArgument(e);if(l==null)return null;var a=this.mode;i&&this.switchMode(i),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var c={type:"ordgroup",mode:this.mode,loc:l.loc,body:o};return i&&this.switchMode(a),c}parseGroup(e,i){var l=this.fetch(),a=l.text,o;if(a==="{"||a==="\\begingroup"){this.consume();var c=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var f=this.parseExpression(!1,c),m=this.fetch();this.expect(c),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:sn.range(l,m),body:f,semisimple:a==="\\begingroup"||void 0}}else if(o=this.parseFunction(i,e)||this.parseSymbol(),o==null&&a[0]==="\\"&&!Yg.hasOwnProperty(a)){if(this.settings.throwOnError)throw new ce("Undefined control sequence: "+a,l);o=this.formatUnsupportedCmd(a),this.consume()}return o}formLigatures(e){for(var i=e.length-1,l=0;l<i;++l){var a=e[l],o=a.text;o==="-"&&e[l+1].text==="-"&&(l+1<i&&e[l+2].text==="-"?(e.splice(l,3,{type:"textord",mode:"text",loc:sn.range(a,e[l+2]),text:"---"}),i-=2):(e.splice(l,2,{type:"textord",mode:"text",loc:sn.range(a,e[l+1]),text:"--"}),i-=1)),(o==="'"||o==="`")&&e[l+1].text===o&&(e.splice(l,2,{type:"textord",mode:"text",loc:sn.range(a,e[l+1]),text:o+o}),i-=1)}}parseSymbol(){var e=this.fetch(),i=e.text;if(/^\\verb[^a-zA-Z]/.test(i)){this.consume();var l=i.slice(5),a=l.charAt(0)==="*";if(a&&(l=l.slice(1)),l.length<2||l.charAt(0)!==l.slice(-1))throw new ce(`\\verb assertion failed --
                    please report what input caused this bug`);return l=l.slice(1,-1),{type:"verb",mode:"text",body:l,star:a}}n2.hasOwnProperty(i[0])&&!ct[this.mode][i[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+i[0]+'" used in math mode',e),i=n2[i[0]]+i.slice(1));var o=Pw.exec(i);o&&(i=i.substring(0,o.index),i==="i"?i="":i==="j"&&(i=""));var c;if(ct[this.mode][i]){this.settings.strict&&this.mode==="math"&&Zc.indexOf(i)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+i[0]+'" used in math mode',e);var f=ct[this.mode][i].group,m=sn.range(e),p;if(IS.hasOwnProperty(f)){var x=f;p={type:"atom",mode:this.mode,family:x,loc:m,text:i}}else p={type:f,mode:this.mode,loc:m,text:i};c=p}else if(i.charCodeAt(0)>=128)this.settings.strict&&(tg(i.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+i[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+i[0]+'"'+(" ("+i.charCodeAt(0)+")"),e)),c={type:"textord",mode:"text",loc:sn.range(e),text:i};else return null;if(this.consume(),o)for(var S=0;S<o[0].length;S++){var w=o[0][S];if(!zc[w])throw new ce("Unknown accent ' "+w+"'",e);var E=zc[w][this.mode]||zc[w].text;if(!E)throw new ce("Accent "+w+" unsupported in "+this.mode+" mode",e);c={type:"accent",mode:this.mode,loc:sn.range(e),label:E,isStretchy:!1,isShifty:!0,base:c}}return c}}Wo.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Dd=function(e,i){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var l=new Wo(e,i);delete l.gullet.macros.current["\\df@tag"];var a=l.parse();if(delete l.gullet.macros.current["\\current@color"],delete l.gullet.macros.current["\\color"],l.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new ce("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:l.subparse([new xn("\\df@tag")])}]}return a},Jg=function(e,i,l){i.textContent="";var a=zd(e,l).toNode();i.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Jg=function(){throw new ce("KaTeX doesn't work in quirks mode.")});var jw=function(e,i){var l=zd(e,i).toMarkup();return l},Yw=function(e,i){var l=new pd(i);return Dd(e,l)},Xg=function(e,i,l){if(l.throwOnError||!(e instanceof ce))throw e;var a=V.makeSpan(["katex-error"],[new zn(i)]);return a.setAttribute("title",e.toString()),a.setAttribute("style","color:"+l.errorColor),a},zd=function(e,i){var l=new pd(i);try{var a=Dd(e,l);return tw(a,e,l)}catch(o){return Xg(o,e,l)}},Jw=function(e,i){var l=new pd(i);try{var a=Dd(e,l);return nw(a,e,l)}catch(o){return Xg(o,e,l)}},Xw="0.16.27",Kw={Span:Va,Anchor:yd,SymbolNode:zn,SvgNode:Ei,PathNode:ur,LineNode:Qc},$w={version:Xw,render:Jg,renderToString:jw,ParseError:ce,SETTINGS_SCHEMA:Eo,__parse:Yw,__renderToDomTree:zd,__renderToHTMLTree:Jw,__setFontMetrics:AS,__defineSymbol:b,__defineFunction:ye,__defineMacro:M,__domTree:Kw};const Qw="latexAutofixEnabled",Zw=()=>{try{const t=localStorage.getItem(Qw);return t===null?!0:t==="true"}catch{return!0}},La=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),It=me.memo(({content:t,className:e="",enableAutoFix:i})=>{const l=me.useMemo(()=>{const o=String(t||"");if(!o)return"";const c=o,f=c.includes("$$")||c.includes("\\(")||c.includes("\\[")||/(^|[^\\])\$/.test(c),m=/\\(frac|sqrt|times|cdot|pm|leq|geq|neq|approx|sin|cos|tan|log|ln)\b/.test(c)||new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)").test(c),x=(i??Zw())&&!f&&m,S=new RegExp("(\\$\\$[\\s\\S]+?\\$\\$|\\\\\\[[\\s\\S]+?\\\\\\]|\\\\\\(.*?\\\\\\)|(?<!\\\\)\\$.*?\\$)","g");let w;try{w=c.split(S)}catch{const q=/(\$\$[\s\S]+?\$\$|\\\[[\s\S]+?\\\]|\\\(.*?\\\))/g;w=c.split(q)}const E=/\\frac\s*\{[^{}]*\}\s*\{[^{}]*\}/g,_=/\\(?:frac|sqrt|times|cdot|pm|leq|geq|neq|approx|pi|theta|sin|cos|tan|log|ln)\b(?:\s*\{[^{}]*\})?/g,R=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)(?:\\s*[+\\-*/]\\s*\\d+)?","g"),k=U=>{if(!x)return La(U).replace(/\n/g,"<br/>");const q=[],J=String(U||""),te=new RegExp(`${E.source}|${_.source}|${R.source}`,"g");let le=0;for(const ne of J.matchAll(te)){if(ne.index==null)continue;const P=ne.index,$=P+ne[0].length;P>le&&q.push(La(J.slice(le,P)).replace(/\n/g,"<br/>"));const Z=ne[0];/^\\[ntr]$/.test(Z)?q.push(La(Z)):q.push(a(Z,!1)),le=$}return le<J.length&&q.push(La(J.slice(le)).replace(/\n/g,"<br/>")),q.join("")};return w.map(U=>U?U.startsWith("$$")&&U.endsWith("$$")||U.startsWith("\\[")&&U.endsWith("\\]")?a(U.slice(2,-2),!0):U.startsWith("\\(")&&U.endsWith("\\)")?a(U.slice(2,-2),!1):U.startsWith("$")&&U.endsWith("$")?a(U.slice(1,-1),!1):k(U):"").join("")},[t,i]);function a(o,c){try{return $w.renderToString(o,{displayMode:c,throwOnError:!1,output:"html",strict:!1,trust:!0,macros:{"\\RR":"\\mathbb{R}","\\NN":"\\mathbb{N}"}})}catch(f){return console.warn("KaTeX render error for formula:",o,f),`<code class="bg-red-50 text-red-600 px-1 rounded">${La(o)}</code>`}}return v.jsx("div",{className:`latex-container ${e} prose prose-slate max-w-none leading-relaxed transition-opacity duration-200`,dangerouslySetInnerHTML:{__html:l}})});It.displayName="LaTeXRenderer";const Ww=({question:t,isSelected:e=!1,onToggleSelect:i,onDelete:l,onRestore:a,onView:o,onEdit:c,onUpdateDifficulty:f,onSelectKnowledgePoint:m,isTrashMode:p=!1})=>{const[x,S]=me.useState(!1),[w,E]=me.useState(!1),_=4,R=(P,$)=>{P.stopPropagation(),f==null||f(t.id,$)},k=(P,$)=>{P.stopPropagation(),m==null||m($)},U=P=>{P.stopPropagation(),S(!x)},q=P=>{P.stopPropagation(),E(!w)},J=P=>{P.stopPropagation(),i==null||i()},te=Array.isArray(t.knowledgePoints)?t.knowledgePoints:[],le=x?te:te.slice(0,_),ne=te.length>_;return v.jsxs("div",{className:`bg-white rounded-xl shadow-sm border overflow-hidden hover:shadow-md transition-all flex flex-col h-full group relative cursor-pointer ${e?"border-indigo-500 ring-2 ring-indigo-500/20":"border-slate-200"}`,onClick:()=>o==null?void 0:o(t),children:[v.jsx("div",{className:`absolute top-2 right-2 z-20 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shadow-sm ${e?"bg-indigo-600 border-indigo-600 scale-110":"bg-white/80 border-slate-300 opacity-0 group-hover:opacity-100 hover:border-indigo-400 backdrop-blur-sm"}`,onClick:J,children:e&&v.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),t.image&&v.jsxs("div",{className:"relative h-40 shrink-0 overflow-hidden bg-slate-100 border-b border-slate-100",children:[v.jsx("img",{src:t.image,alt:"Question",className:"w-full h-full object-contain"}),t.diagramDescription&&v.jsx("div",{className:"absolute top-2 left-2 z-10",children:v.jsx("button",{onClick:q,className:`p-1.5 rounded-lg backdrop-blur-md transition-all border ${w?"bg-indigo-600 text-white border-indigo-500":"bg-white/70 text-slate-600 border-white/50 hover:bg-white/90 shadow-sm"}`,title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),w&&t.diagramDescription&&v.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm p-4 flex items-center justify-center animate-in fade-in duration-200",children:v.jsxs("div",{className:"relative text-white text-xs leading-relaxed max-h-full overflow-y-auto",children:[v.jsx("p",{className:"font-bold mb-1 flex items-center gap-1 opacity-70",children:""}),t.diagramDescription,v.jsx("button",{onClick:q,className:"absolute -top-2 -right-2 p-1 text-white/50 hover:text-white",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})]}),v.jsxs("div",{className:`p-4 flex flex-col flex-1 transition-colors ${e?"bg-indigo-50/30":""}`,children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full uppercase",children:t.subject}),v.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((P,$)=>v.jsx("button",{onClick:Z=>R(Z,$+1),className:"focus:outline-none hover:scale-110 transition-transform",children:v.jsx("svg",{className:`w-4 h-4 ${$<t.difficulty?"fill-current":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},$))})]}),v.jsx("div",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:v.jsx(It,{content:t.content})}),v.jsx("div",{className:"mt-auto pt-2 border-t border-slate-50",children:v.jsxs("div",{className:"flex flex-wrap gap-1",children:[le.map((P,$)=>v.jsxs("button",{onClick:Z=>k(Z,P),className:"text-[10px] px-1.5 py-0.5 bg-slate-50 text-slate-500 rounded border border-slate-100 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-100 transition-all focus:outline-none",children:["#",P]},$)),ne&&v.jsx("button",{onClick:U,className:"text-[10px] px-1.5 py-0.5 text-indigo-500 hover:text-indigo-700 font-semibold focus:outline-none",children:x?"":`+${t.knowledgePoints.length-_}`})]})}),v.jsxs("div",{className:"flex justify-between items-center border-t border-slate-50 mt-4 pt-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[!p&&t.lastReviewedAt&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded font-bold uppercase tracking-widest",children:""}),p&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded font-bold uppercase tracking-widest",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[!p&&v.jsx("button",{onClick:P=>{P.stopPropagation(),c==null||c(t)},className:"p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),p?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:P=>{P.stopPropagation(),a==null||a(t.id)},className:"p-1 text-emerald-500 hover:bg-emerald-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v.jsx("button",{onClick:P=>{P.stopPropagation(),l==null||l(t.id)},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):v.jsx("button",{onClick:P=>{P.stopPropagation(),l==null||l(t.id)},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})]})},eT=({question:t,isSelected:e=!1,onToggleSelect:i,onDelete:l,onRestore:a,onView:o,onEdit:c,onUpdateDifficulty:f,onSelectKnowledgePoint:m,isTrashMode:p=!1})=>{const x=(E,_)=>{E.stopPropagation(),f==null||f(t.id,_)},S=E=>{E.stopPropagation(),i==null||i()},w=(E,_)=>{E.stopPropagation(),m==null||m(_)};return v.jsxs("tr",{className:`group hover:bg-slate-50 transition-colors cursor-pointer ${e?"bg-indigo-50/50":""}`,onClick:()=>o==null?void 0:o(t),children:[v.jsx("td",{className:"px-6 py-4 text-center",children:v.jsx("div",{onClick:S,className:`w-5 h-5 mx-auto rounded border-2 flex items-center justify-center transition-all ${e?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 hover:border-indigo-400"}`,children:e&&v.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-[10px] font-bold rounded uppercase whitespace-nowrap",children:t.subject})}),v.jsxs("td",{className:"px-6 py-4 min-w-[200px]",children:[v.jsx("div",{className:"text-sm text-slate-700 line-clamp-1 max-w-md",children:v.jsx(It,{content:t.content,className:"inline"})}),v.jsxs("div",{className:"mt-1 flex gap-2",children:[!p&&t.lastReviewedAt&&v.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded-sm font-bold uppercase tracking-widest",children:""}),p&&v.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded-sm font-bold uppercase tracking-widest",children:["",new Date(t.deletedAt||0).toLocaleDateString()]})]})]}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:"flex flex-wrap gap-1",children:t.knowledgePoints.slice(0,2).map((E,_)=>v.jsxs("button",{onClick:R=>w(R,E),className:"text-[10px] px-1.5 py-0.5 bg-white text-slate-500 rounded border border-slate-200 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",children:["#",E]},_))})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:"flex gap-0.5 text-amber-400",children:[...Array(5)].map((E,_)=>v.jsx("button",{onClick:R=>x(R,_+1),className:"focus:outline-none hover:scale-125 transition-transform",children:v.jsx("svg",{className:`w-3.5 h-3.5 ${_<t.difficulty?"fill-current":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},_))})}),v.jsx("td",{className:"px-6 py-4 text-right",children:v.jsx("div",{className:"flex justify-end gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:p?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:E=>{E.stopPropagation(),a==null||a(t.id)},className:"text-emerald-500 hover:text-emerald-700",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v.jsx("button",{onClick:E=>{E.stopPropagation(),l==null||l(t.id)},className:"text-red-400 hover:text-red-600",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:E=>{E.stopPropagation(),c==null||c(t)},className:"text-slate-400 hover:text-indigo-600",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),v.jsx("button",{onClick:E=>{E.stopPropagation(),l==null||l(t.id)},className:"text-slate-400 hover:text-red-500",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})})]})},Kg=({imageSrc:t,onCropComplete:e,onCancel:i,title:l="",description:a="",allowSkip:o=!1,onSkip:c})=>{const f=me.useRef(null),m=me.useRef(null),p=me.useRef(null),[x,S]=me.useState(t),[w,E]=me.useState(!1),[_,R]=me.useState(!o),[k,U]=me.useState({x:0,y:0}),[q,J]=me.useState({x:0,y:0}),[te,le]=me.useState(null);me.useEffect(()=>{S(t),R(!o),le(null),E(!1)},[t,o]);const ne=W=>{const he=new Image;he.src=x,he.onload=()=>{const Te=document.createElement("canvas"),Ee=Te.getContext("2d");if(!Ee)return;Te.width=he.height,Te.height=he.width,Ee.translate(Te.width/2,Te.height/2);const z=W==="left"?-90:90;Ee.rotate(z*Math.PI/180),Ee.drawImage(he,-he.width/2,-he.height/2),S(Te.toDataURL("image/jpeg",.9)),le(null)}},P=W=>{var de;if(!_)return;const he=(de=f.current)==null?void 0:de.getBoundingClientRect();if(!he||W.target.closest("button"))return;const Te="touches"in W?W.touches[0].clientX:W.clientX,Ee="touches"in W?W.touches[0].clientY:W.clientY,z=Te-he.left,K=Ee-he.top;E(!0),U({x:z,y:K}),J({x:z,y:K}),le(null)},$=W=>{var de;if(!_||!w)return;const he=(de=f.current)==null?void 0:de.getBoundingClientRect();if(!he)return;const Te="touches"in W?W.touches[0].clientX:W.clientX,Ee="touches"in W?W.touches[0].clientY:W.clientY,z=Math.max(0,Math.min(Te-he.left,he.width)),K=Math.max(0,Math.min(Ee-he.top,he.height));J({x:z,y:K})},Z=()=>{if(!_||!w)return;E(!1);const W=Math.min(k.x,q.x),he=Math.min(k.y,q.y),Te=Math.abs(q.x-k.x),Ee=Math.abs(q.y-k.y);Te>10&&Ee>10&&le({x:W,y:he,w:Te,h:Ee})},fe=()=>{if(!_||!te||!m.current||!p.current)return;const W=m.current,he=p.current,Te=he.getContext("2d");if(!Te)return;const Ee=W.naturalWidth/W.width,z=W.naturalHeight/W.height;he.width=te.w*Ee,he.height=te.h*z,Te.drawImage(W,te.x*Ee,te.y*z,te.w*Ee,te.h*z,0,0,he.width,he.height),e(he.toDataURL("image/jpeg",.9))},be=Math.min(k.x,q.x),we=Math.min(k.y,q.y),Me=Math.abs(q.x-k.x),Ue=Math.abs(q.y-k.y),qe=()=>{R(!0),le(null),E(!1)},j=()=>{if(!o)return;(c||e)(x)};return v.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-900/95 backdrop-blur-md flex flex-col p-4 md:p-8 animate-in fade-in duration-300",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 max-w-5xl mx-auto w-full",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-white",children:l}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:a})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("div",{className:"flex items-center bg-slate-800 rounded-xl mr-2 p-1",children:[v.jsx("button",{onClick:()=>ne("left"),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:" 90",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),v.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),v.jsx("button",{onClick:()=>ne("right"),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:" 90",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6"})})})]}),o&&v.jsx("button",{onClick:j,className:"px-5 py-2 rounded-xl bg-white/10 text-white hover:bg-white/15 transition-colors font-semibold",title:"",children:""}),o&&!_&&v.jsx("button",{onClick:qe,className:"px-5 py-2 rounded-xl border border-white/15 text-slate-200 hover:text-white hover:bg-white/10 transition-colors font-semibold",title:"",children:""}),v.jsx("button",{onClick:i,className:"px-5 py-2 rounded-xl text-slate-300 hover:text-white hover:bg-white/10 transition-colors font-semibold",children:""}),v.jsxs("button",{disabled:!_||!te||w,onClick:fe,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-900/20 disabled:opacity-50 disabled:grayscale transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),""]})]})]}),v.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden relative",children:[!_&&o&&v.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 px-4 py-2 rounded-xl bg-black/40 text-slate-200 text-xs font-semibold border border-white/10",children:""}),v.jsxs("div",{ref:f,className:`relative max-w-full max-h-full select-none touch-none bg-black/40 rounded-lg overflow-hidden border border-white/10 ${_?"cursor-crosshair":"cursor-default"}`,onMouseDown:P,onMouseMove:$,onMouseUp:Z,onTouchStart:P,onTouchMove:$,onTouchEnd:Z,children:[v.jsx("img",{ref:m,src:x,alt:"To crop",className:"max-w-full max-h-[70vh] pointer-events-none",onLoad:W=>{}}),_&&v.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none"}),_&&(w||te)&&v.jsxs("div",{className:"absolute border-2 border-indigo-400/60 bg-transparent shadow-[0_0_0_9999px_rgba(0,0,0,0.5)] z-10",style:{left:be,top:we,width:Me,height:Ue},children:[v.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-indigo-400/60"}),te&&!w&&v.jsx("div",{className:"absolute top-2 left-2 bg-indigo-600 text-white text-[10px] px-1.5 py-0.5 rounded font-black uppercase tracking-widest shadow-lg",children:"Selected Area"})]})]})]}),v.jsx("canvas",{ref:p,className:"hidden"}),_&&v.jsx("div",{className:"max-w-5xl mx-auto w-full mt-6 flex justify-center",children:v.jsxs("div",{className:"flex items-center gap-8 text-slate-500 text-xs font-medium",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),v.jsx("span",{children:""})]})]})})]})},$g=({question:t,onClose:e,onSaved:i})=>{const[l,a]=me.useState(t.content||""),[o,c]=me.useState(()=>Array.isArray(t.options)?t.options.map(String):[]),[f,m]=me.useState(t.answer||""),[p,x]=me.useState(t.analysis||""),[S,w]=me.useState(t.learningGuide||""),[E,_]=me.useState(!1),[R,k]=me.useState(null),U=me.useMemo(()=>!(!l.trim()||!p.trim()||!S.trim()),[p,l,S]),q=(ne,P)=>{c($=>$.map((Z,fe)=>fe===ne?P:Z))},J=()=>{c(ne=>[...ne,""])},te=ne=>{c(P=>P.filter(($,Z)=>Z!==ne))},le=async()=>{if(U){_(!0),k(null);try{const ne=o.map($=>String($||"").trim()).filter($=>$.length>0),P=await ut.updateQuestion(t.id,{content:l,options:ne,answer:f||void 0,analysis:p,learningGuide:S});k({type:"success",message:""}),i==null||i(P),setTimeout(()=>{e()},800)}catch(ne){const P=(ne==null?void 0:ne.message)||"";k({type:"error",message:`${P}`})}finally{_(!1)}}};return v.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-5xl h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"px-6 py-4 border-b space-y-3",children:[R&&v.jsxs("div",{className:`p-3 rounded-xl border text-sm font-bold flex items-center gap-2 ${R.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[v.jsx("span",{children:R.message}),v.jsx("button",{onClick:()=>k(null),className:"ml-auto text-current opacity-50 hover:opacity-100 transition-opacity",title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-black text-slate-800",children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:" LaTeX $...$ / $$...$$ "})]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all hover:text-slate-600",title:"",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.image&&v.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-3",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),v.jsx("img",{src:t.image,alt:"Original",className:"w-full max-h-48 object-contain rounded-xl bg-white"})]})]}),v.jsxs("div",{className:"flex-1 min-h-0 grid grid-cols-1 lg:grid-cols-2",children:[v.jsxs("div",{className:"min-h-0 overflow-y-auto p-6 space-y-6",children:[v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:l,onChange:ne=>a(ne.target.value),className:"w-full min-h-[140px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]}),v.jsxs("section",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("button",{onClick:J,className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]})]}),v.jsxs("div",{className:"space-y-2",children:[o.length===0&&v.jsx("div",{className:"text-xs text-slate-400",children:"/"}),o.map((ne,P)=>v.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 border border-slate-200 rounded-2xl",children:[v.jsxs("div",{className:"w-8 text-sm font-black text-indigo-600 pt-2",children:[String.fromCharCode(65+P),"."]}),v.jsx("textarea",{value:ne,onChange:$=>q(P,$.target.value),className:"flex-1 min-h-[60px] p-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:` ${String.fromCharCode(65+P)} LaTeX`}),v.jsx("button",{onClick:()=>te(P),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},P))]})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("input",{value:f,onChange:ne=>m(ne.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",placeholder:"A  3  $x=2$"})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:p,onChange:ne=>x(ne.target.value),className:"w-full min-h-[120px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:S,onChange:ne=>w(ne.target.value),className:"w-full min-h-[120px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]})]}),v.jsxs("div",{className:"min-h-0 overflow-y-auto p-6 bg-slate-50 border-l border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:""})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(It,{content:l||"()",className:"text-slate-800"}),o.length>0&&v.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:o.map((ne,P)=>v.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 border border-slate-200 rounded-2xl",children:[v.jsxs("span",{className:"font-black text-indigo-600 shrink-0",children:[String.fromCharCode(65+P),"."]}),v.jsx(It,{content:ne||"()",className:"text-sm text-slate-700"})]},P))})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(It,{content:f||"()"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(It,{content:p||"()"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(It,{content:S||"()"})]})]})]})]}),v.jsxs("div",{className:"px-6 py-4 border-t bg-white flex items-center justify-between",children:[v.jsx("div",{className:"text-xs text-slate-400",children:U?"":" /  /  "}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 border border-slate-200 rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50",disabled:E,children:""}),v.jsx("button",{onClick:le,disabled:!U||E,className:"px-5 py-2 bg-indigo-600 text-white rounded-xl text-sm font-black hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"...":""})]})]})]})})},tT=({question:t,onClose:e,onUpdateDifficulty:i,onUpdateField:l})=>{const[a,o]=me.useState(!1),[c,f]=me.useState(!1),[m,p]=me.useState(!1),x=async R=>{p(!0);try{await ut.updateQuestion(t.id,{croppedDiagram:R}),l==null||l(t.id,"croppedDiagram",R),o(!1)}catch{alert("")}finally{p(!1)}},S=async()=>{if(window.confirm("")){p(!0);try{await ut.updateQuestion(t.id,{croppedDiagram:void 0}),l==null||l(t.id,"croppedDiagram",void 0)}catch{alert("")}finally{p(!1)}}},w=async R=>{p(!0);try{await ut.updateQuestion(t.id,{subject:R}),l==null||l(t.id,"subject",R)}catch{alert("")}finally{p(!1)}},E=async()=>{var U;const R=prompt("");if(!R||!R.trim())return;if((U=t.knowledgePoints)!=null&&U.includes(R.trim())){alert("");return}const k=[...t.knowledgePoints||[],R.trim()];p(!0);try{await ut.updateQuestion(t.id,{knowledgePoints:k}),l==null||l(t.id,"knowledgePoints",k)}catch{alert("")}finally{p(!1)}},_=async R=>{if(!window.confirm(` "${R}" `))return;const k=(t.knowledgePoints||[]).filter(U=>U!==R);p(!0);try{await ut.updateQuestion(t.id,{knowledgePoints:k}),l==null||l(t.id,"knowledgePoints",k)}catch{alert("")}finally{p(!1)}};return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] rounded-none md:rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-center px-4 py-3 md:px-6 md:py-4 border-b",children:[v.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:[v.jsxs("div",{className:"relative group/subject",children:[v.jsx("select",{value:t.subject,onChange:R=>w(R.target.value),className:"appearance-none pl-3 pr-7 py-1 bg-indigo-600 text-white text-sm rounded-md uppercase shadow-sm outline-none cursor-pointer hover:bg-indigo-700 transition-colors font-bold",children:Object.values(Go).map(R=>v.jsx("option",{value:R,className:"text-slate-800 bg-white",children:R},R))}),v.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-white/80",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})})]}),""]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-10 space-y-8 md:space-y-10 scrollbar-hide",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),v.jsxs("button",{onClick:()=>f(!0),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors border border-indigo-100 shadow-sm",title:"/",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),""]})]}),v.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 group relative",children:[v.jsx(It,{content:t.content,className:"text-lg leading-relaxed text-slate-800"}),t.options&&t.options.length>0&&v.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:t.options.map((R,k)=>{const U=typeof R=="object"?R.content||R.text||R.value||JSON.stringify(R):String(R);return v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white border border-slate-200 rounded-2xl shadow-sm hover:border-indigo-200 transition-colors",children:[v.jsxs("span",{className:"font-black text-indigo-600 shrink-0",children:[String.fromCharCode(65+k),"."]}),v.jsx(It,{content:U,className:"text-sm text-slate-600"})]},k)})}),t.croppedDiagram&&v.jsxs("div",{className:"mt-8 p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 relative group/legend",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),v.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:""})]}),v.jsx("div",{className:"flex justify-center bg-white p-4 rounded-xl shadow-sm border border-indigo-50",children:v.jsx("img",{src:t.croppedDiagram,alt:"Extracted Legend",className:"max-h-64 object-contain"})}),v.jsx("button",{onClick:S,className:"absolute top-4 right-4 p-2 bg-white text-red-500 rounded-lg shadow-sm hover:bg-red-50 transition-colors opacity-0 group-hover/legend:opacity-100",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),t.image&&v.jsxs("div",{className:"mt-8 relative group/img",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("button",{onClick:()=>o(!0),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors border border-indigo-100 shadow-sm",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758L5 19m0-14l4.121 4.121"})}),""]})]}),v.jsx("div",{className:"flex justify-center bg-white p-6 rounded-2xl border border-slate-200 shadow-sm overflow-hidden min-h-[100px] items-center",children:v.jsx("img",{src:t.image,alt:"Original Capture",className:"max-h-96 object-contain grayscale-[0.3] hover:grayscale-0 transition-all"})})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[v.jsxs("h3",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.2em] flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),""]}),v.jsxs("div",{className:"bg-white px-3 py-1 rounded-md shadow-sm border border-emerald-100 shrink-0",children:[v.jsx("span",{className:"text-[10px] font-black text-emerald-400 mr-1",children:""}),v.jsx(It,{content:t.answer,className:"text-lg font-black text-emerald-600 inline"})]})]}),v.jsxs("div",{className:"bg-emerald-50/50 p-8 rounded-3xl border border-emerald-100",children:[v.jsxs("div",{className:"mb-4 rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-[12px] text-amber-800 leading-relaxed",children:[v.jsx("span",{className:"font-black mr-2",children:""}),""]}),v.jsx(It,{content:t.analysis,className:"text-slate-700 leading-relaxed"})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),""]}),v.jsxs("div",{className:"bg-indigo-50/50 p-8 rounded-3xl border border-indigo-100",children:[v.jsx(It,{content:t.learningGuide,className:"text-slate-700 leading-relaxed italic"}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-indigo-100/50",children:[v.jsx("h4",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-4",children:" ( + )"}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(t.knowledgePoints)?t.knowledgePoints:[]).map((R,k)=>v.jsxs("span",{className:"group relative px-3 py-1.5 bg-white text-indigo-600 text-xs rounded-xl border border-indigo-200 font-bold shadow-sm pr-7",children:["#",R,v.jsx("button",{onClick:()=>_(R),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-indigo-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},k)),v.jsxs("button",{onClick:E,className:"px-3 py-1.5 bg-indigo-50 text-indigo-400 text-xs rounded-xl border border-dashed border-indigo-300 font-bold hover:bg-indigo-100 hover:text-indigo-600 hover:border-indigo-400 transition-all flex items-center gap-1",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]})]})]})]})]})]})]}),v.jsxs("div",{className:"px-8 py-4 bg-slate-50 border-t flex justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("span",{className:"text-xs text-slate-500 font-medium",children:new Date(t.createdAt).toLocaleString()})]}),v.jsx("div",{className:"flex items-center gap-6",children:v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),v.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((R,k)=>v.jsx("button",{onClick:()=>i==null?void 0:i(t.id,k+1),className:"focus:outline-none hover:scale-125 transition-transform",title:` ${k+1} `,children:v.jsx("svg",{className:`w-5 h-5 ${k<t.difficulty?"fill-amber-400 text-amber-400":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},k))})]})})]})]})}),a&&t.image&&v.jsx(Kg,{imageSrc:t.image,onCropComplete:x,onCancel:()=>o(!1)}),c&&v.jsx($g,{question:t,onClose:()=>f(!1),onSaved:R=>{l==null||l(t.id,"content",R.content),l==null||l(t.id,"options",R.options||[]),l==null||l(t.id,"answer",R.answer),l==null||l(t.id,"analysis",R.analysis),l==null||l(t.id,"learningGuide",R.learningGuide)}}),m&&v.jsx("div",{className:"fixed inset-0 z-[200] bg-black/40 backdrop-blur-sm flex items-center justify-center",children:v.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),v.jsx("p",{className:"text-sm font-bold text-slate-700",children:"..."})]})})]})},nT=({onQuestionSaved:t,onCancel:e})=>{const[i,l]=me.useState([]),[a,o]=me.useState(!1),[c,f]=me.useState(!1),[m,p]=me.useState(null),[x,S]=me.useState(null),[w,E]=me.useState(null),_=me.useRef(null),R=me.useRef(null),k=async()=>{try{const $=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});p($),f(!0),setTimeout(()=>{R.current&&(R.current.srcObject=$)},100)}catch($){console.error("Camera error:",$),$.name==="NotAllowedError"||$.name==="PermissionDeniedError"?alert(""):window.location.protocol!=="https:"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?alert(" HTTPS  localhost  HTTPS"):alert(`${$.message||""}`)}},U=()=>{m&&(m.getTracks().forEach($=>$.stop()),p(null)),f(!1)},q=()=>{if(!R.current)return;const $=document.createElement("canvas");$.width=R.current.videoWidth,$.height=R.current.videoHeight;const Z=$.getContext("2d");if(Z){Z.drawImage(R.current,0,0);const fe=$.toDataURL("image/jpeg",.9);S(fe),E("camera"),U()}},J=$=>{const Z={id:crypto.randomUUID(),preview:$,status:"pending"};l(fe=>[...fe,Z]),S(null),E(null)},te=$=>{const Z=Array.from($.target.files||[]);Z.length!==0&&(Z.forEach(fe=>{const be=new FileReader;be.onloadend=()=>{S(be.result),E("upload")},be.readAsDataURL(fe)}),_.current&&(_.current.value=""))},le=$=>{a||l(Z=>Z.filter(fe=>fe.id!==$))},ne=async()=>{if(a)return;const $=i.filter(Z=>Z.status==="pending"||Z.status==="error");if($.length!==0){o(!0);for(const Z of $){l(fe=>fe.map(be=>be.id===Z.id?{...be,status:"analyzing",error:void 0}:be));try{const fe=await ut.analyzeImage(Z.preview),be={image:Z.preview,...fe};l(we=>we.map(Me=>Me.id===Z.id?{...Me,status:"done",result:be}:Me)),await t(be)}catch(fe){l(be=>be.map(we=>we.id===Z.id?{...we,status:"error",error:fe.message||""}:we))}}o(!1)}},P=me.useMemo(()=>{const $=i.length,Z=i.filter(we=>we.status==="done").length,fe=i.filter(we=>we.status==="error").length,be=i.filter(we=>we.status==="analyzing").length;return{total:$,done:Z,error:fe,analyzing:be}},[i]);return v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:[v.jsxs("div",{className:"bg-white w-full max-w-4xl h-full md:h-auto md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:max-h-[90vh]",children:[v.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-5 border-b flex justify-between items-center bg-slate-50",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Gemini "})]}),v.jsx("button",{onClick:e,disabled:a,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-full transition-colors disabled:opacity-30",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:i.length===0?v.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[v.jsxs("div",{onClick:()=>{var $;return($=_.current)==null?void 0:$.click()},className:"flex-1 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/30 transition-all group p-8",children:[v.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 mb-6 group-hover:scale-110 transition-transform",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),v.jsx("p",{className:"text-xl font-bold text-slate-700 mb-2",children:""}),v.jsx("p",{className:"text-slate-400 text-sm",children:""})]}),v.jsxs("div",{onClick:k,className:"flex-1 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:border-emerald-400 hover:bg-emerald-50/30 transition-all group p-8",children:[v.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 mb-6 group-hover:scale-110 transition-transform",children:v.jsxs("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsx("p",{className:"text-xl font-bold text-slate-700 mb-2",children:""}),v.jsx("p",{className:"text-slate-400 text-sm",children:""})]})]}):v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[i.map($=>v.jsxs("div",{className:"relative group aspect-square rounded-2xl overflow-hidden border border-slate-200 bg-slate-50 shadow-sm",children:[v.jsx("img",{src:$.preview,className:`w-full h-full object-cover transition-all ${$.status==="analyzing"?"scale-110 blur-[2px] opacity-50":""}`}),$.status==="analyzing"&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-indigo-600/20",children:[v.jsx("div",{className:"w-10 h-10 border-4 border-white/30 border-t-white rounded-full animate-spin mb-2"}),v.jsx("span",{className:"text-[10px] text-white font-black uppercase tracking-tighter",children:"AI "})]}),$.status==="done"&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emerald-500/80 animate-in zoom-in duration-300",children:v.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),$.status==="error"&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-500/80 p-3 text-center",children:[v.jsx("svg",{className:"w-8 h-8 text-white mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),v.jsx("span",{className:"text-[10px] text-white font-bold leading-tight",children:$.error})]}),!a&&$.status!=="done"&&v.jsx("button",{onClick:()=>le($.id),className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500",children:v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},$.id)),!a&&v.jsxs("div",{onClick:()=>{var $;return($=_.current)==null?void 0:$.click()},className:"aspect-square border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/30 transition-all text-slate-400 hover:text-indigo-600",children:[v.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"text-xs font-bold",children:""})]})]})}),v.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-6 border-t bg-slate-50 flex flex-col md:flex-row items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[v.jsxs("div",{className:"text-lg font-black text-slate-700",children:[P.done," ",v.jsx("span",{className:"text-slate-300",children:"/"})," ",P.total]}),v.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-500",style:{width:`${P.total>0?P.done/P.total*100:0}%`}})})]})]}),P.error>0&&v.jsxs("div",{className:"px-3 py-1 bg-red-100 text-red-600 text-[10px] font-bold rounded-lg uppercase animate-pulse",children:[P.error," "]})]}),v.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[v.jsx("button",{onClick:e,disabled:a,className:"flex-1 md:flex-none px-6 py-3 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-white transition-colors disabled:opacity-50",children:P.done===P.total&&P.total>0?"":""}),P.done<P.total&&v.jsx("button",{onClick:ne,disabled:a||i.length===0,className:"flex-1 md:flex-none px-8 py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:a?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})})]})]}),v.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",multiple:!0,onChange:te})]}),c&&v.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col",children:[v.jsx("div",{className:"relative flex-1 bg-black",children:v.jsx("video",{ref:R,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-contain"})}),v.jsxs("div",{className:"h-24 bg-black/80 flex items-center justify-between px-8 pb-safe",children:[v.jsx("button",{onClick:U,className:"text-white font-bold p-4",children:""}),v.jsx("button",{onClick:q,className:"w-16 h-16 rounded-full bg-white border-4 border-slate-300 shadow-xl active:scale-95 transition-transform"}),v.jsx("div",{className:"w-16"})," "]})]}),x&&v.jsx(Kg,{imageSrc:x,allowSkip:!0,onCropComplete:J,onSkip:J,onCancel:()=>{S(null);const $=w;E(null),$==="camera"&&k()},title:"",description:""})]})},iT=()=>v.jsxs("div",{className:"binding-line print:flex hidden",children:[v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{children:"       "})]}),rT=({questions:t,onClose:e})=>{const[i,l]=me.useState([]),[a,o]=me.useState(!1),[c,f]=me.useState(!0),m=Array.from(new Set(t.flatMap(w=>w.knowledgePoints))),p=w=>{l(E=>E.includes(w)?E.filter(_=>_!==w):[...E,w])},x=t.filter(w=>i.length===0||w.knowledgePoints.some(E=>i.includes(E))),S=()=>{window.print()};return a?v.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto flex flex-col print:bg-white print:block",children:[v.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center print:hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),v.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors",children:[v.jsx("input",{type:"checkbox",checked:c,onChange:w=>f(w.target.checked),className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"}),v.jsx("span",{children:""})]})})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>o(!1),className:"px-5 py-2 text-slate-600 font-semibold bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:""}),v.jsxs("button",{onClick:S,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})," (A4)"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"flex-1 flex justify-center p-8 print:p-0 print:block",children:v.jsxs("div",{className:"bg-white max-w-[210mm] w-full min-h-[297mm] paper-shadow print:shadow-none print:max-w-none relative print-container flex flex-col",children:[v.jsx(iT,{}),v.jsxs("div",{className:"p-12 print:p-4 flex-1",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold mb-4 tracking-widest text-slate-900",children:""}),v.jsxs("div",{className:"flex justify-center gap-8 text-sm text-slate-600 mb-8 font-medium",children:[v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"})]}),v.jsxs("div",{className:"border-y-2 border-slate-900 py-2 flex justify-between px-4 text-xs font-bold uppercase tracking-widest",children:[v.jsxs("span",{children:["",i.length>0?i.join(""):""]}),v.jsxs("span",{children:["",new Date().toISOString().slice(0,10).replace(/-/g,"")]})]})]}),v.jsx("div",{className:"space-y-10",children:x.map((w,E)=>v.jsx("div",{className:"relative pb-6 border-b border-slate-50 last:border-0 break-inside-avoid",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("span",{className:"text-lg font-bold font-serif shrink-0 w-8 h-8 flex items-center justify-center bg-slate-900 text-white rounded-md",children:E+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"mb-4",children:v.jsx(It,{content:w.content,className:"text-lg text-slate-800 leading-relaxed"})}),w.options&&w.options.length>0&&v.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 mb-6 ml-2",children:w.options.map((_,R)=>v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsxs("span",{className:"font-bold text-slate-900",children:[String.fromCharCode(65+R),"."]}),v.jsx(It,{content:_,className:"text-base text-slate-700"})]},R))}),w.image&&v.jsx("div",{className:"my-6 flex justify-center border border-slate-100 p-4 rounded-lg bg-slate-50/50",children:v.jsx("img",{src:w.image,alt:"Diagram",className:"max-h-80 object-contain"})}),v.jsx("div",{className:"mt-8 border-t border-dashed border-slate-200 pt-16 print:block hidden",children:v.jsx("p",{className:"text-[10px] text-slate-300 text-right italic",children:""})})]})]})},w.id))}),x.length===0&&v.jsxs("div",{className:"text-center py-20 text-slate-400",children:[v.jsx("p",{className:"text-lg",children:""}),v.jsx("p",{className:"text-sm",children:""})]})]}),c&&x.length>0&&v.jsxs("div",{className:"page-break p-12 print:p-4 border-t-8 border-slate-100",children:[v.jsx("div",{className:"text-center mb-12",children:v.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-widest border-b-2 border-slate-900 inline-block pb-2",children:""})}),v.jsx("div",{className:"space-y-12",children:x.map((w,E)=>v.jsxs("div",{className:"break-inside-avoid bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-slate-200",children:[v.jsxs("span",{className:"font-black text-slate-900",children:[" ",E+1," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:":"}),v.jsx("span",{className:"text-xl font-bold text-indigo-600",children:w.answer})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-indigo-500 rounded-full"}),""]}),v.jsx("div",{className:"text-sm text-slate-700 leading-relaxed",children:v.jsx(It,{content:w.analysis})})]}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full"}),""]}),v.jsx("div",{className:"text-xs text-slate-600 bg-white p-3 rounded-lg border border-slate-100 italic",children:v.jsx(It,{content:w.learningGuide})})]}),v.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:w.knowledgePoints.map((_,R)=>v.jsxs("span",{className:"text-[9px] px-2 py-0.5 bg-slate-200 text-slate-600 rounded-full font-bold",children:["#",_]},R))})]})]},w.id))})]}),v.jsxs("div",{className:"mt-auto p-12 text-center text-xs text-slate-400 border-t border-slate-50 print:hidden",children:[v.jsx("p",{children:" 2024 E-Bu  -  Gemini AI "}),v.jsx("p",{className:"mt-1",children:""})]})]})})]}):v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-xl rounded-3xl shadow-2xl p-8 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:""})]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-300 hover:text-slate-500 transition-colors",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 mb-8 space-y-6 scrollbar-hide",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 flex justify-between items-center",children:["",v.jsxs("span",{className:"bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded-full lowercase",children:[" ",i.length," "]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.map(w=>v.jsx("button",{onClick:()=>p(w),className:`px-3 py-1.5 rounded-xl text-sm font-semibold transition-all border ${i.includes(w)?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100":"bg-white text-slate-600 border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30"}`,children:w},w)),m.length===0&&v.jsx("div",{className:"w-full py-8 text-center bg-slate-50 rounded-2xl border border-dashed border-slate-200 text-slate-400 text-sm",children:""})]})]}),v.jsx("section",{className:"bg-indigo-50 rounded-2xl p-5 border border-indigo-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-indigo-900 font-bold",children:""}),v.jsx("p",{className:"text-indigo-600 text-xs mt-0.5",children:""})]}),v.jsxs("div",{className:"text-3xl font-black text-indigo-600",children:[x.length," ",v.jsx("span",{className:"text-sm font-bold text-indigo-400",children:""})]})]})}),v.jsx("section",{className:"space-y-3",children:v.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 p-3 rounded-xl text-xs",children:[v.jsx("svg",{className:"w-4 h-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("span",{children:""})]})})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:e,className:"flex-1 py-3.5 px-6 rounded-2xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:""}),v.jsxs("button",{disabled:x.length===0,onClick:()=>o(!0),className:"flex-1 py-3.5 px-6 rounded-2xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-100 transition-all disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["",v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})})},lT=()=>v.jsxs("div",{className:"binding-line print:flex hidden",children:[v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{children:"       "})]}),aT=({questions:t,onClose:e})=>{const[i,l]=me.useState(!0),[a,o]=me.useState(""),c=()=>{window.print()};return v.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto flex flex-col print:bg-white print:block",children:[v.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center print:hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col border-r border-slate-200 pr-6 mr-2",children:[v.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:""}),v.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),className:"text-lg font-bold text-slate-800 border-b border-transparent focus:border-indigo-500 hover:border-slate-300 bg-transparent outline-none transition-all w-80 placeholder:text-slate-300"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("p",{className:"text-sm text-slate-500 font-medium bg-slate-100 px-3 py-1 rounded-full",children:[" ",t.length," "]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors text-sm font-medium text-slate-600",children:[v.jsx("input",{type:"checkbox",checked:i,onChange:f=>l(f.target.checked),className:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-slate-300"}),v.jsx("span",{children:""})]})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:c,className:"px-6 py-2 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})," /  PDF"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"flex-1 flex justify-center p-8 print:p-0 print:block",children:v.jsxs("div",{className:"bg-white max-w-[210mm] w-full min-h-[297mm] paper-shadow print:shadow-none print:max-w-none relative print-container",children:[v.jsx(lT,{}),v.jsxs("div",{className:"pt-12 pb-6 px-12 print:px-4 text-center",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold tracking-widest text-slate-900",children:a}),v.jsxs("div",{className:"flex justify-center gap-6 mt-6 text-xs text-slate-500 border-b pb-8",children:[v.jsxs("span",{children:["",new Date().toLocaleDateString()]}),v.jsxs("span",{children:["",t.length," "]}),v.jsx("span",{children:""})]})]}),v.jsx("div",{className:"flex flex-col",children:t.map((f,m)=>v.jsxs("div",{className:"workbook-row border-b border-slate-100 flex flex-row",children:[v.jsx("div",{className:"workbook-question w-1/2 p-8 border-r border-slate-100 bg-slate-50/20",children:v.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[v.jsx("span",{className:"shrink-0 w-6 h-6 flex items-center justify-center bg-slate-200 text-slate-700 rounded text-xs font-bold",children:m+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx(It,{content:f.content,className:"text-sm leading-relaxed text-slate-800"}),f.options&&f.options.length>0&&v.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2",children:f.options.map((p,x)=>v.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-600",children:[v.jsxs("span",{className:"font-bold",children:[String.fromCharCode(65+x),"."]}),v.jsx(It,{content:p})]},x))}),f.croppedDiagram&&v.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-[9px] text-slate-400 mb-1 uppercase tracking-widest font-bold",children:""}),v.jsx("div",{className:"border border-indigo-100 p-2 rounded-lg bg-white shadow-sm",children:v.jsx("img",{src:f.croppedDiagram,alt:"Diagram Legend",className:"max-h-56 object-contain"})})]}),i&&f.image&&v.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-[9px] text-slate-400 mb-1 uppercase tracking-widest font-bold opacity-50",children:""}),v.jsx("div",{className:"border border-slate-100 p-2 rounded-lg bg-white/50",children:v.jsx("img",{src:f.image,alt:"Original Capture",className:"max-h-48 object-contain opacity-80"})})]}),v.jsx("div",{className:"mt-6 flex flex-wrap gap-1",children:f.knowledgePoints.map((p,x)=>v.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-white text-slate-400 rounded-full border",children:["#",p]},x))})]})]})}),v.jsx("div",{className:"workbook-space w-1/2 p-8 workbook-grid relative",children:v.jsx("div",{className:"absolute top-4 right-4 text-[10px] text-slate-300 font-bold uppercase tracking-widest",children:" / Rework Area"})})]},f.id))}),v.jsx("div",{className:"p-12 text-center text-slate-300 text-[10px] print:hidden",children:"---  ---"})]})})]})},sT=({onClose:t,onDataChanged:e})=>{const[i,l]=me.useState("GUIDE"),a=me.useRef(null),[o,c]=me.useState(!1),f=()=>{const S=ut.exportBackup(),w=new Blob([S],{type:"application/json"}),E=URL.createObjectURL(w),_=document.createElement("a");_.href=E,_.download=`E-Bu_Backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(E)},m=()=>{var S;(S=a.current)==null||S.click()},p=async S=>{var _;const w=(_=S.target.files)==null?void 0:_[0];if(!w||!window.confirm(""))return;c(!0);const E=new FileReader;E.onload=async R=>{var k;try{const U=(k=R.target)==null?void 0:k.result;await ut.importBackup(U),alert(""),e==null||e()}catch(U){alert(": "+U.message)}finally{c(!1),a.current&&(a.current.value="")}},E.readAsText(w)},x=({method:S,path:w,desc:E,params:_,payload:R,response:k})=>v.jsxs("div",{className:"mb-12 border border-slate-200 rounded-2xl overflow-hidden bg-white shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 bg-slate-50 border-b border-slate-200",children:[v.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded-md ${S==="GET"?"bg-blue-600 text-white":S==="POST"?"bg-emerald-600 text-white":S==="PATCH"?"bg-amber-500 text-white":"bg-red-600 text-white"}`,children:S}),v.jsx("code",{className:"text-sm text-slate-800 font-mono font-bold",children:w})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsx("p",{className:"text-sm text-slate-600 font-medium",children:E}),_&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Query Parameters"}),v.jsx("pre",{className:"bg-slate-50 p-4 rounded-xl text-xs text-slate-700 border border-slate-100 italic",children:_})]}),R&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Request Body (JSON)"}),v.jsx("div",{className:"relative group",children:v.jsx("pre",{className:"bg-slate-900 p-4 rounded-xl text-xs text-emerald-400 font-mono overflow-x-auto",children:R})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Response Object"}),v.jsx("pre",{className:"bg-slate-900 p-4 rounded-xl text-xs text-indigo-300 font-mono overflow-x-auto",children:k})]})]})]});return v.jsxs("div",{className:"fixed inset-0 z-[100] bg-white flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[v.jsxs("div",{className:"h-16 border-b border-slate-100 flex items-center justify-between px-8 bg-white shrink-0",children:[v.jsx("div",{className:"flex items-center gap-4",children:v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:t,children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h1",{className:"text-xl font-bold text-slate-900 leading-tight",children:"E-Bu"}),v.jsx("div",{className:"px-2 py-0.5 bg-slate-100 border border-slate-200 rounded text-[9px] font-bold text-slate-500 flex items-center gap-1",children:"DEVHUB"})]}),v.jsx("p",{className:"text-xs text-slate-500 font-medium",children:""})]})]})}),v.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[v.jsx("button",{onClick:()=>l("GUIDE"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="GUIDE"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),v.jsx("button",{onClick:()=>l("DATA"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="DATA"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),v.jsx("button",{onClick:()=>l("API"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="API"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:" API"})]}),v.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[v.jsx("div",{className:"w-64 border-r border-slate-100 bg-slate-50/50 p-6 overflow-y-auto hidden md:block",children:v.jsxs("nav",{className:"space-y-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:""}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("GUIDE"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("GUIDE"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:"LaTeX "})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:""}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("DATA"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("DATA"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"API "}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("API"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("API"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:"AI "})]})]})]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-10 bg-slate-50/30",children:v.jsx("div",{className:"max-w-4xl mx-auto",children:i==="GUIDE"?v.jsxs("div",{className:"prose prose-slate max-w-none",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-6",children:""}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[v.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100",children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-600 text-white rounded-xl flex items-center justify-center font-bold mb-4",children:"1"}),v.jsx("h3",{className:"text-lg font-bold text-indigo-900 mb-2",children:""}),v.jsx("p",{className:"text-sm text-indigo-700/80 leading-relaxed",children:"AI  OCR "})]}),v.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100",children:[v.jsx("div",{className:"w-10 h-10 bg-emerald-600 text-white rounded-xl flex items-center justify-center font-bold mb-4",children:"2"}),v.jsx("h3",{className:"text-lg font-bold text-emerald-900 mb-2",children:""}),v.jsx("p",{className:"text-sm text-emerald-700/80 leading-relaxed",children:'""'})]})]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"AI "}),v.jsx("p",{className:"text-sm text-slate-600 mb-4",children:" AI "}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-blue-500 to-indigo-600"}),v.jsx("h4",{className:"font-bold text-slate-800",children:"Google Gemini"})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" JSON gemini-2.0-flash"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-orange-500 to-red-500"}),v.jsx("h4",{className:"font-bold text-slate-800",children:""})]}),v.jsx("p",{className:"text-xs text-slate-500",children:"qwen-vl-max"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-purple-500 to-pink-500"}),v.jsx("h4",{className:"font-bold text-slate-800",children:""})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" Ark  ID (ep-xxx)"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-emerald-500 to-teal-600"}),v.jsx("h4",{className:"font-bold text-slate-800",children:"OpenAI / "})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" API OpenAI gpt-4o"})]})]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"LaTeX "}),v.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl text-emerald-400 font-mono text-sm leading-relaxed mb-12",children:[v.jsx("p",{className:"text-slate-500 mb-2",children:"//  JSON "}),`"content": " $f(x) = \\\\sqrt{{x^2 + 1}}$ $f'(x)$"`]})]}):i==="DATA"?v.jsxs("div",{className:"space-y-10",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-4",children:""}),v.jsx("p",{className:"text-slate-500",children:""})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm flex flex-col",children:[v.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mb-6",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-8 flex-1",children:" JSON "}),v.jsx("button",{onClick:f,className:"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]}),v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm flex flex-col",children:[v.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-600 rounded-2xl flex items-center justify-center mb-6",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})]})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-8 flex-1",children:""}),v.jsx("button",{onClick:m,className:"w-full py-3 border-2 border-amber-200 text-amber-600 font-bold rounded-xl hover:bg-amber-50 transition-all",children:o?"...":""}),v.jsx("input",{type:"file",ref:a,className:"hidden",accept:".json",onChange:p})]})]}),v.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 text-slate-300",children:[v.jsxs("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5 text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM5.884 6.607a1 1 0 010-1.414l.707-.707a1 1 0 111.414 1.414l-.707.707a1 1 0 01-1.414 0zm11.314 2.828a1 1 0 11-1.414 0 1 1 0 011.414 0zm-2.828 4.243a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zm-4.243 2.828a1 1 0 100-2v-1a1 1 0 10-2 0v1a1 1 0 100 2zM4.47 14.25a1 1 0 000 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 0zM4 10a1 1 0 110-2 1 1 0 010 2z",clipRule:"evenodd"})}),""]}),v.jsxs("p",{className:"text-sm leading-relaxed opacity-80 mb-2",children:[v.jsx("strong",{className:"text-indigo-300",children:""}),v.jsx("br",{}),"Local-FirstLocalStorage"]}),v.jsxs("p",{className:"text-sm leading-relaxed opacity-80",children:[v.jsx("strong",{className:"text-indigo-300",children:""}),v.jsx("br",{})," JSON "]})]})]}):v.jsxs("div",{className:"space-y-8 pb-20",children:[v.jsxs("div",{className:"mb-10",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-4",children:" API "}),v.jsxs("p",{className:"text-slate-500",children:[" ",v.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"Content-Type: application/json"}),""]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-3",children:[v.jsx("span",{className:"w-12 h-[1px] bg-slate-200"}),"",v.jsx("span",{className:"flex-1 h-[1px] bg-slate-200"})]}),v.jsx(x,{method:"GET",path:"/api/questions",desc:"",params:"?subject=&query=&limit=20&offset=0",response:`[
  {
    "id": "uuid-string",
    "subject": "",
    "content": "...",
    "difficulty": 3,
    "createdAt": 1700000000000,
    "knowledgePoints": ["", ""],
    "image": "url_or_base64"
  },
  ...
]`}),v.jsx(x,{method:"POST",path:"/api/questions",desc:"image ",payload:`{
  "subject": "",
  "content": " $m$ ...",
  "options": ["$A. 10N$", "$B. 20N$"],
  "answer": "A",
  "analysis": "...",
  "knowledgePoints": ["", ""],
  "difficulty": 4,
  "image": "data:image/jpeg;base64,..."
}`,response:`{
  "id": "new-uuid",
  "createdAt": 1709253400000,
  "status": "success"
}`})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-3",children:[v.jsx("span",{className:"w-12 h-[1px] bg-slate-200"}),"",v.jsx("span",{className:"flex-1 h-[1px] bg-slate-200"})]}),v.jsx(x,{method:"POST",path:"/api/backup/import",desc:" JSON ",payload:`{
  "version": "1.2.0",
  "data": [ /*  */ ]
}`,response:'{ "importedCount": 150, "status": "ok" }'})]})]})})})]}),v.jsx("div",{className:"h-12 border-t border-slate-100 flex items-center justify-center bg-slate-50 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"E-Bu DevHub   v1.3.0"})]})},i2=["from-pink-500 to-rose-500","from-cyan-500 to-blue-500","from-amber-500 to-orange-500","from-violet-500 to-purple-500","from-lime-500 to-green-500","from-red-500 to-pink-500","from-teal-500 to-cyan-500","from-fuchsia-500 to-pink-500"],oT=({onClose:t,onConfigSaved:e})=>{var de,ge,Ce;const[i,l]=me.useState("AI"),[a,o]=me.useState({activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0}),[c,f]=me.useState(Qe.GEMINI),[m,p]=me.useState(!1),[x,S]=me.useState(null),[w,E]=me.useState(null),[_,R]=me.useState(!1),[k,U]=me.useState(""),[q,J]=me.useState(null),[te,le]=me.useState(!1),[ne,P]=me.useState(!1);me.useEffect(()=>{if(w){const Q=setTimeout(()=>E(null),3e3);return()=>clearTimeout(Q)}},[w]),me.useEffect(()=>{(async()=>{try{const oe=await ut.getAIConfig();o({enableLatexAutoFix:!0,...oe}),f(oe.activeProvider)}catch(oe){console.error("Failed to load config",oe),E({type:"error",message:""})}})()},[]),me.useEffect(()=>{i==="DB"&&!q&&!te&&$()},[i]);const $=async()=>{try{le(!0);const Q=await ut.getMigrationStatus();J(Q)}catch(Q){console.error("Failed to load migration status",Q);const oe=Q instanceof Error?Q.message:"";E({type:"error",message:oe})}finally{le(!1)}},Z=async()=>{try{P(!0);const Q=await ut.migrateToLatest();E({type:"success",message:` ${Q.count||0} `}),await $()}catch(Q){console.error("Migration failed",Q);const oe=Q instanceof Error?Q.message:"";E({type:"error",message:oe})}finally{P(!1)}},fe=Q=>!Object.values(Qe).includes(Q),be=()=>{var Q;if(fe(c)){const oe=(Q=a.customProviders)==null?void 0:Q.find(Oe=>Oe.id===c);return(oe==null?void 0:oe.config)||{}}return a.providers[c]||{}},we=Q=>{fe(c)?o(oe=>({...oe,customProviders:oe.customProviders.map(Oe=>Oe.id===c?{...Oe,config:{...Oe.config,...Q}}:Oe)})):o(oe=>({...oe,providers:{...oe.providers,[c]:{...oe.providers[c],...Q}}}))},Me=Q=>{f(Q),S(null)},Ue=()=>{o(Q=>({...Q,activeProvider:c}))},qe=()=>{if(!k.trim())return;const Q={id:`custom-${Date.now()}`,name:k.trim(),color:i2[a.customProviders.length%i2.length],config:{}};o(oe=>({...oe,customProviders:[...oe.customProviders,Q]})),U(""),R(!1),f(Q.id)},j=Q=>{window.confirm("")&&(o(oe=>({...oe,customProviders:oe.customProviders.filter(Oe=>Oe.id!==Q),activeProvider:oe.activeProvider===Q?Qe.GEMINI:oe.activeProvider})),c===Q&&f(Qe.GEMINI))},W=async()=>{try{p(!0),S(null),E(null);let Q;if(fe(a.activeProvider)){const oe=a.customProviders.find(Oe=>Oe.id===a.activeProvider);Q={type:a.activeProvider,apiKey:oe==null?void 0:oe.config.apiKey,baseUrl:oe==null?void 0:oe.config.baseUrl,modelName:oe==null?void 0:oe.config.modelName,systemPrompt:a.systemPrompt}}else{const oe=a.providers[a.activeProvider]||{};Q={type:a.activeProvider,apiKey:oe.apiKey,baseUrl:oe.baseUrl,modelName:oe.modelName,systemPrompt:a.systemPrompt}}await w4(Q),ut.saveAIConfig(a),e==null||e(a),E({type:"success",message:""}),S({success:!0,message:""}),i==="AI"&&setTimeout(()=>{t()},1500)}catch(Q){const oe=Q instanceof Error?Q.message:"";S({success:!1,message:oe}),E({type:"error",message:`: ${oe}`})}finally{p(!1)}},he=async()=>{try{p(!0),S(null);let Q;if(fe(c)){const oe=a.customProviders.find(Oe=>Oe.id===c);Q={type:c,apiKey:oe==null?void 0:oe.config.apiKey,baseUrl:oe==null?void 0:oe.config.baseUrl,modelName:oe==null?void 0:oe.config.modelName,systemPrompt:a.systemPrompt}}else{const oe=a.providers[c]||{};Q={type:c,apiKey:oe.apiKey,baseUrl:oe.baseUrl,modelName:oe.modelName,systemPrompt:a.systemPrompt}}await w4(Q),S({success:!0,message:""})}catch(Q){const oe=Q instanceof Error?Q.message:"";S({success:!1,message:oe})}finally{p(!1)}},Te=()=>{window.confirm("")&&o({...a,systemPrompt:Do})},Ee=[{id:Qe.GEMINI,name:"Google Gemini",desc:" ()",color:"from-blue-500 to-indigo-600"},{id:Qe.QWEN,name:"",desc:"VL",color:"from-orange-500 to-red-500"},{id:Qe.DOUBAO,name:"",desc:"",color:"from-purple-500 to-pink-500"},{id:Qe.OPENAI,name:"OpenAI / ",desc:" API ",color:"from-emerald-500 to-teal-600"}],z=be(),K=(de=a.customProviders)==null?void 0:de.find(Q=>Q.id===c);return v.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row h-[700px]",children:[v.jsxs("div",{className:"w-full md:w-48 bg-slate-50 border-r border-slate-100 p-6 flex flex-col",children:[v.jsx("h2",{className:"text-xl font-black text-slate-800 mb-8 px-2",children:""}),v.jsxs("nav",{className:"space-y-2 flex-1",children:[v.jsx("button",{onClick:()=>l("AI"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="AI"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:"AI "}),v.jsx("button",{onClick:()=>l("PROMPT"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="PROMPT"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""}),v.jsx("button",{onClick:()=>l("DB"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="DB"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""}),v.jsx("button",{onClick:()=>l("ABOUT"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="ABOUT"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""})]}),v.jsx("button",{onClick:t,className:"mt-auto px-4 py-2 text-sm font-bold text-slate-400 hover:text-slate-800 transition-colors",children:""})]}),v.jsxs("div",{className:"flex-1 flex flex-col p-8 overflow-y-auto bg-white",children:[w&&v.jsxs("div",{className:`mb-4 p-4 rounded-2xl border flex items-center gap-3 animate-in slide-in-from-top-2 duration-300 ${w.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[w.type==="success"?v.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):v.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),v.jsx("span",{className:"font-bold text-sm",children:w.message}),v.jsx("button",{onClick:()=>E(null),className:"ml-auto text-current opacity-50 hover:opacity-100 transition-opacity",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i==="AI"?v.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500",children:" AI "})]}),v.jsx("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-black text-slate-800",children:"LaTeX "}),v.jsxs("div",{className:"text-xs text-slate-500 leading-relaxed mt-1",children:["/ ",v.jsx("span",{className:"font-mono",children:"$...$"}),"  ",v.jsx("span",{className:"font-mono",children:"\\\\sqrt"})," / ",v.jsx("span",{className:"font-mono",children:"\\\\frac"}),""]})]}),v.jsx("button",{type:"button",onClick:()=>{o(Q=>({...Q,enableLatexAutoFix:!Q.enableLatexAutoFix}));try{localStorage.setItem("latexAutofixEnabled",String(!a.enableLatexAutoFix))}catch{}},className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${a.enableLatexAutoFix?"bg-emerald-500":"bg-slate-300"}`,"aria-label":"toggle-latex-autofix",children:v.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.enableLatexAutoFix?"translate-x-6":"translate-x-1"}`})})]})}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ee.map(Q=>v.jsxs("button",{onClick:()=>Me(Q.id),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${c===Q.id?"border-indigo-600 bg-indigo-50/50 shadow-sm":"border-slate-100 hover:border-slate-200"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${Q.color} flex items-center justify-center text-white text-xs`,children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:Q.name}),v.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:Q.desc})]}),a.activeProvider===Q.id&&v.jsx("div",{className:"text-indigo-600 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},Q.id))}),a.customProviders&&a.customProviders.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:""}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.customProviders.map(Q=>v.jsxs("button",{onClick:()=>Me(Q.id),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${c===Q.id?"border-indigo-600 bg-indigo-50/50 shadow-sm":"border-slate-100 hover:border-slate-200"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${Q.color} flex items-center justify-center text-white text-xs font-bold`,children:Q.name.charAt(0).toUpperCase()}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:Q.name}),v.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:Q.description||" OpenAI "})]}),a.activeProvider===Q.id&&v.jsx("div",{className:"text-indigo-600 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},Q.id))})]}),_?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:k,onChange:Q=>U(Q.target.value),placeholder:"",className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",autoFocus:!0,onKeyDown:Q=>Q.key==="Enter"&&qe()}),v.jsx("button",{onClick:qe,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700",children:""}),v.jsx("button",{onClick:()=>{R(!1),U("")},className:"px-4 py-2 border border-slate-200 text-slate-500 rounded-xl font-bold text-sm hover:bg-slate-50",children:""})]}):v.jsxs("button",{onClick:()=>R(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 text-slate-500 rounded-xl font-bold text-sm hover:border-indigo-300 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]}),x&&v.jsx("div",{className:`p-4 rounded-2xl border ${x.success?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:v.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[x.success?v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),x.message]})}),v.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h4",{className:"font-bold text-slate-700",children:[fe(c)?K==null?void 0:K.name:(ge=Ee.find(Q=>Q.id===c))==null?void 0:ge.name," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[fe(c)&&v.jsx("button",{onClick:()=>j(c),className:"text-xs bg-rose-100 text-rose-600 px-3 py-1 rounded-full font-bold hover:bg-rose-200 transition-colors",children:""}),a.activeProvider===c?v.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-bold",children:""}):v.jsx("button",{onClick:Ue,className:"text-xs bg-slate-200 text-slate-600 px-3 py-1 rounded-full font-bold hover:bg-indigo-100 hover:text-indigo-700 transition-colors",children:""})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (API Key)"}),v.jsx("input",{type:"password",value:z.apiKey||"",onChange:Q=>we({apiKey:Q.target.value}),placeholder:c===Qe.GEMINI?"Google AI API Key":c===Qe.QWEN?"API Key":c===Qe.DOUBAO?"API Key":"sk-...",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]}),c!==Qe.GEMINI&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Base URL)"}),v.jsx("input",{type:"text",value:z.baseUrl||"",onChange:Q=>we({baseUrl:Q.target.value}),placeholder:c===Qe.QWEN?"https://dashscope.aliyuncs.com/compatible-mode/v1":c===Qe.DOUBAO?"https://ark.cn-beijing.volces.com/api/v3":"https://api.openai.com/v1",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Model ID)"}),v.jsx("input",{type:"text",value:z.modelName||"",onChange:Q=>we({modelName:Q.target.value}),placeholder:c===Qe.GEMINI?"gemini-2.0-flash":c===Qe.QWEN?"qwen-vl-max":c===Qe.DOUBAO?"ep-xxxxxxxxxx (ID)":"gpt-4o",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:he,disabled:m,className:"flex-1 py-4 bg-emerald-600 text-white font-black rounded-2xl hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"...":""}),v.jsx("button",{onClick:W,disabled:m,className:"flex-1 py-4 bg-indigo-600 text-white font-black rounded-2xl hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"...":""})]})]}):i==="DB"?v.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500",children:" Docker / "})]}),v.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"DB PATH"}),v.jsx("div",{className:"text-sm font-bold text-slate-700 break-all",children:(q==null?void 0:q.dbPath)||"-"})]}),v.jsx("button",{onClick:$,disabled:te,className:"px-4 py-2 rounded-xl text-sm font-black border-2 border-slate-200 text-slate-600 hover:bg-white transition-all disabled:opacity-50",children:te?"...":""})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CURRENT"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(q==null?void 0:q.current)??"-"})]}),v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"LATEST"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(q==null?void 0:q.latest)??"-"})]}),v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"PENDING"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(q==null?void 0:q.pendingCount)??"-"})]})]}),((Ce=q==null?void 0:q.pending)==null?void 0:Ce.length)>0?v.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-3 rounded-xl",children:[v.jsx("div",{className:"text-xs font-bold text-amber-700 mb-2",children:""}),v.jsx("div",{className:"space-y-1",children:q.pending.map(Q=>v.jsxs("div",{className:"text-[11px] text-amber-800 font-mono",children:["v",Q.version," - ",Q.name]},Q.version))})]}):v.jsx("div",{className:"bg-emerald-50 border border-emerald-100 p-3 rounded-xl",children:v.jsx("div",{className:"text-xs font-bold text-emerald-700",children:""})}),v.jsx("button",{onClick:Z,disabled:ne,className:"w-full py-3 bg-indigo-600 text-white font-black rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:ne?"...":""}),v.jsx("div",{className:"text-[10px] text-slate-400 leading-relaxed",children:" `schema_migrations` "})]})]}):i==="PROMPT"?v.jsxs("div",{className:"flex flex-col h-full animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"AI "}),v.jsx("p",{className:"text-sm text-slate-500",children:" AI  System Prompt "})]}),v.jsxs("div",{className:"flex-1 min-h-0 flex flex-col gap-4",children:[v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("textarea",{value:a.systemPrompt||Do,onChange:Q=>o({...a,systemPrompt:Q.target.value}),className:"w-full h-full p-4 bg-slate-900 text-emerald-400 font-mono text-xs rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 outline-none leading-relaxed resize-none shadow-inner",placeholder:"..."}),v.jsx("div",{className:"absolute top-4 right-4 text-[10px] font-bold text-slate-700 bg-slate-800 px-2 py-1 rounded",children:"SYSTEM_PROMPT"})]}),v.jsx("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:v.jsx("p",{className:"text-[10px] text-amber-700 font-bold leading-relaxed",children:"  AI  JSON  content, analysis "})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:Te,className:"px-6 py-3 border-2 border-slate-200 text-slate-500 font-bold rounded-xl hover:bg-slate-50 transition-all",children:""}),v.jsx("button",{onClick:W,className:"flex-1 py-3 bg-indigo-600 text-white font-black rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]})]})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 animate-in zoom-in-95 duration-300",children:[v.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-3xl flex items-center justify-center text-indigo-600 mb-4 shadow-sm",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"E-Bu v1.3.0"}),v.jsx("p",{className:"text-slate-500 text-sm max-w-xs leading-relaxed",children:" AI GeminiOpenAI"}),v.jsxs("div",{className:"pt-8 flex gap-6",children:[v.jsx("a",{href:"#",className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors underline decoration-2 underline-offset-4",children:""}),v.jsx("a",{href:"#",className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors underline decoration-2 underline-offset-4",children:""})]})]})]})]})})},uT=(t,e)=>{const[i,l]=me.useState(t);return me.useEffect(()=>{const a=window.setTimeout(()=>l(t),e);return()=>window.clearTimeout(a)},[t,e]),i},cT=()=>{const[t,e]=me.useState([]),[i,l]=me.useState([]),[a,o]=me.useState("LIBRARY"),[c,f]=me.useState(!0),[m,p]=me.useState("ALL"),[x,S]=me.useState(null),[w,E]=me.useState(null),[_,R]=me.useState(!1),[k,U]=me.useState(!1),[q,J]=me.useState(!1),[te,le]=me.useState(!1),[ne,P]=me.useState(!1),[$,Z]=me.useState(""),fe=uT($,300),[be,we]=me.useState("CARD"),[Me,Ue]=me.useState(null),[qe,j]=me.useState(1),[W,he]=me.useState(()=>{const ae=window.localStorage.getItem("pageSize"),Ne=ae?Number(ae):20;return[10,20,50,100].includes(Ne)?Ne:20}),[Te,Ee]=me.useState(0),[z,K]=me.useState(new Set),[de,ge]=me.useState(null);me.useEffect(()=>{ut.syncRemoteConfig(),ut.getAIConfig().then(ge).catch(()=>ge(null))},[]),me.useEffect(()=>{Ce()},[a,qe,Me,W,fe,m]),me.useEffect(()=>{j(1)},[a]),me.useEffect(()=>{window.localStorage.setItem("pageSize",String(W))},[W]),me.useEffect(()=>{j(1)},[Me,fe,m,W]);const Ce=async()=>{f(!0);try{if(a==="LIBRARY"){const ae=await ut.fetchTrash({page:1,pageSize:1});Array.isArray(ae)||l([]);const Ne=await ut.fetchQuestions({page:qe,pageSize:W,tag:Me||void 0,q:fe||void 0,subject:m==="ALL"?void 0:m});Array.isArray(Ne)?(e(Ne),Ee(Ne.length)):(e(Ne.items),Ee(Ne.total))}else{const ae=await ut.fetchTrash({page:qe,pageSize:W,tag:Me||void 0,q:fe||void 0,subject:m==="ALL"?void 0:m});Array.isArray(ae)?(l(ae),Ee(ae.length)):(l(ae.items),Ee(ae.total))}K(new Set)}catch(ae){console.error("Failed to load questions",ae)}finally{f(!1)}},Q=async ae=>{if(window.confirm(""))try{await ut.deleteQuestion(ae),e(Be=>Be.filter(dt=>dt.id!==ae));const Ne=t.find(Be=>Be.id===ae);Ne&&l(Be=>[{...Ne,deletedAt:Date.now()},...Be]),(x==null?void 0:x.id)===ae&&S(null),tt(ae)}catch{alert("")}},oe=async ae=>{try{await ut.restoreQuestion(ae);const Ne=i.find(Be=>Be.id===ae);l(Be=>Be.filter(dt=>dt.id!==ae)),Ne&&e(Be=>[Ne,...Be]),tt(ae)}catch{alert("")}},Oe=async ae=>{if(window.confirm(""))try{await ut.hardDeleteQuestion(ae),l(Ne=>Ne.filter(Be=>Be.id!==ae)),tt(ae)}catch{alert("")}},tt=ae=>{K(Ne=>{const Be=new Set(Ne);return Be.delete(ae),Be})},Qt=async(ae,Ne)=>{try{const Be=await ut.updateQuestion(ae,{difficulty:Ne});Ii(ae,Be)}catch(Be){console.error(Be)}},ki=(ae,Ne,Be)=>{const dt=Bt=>Bt.id===ae?{...Bt,[Ne]:Be}:Bt;e(Bt=>Bt.map(dt)),l(Bt=>Bt.map(dt)),(x==null?void 0:x.id)===ae&&S(Bt=>Bt?{...Bt,[Ne]:Be}:null)},Ii=(ae,Ne)=>{a==="LIBRARY"?e(Be=>Be.map(dt=>dt.id===ae?Ne:dt)):l(Be=>Be.map(dt=>dt.id===ae?Ne:dt)),(x==null?void 0:x.id)===ae&&S(Ne)},Rt=(a==="LIBRARY"?t:i).filter(ae=>{const Ne=m==="ALL"||ae.subject===m,Be=!fe||ae.content.toLowerCase().includes(fe.toLowerCase())||ae.analysis.toLowerCase().includes(fe.toLowerCase())||ae.learningGuide.toLowerCase().includes(fe.toLowerCase())||(ae.answer||"").toLowerCase().includes(fe.toLowerCase())||(ae.diagramDescription||"").toLowerCase().includes(fe.toLowerCase())||(ae.options||[]).some(Bt=>Bt.toLowerCase().includes(fe.toLowerCase()))||ae.knowledgePoints.some(Bt=>Bt.toLowerCase().includes(fe.toLowerCase())),dt=!Me||ae.knowledgePoints.includes(Me);return Ne&&Be&&dt}),Di=()=>t.filter(ae=>z.has(ae.id)),ei=ae=>{K(Ne=>{const Be=new Set(Ne);return Be.has(ae)?Be.delete(ae):Be.add(ae),Be})},hr=()=>{const ae=Rt.map(dt=>dt.id),Ne=ae.every(dt=>z.has(dt)),Be=new Set(z);Ne?ae.forEach(dt=>Be.delete(dt)):ae.forEach(dt=>Be.add(dt)),K(Be)},ti=async()=>{if(window.confirm(` ${z.size} `))try{await Promise.all(Array.from(z).map(ae=>ut.deleteQuestion(ae))),Ce()}catch{alert("")}},Vn=async()=>{if(window.confirm(` ${z.size} `))try{await Promise.all(Array.from(z).map(ae=>ut.hardDeleteQuestion(ae))),Ce()}catch{alert("")}},Bl=async()=>{try{await Promise.all(Array.from(z).map(ae=>ut.restoreQuestion(ae))),Ce()}catch{alert("")}},Hl=async ae=>{try{const Ne=await ut.createQuestion(ae);e(Be=>[Ne,...Be])}catch(Ne){throw console.error("Batch save failed",Ne),new Error(Ne.message||"")}},Br=Rt.length>0&&Rt.every(ae=>z.has(ae.id));return v.jsxs("div",{className:"min-h-screen flex flex-col",children:[v.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-30 px-4 py-3 md:px-6 md:py-4",children:v.jsxs("div",{className:"max-w-7xl mx-auto flex flex-wrap md:flex-nowrap items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer shrink-0 order-1",onClick:()=>o("LIBRARY"),children:[v.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:v.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h1",{className:"text-lg md:text-xl font-bold text-slate-900 leading-tight",children:"E-Bu"}),v.jsxs("div",{className:"px-1.5 py-0.5 md:px-2 bg-slate-100 border border-slate-200 rounded text-[9px] font-bold text-slate-500 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full animate-pulse"}),"AI Enhanced"]})]}),v.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mt-0.5",children:""})]})]}),v.jsxs("div",{className:"w-full md:w-auto md:flex-1 max-w-xl relative order-3 md:order-2",children:[v.jsx("input",{type:"text",placeholder:`${a==="LIBRARY"?"":""}...`,value:$,onChange:ae=>Z(ae.target.value),className:`w-full pl-9 md:pl-10 ${$?"pr-10":"pr-4"} py-2 bg-slate-100 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 transition-all text-sm`}),$&&v.jsx("button",{type:"button",onClick:()=>Z(""),className:"absolute right-3 top-1/2 -translate-y-1/2 w-6 h-6 flex items-center justify-center rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-200/60 transition",title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),v.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),v.jsxs("div",{className:"flex gap-2 md:gap-3 items-center order-2 md:order-3 ml-auto md:ml-0",children:[v.jsxs("div",{className:"hidden min-[400px]:flex items-center gap-0.5 md:gap-1 mr-1 border-r border-slate-200 pr-2 md:pr-3",children:[v.jsx("a",{href:"https://github.com/aymwoo/E-Bu",target:"_blank",rel:"noreferrer",className:"p-2 rounded-xl text-slate-400 hover:text-slate-900 hover:bg-slate-100 transition-all",title:"GitHub Repository",children:v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:v.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),v.jsx("a",{href:"https://gitee.com/aymwoo/E-Bu",target:"_blank",rel:"noreferrer",className:"p-2 rounded-xl hover:bg-red-50 transition-all group",title:"Gitee Repository",children:v.jsx("img",{src:"/gitee.ico",alt:"Gitee",className:"w-6 h-6 object-contain opacity-50 group-hover:opacity-100 transition-opacity"})})]}),v.jsx("button",{onClick:()=>P(!0),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsxs("button",{onClick:()=>o(a==="LIBRARY"?"TRASH":"LIBRARY"),className:`relative p-2 rounded-xl border transition-all ${a==="TRASH"?"bg-amber-50 border-amber-200 text-amber-600":"bg-white border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,title:a==="LIBRARY"?"":"",children:[v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a==="LIBRARY"&&Te>0&&v.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] flex items-center justify-center rounded-full font-bold",children:Te})]}),v.jsx("button",{onClick:()=>U(!0),className:"hidden sm:block px-4 py-2 text-indigo-600 font-semibold text-sm hover:bg-indigo-50 rounded-xl transition-colors border border-indigo-100",children:""}),v.jsxs("button",{onClick:()=>R(!0),className:"px-3 md:px-4 py-2 bg-indigo-600 text-white font-semibold text-sm rounded-xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}),v.jsxs("main",{className:"flex-1 max-w-7xl w-full mx-auto p-6",children:[v.jsx("div",{className:"mb-8 flex items-center justify-between",children:v.jsx("div",{children:v.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[a==="LIBRARY"?"":"",Me&&v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"text-slate-300 font-light",children:"/"}),v.jsxs("span",{className:"text-sm font-black text-indigo-600",children:["#",Me]}),v.jsx("button",{onClick:()=>{Ue(null),j(1)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 bg-white border border-slate-200 rounded-full px-2 py-1",title:"",children:""})]}),v.jsx("span",{className:"text-slate-300 font-light",children:"/"}),v.jsxs("span",{className:"text-sm font-bold text-slate-400",children:[Te>0?Te:Rt.length," "]})]})})}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[v.jsx("div",{className:"flex items-center gap-4 overflow-x-auto pb-2 scrollbar-hide",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>{p("ALL"),j(1)},className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${m==="ALL"?"bg-indigo-600 text-white":"bg-white text-slate-500"}`,children:""}),Object.values(Go).map(ae=>v.jsx("button",{onClick:()=>{p(ae),j(1)},className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${m===ae?"bg-indigo-600 text-white":"bg-white text-slate-500"}`,children:ae},ae))]})}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-xl overflow-hidden",children:[v.jsx("button",{onClick:()=>we("CARD"),className:`px-3 py-2 text-sm font-bold transition-colors ${be==="CARD"?"bg-indigo-600 text-white":"text-slate-500 hover:bg-slate-50"}`,title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h7v7H4V6zm9 0h7v7h-7V6zM4 15h7v3H4v-3zm9 0h7v3h-7v-3z"})})}),v.jsx("button",{onClick:()=>we("LIST"),className:`px-3 py-2 text-sm font-bold transition-colors ${be==="LIST"?"bg-indigo-600 text-white":"text-slate-500 hover:bg-slate-50"}`,title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})})})]}),v.jsxs("button",{onClick:hr,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold border transition-all ${Br?"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200":"bg-white text-slate-600 border-slate-300 hover:bg-slate-50"}`,children:[v.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${Br?"border-white/30 bg-white/20":"border-slate-400 bg-transparent"}`,children:Br&&v.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),Br?"":""]})]})]}),c?v.jsx("div",{className:"flex items-center justify-center py-24",children:"Loading..."}):Rt.length>0?be==="CARD"?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 pb-24",children:Rt.map(ae=>v.jsx(Ww,{question:ae,isSelected:z.has(ae.id),onToggleSelect:()=>ei(ae.id),onDelete:a==="TRASH"?Oe:Q,onRestore:oe,onView:S,onEdit:E,onUpdateDifficulty:Qt,onSelectKnowledgePoint:Ne=>{Ue(Ne),j(1),o("LIBRARY")},isTrashMode:a==="TRASH"},ae.id))}):v.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase tracking-widest",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-4 text-center",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4 text-right",children:""})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:Rt.map(ae=>v.jsx(eT,{question:ae,isSelected:z.has(ae.id),onToggleSelect:()=>ei(ae.id),onDelete:a==="TRASH"?Oe:Q,onRestore:oe,onView:S,onEdit:E,onUpdateDifficulty:Qt,onSelectKnowledgePoint:Ne=>{Ue(Ne),j(1),o("LIBRARY")},isTrashMode:a==="TRASH"},ae.id))})]})})}):v.jsx("div",{className:"text-center py-24",children:""}),!c&&v.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6 pb-6",children:[v.jsxs("div",{className:"flex items-center gap-3 text-xs font-bold text-slate-400",children:[v.jsxs("span",{children:[" ",qe," / ",Math.max(1,Math.ceil(Te/W)),"  ",Te," "]}),v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("span",{children:""}),v.jsx("select",{value:W,onChange:ae=>he(Number(ae.target.value)||20),className:"px-2 py-1 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600",children:[10,20,50,100].map(ae=>v.jsx("option",{value:ae,children:ae},ae))})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>j(ae=>Math.max(1,ae-1)),disabled:qe<=1||Te<=W,className:`px-4 py-2 rounded-xl text-sm font-bold border transition-all ${qe<=1?"bg-slate-50 text-slate-300 border-slate-200 cursor-not-allowed":"bg-white text-slate-600 border-slate-300 hover:bg-slate-50"}`,children:""}),v.jsx("button",{onClick:()=>j(ae=>Math.min(Math.max(1,Math.ceil(Te/W)),ae+1)),disabled:qe>=Math.max(1,Math.ceil(Te/W))||Te<=W,className:`px-4 py-2 rounded-xl text-sm font-bold border transition-all ${qe>=Math.max(1,Math.ceil(Te/W))?"bg-slate-50 text-slate-300 border-slate-200 cursor-not-allowed":"bg-white text-slate-600 border-slate-300 hover:bg-slate-50"}`,children:""})]})]})]}),z.size>0&&v.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-40 bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-6 animate-in slide-in-from-bottom-10 fade-in duration-300",children:[v.jsxs("span",{className:"text-sm font-bold",children:[" ",z.size," "]}),a==="LIBRARY"?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20",children:""}),v.jsx("button",{onClick:ti,className:"px-4 py-2 text-sm font-bold text-slate-300 hover:text-white hover:bg-white/10 rounded-xl transition-colors",children:""})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:Bl,className:"px-4 py-2 bg-indigo-600 rounded-xl text-sm font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-900/20",children:""}),v.jsx("button",{onClick:Vn,className:"px-4 py-2 text-sm font-bold text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded-xl transition-colors",children:""})]})]}),_&&v.jsx(nT,{onQuestionSaved:Hl,onCancel:()=>{R(!1),Ce()}}),x&&v.jsx(tT,{question:x,onClose:()=>S(null),onUpdateDifficulty:Qt,onUpdateField:ki}),w&&v.jsx($g,{question:w,onClose:()=>E(null),onSaved:ae=>{Ii(ae.id,ae),(x==null?void 0:x.id)===ae.id&&S(ae)}}),k&&v.jsx(rT,{questions:t,onClose:()=>U(!1)}),q&&v.jsx(aT,{questions:Di(),onClose:()=>J(!1)}),te&&v.jsx(sT,{onClose:()=>le(!1),onDataChanged:Ce}),ne&&v.jsx(oT,{onClose:()=>P(!1),onConfigSaved:ae=>ge(ae)})]})},Qg=document.getElementById("root");if(!Qg)throw new Error("Could not find root element to mount to");const dT=M3.createRoot(Qg);dT.render(v.jsx(b3.StrictMode,{children:v.jsx(cT,{})}));
