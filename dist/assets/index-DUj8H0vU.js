(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();function l2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hc={exports:{}},ka={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function v3(){if(zm)return ka;zm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:t,type:l,key:c,ref:a!==void 0?a:null,props:o}}return ka.Fragment=e,ka.jsx=i,ka.jsxs=i,ka}var Lm;function y3(){return Lm||(Lm=1,hc.exports=v3()),hc.exports}var v=y3(),mc={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function x3(){if(Um)return He;Um=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function U(L,X,ue){this.props=L,this.context=X,this.refs=k,this.updater=ue||_}U.prototype.isReactComponent={},U.prototype.setState=function(L,X){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,X,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=U.prototype;function J(L,X,ue){this.props=L,this.context=X,this.refs=k,this.updater=ue||_}var W=J.prototype=new O;W.constructor=J,R(W,U.prototype),W.isPureReactComponent=!0;var ne=Array.isArray;function ee(){}var q={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function le(L,X,ue){var ve=ue.ref;return{$$typeof:t,type:L,key:X,ref:ve!==void 0?ve:null,props:ue}}function be(L,X){return le(L.type,X,L.props)}function we(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function ae(L){var X={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return X[ue]})}var ge=/\/+/g;function Ce(L,X){return typeof L=="object"&&L!==null&&L.key!=null?ae(""+L.key):X.toString(36)}function Te(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ee,ee):(L.status="pending",L.then(function(X){L.status==="pending"&&(L.status="fulfilled",L.value=X)},function(X){L.status==="pending"&&(L.status="rejected",L.reason=X)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function P(L,X,ue,ve,Re){var Q=typeof L;(Q==="undefined"||Q==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(Q){case"bigint":case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case t:case e:se=!0;break;case x:return se=L._init,P(se(L._payload),X,ue,ve,Re)}}if(se)return Re=Re(L),se=ve===""?"."+Ce(L,0):ve,ne(Re)?(ue="",se!=null&&(ue=se.replace(ge,"$&/")+"/"),P(Re,X,ue,"",function(cn){return cn})):Re!=null&&(we(Re)&&(Re=be(Re,ue+(Re.key==null||L&&L.key===Re.key?"":(""+Re.key).replace(ge,"$&/")+"/")+se)),X.push(Re)),1;se=0;var Oe=ve===""?".":ve+":";if(ne(L))for(var tt=0;tt<L.length;tt++)ve=L[tt],Q=Oe+Ce(ve,tt),se+=P(ve,X,ue,Q,Re);else if(tt=E(L),typeof tt=="function")for(L=tt.call(L),tt=0;!(ve=L.next()).done;)ve=ve.value,Q=Oe+Ce(ve,tt++),se+=P(ve,X,ue,Q,Re);else if(Q==="object"){if(typeof L.then=="function")return P(Te(L),X,ue,ve,Re);throw X=String(L),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return se}function $(L,X,ue){if(L==null)return L;var ve=[],Re=0;return P(L,ve,"","",function(Q){return X.call(ue,Q,Re++)}),ve}function fe(L){if(L._status===-1){var X=L._result;X=X(),X.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=X)}if(L._status===1)return L._result.default;throw L._result}var Ae=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Me={map:$,forEach:function(L,X,ue){$(L,function(){X.apply(this,arguments)},ue)},count:function(L){var X=0;return $(L,function(){X++}),X},toArray:function(L){return $(L,function(X){return X})||[]},only:function(L){if(!we(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return He.Activity=S,He.Children=Me,He.Component=U,He.Fragment=i,He.Profiler=a,He.PureComponent=J,He.StrictMode=l,He.Suspense=m,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,He.__COMPILER_RUNTIME={__proto__:null,c:function(L){return q.H.useMemoCache(L)}},He.cache=function(L){return function(){return L.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(L,X,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ve=R({},L.props),Re=L.key;if(X!=null)for(Q in X.key!==void 0&&(Re=""+X.key),X)!de.call(X,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&X.ref===void 0||(ve[Q]=X[Q]);var Q=arguments.length-2;if(Q===1)ve.children=ue;else if(1<Q){for(var se=Array(Q),Oe=0;Oe<Q;Oe++)se[Oe]=arguments[Oe+2];ve.children=se}return le(L.type,Re,ve)},He.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},He.createElement=function(L,X,ue){var ve,Re={},Q=null;if(X!=null)for(ve in X.key!==void 0&&(Q=""+X.key),X)de.call(X,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Re[ve]=X[ve]);var se=arguments.length-2;if(se===1)Re.children=ue;else if(1<se){for(var Oe=Array(se),tt=0;tt<se;tt++)Oe[tt]=arguments[tt+2];Re.children=Oe}if(L&&L.defaultProps)for(ve in se=L.defaultProps,se)Re[ve]===void 0&&(Re[ve]=se[ve]);return le(L,Q,Re)},He.createRef=function(){return{current:null}},He.forwardRef=function(L){return{$$typeof:f,render:L}},He.isValidElement=we,He.lazy=function(L){return{$$typeof:x,_payload:{_status:-1,_result:L},_init:fe}},He.memo=function(L,X){return{$$typeof:p,type:L,compare:X===void 0?null:X}},He.startTransition=function(L){var X=q.T,ue={};q.T=ue;try{var ve=L(),Re=q.S;Re!==null&&Re(ue,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(ee,Ae)}catch(Q){Ae(Q)}finally{X!==null&&ue.types!==null&&(X.types=ue.types),q.T=X}},He.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},He.use=function(L){return q.H.use(L)},He.useActionState=function(L,X,ue){return q.H.useActionState(L,X,ue)},He.useCallback=function(L,X){return q.H.useCallback(L,X)},He.useContext=function(L){return q.H.useContext(L)},He.useDebugValue=function(){},He.useDeferredValue=function(L,X){return q.H.useDeferredValue(L,X)},He.useEffect=function(L,X){return q.H.useEffect(L,X)},He.useEffectEvent=function(L){return q.H.useEffectEvent(L)},He.useId=function(){return q.H.useId()},He.useImperativeHandle=function(L,X,ue){return q.H.useImperativeHandle(L,X,ue)},He.useInsertionEffect=function(L,X){return q.H.useInsertionEffect(L,X)},He.useLayoutEffect=function(L,X){return q.H.useLayoutEffect(L,X)},He.useMemo=function(L,X){return q.H.useMemo(L,X)},He.useOptimistic=function(L,X){return q.H.useOptimistic(L,X)},He.useReducer=function(L,X,ue){return q.H.useReducer(L,X,ue)},He.useRef=function(L){return q.H.useRef(L)},He.useState=function(L){return q.H.useState(L)},He.useSyncExternalStore=function(L,X,ue){return q.H.useSyncExternalStore(L,X,ue)},He.useTransition=function(){return q.H.useTransition()},He.version="19.2.3",He}var Bm;function ld(){return Bm||(Bm=1,mc.exports=x3()),mc.exports}var me=ld();const b3=l2(me);var pc={exports:{}},Ia={},gc={exports:{}},vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function S3(){return Hm||(Hm=1,(function(t){function e(P,$){var fe=P.length;P.push($);e:for(;0<fe;){var Ae=fe-1>>>1,Me=P[Ae];if(0<a(Me,$))P[Ae]=$,P[fe]=Me,fe=Ae;else break e}}function i(P){return P.length===0?null:P[0]}function l(P){if(P.length===0)return null;var $=P[0],fe=P.pop();if(fe!==$){P[0]=fe;e:for(var Ae=0,Me=P.length,L=Me>>>1;Ae<L;){var X=2*(Ae+1)-1,ue=P[X],ve=X+1,Re=P[ve];if(0>a(ue,fe))ve<Me&&0>a(Re,ue)?(P[Ae]=Re,P[ve]=fe,Ae=ve):(P[Ae]=ue,P[X]=fe,Ae=X);else if(ve<Me&&0>a(Re,fe))P[Ae]=Re,P[ve]=fe,Ae=ve;else break e}}return $}function a(P,$){var fe=P.sortIndex-$.sortIndex;return fe!==0?fe:P.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],x=1,S=null,w=3,E=!1,_=!1,R=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function W(P){for(var $=i(p);$!==null;){if($.callback===null)l(p);else if($.startTime<=P)l(p),$.sortIndex=$.expirationTime,e(m,$);else break;$=i(p)}}function ne(P){if(R=!1,W(P),!_)if(i(m)!==null)_=!0,ee||(ee=!0,ae());else{var $=i(p);$!==null&&Te(ne,$.startTime-P)}}var ee=!1,q=-1,de=5,le=-1;function be(){return k?!0:!(t.unstable_now()-le<de)}function we(){if(k=!1,ee){var P=t.unstable_now();le=P;var $=!0;try{e:{_=!1,R&&(R=!1,O(q),q=-1),E=!0;var fe=w;try{t:{for(W(P),S=i(m);S!==null&&!(S.expirationTime>P&&be());){var Ae=S.callback;if(typeof Ae=="function"){S.callback=null,w=S.priorityLevel;var Me=Ae(S.expirationTime<=P);if(P=t.unstable_now(),typeof Me=="function"){S.callback=Me,W(P),$=!0;break t}S===i(m)&&l(m),W(P)}else l(m);S=i(m)}if(S!==null)$=!0;else{var L=i(p);L!==null&&Te(ne,L.startTime-P),$=!1}}break e}finally{S=null,w=fe,E=!1}$=void 0}}finally{$?ae():ee=!1}}}var ae;if(typeof J=="function")ae=function(){J(we)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ce=ge.port2;ge.port1.onmessage=we,ae=function(){Ce.postMessage(null)}}else ae=function(){U(we,0)};function Te(P,$){q=U(function(){P(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(P){switch(w){case 1:case 2:case 3:var $=3;break;default:$=w}var fe=w;w=$;try{return P()}finally{w=fe}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var fe=w;w=P;try{return $()}finally{w=fe}},t.unstable_scheduleCallback=function(P,$,fe){var Ae=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ae+fe:Ae):fe=Ae,P){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=fe+Me,P={id:x++,callback:$,priorityLevel:P,startTime:fe,expirationTime:Me,sortIndex:-1},fe>Ae?(P.sortIndex=fe,e(p,P),i(m)===null&&P===i(p)&&(R?(O(q),q=-1):R=!0,Te(ne,fe-Ae))):(P.sortIndex=Me,e(m,P),_||E||(_=!0,ee||(ee=!0,ae()))),P},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(P){var $=w;return function(){var fe=w;w=$;try{return P.apply(this,arguments)}finally{w=fe}}}})(vc)),vc}var Gm;function w3(){return Gm||(Gm=1,gc.exports=S3()),gc.exports}var yc={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function T3(){if(Pm)return Vt;Pm=1;var t=ld();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,p,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:m,containerInfo:p,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Vt.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,x)},Vt.flushSync=function(m){var p=c.T,x=l.p;try{if(c.T=null,l.p=2,m)return m()}finally{c.T=p,l.p=x,l.d.f()}},Vt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},Vt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},Vt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,S=f(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:E}):x==="script"&&l.d.X(m,{crossOrigin:S,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},Vt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,S=f(x,p.crossOrigin);l.d.L(m,x,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},Vt.requestFormReset=function(m){l.d.r(m)},Vt.unstable_batchedUpdates=function(m,p){return m(p)},Vt.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},Vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vt.version="19.2.3",Vt}var qm;function A3(){if(qm)return yc.exports;qm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yc.exports=T3(),yc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function E3(){if(Om)return Ia;Om=1;var t=w3(),e=ld(),i=A3();function l(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(o(n)!==n)throw Error(l(188))}function p(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(l(188));return r!==n?null:n}for(var s=n,u=r;;){var g=s.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){s=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===s)return m(g),n;if(y===u)return m(g),r;y=y.sibling}throw Error(l(188))}if(s.return!==u.return)s=g,u=y;else{for(var A=!1,N=g.child;N;){if(N===s){A=!0,s=g,u=y;break}if(N===u){A=!0,u=g,s=y;break}N=N.sibling}if(!A){for(N=y.child;N;){if(N===s){A=!0,s=y,u=g;break}if(N===u){A=!0,u=y,s=g;break}N=N.sibling}if(!A)throw Error(l(189))}}if(s.alternate!==u)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?n:r}function x(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=x(n),r!==null)return r;n=n.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),J=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function ae(n){return n===null||typeof n!="object"?null:(n=we&&n[we]||n["@@iterator"],typeof n=="function"?n:null)}var ge=Symbol.for("react.client.reference");function Ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ge?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case ee:return"SuspenseList";case le:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case J:return n.displayName||"Context";case O:return(n._context.displayName||"Context")+".Consumer";case W:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return r=n.displayName||null,r!==null?r:Ce(n.type)||"Memo";case de:r=n._payload,n=n._init;try{return Ce(n(r))}catch{}}return null}var Te=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ae=[],Me=-1;function L(n){return{current:n}}function X(n){0>Me||(n.current=Ae[Me],Ae[Me]=null,Me--)}function ue(n,r){Me++,Ae[Me]=n.current,n.current=r}var ve=L(null),Re=L(null),Q=L(null),se=L(null);function Oe(n,r){switch(ue(Q,r),ue(Re,n),ue(ve,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?im(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=im(r),n=rm(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(ve),ue(ve,n)}function tt(){X(ve),X(Re),X(Q)}function cn(n){n.memoizedState!==null&&ue(se,n);var r=ve.current,s=rm(r,n.type);r!==s&&(ue(Re,n),ue(ve,s))}function jn(n){Re.current===n&&(X(ve),X(Re)),se.current===n&&(X(se),Na._currentValue=fe)}var ri,Hr;function Qt(n){if(ri===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ri=r&&r[1]||"",Hr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+n+Hr}var hr=!1;function Zt(n,r){if(!n||hr)return"";hr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(K){var Y=K}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(K){Y=K}n.call(ie.prototype)}}else{try{throw Error()}catch(K){Y=K}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),A=y[0],N=y[1];if(A&&N){var z=A.split(`
`),j=N.split(`
`);for(g=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;g<j.length&&!j[g].includes("DetermineComponentFrameRoot");)g++;if(u===z.length||g===j.length)for(u=z.length-1,g=j.length-1;1<=u&&0<=g&&z[u]!==j[g];)g--;for(;1<=u&&0<=g;u--,g--)if(z[u]!==j[g]){if(u!==1||g!==1)do if(u--,g--,0>g||z[u]!==j[g]){var Z=`
`+z[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=g);break}}}finally{hr=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Qt(s):""}function mr(n,r){switch(n.tag){case 26:case 27:case 5:return Qt(n.type);case 16:return Qt("Lazy");case 13:return n.child!==r&&r!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return Zt(n.type,!1);case 11:return Zt(n.type.render,!1);case 1:return Zt(n.type,!0);case 31:return Qt("Activity");default:return""}}function Yn(n){try{var r="",s=null;do r+=mr(n,s),s=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Jn=Object.prototype.hasOwnProperty,Bl=t.unstable_scheduleCallback,Hl=t.unstable_cancelCallback,Wo=t.unstable_shouldYield,e0=t.unstable_requestPaint,Dt=t.unstable_now,re=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,st=t.unstable_NormalPriority,Ot=t.unstable_LowPriority,Ud=t.unstable_IdlePriority,Wg=t.log,ev=t.unstable_setDisableYieldValue,Gl=null,dn=null;function zi(n){if(typeof Wg=="function"&&ev(n),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(Gl,n)}catch{}}var fn=Math.clz32?Math.clz32:iv,tv=Math.log,nv=Math.LN2;function iv(n){return n>>>=0,n===0?32:31-(tv(n)/nv|0)|0}var ja=256,Ya=262144,Ja=4194304;function pr(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xa(n,r,s){var u=n.pendingLanes;if(u===0)return 0;var g=0,y=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var N=u&134217727;return N!==0?(u=N&~y,u!==0?g=pr(u):(A&=N,A!==0?g=pr(A):s||(s=N&~n,s!==0&&(g=pr(s))))):(N=u&~y,N!==0?g=pr(N):A!==0?g=pr(A):s||(s=u&~n,s!==0&&(g=pr(s)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,s=r&-r,y>=s||y===32&&(s&4194048)!==0)?r:g}function Pl(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function rv(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bd(){var n=Ja;return Ja<<=1,(Ja&62914560)===0&&(Ja=4194304),n}function t0(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function ql(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function lv(n,r,s,u,g,y){var A=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var N=n.entanglements,z=n.expirationTimes,j=n.hiddenUpdates;for(s=A&~s;0<s;){var Z=31-fn(s),ie=1<<Z;N[Z]=0,z[Z]=-1;var Y=j[Z];if(Y!==null)for(j[Z]=null,Z=0;Z<Y.length;Z++){var K=Y[Z];K!==null&&(K.lane&=-536870913)}s&=~ie}u!==0&&Hd(n,u,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(A&~r))}function Hd(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-fn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function Gd(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var u=31-fn(s),g=1<<u;g&r|n[u]&r&&(n[u]|=r),s&=~g}}function Pd(n,r){var s=r&-r;return s=(s&42)!==0?1:n0(s),(s&(n.suspendedLanes|r))!==0?0:s}function n0(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function i0(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function qd(){var n=$.p;return n!==0?n:(n=window.event,n===void 0?32:Nm(n.type))}function Od(n,r){var s=$.p;try{return $.p=n,r()}finally{$.p=s}}var Li=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Li,Wt="__reactProps$"+Li,Gr="__reactContainer$"+Li,r0="__reactEvents$"+Li,av="__reactListeners$"+Li,sv="__reactHandles$"+Li,Vd="__reactResources$"+Li,Ol="__reactMarker$"+Li;function l0(n){delete n[Bt],delete n[Wt],delete n[r0],delete n[av],delete n[sv]}function Pr(n){var r=n[Bt];if(r)return r;for(var s=n.parentNode;s;){if(r=s[Gr]||s[Bt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=dm(n);n!==null;){if(s=n[Bt])return s;n=dm(n)}return r}n=s,s=n.parentNode}return null}function qr(n){if(n=n[Bt]||n[Gr]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Vl(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(l(33))}function Or(n){var r=n[Vd];return r||(r=n[Vd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(n){n[Ol]=!0}var Fd=new Set,jd={};function gr(n,r){Vr(n,r),Vr(n+"Capture",r)}function Vr(n,r){for(jd[n]=r,n=0;n<r.length;n++)Fd.add(r[n])}var ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yd={},Jd={};function uv(n){return Jn.call(Jd,n)?!0:Jn.call(Yd,n)?!1:ov.test(n)?Jd[n]=!0:(Yd[n]=!0,!1)}function Ka(n,r,s){if(uv(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function $a(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function li(n,r,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+u)}}function Tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xd(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cv(n,r,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(A){s=""+A,y.call(this,A)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(A){s=""+A},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function a0(n){if(!n._valueTracker){var r=Xd(n)?"checked":"value";n._valueTracker=cv(n,r,""+n[r])}}function Kd(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return n&&(u=Xd(n)?n.checked?"true":"false":n.value),n=u,n!==s?(r.setValue(n),!0):!1}function Qa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var dv=/[\n"\\]/g;function An(n){return n.replace(dv,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function s0(n,r,s,u,g,y,A,N){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),r!=null?A==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Tn(r)):n.value!==""+Tn(r)&&(n.value=""+Tn(r)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),r!=null?o0(n,A,Tn(r)):s!=null?o0(n,A,Tn(s)):u!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+Tn(N):n.removeAttribute("name")}function $d(n,r,s,u,g,y,A,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),r!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){a0(n);return}s=s!=null?""+Tn(s):"",r=r!=null?""+Tn(r):s,N||r===n.value||(n.value=r),n.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=N?n.checked:!!u,n.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),a0(n)}function o0(n,r,s){r==="number"&&Qa(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Fr(n,r,s,u){if(n=n.options,r){r={};for(var g=0;g<s.length;g++)r["$"+s[g]]=!0;for(s=0;s<n.length;s++)g=r.hasOwnProperty("$"+n[s].value),n[s].selected!==g&&(n[s].selected=g),g&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Tn(s),r=null,g=0;g<n.length;g++){if(n[g].value===s){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function Qd(n,r,s){if(r!=null&&(r=""+Tn(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Tn(s):""}function Zd(n,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(l(92));if(Te(u)){if(1<u.length)throw Error(l(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=Tn(r),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),a0(n)}function jr(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var fv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(n,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,s):typeof s!="number"||s===0||fv.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function ef(n,r,s){if(r!=null&&typeof r!="object")throw Error(l(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&s[g]!==u&&Wd(n,g,u)}else for(var y in r)r.hasOwnProperty(y)&&Wd(n,y,r[y])}function u0(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(n){return mv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ai(){}var c0=null;function d0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yr=null,Jr=null;function tf(n){var r=qr(n);if(r&&(n=r.stateNode)){var s=n[Wt]||null;e:switch(n=r.stateNode,r.type){case"input":if(s0(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==n&&u.form===n.form){var g=u[Wt]||null;if(!g)throw Error(l(90));s0(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===n.form&&Kd(u)}break e;case"textarea":Qd(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Fr(n,!!s.multiple,r,!1)}}}var f0=!1;function nf(n,r,s){if(f0)return n(r,s);f0=!0;try{var u=n(r);return u}finally{if(f0=!1,(Yr!==null||Jr!==null)&&(Gs(),Yr&&(r=Yr,n=Jr,Jr=Yr=null,tf(r),n)))for(r=0;r<n.length;r++)tf(n[r])}}function Fl(n,r){var s=n.stateNode;if(s===null)return null;var u=s[Wt]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(l(231,r,typeof s));return s}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h0=!1;if(si)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){h0=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{h0=!1}var Ui=null,m0=null,Wa=null;function rf(){if(Wa)return Wa;var n,r=m0,s=r.length,u,g="value"in Ui?Ui.value:Ui.textContent,y=g.length;for(n=0;n<s&&r[n]===g[n];n++);var A=s-n;for(u=1;u<=A&&r[s-u]===g[y-u];u++);return Wa=g.slice(n,1<u?1-u:void 0)}function es(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ts(){return!0}function lf(){return!1}function en(n){function r(s,u,g,y,A){this._reactName=s,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(s=n[N],this[N]=s?s(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ts:lf,this.isPropagationStopped=lf,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),r}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=en(vr),Yl=S({},vr,{view:0,detail:0}),pv=en(Yl),p0,g0,Jl,is=S({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Jl&&(Jl&&n.type==="mousemove"?(p0=n.screenX-Jl.screenX,g0=n.screenY-Jl.screenY):g0=p0=0,Jl=n),p0)},movementY:function(n){return"movementY"in n?n.movementY:g0}}),af=en(is),gv=S({},is,{dataTransfer:0}),vv=en(gv),yv=S({},Yl,{relatedTarget:0}),v0=en(yv),xv=S({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=en(xv),Sv=S({},vr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wv=en(Sv),Tv=S({},vr,{data:0}),sf=en(Tv),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Cv[n])?!!r[n]:!1}function y0(){return Nv}var Mv=S({},Yl,{key:function(n){if(n.key){var r=Av[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=es(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ev[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(n){return n.type==="keypress"?es(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?es(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_v=en(Mv),Rv=S({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=en(Rv),kv=S({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),Iv=en(kv),Dv=S({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zv=en(Dv),Lv=S({},is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=en(Lv),Bv=S({},vr,{newState:0,oldState:0}),Hv=en(Bv),Gv=[9,13,27,32],x0=si&&"CompositionEvent"in window,Xl=null;si&&"documentMode"in document&&(Xl=document.documentMode);var Pv=si&&"TextEvent"in window&&!Xl,uf=si&&(!x0||Xl&&8<Xl&&11>=Xl),cf=" ",df=!1;function ff(n,r){switch(n){case"keyup":return Gv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xr=!1;function qv(n,r){switch(n){case"compositionend":return hf(r);case"keypress":return r.which!==32?null:(df=!0,cf);case"textInput":return n=r.data,n===cf&&df?null:n;default:return null}}function Ov(n,r){if(Xr)return n==="compositionend"||!x0&&ff(n,r)?(n=rf(),Wa=m0=Ui=null,Xr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return uf&&r.locale!=="ko"?null:r.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vv[n.type]:r==="textarea"}function pf(n,r,s,u){Yr?Jr?Jr.push(u):Jr=[u]:Yr=u,r=Ys(r,"onChange"),0<r.length&&(s=new ns("onChange","change",null,s,u),n.push({event:s,listeners:r}))}var Kl=null,$l=null;function Fv(n){Q1(n,0)}function rs(n){var r=Vl(n);if(Kd(r))return n}function gf(n,r){if(n==="change")return r}var vf=!1;if(si){var b0;if(si){var S0="oninput"in document;if(!S0){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),S0=typeof yf.oninput=="function"}b0=S0}else b0=!1;vf=b0&&(!document.documentMode||9<document.documentMode)}function xf(){Kl&&(Kl.detachEvent("onpropertychange",bf),$l=Kl=null)}function bf(n){if(n.propertyName==="value"&&rs($l)){var r=[];pf(r,$l,n,d0(n)),nf(Fv,r)}}function jv(n,r,s){n==="focusin"?(xf(),Kl=r,$l=s,Kl.attachEvent("onpropertychange",bf)):n==="focusout"&&xf()}function Yv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rs($l)}function Jv(n,r){if(n==="click")return rs(r)}function Xv(n,r){if(n==="input"||n==="change")return rs(r)}function Kv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var hn=typeof Object.is=="function"?Object.is:Kv;function Ql(n,r){if(hn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var g=s[u];if(!Jn.call(r,g)||!hn(n[g],r[g]))return!1}return!0}function Sf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wf(n,r){var s=Sf(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=r&&u>=r)return{node:s,offset:r-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sf(s)}}function Tf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Tf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Af(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Qa(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Qa(n.document)}return r}function w0(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var $v=si&&"documentMode"in document&&11>=document.documentMode,Kr=null,T0=null,Zl=null,A0=!1;function Ef(n,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;A0||Kr==null||Kr!==Qa(u)||(u=Kr,"selectionStart"in u&&w0(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Ql(Zl,u)||(Zl=u,u=Ys(T0,"onSelect"),0<u.length&&(r=new ns("onSelect","select",null,r,s),n.push({event:r,listeners:u}),r.target=Kr)))}function yr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var $r={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},E0={},Cf={};si&&(Cf=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function xr(n){if(E0[n])return E0[n];if(!$r[n])return n;var r=$r[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in Cf)return E0[n]=r[s];return n}var Nf=xr("animationend"),Mf=xr("animationiteration"),_f=xr("animationstart"),Qv=xr("transitionrun"),Zv=xr("transitionstart"),Wv=xr("transitioncancel"),Rf=xr("transitionend"),kf=new Map,C0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");C0.push("scrollEnd");function Hn(n,r){kf.set(n,r),gr(r,[n])}var ls=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},En=[],Qr=0,N0=0;function as(){for(var n=Qr,r=N0=Qr=0;r<n;){var s=En[r];En[r++]=null;var u=En[r];En[r++]=null;var g=En[r];En[r++]=null;var y=En[r];if(En[r++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}y!==0&&If(s,g,y)}}function ss(n,r,s,u){En[Qr++]=n,En[Qr++]=r,En[Qr++]=s,En[Qr++]=u,N0|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function M0(n,r,s,u){return ss(n,r,s,u),os(n)}function br(n,r){return ss(n,null,null,r),os(n)}function If(n,r,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var g=!1,y=n.return;y!==null;)y.childLanes|=s,u=y.alternate,u!==null&&(u.childLanes|=s),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&r!==null&&(g=31-fn(s),n=y.hiddenUpdates,u=n[g],u===null?n[g]=[r]:u.push(r),r.lane=s|536870912),y):null}function os(n){if(50<ba)throw ba=0,Bu=null,Error(l(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Zr={};function e5(n,r,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,r,s,u){return new e5(n,r,s,u)}function _0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function oi(n,r){var s=n.alternate;return s===null?(s=mn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Df(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function us(n,r,s,u,g,y){var A=0;if(u=n,typeof n=="function")_0(n)&&(A=1);else if(typeof n=="string")A=l3(n,s,ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case le:return n=mn(31,s,r,g),n.elementType=le,n.lanes=y,n;case R:return Sr(s.children,g,y,r);case k:A=8,g|=24;break;case U:return n=mn(12,s,r,g|2),n.elementType=U,n.lanes=y,n;case ne:return n=mn(13,s,r,g),n.elementType=ne,n.lanes=y,n;case ee:return n=mn(19,s,r,g),n.elementType=ee,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:A=10;break e;case O:A=9;break e;case W:A=11;break e;case q:A=14;break e;case de:A=16,u=null;break e}A=29,s=Error(l(130,n===null?"null":typeof n,"")),u=null}return r=mn(A,s,r,g),r.elementType=n,r.type=u,r.lanes=y,r}function Sr(n,r,s,u){return n=mn(7,n,u,r),n.lanes=s,n}function R0(n,r,s){return n=mn(6,n,null,r),n.lanes=s,n}function zf(n){var r=mn(18,null,null,0);return r.stateNode=n,r}function k0(n,r,s){return r=mn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Lf=new WeakMap;function Cn(n,r){if(typeof n=="object"&&n!==null){var s=Lf.get(n);return s!==void 0?s:(r={value:n,source:r,stack:Yn(r)},Lf.set(n,r),r)}return{value:n,source:r,stack:Yn(r)}}var Wr=[],el=0,cs=null,Wl=0,Nn=[],Mn=0,Bi=null,Xn=1,Kn="";function ui(n,r){Wr[el++]=Wl,Wr[el++]=cs,cs=n,Wl=r}function Uf(n,r,s){Nn[Mn++]=Xn,Nn[Mn++]=Kn,Nn[Mn++]=Bi,Bi=n;var u=Xn;n=Kn;var g=32-fn(u)-1;u&=~(1<<g),s+=1;var y=32-fn(r)+g;if(30<y){var A=g-g%5;y=(u&(1<<A)-1).toString(32),u>>=A,g-=A,Xn=1<<32-fn(r)+g|s<<g|u,Kn=y+n}else Xn=1<<y|s<<g|u,Kn=n}function I0(n){n.return!==null&&(ui(n,1),Uf(n,1,0))}function D0(n){for(;n===cs;)cs=Wr[--el],Wr[el]=null,Wl=Wr[--el],Wr[el]=null;for(;n===Bi;)Bi=Nn[--Mn],Nn[Mn]=null,Kn=Nn[--Mn],Nn[Mn]=null,Xn=Nn[--Mn],Nn[Mn]=null}function Bf(n,r){Nn[Mn++]=Xn,Nn[Mn++]=Kn,Nn[Mn++]=Bi,Xn=r.id,Kn=r.overflow,Bi=n}var Ht=null,ft=null,Je=!1,Hi=null,_n=!1,z0=Error(l(519));function Gi(n){var r=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ea(Cn(r,n)),z0}function Hf(n){var r=n.stateNode,s=n.type,u=n.memoizedProps;switch(r[Bt]=n,r[Wt]=u,s){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<wa.length;s++)Fe(wa[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),$d(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),Zd(r,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||tm(r.textContent,s)?(u.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),u.onScroll!=null&&Fe("scroll",r),u.onScrollEnd!=null&&Fe("scrollend",r),u.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||Gi(n,!0)}function Gf(n){for(Ht=n.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Ht=Ht.return}}function tl(n){if(n!==Ht)return!1;if(!Je)return Gf(n),Je=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Zu(n.type,n.memoizedProps)),s=!s),s&&ft&&Gi(n),Gf(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));ft=cm(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));ft=cm(n)}else r===27?(r=ft,Wi(n.type)?(n=ic,ic=null,ft=n):ft=r):ft=Ht?kn(n.stateNode.nextSibling):null;return!0}function wr(){ft=Ht=null,Je=!1}function L0(){var n=Hi;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Hi=null),n}function ea(n){Hi===null?Hi=[n]:Hi.push(n)}var U0=L(null),Tr=null,ci=null;function Pi(n,r,s){ue(U0,r._currentValue),r._currentValue=s}function di(n){n._currentValue=U0.current,X(U0)}function B0(n,r,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===s)break;n=n.return}}function H0(n,r,s,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=g;for(var z=0;z<r.length;z++)if(N.context===r[z]){y.lanes|=s,N=y.alternate,N!==null&&(N.lanes|=s),B0(y.return,s,n),u||(A=null);break e}y=N.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(l(341));A.lanes|=s,y=A.alternate,y!==null&&(y.lanes|=s),B0(A,s,n),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===n){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function nl(n,r,s,u){n=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(l(387));if(A=A.memoizedProps,A!==null){var N=g.type;hn(g.pendingProps.value,A.value)||(n!==null?n.push(N):n=[N])}}else if(g===se.current){if(A=g.alternate,A===null)throw Error(l(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Na):n=[Na])}g=g.return}n!==null&&H0(r,n,s,u),r.flags|=262144}function ds(n){for(n=n.firstContext;n!==null;){if(!hn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ar(n){Tr=n,ci=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Gt(n){return Pf(Tr,n)}function fs(n,r){return Tr===null&&Ar(n),Pf(n,r)}function Pf(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},ci===null){if(n===null)throw Error(l(308));ci=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ci=ci.next=r;return s}var t5=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},n5=t.unstable_scheduleCallback,i5=t.unstable_NormalPriority,At={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G0(){return{controller:new t5,data:new Map,refCount:0}}function ta(n){n.refCount--,n.refCount===0&&n5(i5,function(){n.controller.abort()})}var na=null,P0=0,il=0,rl=null;function r5(n,r){if(na===null){var s=na=[];P0=0,il=Vu(),rl={status:"pending",value:void 0,then:function(u){s.push(u)}}}return P0++,r.then(qf,qf),r}function qf(){if(--P0===0&&na!==null){rl!==null&&(rl.status="fulfilled");var n=na;na=null,il=0,rl=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function l5(n,r){var s=[],u={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<s.length;g++)(0,s[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),u}var Of=P.S;P.S=function(n,r){E1=Dt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r5(n,r),Of!==null&&Of(n,r)};var Er=L(null);function q0(){var n=Er.current;return n!==null?n:ot.pooledCache}function hs(n,r){r===null?ue(Er,Er.current):ue(Er,r.pool)}function Vf(){var n=q0();return n===null?null:{parent:At._currentValue,pool:n}}var ll=Error(l(460)),O0=Error(l(474)),ms=Error(l(542)),ps={then:function(){}};function Ff(n){return n=n.status,n==="fulfilled"||n==="rejected"}function jf(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(ai,ai),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Jf(n),n;default:if(typeof r.status=="string")r.then(ai,ai);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Jf(n),n}throw Nr=r,ll}}function Cr(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,ll):s}}var Nr=null;function Yf(){if(Nr===null)throw Error(l(459));var n=Nr;return Nr=null,n}function Jf(n){if(n===ll||n===ms)throw Error(l(483))}var al=null,ia=0;function gs(n){var r=ia;return ia+=1,al===null&&(al=[]),jf(al,n,r)}function ra(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function vs(n,r){throw r.$$typeof===w?Error(l(525)):(n=Object.prototype.toString.call(r),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Xf(n){function r(G,B){if(n){var V=G.deletions;V===null?(G.deletions=[B],G.flags|=16):V.push(B)}}function s(G,B){if(!n)return null;for(;B!==null;)r(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function g(G,B){return G=oi(G,B),G.index=0,G.sibling=null,G}function y(G,B,V){return G.index=V,n?(V=G.alternate,V!==null?(V=V.index,V<B?(G.flags|=67108866,B):V):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function A(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function N(G,B,V,te){return B===null||B.tag!==6?(B=R0(V,G.mode,te),B.return=G,B):(B=g(B,V),B.return=G,B)}function z(G,B,V,te){var _e=V.type;return _e===R?Z(G,B,V.props.children,te,V.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===de&&Cr(_e)===B.type)?(B=g(B,V.props),ra(B,V),B.return=G,B):(B=us(V.type,V.key,V.props,null,G.mode,te),ra(B,V),B.return=G,B)}function j(G,B,V,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=k0(V,G.mode,te),B.return=G,B):(B=g(B,V.children||[]),B.return=G,B)}function Z(G,B,V,te,_e){return B===null||B.tag!==7?(B=Sr(V,G.mode,te,_e),B.return=G,B):(B=g(B,V),B.return=G,B)}function ie(G,B,V){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=R0(""+B,G.mode,V),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return V=us(B.type,B.key,B.props,null,G.mode,V),ra(V,B),V.return=G,V;case _:return B=k0(B,G.mode,V),B.return=G,B;case de:return B=Cr(B),ie(G,B,V)}if(Te(B)||ae(B))return B=Sr(B,G.mode,V,null),B.return=G,B;if(typeof B.then=="function")return ie(G,gs(B),V);if(B.$$typeof===J)return ie(G,fs(G,B),V);vs(G,B)}return null}function Y(G,B,V,te){var _e=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return _e!==null?null:N(G,B,""+V,te);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return V.key===_e?z(G,B,V,te):null;case _:return V.key===_e?j(G,B,V,te):null;case de:return V=Cr(V),Y(G,B,V,te)}if(Te(V)||ae(V))return _e!==null?null:Z(G,B,V,te,null);if(typeof V.then=="function")return Y(G,B,gs(V),te);if(V.$$typeof===J)return Y(G,B,fs(G,V),te);vs(G,V)}return null}function K(G,B,V,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(V)||null,N(B,G,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return G=G.get(te.key===null?V:te.key)||null,z(B,G,te,_e);case _:return G=G.get(te.key===null?V:te.key)||null,j(B,G,te,_e);case de:return te=Cr(te),K(G,B,V,te,_e)}if(Te(te)||ae(te))return G=G.get(V)||null,Z(B,G,te,_e,null);if(typeof te.then=="function")return K(G,B,V,gs(te),_e);if(te.$$typeof===J)return K(G,B,V,fs(B,te),_e);vs(B,te)}return null}function Ee(G,B,V,te){for(var _e=null,Ke=null,Ne=B,Pe=B=0,Ye=null;Ne!==null&&Pe<V.length;Pe++){Ne.index>Pe?(Ye=Ne,Ne=null):Ye=Ne.sibling;var $e=Y(G,Ne,V[Pe],te);if($e===null){Ne===null&&(Ne=Ye);break}n&&Ne&&$e.alternate===null&&r(G,Ne),B=y($e,B,Pe),Ke===null?_e=$e:Ke.sibling=$e,Ke=$e,Ne=Ye}if(Pe===V.length)return s(G,Ne),Je&&ui(G,Pe),_e;if(Ne===null){for(;Pe<V.length;Pe++)Ne=ie(G,V[Pe],te),Ne!==null&&(B=y(Ne,B,Pe),Ke===null?_e=Ne:Ke.sibling=Ne,Ke=Ne);return Je&&ui(G,Pe),_e}for(Ne=u(Ne);Pe<V.length;Pe++)Ye=K(Ne,G,Pe,V[Pe],te),Ye!==null&&(n&&Ye.alternate!==null&&Ne.delete(Ye.key===null?Pe:Ye.key),B=y(Ye,B,Pe),Ke===null?_e=Ye:Ke.sibling=Ye,Ke=Ye);return n&&Ne.forEach(function(rr){return r(G,rr)}),Je&&ui(G,Pe),_e}function De(G,B,V,te){if(V==null)throw Error(l(151));for(var _e=null,Ke=null,Ne=B,Pe=B=0,Ye=null,$e=V.next();Ne!==null&&!$e.done;Pe++,$e=V.next()){Ne.index>Pe?(Ye=Ne,Ne=null):Ye=Ne.sibling;var rr=Y(G,Ne,$e.value,te);if(rr===null){Ne===null&&(Ne=Ye);break}n&&Ne&&rr.alternate===null&&r(G,Ne),B=y(rr,B,Pe),Ke===null?_e=rr:Ke.sibling=rr,Ke=rr,Ne=Ye}if($e.done)return s(G,Ne),Je&&ui(G,Pe),_e;if(Ne===null){for(;!$e.done;Pe++,$e=V.next())$e=ie(G,$e.value,te),$e!==null&&(B=y($e,B,Pe),Ke===null?_e=$e:Ke.sibling=$e,Ke=$e);return Je&&ui(G,Pe),_e}for(Ne=u(Ne);!$e.done;Pe++,$e=V.next())$e=K(Ne,G,Pe,$e.value,te),$e!==null&&(n&&$e.alternate!==null&&Ne.delete($e.key===null?Pe:$e.key),B=y($e,B,Pe),Ke===null?_e=$e:Ke.sibling=$e,Ke=$e);return n&&Ne.forEach(function(g3){return r(G,g3)}),Je&&ui(G,Pe),_e}function at(G,B,V,te){if(typeof V=="object"&&V!==null&&V.type===R&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case E:e:{for(var _e=V.key;B!==null;){if(B.key===_e){if(_e=V.type,_e===R){if(B.tag===7){s(G,B.sibling),te=g(B,V.props.children),te.return=G,G=te;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===de&&Cr(_e)===B.type){s(G,B.sibling),te=g(B,V.props),ra(te,V),te.return=G,G=te;break e}s(G,B);break}else r(G,B);B=B.sibling}V.type===R?(te=Sr(V.props.children,G.mode,te,V.key),te.return=G,G=te):(te=us(V.type,V.key,V.props,null,G.mode,te),ra(te,V),te.return=G,G=te)}return A(G);case _:e:{for(_e=V.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){s(G,B.sibling),te=g(B,V.children||[]),te.return=G,G=te;break e}else{s(G,B);break}else r(G,B);B=B.sibling}te=k0(V,G.mode,te),te.return=G,G=te}return A(G);case de:return V=Cr(V),at(G,B,V,te)}if(Te(V))return Ee(G,B,V,te);if(ae(V)){if(_e=ae(V),typeof _e!="function")throw Error(l(150));return V=_e.call(V),De(G,B,V,te)}if(typeof V.then=="function")return at(G,B,gs(V),te);if(V.$$typeof===J)return at(G,B,fs(G,V),te);vs(G,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,B!==null&&B.tag===6?(s(G,B.sibling),te=g(B,V),te.return=G,G=te):(s(G,B),te=R0(V,G.mode,te),te.return=G,G=te),A(G)):s(G,B)}return function(G,B,V,te){try{ia=0;var _e=at(G,B,V,te);return al=null,_e}catch(Ne){if(Ne===ll||Ne===ms)throw Ne;var Ke=mn(29,Ne,null,G.mode);return Ke.lanes=te,Ke.return=G,Ke}finally{}}}var Mr=Xf(!0),Kf=Xf(!1),qi=!1;function V0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function F0(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vi(n,r,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=os(n),If(n,null,s),r}return ss(n,u,r,s),os(n)}function la(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Gd(n,s)}}function j0(n,r){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var g=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,s=s.next}while(s!==null);y===null?g=y=r:y=y.next=r}else g=y=r;s={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var Y0=!1;function aa(){if(Y0){var n=rl;if(n!==null)throw n}}function sa(n,r,s,u){Y0=!1;var g=n.updateQueue;qi=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var z=N,j=z.next;z.next=null,A===null?y=j:A.next=j,A=z;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,N=Z.lastBaseUpdate,N!==A&&(N===null?Z.firstBaseUpdate=j:N.next=j,Z.lastBaseUpdate=z))}if(y!==null){var ie=g.baseState;A=0,Z=j=z=null,N=y;do{var Y=N.lane&-536870913,K=Y!==N.lane;if(K?(je&Y)===Y:(u&Y)===Y){Y!==0&&Y===il&&(Y0=!0),Z!==null&&(Z=Z.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ee=n,De=N;Y=r;var at=s;switch(De.tag){case 1:if(Ee=De.payload,typeof Ee=="function"){ie=Ee.call(at,ie,Y);break e}ie=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=De.payload,Y=typeof Ee=="function"?Ee.call(at,ie,Y):Ee,Y==null)break e;ie=S({},ie,Y);break e;case 2:qi=!0}}Y=N.callback,Y!==null&&(n.flags|=64,K&&(n.flags|=8192),K=g.callbacks,K===null?g.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Z===null?(j=Z=K,z=ie):Z=Z.next=K,A|=Y;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;K=N,N=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);Z===null&&(z=ie),g.baseState=z,g.firstBaseUpdate=j,g.lastBaseUpdate=Z,y===null&&(g.shared.lanes=0),Xi|=A,n.lanes=A,n.memoizedState=ie}}function $f(n,r){if(typeof n!="function")throw Error(l(191,n));n.call(r)}function Qf(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)$f(s[n],r)}var sl=L(null),ys=L(0);function Zf(n,r){n=bi,ue(ys,n),ue(sl,r),bi=n|r.baseLanes}function J0(){ue(ys,bi),ue(sl,sl.current)}function X0(){bi=ys.current,X(sl),X(ys)}var pn=L(null),Rn=null;function Fi(n){var r=n.alternate;ue(St,St.current&1),ue(pn,n),Rn===null&&(r===null||sl.current!==null||r.memoizedState!==null)&&(Rn=n)}function K0(n){ue(St,St.current),ue(pn,n),Rn===null&&(Rn=n)}function Wf(n){n.tag===22?(ue(St,St.current),ue(pn,n),Rn===null&&(Rn=n)):ji()}function ji(){ue(St,St.current),ue(pn,pn.current)}function gn(n){X(pn),Rn===n&&(Rn=null),X(St)}var St=L(0);function xs(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||tc(s)||nc(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fi=0,Ge=null,rt=null,Et=null,bs=!1,ol=!1,_r=!1,Ss=0,oa=0,ul=null,a5=0;function yt(){throw Error(l(321))}function $0(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!hn(n[s],r[s]))return!1;return!0}function Q0(n,r,s,u,g,y){return fi=y,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=n===null||n.memoizedState===null?Uh:fu,_r=!1,y=s(u,g),_r=!1,ol&&(y=th(r,s,u,g)),eh(n),y}function eh(n){P.H=da;var r=rt!==null&&rt.next!==null;if(fi=0,Et=rt=Ge=null,bs=!1,oa=0,ul=null,r)throw Error(l(300));n===null||Ct||(n=n.dependencies,n!==null&&ds(n)&&(Ct=!0))}function th(n,r,s,u){Ge=n;var g=0;do{if(ol&&(ul=null),oa=0,ol=!1,25<=g)throw Error(l(301));if(g+=1,Et=rt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=Bh,y=r(s,u)}while(ol);return y}function s5(){var n=P.H,r=n.useState()[0];return r=typeof r.then=="function"?ua(r):r,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(Ge.flags|=1024),r}function Z0(){var n=Ss!==0;return Ss=0,n}function W0(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function eu(n){if(bs){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}bs=!1}fi=0,Et=rt=Ge=null,ol=!1,oa=Ss=0,ul=null}function jt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ge.memoizedState=Et=n:Et=Et.next=n,Et}function wt(){if(rt===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var r=Et===null?Ge.memoizedState:Et.next;if(r!==null)Et=r,rt=n;else{if(n===null)throw Ge.alternate===null?Error(l(467)):Error(l(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Et===null?Ge.memoizedState=Et=n:Et=Et.next=n}return Et}function ws(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ua(n){var r=oa;return oa+=1,ul===null&&(ul=[]),n=jf(ul,n,r),r=Ge,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?Uh:fu),n}function Ts(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ua(n);if(n.$$typeof===J)return Gt(n)}throw Error(l(438,String(n)))}function tu(n){var r=null,s=Ge.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=ws(),Ge.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),u=0;u<n;u++)s[u]=be;return r.index++,s}function hi(n,r){return typeof r=="function"?r(n):r}function As(n){var r=wt();return nu(r,rt,n)}function nu(n,r,s){var u=n.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=s;var g=n.baseQueue,y=u.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}r.baseQueue=g=y,u.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{r=g.next;var N=A=null,z=null,j=r,Z=!1;do{var ie=j.lane&-536870913;if(ie!==j.lane?(je&ie)===ie:(fi&ie)===ie){var Y=j.revertLane;if(Y===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ie===il&&(Z=!0);else if((fi&Y)===Y){j=j.next,Y===il&&(Z=!0);continue}else ie={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},z===null?(N=z=ie,A=y):z=z.next=ie,Ge.lanes|=Y,Xi|=Y;ie=j.action,_r&&s(y,ie),y=j.hasEagerState?j.eagerState:s(y,ie)}else Y={lane:ie,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},z===null?(N=z=Y,A=y):z=z.next=Y,Ge.lanes|=ie,Xi|=ie;j=j.next}while(j!==null&&j!==r);if(z===null?A=y:z.next=N,!hn(y,n.memoizedState)&&(Ct=!0,Z&&(s=rl,s!==null)))throw s;n.memoizedState=y,n.baseState=A,n.baseQueue=z,u.lastRenderedState=y}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function iu(n){var r=wt(),s=r.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var u=s.dispatch,g=s.pending,y=r.memoizedState;if(g!==null){s.pending=null;var A=g=g.next;do y=n(y,A.action),A=A.next;while(A!==g);hn(y,r.memoizedState)||(Ct=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),s.lastRenderedState=y}return[y,u]}function nh(n,r,s){var u=Ge,g=wt(),y=Je;if(y){if(s===void 0)throw Error(l(407));s=s()}else s=r();var A=!hn((rt||g).memoizedState,s);if(A&&(g.memoizedState=s,Ct=!0),g=g.queue,au(lh.bind(null,u,g,n),[n]),g.getSnapshot!==r||A||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,cl(9,{destroy:void 0},rh.bind(null,u,g,s,r),null),ot===null)throw Error(l(349));y||(fi&127)!==0||ih(u,r,s)}return s}function ih(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Ge.updateQueue,r===null?(r=ws(),Ge.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function rh(n,r,s,u){r.value=s,r.getSnapshot=u,ah(r)&&sh(n)}function lh(n,r,s){return s(function(){ah(r)&&sh(n)})}function ah(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!hn(n,s)}catch{return!0}}function sh(n){var r=br(n,2);r!==null&&an(r,n,2)}function ru(n){var r=jt();if(typeof n=="function"){var s=n;if(n=s(),_r){zi(!0);try{s()}finally{zi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},r}function oh(n,r,s,u){return n.baseState=s,nu(n,rt,typeof u=="function"?u:hi)}function o5(n,r,s,u,g){if(Ns(n))throw Error(l(485));if(n=r.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};P.T!==null?s(!0):y.isTransition=!1,u(y),s=r.pending,s===null?(y.next=r.pending=y,uh(r,y)):(y.next=s.next,r.pending=s.next=y)}}function uh(n,r){var s=r.action,u=r.payload,g=n.state;if(r.isTransition){var y=P.T,A={};P.T=A;try{var N=s(g,u),z=P.S;z!==null&&z(A,N),ch(n,r,N)}catch(j){lu(n,r,j)}finally{y!==null&&A.types!==null&&(y.types=A.types),P.T=y}}else try{y=s(g,u),ch(n,r,y)}catch(j){lu(n,r,j)}}function ch(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){dh(n,r,u)},function(u){return lu(n,r,u)}):dh(n,r,s)}function dh(n,r,s){r.status="fulfilled",r.value=s,fh(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,uh(n,s)))}function lu(n,r,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,fh(r),r=r.next;while(r!==u)}n.action=null}function fh(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function hh(n,r){return r}function mh(n,r){if(Je){var s=ot.formState;if(s!==null){e:{var u=Ge;if(Je){if(ft){t:{for(var g=ft,y=_n;g.nodeType!==8;){if(!y){g=null;break t}if(g=kn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ft=kn(g.nextSibling),u=g.data==="F!";break e}}Gi(u)}u=!1}u&&(r=s[0])}}return s=jt(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:r},s.queue=u,s=Dh.bind(null,Ge,u),u.dispatch=s,u=ru(!1),y=du.bind(null,Ge,!1,u.queue),u=jt(),g={state:r,dispatch:null,action:n,pending:null},u.queue=g,s=o5.bind(null,Ge,g,y,s),g.dispatch=s,u.memoizedState=n,[r,s,!1]}function ph(n){var r=wt();return gh(r,rt,n)}function gh(n,r,s){if(r=nu(n,r,hh)[0],n=As(hi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ua(r)}catch(A){throw A===ll?ms:A}else u=r;r=wt();var g=r.queue,y=g.dispatch;return s!==r.memoizedState&&(Ge.flags|=2048,cl(9,{destroy:void 0},u5.bind(null,g,s),null)),[u,y,n]}function u5(n,r){n.action=r}function vh(n){var r=wt(),s=rt;if(s!==null)return gh(r,s,n);wt(),r=r.memoizedState,s=wt();var u=s.queue.dispatch;return s.memoizedState=n,[r,u,!1]}function cl(n,r,s,u){return n={tag:n,create:s,deps:u,inst:r,next:null},r=Ge.updateQueue,r===null&&(r=ws(),Ge.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,r.lastEffect=n),n}function yh(){return wt().memoizedState}function Es(n,r,s,u){var g=jt();Ge.flags|=n,g.memoizedState=cl(1|r,{destroy:void 0},s,u===void 0?null:u)}function Cs(n,r,s,u){var g=wt();u=u===void 0?null:u;var y=g.memoizedState.inst;rt!==null&&u!==null&&$0(u,rt.memoizedState.deps)?g.memoizedState=cl(r,y,s,u):(Ge.flags|=n,g.memoizedState=cl(1|r,y,s,u))}function xh(n,r){Es(8390656,8,n,r)}function au(n,r){Cs(2048,8,n,r)}function c5(n){Ge.flags|=4;var r=Ge.updateQueue;if(r===null)r=ws(),Ge.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function bh(n){var r=wt().memoizedState;return c5({ref:r,nextImpl:n}),function(){if((et&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}function Sh(n,r){return Cs(4,2,n,r)}function wh(n,r){return Cs(4,4,n,r)}function Th(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ah(n,r,s){s=s!=null?s.concat([n]):null,Cs(4,4,Th.bind(null,r,n),s)}function su(){}function Eh(n,r){var s=wt();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&$0(r,u[1])?u[0]:(s.memoizedState=[n,r],n)}function Ch(n,r){var s=wt();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&$0(r,u[1]))return u[0];if(u=n(),_r){zi(!0);try{n()}finally{zi(!1)}}return s.memoizedState=[u,r],u}function ou(n,r,s){return s===void 0||(fi&1073741824)!==0&&(je&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=N1(),Ge.lanes|=n,Xi|=n,s)}function Nh(n,r,s,u){return hn(s,r)?s:sl.current!==null?(n=ou(n,s,u),hn(n,r)||(Ct=!0),n):(fi&42)===0||(fi&1073741824)!==0&&(je&261930)===0?(Ct=!0,n.memoizedState=s):(n=N1(),Ge.lanes|=n,Xi|=n,r)}function Mh(n,r,s,u,g){var y=$.p;$.p=y!==0&&8>y?y:8;var A=P.T,N={};P.T=N,du(n,!1,r,s);try{var z=g(),j=P.S;if(j!==null&&j(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=l5(z,u);ca(n,r,Z,xn(n))}else ca(n,r,u,xn(n))}catch(ie){ca(n,r,{then:function(){},status:"rejected",reason:ie},xn())}finally{$.p=y,A!==null&&N.types!==null&&(A.types=N.types),P.T=A}}function d5(){}function uu(n,r,s,u){if(n.tag!==5)throw Error(l(476));var g=_h(n).queue;Mh(n,g,r,fe,s===null?d5:function(){return Rh(n),s(u)})}function _h(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:fe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Rh(n){var r=_h(n);r.next===null&&(r=n.alternate.memoizedState),ca(n,r.next.queue,{},xn())}function cu(){return Gt(Na)}function kh(){return wt().memoizedState}function Ih(){return wt().memoizedState}function f5(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=xn();n=Oi(s);var u=Vi(r,n,s);u!==null&&(an(u,r,s),la(u,r,s)),r={cache:G0()},n.payload=r;return}r=r.return}}function h5(n,r,s){var u=xn();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ns(n)?zh(r,s):(s=M0(n,r,s,u),s!==null&&(an(s,n,u),Lh(s,r,u)))}function Dh(n,r,s){var u=xn();ca(n,r,s,u)}function ca(n,r,s,u){var g={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ns(n))zh(r,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var A=r.lastRenderedState,N=y(A,s);if(g.hasEagerState=!0,g.eagerState=N,hn(N,A))return ss(n,r,g,0),ot===null&&as(),!1}catch{}finally{}if(s=M0(n,r,g,u),s!==null)return an(s,n,u),Lh(s,r,u),!0}return!1}function du(n,r,s,u){if(u={lane:2,revertLane:Vu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ns(n)){if(r)throw Error(l(479))}else r=M0(n,s,u,2),r!==null&&an(r,n,2)}function Ns(n){var r=n.alternate;return n===Ge||r!==null&&r===Ge}function zh(n,r){ol=bs=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function Lh(n,r,s){if((s&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Gd(n,s)}}var da={readContext:Gt,use:Ts,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};da.useEffectEvent=yt;var Uh={readContext:Gt,use:Ts,useCallback:function(n,r){return jt().memoizedState=[n,r===void 0?null:r],n},useContext:Gt,useEffect:xh,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,Es(4194308,4,Th.bind(null,r,n),s)},useLayoutEffect:function(n,r){return Es(4194308,4,n,r)},useInsertionEffect:function(n,r){Es(4,2,n,r)},useMemo:function(n,r){var s=jt();r=r===void 0?null:r;var u=n();if(_r){zi(!0);try{n()}finally{zi(!1)}}return s.memoizedState=[u,r],u},useReducer:function(n,r,s){var u=jt();if(s!==void 0){var g=s(r);if(_r){zi(!0);try{s(r)}finally{zi(!1)}}}else g=r;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=h5.bind(null,Ge,n),[u.memoizedState,n]},useRef:function(n){var r=jt();return n={current:n},r.memoizedState=n},useState:function(n){n=ru(n);var r=n.queue,s=Dh.bind(null,Ge,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:su,useDeferredValue:function(n,r){var s=jt();return ou(s,n,r)},useTransition:function(){var n=ru(!1);return n=Mh.bind(null,Ge,n.queue,!0,!1),jt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var u=Ge,g=jt();if(Je){if(s===void 0)throw Error(l(407));s=s()}else{if(s=r(),ot===null)throw Error(l(349));(je&127)!==0||ih(u,r,s)}g.memoizedState=s;var y={value:s,getSnapshot:r};return g.queue=y,xh(lh.bind(null,u,y,n),[n]),u.flags|=2048,cl(9,{destroy:void 0},rh.bind(null,u,y,s,r),null),s},useId:function(){var n=jt(),r=ot.identifierPrefix;if(Je){var s=Kn,u=Xn;s=(u&~(1<<32-fn(u)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Ss++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=a5++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:cu,useFormState:mh,useActionState:mh,useOptimistic:function(n){var r=jt();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=du.bind(null,Ge,!0,s),s.dispatch=r,[n,r]},useMemoCache:tu,useCacheRefresh:function(){return jt().memoizedState=f5.bind(null,Ge)},useEffectEvent:function(n){var r=jt(),s={impl:n};return r.memoizedState=s,function(){if((et&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},fu={readContext:Gt,use:Ts,useCallback:Eh,useContext:Gt,useEffect:au,useImperativeHandle:Ah,useInsertionEffect:Sh,useLayoutEffect:wh,useMemo:Ch,useReducer:As,useRef:yh,useState:function(){return As(hi)},useDebugValue:su,useDeferredValue:function(n,r){var s=wt();return Nh(s,rt.memoizedState,n,r)},useTransition:function(){var n=As(hi)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:ua(n),r]},useSyncExternalStore:nh,useId:kh,useHostTransitionStatus:cu,useFormState:ph,useActionState:ph,useOptimistic:function(n,r){var s=wt();return oh(s,rt,n,r)},useMemoCache:tu,useCacheRefresh:Ih};fu.useEffectEvent=bh;var Bh={readContext:Gt,use:Ts,useCallback:Eh,useContext:Gt,useEffect:au,useImperativeHandle:Ah,useInsertionEffect:Sh,useLayoutEffect:wh,useMemo:Ch,useReducer:iu,useRef:yh,useState:function(){return iu(hi)},useDebugValue:su,useDeferredValue:function(n,r){var s=wt();return rt===null?ou(s,n,r):Nh(s,rt.memoizedState,n,r)},useTransition:function(){var n=iu(hi)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:ua(n),r]},useSyncExternalStore:nh,useId:kh,useHostTransitionStatus:cu,useFormState:vh,useActionState:vh,useOptimistic:function(n,r){var s=wt();return rt!==null?oh(s,rt,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:tu,useCacheRefresh:Ih};Bh.useEffectEvent=bh;function hu(n,r,s,u){r=n.memoizedState,s=s(u,r),s=s==null?r:S({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var mu={enqueueSetState:function(n,r,s){n=n._reactInternals;var u=xn(),g=Oi(u);g.payload=r,s!=null&&(g.callback=s),r=Vi(n,g,u),r!==null&&(an(r,n,u),la(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var u=xn(),g=Oi(u);g.tag=1,g.payload=r,s!=null&&(g.callback=s),r=Vi(n,g,u),r!==null&&(an(r,n,u),la(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=xn(),u=Oi(s);u.tag=2,r!=null&&(u.callback=r),r=Vi(n,u,s),r!==null&&(an(r,n,s),la(r,n,s))}};function Hh(n,r,s,u,g,y,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,A):r.prototype&&r.prototype.isPureReactComponent?!Ql(s,u)||!Ql(g,y):!0}function Gh(n,r,s,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==n&&mu.enqueueReplaceState(r,r.state,null)}function Rr(n,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(n=n.defaultProps){s===r&&(s=S({},s));for(var g in n)s[g]===void 0&&(s[g]=n[g])}return s}function Ph(n){ls(n)}function qh(n){console.error(n)}function Oh(n){ls(n)}function Ms(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Vh(n,r,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function pu(n,r,s){return s=Oi(s),s.tag=3,s.payload={element:null},s.callback=function(){Ms(n,r)},s}function Fh(n){return n=Oi(n),n.tag=3,n}function jh(n,r,s,u){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;n.payload=function(){return g(y)},n.callback=function(){Vh(r,s,u)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Vh(r,s,u),typeof g!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function m5(n,r,s,u,g){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&nl(r,s,g,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Rn===null?Ps():s.alternate===null&&xt===0&&(xt=3),s.flags&=-257,s.flags|=65536,s.lanes=g,u===ps?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),Pu(n,u,g)),!1;case 22:return s.flags|=65536,u===ps?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),Pu(n,u,g)),!1}throw Error(l(435,s.tag))}return Pu(n,u,g),Ps(),!1}if(Je)return r=pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==z0&&(n=Error(l(422),{cause:u}),ea(Cn(n,s)))):(u!==z0&&(r=Error(l(423),{cause:u}),ea(Cn(r,s))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=Cn(u,s),g=pu(n.stateNode,u,g),j0(n,g),xt!==4&&(xt=2)),!1;var y=Error(l(520),{cause:u});if(y=Cn(y,s),xa===null?xa=[y]:xa.push(y),xt!==4&&(xt=2),r===null)return!0;u=Cn(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=g&-g,s.lanes|=n,n=pu(s.stateNode,u,n),j0(s,n),!1;case 1:if(r=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ki===null||!Ki.has(y))))return s.flags|=65536,g&=-g,s.lanes|=g,g=Fh(g),jh(g,n,s,u),j0(s,g),!1}s=s.return}while(s!==null);return!1}var gu=Error(l(461)),Ct=!1;function Pt(n,r,s,u){r.child=n===null?Kf(r,null,s,u):Mr(r,n.child,s,u)}function Yh(n,r,s,u,g){s=s.render;var y=r.ref;if("ref"in u){var A={};for(var N in u)N!=="ref"&&(A[N]=u[N])}else A=u;return Ar(r),u=Q0(n,r,s,A,y,g),N=Z0(),n!==null&&!Ct?(W0(n,r,g),mi(n,r,g)):(Je&&N&&I0(r),r.flags|=1,Pt(n,r,u,g),r.child)}function Jh(n,r,s,u,g){if(n===null){var y=s.type;return typeof y=="function"&&!_0(y)&&y.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=y,Xh(n,r,y,u,g)):(n=us(s.type,null,u,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,!Au(n,g)){var A=y.memoizedProps;if(s=s.compare,s=s!==null?s:Ql,s(A,u)&&n.ref===r.ref)return mi(n,r,g)}return r.flags|=1,n=oi(y,u),n.ref=r.ref,n.return=r,r.child=n}function Xh(n,r,s,u,g){if(n!==null){var y=n.memoizedProps;if(Ql(y,u)&&n.ref===r.ref)if(Ct=!1,r.pendingProps=u=y,Au(n,g))(n.flags&131072)!==0&&(Ct=!0);else return r.lanes=n.lanes,mi(n,r,g)}return vu(n,r,s,u,g)}function Kh(n,r,s,u){var g=u.children,y=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,n!==null){for(u=r.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,r.child=null;return $h(n,r,y,s,u)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&hs(r,y!==null?y.cachePool:null),y!==null?Zf(r,y):J0(),Wf(r);else return u=r.lanes=536870912,$h(n,r,y!==null?y.baseLanes|s:s,s,u)}else y!==null?(hs(r,y.cachePool),Zf(r,y),ji(),r.memoizedState=null):(n!==null&&hs(r,null),J0(),ji());return Pt(n,r,g,s),r.child}function fa(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $h(n,r,s,u,g){var y=q0();return y=y===null?null:{parent:At._currentValue,pool:y},r.memoizedState={baseLanes:s,cachePool:y},n!==null&&hs(r,null),J0(),Wf(r),n!==null&&nl(n,r,u,!0),r.childLanes=g,null}function _s(n,r){return r=ks({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Qh(n,r,s){return Mr(r,n.child,null,s),n=_s(r,r.pendingProps),n.flags|=2,gn(r),r.memoizedState=null,n}function p5(n,r,s){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Je){if(u.mode==="hidden")return n=_s(r,u),r.lanes=536870912,fa(null,n);if(K0(r),(n=ft)?(n=um(n,_n),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Bi!==null?{id:Xn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},s=zf(n),s.return=r,r.child=s,Ht=r,ft=null)):n=null,n===null)throw Gi(r);return r.lanes=536870912,null}return _s(r,u)}var y=n.memoizedState;if(y!==null){var A=y.dehydrated;if(K0(r),g)if(r.flags&256)r.flags&=-257,r=Qh(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(l(558));else if(Ct||nl(n,r,s,!1),g=(s&n.childLanes)!==0,Ct||g){if(u=ot,u!==null&&(A=Pd(u,s),A!==0&&A!==y.retryLane))throw y.retryLane=A,br(n,A),an(u,n,A),gu;Ps(),r=Qh(n,r,s)}else n=y.treeContext,ft=kn(A.nextSibling),Ht=r,Je=!0,Hi=null,_n=!1,n!==null&&Bf(r,n),r=_s(r,u),r.flags|=4096;return r}return n=oi(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Rs(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function vu(n,r,s,u,g){return Ar(r),s=Q0(n,r,s,u,void 0,g),u=Z0(),n!==null&&!Ct?(W0(n,r,g),mi(n,r,g)):(Je&&u&&I0(r),r.flags|=1,Pt(n,r,s,g),r.child)}function Zh(n,r,s,u,g,y){return Ar(r),r.updateQueue=null,s=th(r,u,s,g),eh(n),u=Z0(),n!==null&&!Ct?(W0(n,r,y),mi(n,r,y)):(Je&&u&&I0(r),r.flags|=1,Pt(n,r,s,y),r.child)}function Wh(n,r,s,u,g){if(Ar(r),r.stateNode===null){var y=Zr,A=s.contextType;typeof A=="object"&&A!==null&&(y=Gt(A)),y=new s(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=mu,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},V0(r),A=s.contextType,y.context=typeof A=="object"&&A!==null?Gt(A):Zr,y.state=r.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(hu(r,s,A,u),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&mu.enqueueReplaceState(y,y.state,null),sa(r,u,y,g),aa(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){y=r.stateNode;var N=r.memoizedProps,z=Rr(s,N);y.props=z;var j=y.context,Z=s.contextType;A=Zr,typeof Z=="object"&&Z!==null&&(A=Gt(Z));var ie=s.getDerivedStateFromProps;Z=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||j!==A)&&Gh(r,y,u,A),qi=!1;var Y=r.memoizedState;y.state=Y,sa(r,u,y,g),aa(),j=r.memoizedState,N||Y!==j||qi?(typeof ie=="function"&&(hu(r,s,ie,u),j=r.memoizedState),(z=qi||Hh(r,s,z,u,Y,j,A))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=j),y.props=u,y.state=j,y.context=A,u=z):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,F0(n,r),A=r.memoizedProps,Z=Rr(s,A),y.props=Z,ie=r.pendingProps,Y=y.context,j=s.contextType,z=Zr,typeof j=="object"&&j!==null&&(z=Gt(j)),N=s.getDerivedStateFromProps,(j=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==ie||Y!==z)&&Gh(r,y,u,z),qi=!1,Y=r.memoizedState,y.state=Y,sa(r,u,y,g),aa();var K=r.memoizedState;A!==ie||Y!==K||qi||n!==null&&n.dependencies!==null&&ds(n.dependencies)?(typeof N=="function"&&(hu(r,s,N,u),K=r.memoizedState),(Z=qi||Hh(r,s,Z,u,Y,K,z)||n!==null&&n.dependencies!==null&&ds(n.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,K,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,K,z)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),y.props=u,y.state=K,y.context=z,u=Z):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),u=!1)}return y=u,Rs(n,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,n!==null&&u?(r.child=Mr(r,n.child,null,g),r.child=Mr(r,null,s,g)):Pt(n,r,s,g),r.memoizedState=y.state,n=r.child):n=mi(n,r,g),n}function e1(n,r,s,u){return wr(),r.flags|=256,Pt(n,r,s,u),r.child}var yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(n){return{baseLanes:n,cachePool:Vf()}}function bu(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=yn),n}function t1(n,r,s){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,A;if((A=y)||(A=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),A&&(g=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,n===null){if(Je){if(g?Fi(r):ji(),(n=ft)?(n=um(n,_n),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Bi!==null?{id:Xn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},s=zf(n),s.return=r,r.child=s,Ht=r,ft=null)):n=null,n===null)throw Gi(r);return nc(n)?r.lanes=32:r.lanes=536870912,null}var N=u.children;return u=u.fallback,g?(ji(),g=r.mode,N=ks({mode:"hidden",children:N},g),u=Sr(u,g,s,null),N.return=r,u.return=r,N.sibling=u,r.child=N,u=r.child,u.memoizedState=xu(s),u.childLanes=bu(n,A,s),r.memoizedState=yu,fa(null,u)):(Fi(r),Su(r,N))}var z=n.memoizedState;if(z!==null&&(N=z.dehydrated,N!==null)){if(y)r.flags&256?(Fi(r),r.flags&=-257,r=wu(n,r,s)):r.memoizedState!==null?(ji(),r.child=n.child,r.flags|=128,r=null):(ji(),N=u.fallback,g=r.mode,u=ks({mode:"visible",children:u.children},g),N=Sr(N,g,s,null),N.flags|=2,u.return=r,N.return=r,u.sibling=N,r.child=u,Mr(r,n.child,null,s),u=r.child,u.memoizedState=xu(s),u.childLanes=bu(n,A,s),r.memoizedState=yu,r=fa(null,u));else if(Fi(r),nc(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var j=A.dgst;A=j,u=Error(l(419)),u.stack="",u.digest=A,ea({value:u,source:null,stack:null}),r=wu(n,r,s)}else if(Ct||nl(n,r,s,!1),A=(s&n.childLanes)!==0,Ct||A){if(A=ot,A!==null&&(u=Pd(A,s),u!==0&&u!==z.retryLane))throw z.retryLane=u,br(n,u),an(A,n,u),gu;tc(N)||Ps(),r=wu(n,r,s)}else tc(N)?(r.flags|=192,r.child=n.child,r=null):(n=z.treeContext,ft=kn(N.nextSibling),Ht=r,Je=!0,Hi=null,_n=!1,n!==null&&Bf(r,n),r=Su(r,u.children),r.flags|=4096);return r}return g?(ji(),N=u.fallback,g=r.mode,z=n.child,j=z.sibling,u=oi(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,j!==null?N=oi(j,N):(N=Sr(N,g,s,null),N.flags|=2),N.return=r,u.return=r,u.sibling=N,r.child=u,fa(null,u),u=r.child,N=n.child.memoizedState,N===null?N=xu(s):(g=N.cachePool,g!==null?(z=At._currentValue,g=g.parent!==z?{parent:z,pool:z}:g):g=Vf(),N={baseLanes:N.baseLanes|s,cachePool:g}),u.memoizedState=N,u.childLanes=bu(n,A,s),r.memoizedState=yu,fa(n.child,u)):(Fi(r),s=n.child,n=s.sibling,s=oi(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,n!==null&&(A=r.deletions,A===null?(r.deletions=[n],r.flags|=16):A.push(n)),r.child=s,r.memoizedState=null,s)}function Su(n,r){return r=ks({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ks(n,r){return n=mn(22,n,null,r),n.lanes=0,n}function wu(n,r,s){return Mr(r,n.child,null,s),n=Su(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function n1(n,r,s){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),B0(n.return,r,s)}function Tu(n,r,s,u,g,y){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:g,treeForkCount:y}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=s,A.tailMode=g,A.treeForkCount=y)}function i1(n,r,s){var u=r.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var A=St.current,N=(A&2)!==0;if(N?(A=A&1|2,r.flags|=128):A&=1,ue(St,A),Pt(n,r,u,s),u=Je?Wl:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&n1(n,s,r);else if(n.tag===19)n1(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(s=r.child,g=null;s!==null;)n=s.alternate,n!==null&&xs(n)===null&&(g=s),s=s.sibling;s=g,s===null?(g=r.child,r.child=null):(g=s.sibling,s.sibling=null),Tu(r,!1,g,s,y,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&xs(n)===null){r.child=g;break}n=g.sibling,g.sibling=s,s=g,g=n}Tu(r,!0,s,null,y,u);break;case"together":Tu(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function mi(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Xi|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(nl(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(l(153));if(r.child!==null){for(n=r.child,s=oi(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=oi(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Au(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&ds(n)))}function g5(n,r,s){switch(r.tag){case 3:Oe(r,r.stateNode.containerInfo),Pi(r,At,n.memoizedState.cache),wr();break;case 27:case 5:cn(r);break;case 4:Oe(r,r.stateNode.containerInfo);break;case 10:Pi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,K0(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Fi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?t1(n,r,s):(Fi(r),n=mi(n,r,s),n!==null?n.sibling:null);Fi(r);break;case 19:var g=(n.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(nl(n,r,s,!1),u=(s&r.childLanes)!==0),g){if(u)return i1(n,r,s);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(St,St.current),u)break;return null;case 22:return r.lanes=0,Kh(n,r,s,r.pendingProps);case 24:Pi(r,At,n.memoizedState.cache)}return mi(n,r,s)}function r1(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ct=!0;else{if(!Au(n,s)&&(r.flags&128)===0)return Ct=!1,g5(n,r,s);Ct=(n.flags&131072)!==0}else Ct=!1,Je&&(r.flags&1048576)!==0&&Uf(r,Wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Cr(r.elementType),r.type=n,typeof n=="function")_0(n)?(u=Rr(n,u),r.tag=1,r=Wh(null,r,n,u,s)):(r.tag=0,r=vu(null,r,n,u,s));else{if(n!=null){var g=n.$$typeof;if(g===W){r.tag=11,r=Yh(null,r,n,u,s);break e}else if(g===q){r.tag=14,r=Jh(null,r,n,u,s);break e}}throw r=Ce(n)||n,Error(l(306,r,""))}}return r;case 0:return vu(n,r,r.type,r.pendingProps,s);case 1:return u=r.type,g=Rr(u,r.pendingProps),Wh(n,r,u,g,s);case 3:e:{if(Oe(r,r.stateNode.containerInfo),n===null)throw Error(l(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,F0(n,r),sa(r,u,null,s);var A=r.memoizedState;if(u=A.cache,Pi(r,At,u),u!==y.cache&&H0(r,[At],s,!0),aa(),u=A.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=e1(n,r,u,s);break e}else if(u!==g){g=Cn(Error(l(424)),r),ea(g),r=e1(n,r,u,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=kn(n.firstChild),Ht=r,Je=!0,Hi=null,_n=!0,s=Kf(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wr(),u===g){r=mi(n,r,s);break e}Pt(n,r,u,s)}r=r.child}return r;case 26:return Rs(n,r),n===null?(s=pm(r.type,null,r.pendingProps,null))?r.memoizedState=s:Je||(s=r.type,n=r.pendingProps,u=Js(Q.current).createElement(s),u[Bt]=r,u[Wt]=n,qt(u,s,n),zt(u),r.stateNode=u):r.memoizedState=pm(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return cn(r),n===null&&Je&&(u=r.stateNode=fm(r.type,r.pendingProps,Q.current),Ht=r,_n=!0,g=ft,Wi(r.type)?(ic=g,ft=kn(u.firstChild)):ft=g),Pt(n,r,r.pendingProps.children,s),Rs(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Je&&((g=u=ft)&&(u=Y5(u,r.type,r.pendingProps,_n),u!==null?(r.stateNode=u,Ht=r,ft=kn(u.firstChild),_n=!1,g=!0):g=!1),g||Gi(r)),cn(r),g=r.type,y=r.pendingProps,A=n!==null?n.memoizedProps:null,u=y.children,Zu(g,y)?u=null:A!==null&&Zu(g,A)&&(r.flags|=32),r.memoizedState!==null&&(g=Q0(n,r,s5,null,null,s),Na._currentValue=g),Rs(n,r),Pt(n,r,u,s),r.child;case 6:return n===null&&Je&&((n=s=ft)&&(s=J5(s,r.pendingProps,_n),s!==null?(r.stateNode=s,Ht=r,ft=null,n=!0):n=!1),n||Gi(r)),null;case 13:return t1(n,r,s);case 4:return Oe(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Mr(r,null,u,s):Pt(n,r,u,s),r.child;case 11:return Yh(n,r,r.type,r.pendingProps,s);case 7:return Pt(n,r,r.pendingProps,s),r.child;case 8:return Pt(n,r,r.pendingProps.children,s),r.child;case 12:return Pt(n,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Pi(r,r.type,u.value),Pt(n,r,u.children,s),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Ar(r),g=Gt(g),u=u(g),r.flags|=1,Pt(n,r,u,s),r.child;case 14:return Jh(n,r,r.type,r.pendingProps,s);case 15:return Xh(n,r,r.type,r.pendingProps,s);case 19:return i1(n,r,s);case 31:return p5(n,r,s);case 22:return Kh(n,r,s,r.pendingProps);case 24:return Ar(r),u=Gt(At),n===null?(g=q0(),g===null&&(g=ot,y=G0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=s),g=y),r.memoizedState={parent:u,cache:g},V0(r),Pi(r,At,g)):((n.lanes&s)!==0&&(F0(n,r),sa(r,null,null,s),aa()),g=n.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Pi(r,At,u)):(u=y.cache,Pi(r,At,u),u!==g.cache&&H0(r,[At],s,!0))),Pt(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(l(156,r.tag))}function pi(n){n.flags|=4}function Eu(n,r,s,u,g){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(k1())n.flags|=8192;else throw Nr=ps,O0}else n.flags&=-16777217}function l1(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!bm(r))if(k1())n.flags|=8192;else throw Nr=ps,O0}function Is(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Bd():536870912,n.lanes|=r,ml|=r)}function ha(n,r){if(!Je)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(r)for(var g=n.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=s,r}function v5(n,r,s){var u=r.pendingProps;switch(D0(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return s=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),di(At),tt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(tl(r)?pi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,L0())),ht(r),null;case 26:var g=r.type,y=r.memoizedState;return n===null?(pi(r),y!==null?(ht(r),l1(r,y)):(ht(r),Eu(r,g,null,u,s))):y?y!==n.memoizedState?(pi(r),ht(r),l1(r,y)):(ht(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&pi(r),ht(r),Eu(r,g,n,u,s)),null;case 27:if(jn(r),s=Q.current,g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&pi(r);else{if(!u){if(r.stateNode===null)throw Error(l(166));return ht(r),null}n=ve.current,tl(r)?Hf(r):(n=fm(g,u,s),r.stateNode=n,pi(r))}return ht(r),null;case 5:if(jn(r),g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&pi(r);else{if(!u){if(r.stateNode===null)throw Error(l(166));return ht(r),null}if(y=ve.current,tl(r))Hf(r);else{var A=Js(Q.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?A.createElement(g,{is:u.is}):A.createElement(g)}}y[Bt]=r,y[Wt]=u;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=y;e:switch(qt(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&pi(r)}}return ht(r),Eu(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&pi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(l(166));if(n=Q.current,tl(r)){if(n=r.stateNode,s=r.memoizedProps,u=null,g=Ht,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Bt]=r,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||tm(n.nodeValue,s)),n||Gi(r,!0)}else n=Js(n).createTextNode(u),n[Bt]=r,r.stateNode=n}return ht(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(u=tl(r),s!==null){if(n===null){if(!u)throw Error(l(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(557));n[Bt]=r}else wr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),n=!1}else s=L0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(gn(r),r):(gn(r),null);if((r.flags&128)!==0)throw Error(l(558))}return ht(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=tl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(l(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(l(317));g[Bt]=r}else wr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),g=!1}else g=L0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(gn(r),r):(gn(r),null)}return gn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),Is(r,r.updateQueue),ht(r),null);case 4:return tt(),n===null&&Ju(r.stateNode.containerInfo),ht(r),null;case 10:return di(r.type),ht(r),null;case 19:if(X(St),u=r.memoizedState,u===null)return ht(r),null;if(g=(r.flags&128)!==0,y=u.rendering,y===null)if(g)ha(u,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=xs(n),y!==null){for(r.flags|=128,ha(u,!1),n=y.updateQueue,r.updateQueue=n,Is(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)Df(s,n),s=s.sibling;return ue(St,St.current&1|2),Je&&ui(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Dt()>Bs&&(r.flags|=128,g=!0,ha(u,!1),r.lanes=4194304)}else{if(!g)if(n=xs(y),n!==null){if(r.flags|=128,g=!0,n=n.updateQueue,r.updateQueue=n,Is(r,n),ha(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Je)return ht(r),null}else 2*Dt()-u.renderingStartTime>Bs&&s!==536870912&&(r.flags|=128,g=!0,ha(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(n=u.last,n!==null?n.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Dt(),n.sibling=null,s=St.current,ue(St,g?s&1|2:s&1),Je&&ui(r,u.treeForkCount),n):(ht(r),null);case 22:case 23:return gn(r),X0(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),s=r.updateQueue,s!==null&&Is(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),n!==null&&X(Er),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),di(At),ht(r),null;case 25:return null;case 30:return null}throw Error(l(156,r.tag))}function y5(n,r){switch(D0(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return di(At),tt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return jn(r),null;case 31:if(r.memoizedState!==null){if(gn(r),r.alternate===null)throw Error(l(340));wr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(gn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(l(340));wr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return X(St),null;case 4:return tt(),null;case 10:return di(r.type),null;case 22:case 23:return gn(r),X0(),n!==null&&X(Er),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return di(At),null;case 25:return null;default:return null}}function a1(n,r){switch(D0(r),r.tag){case 3:di(At),tt();break;case 26:case 27:case 5:jn(r);break;case 4:tt();break;case 31:r.memoizedState!==null&&gn(r);break;case 13:gn(r);break;case 19:X(St);break;case 10:di(r.type);break;case 22:case 23:gn(r),X0(),n!==null&&X(Er);break;case 24:di(At)}}function ma(n,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var g=u.next;s=g;do{if((s.tag&n)===n){u=void 0;var y=s.create,A=s.inst;u=y(),A.destroy=u}s=s.next}while(s!==g)}}catch(N){it(r,r.return,N)}}function Yi(n,r,s){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&n)===n){var A=u.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,g=r;var z=s,j=N;try{j()}catch(Z){it(g,z,Z)}}}u=u.next}while(u!==y)}}catch(Z){it(r,r.return,Z)}}function s1(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{Qf(r,s)}catch(u){it(n,n.return,u)}}}function o1(n,r,s){s.props=Rr(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){it(n,r,u)}}function pa(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(g){it(n,r,g)}}function $n(n,r){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(g){it(n,r,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){it(n,r,g)}else s.current=null}function u1(n){var r=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(g){it(n,n.return,g)}}function Cu(n,r,s){try{var u=n.stateNode;P5(u,n.type,s,r),u[Wt]=r}catch(g){it(n,n.return,g)}}function c1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Wi(n.type)||n.tag===4}function Nu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||c1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Wi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mu(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ai));else if(u!==4&&(u===27&&Wi(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Mu(n,r,s),n=n.sibling;n!==null;)Mu(n,r,s),n=n.sibling}function Ds(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(u!==4&&(u===27&&Wi(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Ds(n,r,s),n=n.sibling;n!==null;)Ds(n,r,s),n=n.sibling}function d1(n){var r=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);qt(r,u,s),r[Bt]=n,r[Wt]=s}catch(y){it(n,n.return,y)}}var gi=!1,Nt=!1,_u=!1,f1=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function x5(n,r){if(n=n.containerInfo,$u=eo,n=Af(n),w0(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var A=0,N=-1,z=-1,j=0,Z=0,ie=n,Y=null;t:for(;;){for(var K;ie!==s||g!==0&&ie.nodeType!==3||(N=A+g),ie!==y||u!==0&&ie.nodeType!==3||(z=A+u),ie.nodeType===3&&(A+=ie.nodeValue.length),(K=ie.firstChild)!==null;)Y=ie,ie=K;for(;;){if(ie===n)break t;if(Y===s&&++j===g&&(N=A),Y===y&&++Z===u&&(z=A),(K=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=K}s=N===-1||z===-1?null:{start:N,end:z}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qu={focusedElem:n,selectionRange:s},eo=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,y=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)g=n[s],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,s=r,g=y.memoizedProps,y=y.memoizedState,u=s.stateNode;try{var Ee=Rr(s.type,g);n=u.getSnapshotBeforeUpdate(Ee,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(De){it(s,s.return,De)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)ec(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ec(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function h1(n,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:yi(n,s),u&4&&ma(5,s);break;case 1:if(yi(n,s),u&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(A){it(s,s.return,A)}else{var g=Rr(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(g,r,n.__reactInternalSnapshotBeforeUpdate)}catch(A){it(s,s.return,A)}}u&64&&s1(s),u&512&&pa(s,s.return);break;case 3:if(yi(n,s),u&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Qf(n,r)}catch(A){it(s,s.return,A)}}break;case 27:r===null&&u&4&&d1(s);case 26:case 5:yi(n,s),r===null&&u&4&&u1(s),u&512&&pa(s,s.return);break;case 12:yi(n,s);break;case 31:yi(n,s),u&4&&g1(n,s);break;case 13:yi(n,s),u&4&&v1(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=M5.bind(null,s),X5(n,s))));break;case 22:if(u=s.memoizedState!==null||gi,!u){r=r!==null&&r.memoizedState!==null||Nt,g=gi;var y=Nt;gi=u,(Nt=r)&&!y?xi(n,s,(s.subtreeFlags&8772)!==0):yi(n,s),gi=g,Nt=y}break;case 30:break;default:yi(n,s)}}function m1(n){var r=n.alternate;r!==null&&(n.alternate=null,m1(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&l0(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,tn=!1;function vi(n,r,s){for(s=s.child;s!==null;)p1(n,r,s),s=s.sibling}function p1(n,r,s){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Gl,s)}catch{}switch(s.tag){case 26:Nt||$n(s,r),vi(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||$n(s,r);var u=mt,g=tn;Wi(s.type)&&(mt=s.stateNode,tn=!1),vi(n,r,s),Aa(s.stateNode),mt=u,tn=g;break;case 5:Nt||$n(s,r);case 6:if(u=mt,g=tn,mt=null,vi(n,r,s),mt=u,tn=g,mt!==null)if(tn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(s.stateNode)}catch(y){it(s,r,y)}else try{mt.removeChild(s.stateNode)}catch(y){it(s,r,y)}break;case 18:mt!==null&&(tn?(n=mt,sm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),wl(n)):sm(mt,s.stateNode));break;case 4:u=mt,g=tn,mt=s.stateNode.containerInfo,tn=!0,vi(n,r,s),mt=u,tn=g;break;case 0:case 11:case 14:case 15:Yi(2,s,r),Nt||Yi(4,s,r),vi(n,r,s);break;case 1:Nt||($n(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&o1(s,r,u)),vi(n,r,s);break;case 21:vi(n,r,s);break;case 22:Nt=(u=Nt)||s.memoizedState!==null,vi(n,r,s),Nt=u;break;default:vi(n,r,s)}}function g1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{wl(n)}catch(s){it(r,r.return,s)}}}function v1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{wl(n)}catch(s){it(r,r.return,s)}}function b5(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new f1),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new f1),r;default:throw Error(l(435,n.tag))}}function zs(n,r){var s=b5(n);r.forEach(function(u){if(!s.has(u)){s.add(u);var g=_5.bind(null,n,u);u.then(g,g)}})}function nn(n,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var g=s[u],y=n,A=r,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(Wi(N.type)){mt=N.stateNode,tn=!1;break e}break;case 5:mt=N.stateNode,tn=!1;break e;case 3:case 4:mt=N.stateNode.containerInfo,tn=!0;break e}N=N.return}if(mt===null)throw Error(l(160));p1(y,A,g),mt=null,tn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)y1(r,n),r=r.sibling}var Gn=null;function y1(n,r){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:nn(r,n),rn(n),u&4&&(Yi(3,n,n.return),ma(3,n),Yi(5,n,n.return));break;case 1:nn(r,n),rn(n),u&512&&(Nt||s===null||$n(s,s.return)),u&64&&gi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var g=Gn;if(nn(r,n),rn(n),u&512&&(Nt||s===null||$n(s,s.return)),u&4){var y=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ol]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),qt(y,u,s),y[Bt]=n,zt(y),u=y;break e;case"link":var A=ym("link","href",g).get(u+(s.href||""));if(A){for(var N=0;N<A.length;N++)if(y=A[N],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(N,1);break t}}y=g.createElement(u),qt(y,u,s),g.head.appendChild(y);break;case"meta":if(A=ym("meta","content",g).get(u+(s.content||""))){for(N=0;N<A.length;N++)if(y=A[N],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(N,1);break t}}y=g.createElement(u),qt(y,u,s),g.head.appendChild(y);break;default:throw Error(l(468,u))}y[Bt]=n,zt(y),u=y}n.stateNode=u}else xm(g,n.type,n.stateNode);else n.stateNode=vm(g,u,n.memoizedProps);else y!==u?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,u===null?xm(g,n.type,n.stateNode):vm(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Cu(n,n.memoizedProps,s.memoizedProps)}break;case 27:nn(r,n),rn(n),u&512&&(Nt||s===null||$n(s,s.return)),s!==null&&u&4&&Cu(n,n.memoizedProps,s.memoizedProps);break;case 5:if(nn(r,n),rn(n),u&512&&(Nt||s===null||$n(s,s.return)),n.flags&32){g=n.stateNode;try{jr(g,"")}catch(Ee){it(n,n.return,Ee)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,Cu(n,g,s!==null?s.memoizedProps:g)),u&1024&&(_u=!0);break;case 6:if(nn(r,n),rn(n),u&4){if(n.stateNode===null)throw Error(l(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(Ee){it(n,n.return,Ee)}}break;case 3:if($s=null,g=Gn,Gn=Xs(r.containerInfo),nn(r,n),Gn=g,rn(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{wl(r.containerInfo)}catch(Ee){it(n,n.return,Ee)}_u&&(_u=!1,x1(n));break;case 4:u=Gn,Gn=Xs(n.stateNode.containerInfo),nn(r,n),rn(n),Gn=u;break;case 12:nn(r,n),rn(n);break;case 31:nn(r,n),rn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zs(n,u)));break;case 13:nn(r,n),rn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Us=Dt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zs(n,u)));break;case 22:g=n.memoizedState!==null;var z=s!==null&&s.memoizedState!==null,j=gi,Z=Nt;if(gi=j||g,Nt=Z||z,nn(r,n),Nt=Z,gi=j,rn(n),u&8192)e:for(r=n.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(s===null||z||gi||Nt||kr(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){z=s=r;try{if(y=z.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=z.stateNode;var ie=z.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;N.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Ee){it(z,z.return,Ee)}}}else if(r.tag===6){if(s===null){z=r;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(Ee){it(z,z.return,Ee)}}}else if(r.tag===18){if(s===null){z=r;try{var K=z.stateNode;g?om(K,!0):om(z.stateNode,!1)}catch(Ee){it(z,z.return,Ee)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,zs(n,s))));break;case 19:nn(r,n),rn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zs(n,u)));break;case 30:break;case 21:break;default:nn(r,n),rn(n)}}function rn(n){var r=n.flags;if(r&2){try{for(var s,u=n.return;u!==null;){if(c1(u)){s=u;break}u=u.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var g=s.stateNode,y=Nu(n);Ds(n,y,g);break;case 5:var A=s.stateNode;s.flags&32&&(jr(A,""),s.flags&=-33);var N=Nu(n);Ds(n,N,A);break;case 3:case 4:var z=s.stateNode.containerInfo,j=Nu(n);Mu(n,j,z);break;default:throw Error(l(161))}}catch(Z){it(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function x1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;x1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function yi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h1(n,r.alternate,r),r=r.sibling}function kr(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Yi(4,r,r.return),kr(r);break;case 1:$n(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&o1(r,r.return,s),kr(r);break;case 27:Aa(r.stateNode);case 26:case 5:$n(r,r.return),kr(r);break;case 22:r.memoizedState===null&&kr(r);break;case 30:kr(r);break;default:kr(r)}n=n.sibling}}function xi(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=n,y=r,A=y.flags;switch(y.tag){case 0:case 11:case 15:xi(g,y,s),ma(4,y);break;case 1:if(xi(g,y,s),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(j){it(u,u.return,j)}if(u=y,g=u.updateQueue,g!==null){var N=u.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)$f(z[g],N)}catch(j){it(u,u.return,j)}}s&&A&64&&s1(y),pa(y,y.return);break;case 27:d1(y);case 26:case 5:xi(g,y,s),s&&u===null&&A&4&&u1(y),pa(y,y.return);break;case 12:xi(g,y,s);break;case 31:xi(g,y,s),s&&A&4&&g1(g,y);break;case 13:xi(g,y,s),s&&A&4&&v1(g,y);break;case 22:y.memoizedState===null&&xi(g,y,s),pa(y,y.return);break;case 30:break;default:xi(g,y,s)}r=r.sibling}}function Ru(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&ta(s))}function ku(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ta(n))}function Pn(n,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b1(n,r,s,u),r=r.sibling}function b1(n,r,s,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Pn(n,r,s,u),g&2048&&ma(9,r);break;case 1:Pn(n,r,s,u);break;case 3:Pn(n,r,s,u),g&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ta(n)));break;case 12:if(g&2048){Pn(n,r,s,u),n=r.stateNode;try{var y=r.memoizedProps,A=y.id,N=y.onPostCommit;typeof N=="function"&&N(A,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(z){it(r,r.return,z)}}else Pn(n,r,s,u);break;case 31:Pn(n,r,s,u);break;case 13:Pn(n,r,s,u);break;case 23:break;case 22:y=r.stateNode,A=r.alternate,r.memoizedState!==null?y._visibility&2?Pn(n,r,s,u):ga(n,r):y._visibility&2?Pn(n,r,s,u):(y._visibility|=2,dl(n,r,s,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Ru(A,r);break;case 24:Pn(n,r,s,u),g&2048&&ku(r.alternate,r);break;default:Pn(n,r,s,u)}}function dl(n,r,s,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=n,A=r,N=s,z=u,j=A.flags;switch(A.tag){case 0:case 11:case 15:dl(y,A,N,z,g),ma(8,A);break;case 23:break;case 22:var Z=A.stateNode;A.memoizedState!==null?Z._visibility&2?dl(y,A,N,z,g):ga(y,A):(Z._visibility|=2,dl(y,A,N,z,g)),g&&j&2048&&Ru(A.alternate,A);break;case 24:dl(y,A,N,z,g),g&&j&2048&&ku(A.alternate,A);break;default:dl(y,A,N,z,g)}r=r.sibling}}function ga(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,u=r,g=u.flags;switch(u.tag){case 22:ga(s,u),g&2048&&Ru(u.alternate,u);break;case 24:ga(s,u),g&2048&&ku(u.alternate,u);break;default:ga(s,u)}r=r.sibling}}var va=8192;function fl(n,r,s){if(n.subtreeFlags&va)for(n=n.child;n!==null;)S1(n,r,s),n=n.sibling}function S1(n,r,s){switch(n.tag){case 26:fl(n,r,s),n.flags&va&&n.memoizedState!==null&&a3(s,Gn,n.memoizedState,n.memoizedProps);break;case 5:fl(n,r,s);break;case 3:case 4:var u=Gn;Gn=Xs(n.stateNode.containerInfo),fl(n,r,s),Gn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=va,va=16777216,fl(n,r,s),va=u):fl(n,r,s));break;default:fl(n,r,s)}}function w1(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ya(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Lt=u,A1(u,n)}w1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)T1(n),n=n.sibling}function T1(n){switch(n.tag){case 0:case 11:case 15:ya(n),n.flags&2048&&Yi(9,n,n.return);break;case 3:ya(n);break;case 12:ya(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Ls(n)):ya(n);break;default:ya(n)}}function Ls(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Lt=u,A1(u,n)}w1(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Yi(8,r,r.return),Ls(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Ls(r));break;default:Ls(r)}n=n.sibling}}function A1(n,r){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:Yi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ta(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Lt=u;else e:for(s=n;Lt!==null;){u=Lt;var g=u.sibling,y=u.return;if(m1(u),u===s){Lt=null;break e}if(g!==null){g.return=y,Lt=g;break e}Lt=y}}}var S5={getCacheForType:function(n){var r=Gt(At),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return Gt(At).controller.signal}},w5=typeof WeakMap=="function"?WeakMap:Map,et=0,ot=null,Ve=null,je=0,nt=0,vn=null,Ji=!1,hl=!1,Iu=!1,bi=0,xt=0,Xi=0,Ir=0,Du=0,yn=0,ml=0,xa=null,ln=null,zu=!1,Us=0,E1=0,Bs=1/0,Hs=null,Ki=null,Rt=0,$i=null,pl=null,Si=0,Lu=0,Uu=null,C1=null,ba=0,Bu=null;function xn(){return(et&2)!==0&&je!==0?je&-je:P.T!==null?Vu():qd()}function N1(){if(yn===0)if((je&536870912)===0||Je){var n=Ya;Ya<<=1,(Ya&3932160)===0&&(Ya=262144),yn=n}else yn=536870912;return n=pn.current,n!==null&&(n.flags|=32),yn}function an(n,r,s){(n===ot&&(nt===2||nt===9)||n.cancelPendingCommit!==null)&&(gl(n,0),Qi(n,je,yn,!1)),ql(n,s),((et&2)===0||n!==ot)&&(n===ot&&((et&2)===0&&(Ir|=s),xt===4&&Qi(n,je,yn,!1)),Qn(n))}function M1(n,r,s){if((et&6)!==0)throw Error(l(327));var u=!s&&(r&127)===0&&(r&n.expiredLanes)===0||Pl(n,r),g=u?E5(n,r):Gu(n,r,!0),y=u;do{if(g===0){hl&&!u&&Qi(n,r,0,!1);break}else{if(s=n.current.alternate,y&&!T5(s)){g=Gu(n,r,!1),y=!1;continue}if(g===2){if(y=r,n.errorRecoveryDisabledLanes&y)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var N=n;g=xa;var z=N.current.memoizedState.isDehydrated;if(z&&(gl(N,A).flags|=256),A=Gu(N,A,!1),A!==2){if(Iu&&!z){N.errorRecoveryDisabledLanes|=y,Ir|=y,g=4;break e}y=ln,ln=g,y!==null&&(ln===null?ln=y:ln.push.apply(ln,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){gl(n,0),Qi(n,r,0,!0);break}e:{switch(u=n,y=g,y){case 0:case 1:throw Error(l(345));case 4:if((r&4194048)!==r)break;case 6:Qi(u,r,yn,!Ji);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(l(329))}if((r&62914560)===r&&(g=Us+300-Dt(),10<g)){if(Qi(u,r,yn,!Ji),Xa(u,0,!0)!==0)break e;Si=r,u.timeoutHandle=lm(_1.bind(null,u,s,ln,Hs,zu,r,yn,Ir,ml,Ji,y,"Throttled",-0,0),g);break e}_1(u,s,ln,Hs,zu,r,yn,Ir,ml,Ji,y,null,-0,0)}}break}while(!0);Qn(n)}function _1(n,r,s,u,g,y,A,N,z,j,Z,ie,Y,K){if(n.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},S1(r,y,ie);var Ee=(y&62914560)===y?Us-Dt():(y&4194048)===y?E1-Dt():0;if(Ee=s3(ie,Ee),Ee!==null){Si=y,n.cancelPendingCommit=Ee(B1.bind(null,n,r,y,s,u,g,A,N,z,Z,ie,null,Y,K)),Qi(n,y,A,!j);return}}B1(n,r,y,s,u,g,A,N,z)}function T5(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var g=s[u],y=g.getSnapshot;g=g.value;try{if(!hn(y(),g))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qi(n,r,s,u){r&=~Du,r&=~Ir,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var g=r;0<g;){var y=31-fn(g),A=1<<y;u[y]=-1,g&=~A}s!==0&&Hd(n,s,r)}function Gs(){return(et&6)===0?(Sa(0),!1):!0}function Hu(){if(Ve!==null){if(nt===0)var n=Ve.return;else n=Ve,ci=Tr=null,eu(n),al=null,ia=0,n=Ve;for(;n!==null;)a1(n.alternate,n),n=n.return;Ve=null}}function gl(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,V5(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Si=0,Hu(),ot=n,Ve=s=oi(n.current,null),je=r,nt=0,vn=null,Ji=!1,hl=Pl(n,r),Iu=!1,ml=yn=Du=Ir=Xi=xt=0,ln=xa=null,zu=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var g=31-fn(u),y=1<<g;r|=n[g],u&=~y}return bi=r,as(),s}function R1(n,r){Ge=null,P.H=da,r===ll||r===ms?(r=Yf(),nt=3):r===O0?(r=Yf(),nt=4):nt=r===gu?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ve===null&&(xt=1,Ms(n,Cn(r,n.current)))}function k1(){var n=pn.current;return n===null?!0:(je&4194048)===je?Rn===null:(je&62914560)===je||(je&536870912)!==0?n===Rn:!1}function I1(){var n=P.H;return P.H=da,n===null?da:n}function D1(){var n=P.A;return P.A=S5,n}function Ps(){xt=4,Ji||(je&4194048)!==je&&pn.current!==null||(hl=!0),(Xi&134217727)===0&&(Ir&134217727)===0||ot===null||Qi(ot,je,yn,!1)}function Gu(n,r,s){var u=et;et|=2;var g=I1(),y=D1();(ot!==n||je!==r)&&(Hs=null,gl(n,r)),r=!1;var A=xt;e:do try{if(nt!==0&&Ve!==null){var N=Ve,z=vn;switch(nt){case 8:Hu(),A=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(r=!0);var j=nt;if(nt=0,vn=null,vl(n,N,z,j),s&&hl){A=0;break e}break;default:j=nt,nt=0,vn=null,vl(n,N,z,j)}}A5(),A=xt;break}catch(Z){R1(n,Z)}while(!0);return r&&n.shellSuspendCounter++,ci=Tr=null,et=u,P.H=g,P.A=y,Ve===null&&(ot=null,je=0,as()),A}function A5(){for(;Ve!==null;)z1(Ve)}function E5(n,r){var s=et;et|=2;var u=I1(),g=D1();ot!==n||je!==r?(Hs=null,Bs=Dt()+500,gl(n,r)):hl=Pl(n,r);e:do try{if(nt!==0&&Ve!==null){r=Ve;var y=vn;t:switch(nt){case 1:nt=0,vn=null,vl(n,r,y,1);break;case 2:case 9:if(Ff(y)){nt=0,vn=null,L1(r);break}r=function(){nt!==2&&nt!==9||ot!==n||(nt=7),Qn(n)},y.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Ff(y)?(nt=0,vn=null,L1(r)):(nt=0,vn=null,vl(n,r,y,7));break;case 5:var A=null;switch(Ve.tag){case 26:A=Ve.memoizedState;case 5:case 27:var N=Ve;if(A?bm(A):N.stateNode.complete){nt=0,vn=null;var z=N.sibling;if(z!==null)Ve=z;else{var j=N.return;j!==null?(Ve=j,qs(j)):Ve=null}break t}}nt=0,vn=null,vl(n,r,y,5);break;case 6:nt=0,vn=null,vl(n,r,y,6);break;case 8:Hu(),xt=6;break e;default:throw Error(l(462))}}C5();break}catch(Z){R1(n,Z)}while(!0);return ci=Tr=null,P.H=u,P.A=g,et=s,Ve!==null?0:(ot=null,je=0,as(),xt)}function C5(){for(;Ve!==null&&!Wo();)z1(Ve)}function z1(n){var r=r1(n.alternate,n,bi);n.memoizedProps=n.pendingProps,r===null?qs(n):Ve=r}function L1(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=Zh(s,r,r.pendingProps,r.type,void 0,je);break;case 11:r=Zh(s,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:eu(r);default:a1(s,r),r=Ve=Df(r,bi),r=r1(s,r,bi)}n.memoizedProps=n.pendingProps,r===null?qs(n):Ve=r}function vl(n,r,s,u){ci=Tr=null,eu(r),al=null,ia=0;var g=r.return;try{if(m5(n,g,r,s,je)){xt=1,Ms(n,Cn(s,n.current)),Ve=null;return}}catch(y){if(g!==null)throw Ve=g,y;xt=1,Ms(n,Cn(s,n.current)),Ve=null;return}r.flags&32768?(Je||u===1?n=!0:hl||(je&536870912)!==0?n=!1:(Ji=n=!0,(u===2||u===9||u===3||u===6)&&(u=pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),U1(r,n)):qs(r)}function qs(n){var r=n;do{if((r.flags&32768)!==0){U1(r,Ji);return}n=r.return;var s=v5(r.alternate,r,bi);if(s!==null){Ve=s;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);xt===0&&(xt=5)}function U1(n,r){do{var s=y5(n.alternate,n);if(s!==null){s.flags&=32767,Ve=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=s}while(n!==null);xt=6,Ve=null}function B1(n,r,s,u,g,y,A,N,z){n.cancelPendingCommit=null;do Os();while(Rt!==0);if((et&6)!==0)throw Error(l(327));if(r!==null){if(r===n.current)throw Error(l(177));if(y=r.lanes|r.childLanes,y|=N0,lv(n,s,y,A,N,z),n===ot&&(Ve=ot=null,je=0),pl=r,$i=n,Si=s,Lu=y,Uu=g,C1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,R5(st,function(){return O1(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,g=$.p,$.p=2,A=et,et|=4;try{x5(n,r,s)}finally{et=A,$.p=g,P.T=u}}Rt=1,H1(),G1(),P1()}}function H1(){if(Rt===1){Rt=0;var n=$i,r=pl,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var u=$.p;$.p=2;var g=et;et|=4;try{y1(r,n);var y=Qu,A=Af(n.containerInfo),N=y.focusedElem,z=y.selectionRange;if(A!==N&&N&&N.ownerDocument&&Tf(N.ownerDocument.documentElement,N)){if(z!==null&&w0(N)){var j=z.start,Z=z.end;if(Z===void 0&&(Z=j),"selectionStart"in N)N.selectionStart=j,N.selectionEnd=Math.min(Z,N.value.length);else{var ie=N.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),Ee=N.textContent.length,De=Math.min(z.start,Ee),at=z.end===void 0?De:Math.min(z.end,Ee);!K.extend&&De>at&&(A=at,at=De,De=A);var G=wf(N,De),B=wf(N,at);if(G&&B&&(K.rangeCount!==1||K.anchorNode!==G.node||K.anchorOffset!==G.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var V=ie.createRange();V.setStart(G.node,G.offset),K.removeAllRanges(),De>at?(K.addRange(V),K.extend(B.node,B.offset)):(V.setEnd(B.node,B.offset),K.addRange(V))}}}}for(ie=[],K=N;K=K.parentNode;)K.nodeType===1&&ie.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ie.length;N++){var te=ie[N];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}eo=!!$u,Qu=$u=null}finally{et=g,$.p=u,P.T=s}}n.current=r,Rt=2}}function G1(){if(Rt===2){Rt=0;var n=$i,r=pl,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var u=$.p;$.p=2;var g=et;et|=4;try{h1(n,r.alternate,r)}finally{et=g,$.p=u,P.T=s}}Rt=3}}function P1(){if(Rt===4||Rt===3){Rt=0,e0();var n=$i,r=pl,s=Si,u=C1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rt=5:(Rt=0,pl=$i=null,q1(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ki=null),i0(s),r=r.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Gl,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=P.T,g=$.p,$.p=2,P.T=null;try{for(var y=n.onRecoverableError,A=0;A<u.length;A++){var N=u[A];y(N.value,{componentStack:N.stack})}}finally{P.T=r,$.p=g}}(Si&3)!==0&&Os(),Qn(n),g=n.pendingLanes,(s&261930)!==0&&(g&42)!==0?n===Bu?ba++:(ba=0,Bu=n):ba=0,Sa(0)}}function q1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ta(r)))}function Os(){return H1(),G1(),P1(),O1()}function O1(){if(Rt!==5)return!1;var n=$i,r=Lu;Lu=0;var s=i0(Si),u=P.T,g=$.p;try{$.p=32>s?32:s,P.T=null,s=Uu,Uu=null;var y=$i,A=Si;if(Rt=0,pl=$i=null,Si=0,(et&6)!==0)throw Error(l(331));var N=et;if(et|=4,T1(y.current),b1(y,y.current,A,s),et=N,Sa(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Gl,y)}catch{}return!0}finally{$.p=g,P.T=u,q1(n,r)}}function V1(n,r,s){r=Cn(s,r),r=pu(n.stateNode,r,2),n=Vi(n,r,2),n!==null&&(ql(n,2),Qn(n))}function it(n,r,s){if(n.tag===3)V1(n,n,s);else for(;r!==null;){if(r.tag===3){V1(r,n,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ki===null||!Ki.has(u))){n=Cn(s,n),s=Fh(2),u=Vi(r,s,2),u!==null&&(jh(s,u,r,n),ql(u,2),Qn(u));break}}r=r.return}}function Pu(n,r,s){var u=n.pingCache;if(u===null){u=n.pingCache=new w5;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(s)||(Iu=!0,g.add(s),n=N5.bind(null,n,r,s),r.then(n,n))}function N5(n,r,s){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ot===n&&(je&s)===s&&(xt===4||xt===3&&(je&62914560)===je&&300>Dt()-Us?(et&2)===0&&gl(n,0):Du|=s,ml===je&&(ml=0)),Qn(n)}function F1(n,r){r===0&&(r=Bd()),n=br(n,r),n!==null&&(ql(n,r),Qn(n))}function M5(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),F1(n,s)}function _5(n,r){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(s=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(r),F1(n,s)}function R5(n,r){return Bl(n,r)}var Vs=null,yl=null,qu=!1,Fs=!1,Ou=!1,Zi=0;function Qn(n){n!==yl&&n.next===null&&(yl===null?Vs=yl=n:yl=yl.next=n),Fs=!0,qu||(qu=!0,I5())}function Sa(n,r){if(!Ou&&Fs){Ou=!0;do for(var s=!1,u=Vs;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var A=u.suspendedLanes,N=u.pingedLanes;y=(1<<31-fn(42|n)+1)-1,y&=g&~(A&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,X1(u,y))}else y=je,y=Xa(u,u===ot?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Pl(u,y)||(s=!0,X1(u,y));u=u.next}while(s);Ou=!1}}function k5(){j1()}function j1(){Fs=qu=!1;var n=0;Zi!==0&&O5()&&(n=Zi);for(var r=Dt(),s=null,u=Vs;u!==null;){var g=u.next,y=Y1(u,r);y===0?(u.next=null,s===null?Vs=g:s.next=g,g===null&&(yl=s)):(s=u,(n!==0||(y&3)!==0)&&(Fs=!0)),u=g}Rt!==0&&Rt!==5||Sa(n),Zi!==0&&(Zi=0)}function Y1(n,r){for(var s=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var A=31-fn(y),N=1<<A,z=g[A];z===-1?((N&s)===0||(N&u)!==0)&&(g[A]=rv(N,r)):z<=r&&(n.expiredLanes|=N),y&=~N}if(r=ot,s=je,s=Xa(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===r&&(nt===2||nt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Hl(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Pl(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(u!==null&&Hl(u),i0(s)){case 2:case 8:s=Ue;break;case 32:s=st;break;case 268435456:s=Ud;break;default:s=st}return u=J1.bind(null,n),s=Bl(s,u),n.callbackPriority=r,n.callbackNode=s,r}return u!==null&&u!==null&&Hl(u),n.callbackPriority=2,n.callbackNode=null,2}function J1(n,r){if(Rt!==0&&Rt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Os()&&n.callbackNode!==s)return null;var u=je;return u=Xa(n,n===ot?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(M1(n,u,r),Y1(n,Dt()),n.callbackNode!=null&&n.callbackNode===s?J1.bind(null,n):null)}function X1(n,r){if(Os())return null;M1(n,r,!0)}function I5(){F5(function(){(et&6)!==0?Bl(ze,k5):j1()})}function Vu(){if(Zi===0){var n=il;n===0&&(n=ja,ja<<=1,(ja&261888)===0&&(ja=256)),Zi=n}return Zi}function K1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Za(""+n)}function $1(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function D5(n,r,s,u,g){if(r==="submit"&&s&&s.stateNode===g){var y=K1((g[Wt]||null).action),A=u.submitter;A&&(r=(r=A[Wt]||null)?K1(r.formAction):A.getAttribute("formAction"),r!==null&&(y=r,A=null));var N=new ns("action","action",null,u,g);n.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zi!==0){var z=A?$1(g,A):new FormData(g);uu(s,{pending:!0,data:z,method:g.method,action:y},null,z)}}else typeof y=="function"&&(N.preventDefault(),z=A?$1(g,A):new FormData(g),uu(s,{pending:!0,data:z,method:g.method,action:y},y,z))},currentTarget:g}]})}}for(var Fu=0;Fu<C0.length;Fu++){var ju=C0[Fu],z5=ju.toLowerCase(),L5=ju[0].toUpperCase()+ju.slice(1);Hn(z5,"on"+L5)}Hn(Nf,"onAnimationEnd"),Hn(Mf,"onAnimationIteration"),Hn(_f,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Qv,"onTransitionRun"),Hn(Zv,"onTransitionStart"),Hn(Wv,"onTransitionCancel"),Hn(Rf,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wa));function Q1(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var A=u.length-1;0<=A;A--){var N=u[A],z=N.instance,j=N.currentTarget;if(N=N.listener,z!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=j;try{y(g)}catch(Z){ls(Z)}g.currentTarget=null,y=z}else for(A=0;A<u.length;A++){if(N=u[A],z=N.instance,j=N.currentTarget,N=N.listener,z!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=j;try{y(g)}catch(Z){ls(Z)}g.currentTarget=null,y=z}}}}function Fe(n,r){var s=r[r0];s===void 0&&(s=r[r0]=new Set);var u=n+"__bubble";s.has(u)||(Z1(r,n,2,!1),s.add(u))}function Yu(n,r,s){var u=0;r&&(u|=4),Z1(s,n,u,r)}var js="_reactListening"+Math.random().toString(36).slice(2);function Ju(n){if(!n[js]){n[js]=!0,Fd.forEach(function(s){s!=="selectionchange"&&(U5.has(s)||Yu(s,!1,n),Yu(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[js]||(r[js]=!0,Yu("selectionchange",!1,r))}}function Z1(n,r,s,u){switch(Nm(r)){case 2:var g=c3;break;case 8:g=d3;break;default:g=oc}s=g.bind(null,r,s,n),g=void 0,!h0||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(r,s,{capture:!0,passive:g}):n.addEventListener(r,s,!0):g!==void 0?n.addEventListener(r,s,{passive:g}):n.addEventListener(r,s,!1)}function Xu(n,r,s,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var N=u.stateNode.containerInfo;if(N===g)break;if(A===4)for(A=u.return;A!==null;){var z=A.tag;if((z===3||z===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;N!==null;){if(A=Pr(N),A===null)return;if(z=A.tag,z===5||z===6||z===26||z===27){u=y=A;continue e}N=N.parentNode}}u=u.return}nf(function(){var j=y,Z=d0(s),ie=[];e:{var Y=kf.get(n);if(Y!==void 0){var K=ns,Ee=n;switch(n){case"keypress":if(es(s)===0)break e;case"keydown":case"keyup":K=_v;break;case"focusin":Ee="focus",K=v0;break;case"focusout":Ee="blur",K=v0;break;case"beforeblur":case"afterblur":K=v0;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Iv;break;case Nf:case Mf:case _f:K=bv;break;case Rf:K=zv;break;case"scroll":case"scrollend":K=pv;break;case"wheel":K=Uv;break;case"copy":case"cut":case"paste":K=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=of;break;case"toggle":case"beforetoggle":K=Hv}var De=(r&4)!==0,at=!De&&(n==="scroll"||n==="scrollend"),G=De?Y!==null?Y+"Capture":null:Y;De=[];for(var B=j,V;B!==null;){var te=B;if(V=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||V===null||G===null||(te=Fl(B,G),te!=null&&De.push(Ta(B,te,V))),at)break;B=B.return}0<De.length&&(Y=new K(Y,Ee,null,s,Z),ie.push({event:Y,listeners:De}))}}if((r&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",Y&&s!==c0&&(Ee=s.relatedTarget||s.fromElement)&&(Pr(Ee)||Ee[Gr]))break e;if((K||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(Ee=s.relatedTarget||s.toElement,K=j,Ee=Ee?Pr(Ee):null,Ee!==null&&(at=o(Ee),De=Ee.tag,Ee!==at||De!==5&&De!==27&&De!==6)&&(Ee=null)):(K=null,Ee=j),K!==Ee)){if(De=af,te="onMouseLeave",G="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(De=of,te="onPointerLeave",G="onPointerEnter",B="pointer"),at=K==null?Y:Vl(K),V=Ee==null?Y:Vl(Ee),Y=new De(te,B+"leave",K,s,Z),Y.target=at,Y.relatedTarget=V,te=null,Pr(Z)===j&&(De=new De(G,B+"enter",Ee,s,Z),De.target=V,De.relatedTarget=at,te=De),at=te,K&&Ee)t:{for(De=B5,G=K,B=Ee,V=0,te=G;te;te=De(te))V++;te=0;for(var _e=B;_e;_e=De(_e))te++;for(;0<V-te;)G=De(G),V--;for(;0<te-V;)B=De(B),te--;for(;V--;){if(G===B||B!==null&&G===B.alternate){De=G;break t}G=De(G),B=De(B)}De=null}else De=null;K!==null&&W1(ie,Y,K,De,!1),Ee!==null&&at!==null&&W1(ie,at,Ee,De,!0)}}e:{if(Y=j?Vl(j):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var Ke=gf;else if(mf(Y))if(vf)Ke=Xv;else{Ke=Yv;var Ne=jv}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?j&&u0(j.elementType)&&(Ke=gf):Ke=Jv;if(Ke&&(Ke=Ke(n,j))){pf(ie,Ke,s,Z);break e}Ne&&Ne(n,Y,j),n==="focusout"&&j&&Y.type==="number"&&j.memoizedProps.value!=null&&o0(Y,"number",Y.value)}switch(Ne=j?Vl(j):window,n){case"focusin":(mf(Ne)||Ne.contentEditable==="true")&&(Kr=Ne,T0=j,Zl=null);break;case"focusout":Zl=T0=Kr=null;break;case"mousedown":A0=!0;break;case"contextmenu":case"mouseup":case"dragend":A0=!1,Ef(ie,s,Z);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Ef(ie,s,Z)}var Pe;if(x0)e:{switch(n){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Xr?ff(n,s)&&(Ye="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ye="onCompositionStart");Ye&&(uf&&s.locale!=="ko"&&(Xr||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Xr&&(Pe=rf()):(Ui=Z,m0="value"in Ui?Ui.value:Ui.textContent,Xr=!0)),Ne=Ys(j,Ye),0<Ne.length&&(Ye=new sf(Ye,n,null,s,Z),ie.push({event:Ye,listeners:Ne}),Pe?Ye.data=Pe:(Pe=hf(s),Pe!==null&&(Ye.data=Pe)))),(Pe=Pv?qv(n,s):Ov(n,s))&&(Ye=Ys(j,"onBeforeInput"),0<Ye.length&&(Ne=new sf("onBeforeInput","beforeinput",null,s,Z),ie.push({event:Ne,listeners:Ye}),Ne.data=Pe)),D5(ie,n,j,s,Z)}Q1(ie,r)})}function Ta(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Ys(n,r){for(var s=r+"Capture",u=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Fl(n,s),g!=null&&u.unshift(Ta(n,g,y)),g=Fl(n,r),g!=null&&u.push(Ta(n,g,y))),n.tag===3)return u;n=n.return}return[]}function B5(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function W1(n,r,s,u,g){for(var y=r._reactName,A=[];s!==null&&s!==u;){var N=s,z=N.alternate,j=N.stateNode;if(N=N.tag,z!==null&&z===u)break;N!==5&&N!==26&&N!==27||j===null||(z=j,g?(j=Fl(s,y),j!=null&&A.unshift(Ta(s,j,z))):g||(j=Fl(s,y),j!=null&&A.push(Ta(s,j,z)))),s=s.return}A.length!==0&&n.push({event:r,listeners:A})}var H5=/\r\n?/g,G5=/\u0000|\uFFFD/g;function em(n){return(typeof n=="string"?n:""+n).replace(H5,`
`).replace(G5,"")}function tm(n,r){return r=em(r),em(n)===r}function lt(n,r,s,u,g,y){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||jr(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&jr(n,""+u);break;case"className":$a(n,"class",u);break;case"tabIndex":$a(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":$a(n,s,u);break;case"style":ef(n,u,y);break;case"data":if(r!=="object"){$a(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Za(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(r!=="input"&&lt(n,r,"name",g.name,g,null),lt(n,r,"formEncType",g.formEncType,g,null),lt(n,r,"formMethod",g.formMethod,g,null),lt(n,r,"formTarget",g.formTarget,g,null)):(lt(n,r,"encType",g.encType,g,null),lt(n,r,"method",g.method,g,null),lt(n,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Za(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=ai);break;case"onScroll":u!=null&&Fe("scroll",n);break;case"onScrollEnd":u!=null&&Fe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Za(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Fe("beforetoggle",n),Fe("toggle",n),Ka(n,"popover",u);break;case"xlinkActuate":li(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":li(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":li(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":li(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":li(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":li(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":li(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":li(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":li(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ka(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hv.get(s)||s,Ka(n,s,u))}}function Ku(n,r,s,u,g,y){switch(s){case"style":ef(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"children":typeof u=="string"?jr(n,u):(typeof u=="number"||typeof u=="bigint")&&jr(n,""+u);break;case"onScroll":u!=null&&Fe("scroll",n);break;case"onScrollEnd":u!=null&&Fe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),r=s.slice(2,g?s.length-7:void 0),y=n[Wt]||null,y=y!=null?y[s]:null,typeof y=="function"&&n.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,u,g);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Ka(n,s,u)}}}function qt(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",n),Fe("load",n);var u=!1,g=!1,y;for(y in s)if(s.hasOwnProperty(y)){var A=s[y];if(A!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:lt(n,r,y,A,s,null)}}g&&lt(n,r,"srcSet",s.srcSet,s,null),u&&lt(n,r,"src",s.src,s,null);return;case"input":Fe("invalid",n);var N=y=A=g=null,z=null,j=null;for(u in s)if(s.hasOwnProperty(u)){var Z=s[u];if(Z!=null)switch(u){case"name":g=Z;break;case"type":A=Z;break;case"checked":z=Z;break;case"defaultChecked":j=Z;break;case"value":y=Z;break;case"defaultValue":N=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,r));break;default:lt(n,r,u,Z,s,null)}}$d(n,y,N,z,j,A,g,!1);return;case"select":Fe("invalid",n),u=A=y=null;for(g in s)if(s.hasOwnProperty(g)&&(N=s[g],N!=null))switch(g){case"value":y=N;break;case"defaultValue":A=N;break;case"multiple":u=N;default:lt(n,r,g,N,s,null)}r=y,s=A,n.multiple=!!u,r!=null?Fr(n,!!u,r,!1):s!=null&&Fr(n,!!u,s,!0);return;case"textarea":Fe("invalid",n),y=g=u=null;for(A in s)if(s.hasOwnProperty(A)&&(N=s[A],N!=null))switch(A){case"value":u=N;break;case"defaultValue":g=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(91));break;default:lt(n,r,A,N,s,null)}Zd(n,u,g,y);return;case"option":for(z in s)if(s.hasOwnProperty(z)&&(u=s[z],u!=null))switch(z){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(n,r,z,u,s,null)}return;case"dialog":Fe("beforetoggle",n),Fe("toggle",n),Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":Fe("load",n);break;case"video":case"audio":for(u=0;u<wa.length;u++)Fe(wa[u],n);break;case"image":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"embed":case"source":case"link":Fe("error",n),Fe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(u=s[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:lt(n,r,j,u,s,null)}return;default:if(u0(r)){for(Z in s)s.hasOwnProperty(Z)&&(u=s[Z],u!==void 0&&Ku(n,r,Z,u,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(u=s[N],u!=null&&lt(n,r,N,u,s,null))}function P5(n,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,N=null,z=null,j=null,Z=null;for(K in s){var ie=s[K];if(s.hasOwnProperty(K)&&ie!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":z=ie;default:u.hasOwnProperty(K)||lt(n,r,K,null,u,ie)}}for(var Y in u){var K=u[Y];if(ie=s[Y],u.hasOwnProperty(Y)&&(K!=null||ie!=null))switch(Y){case"type":y=K;break;case"name":g=K;break;case"checked":j=K;break;case"defaultChecked":Z=K;break;case"value":A=K;break;case"defaultValue":N=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,r));break;default:K!==ie&&lt(n,r,Y,K,u,ie)}}s0(n,A,N,z,j,Z,y,g);return;case"select":K=A=N=Y=null;for(y in s)if(z=s[y],s.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":K=z;default:u.hasOwnProperty(y)||lt(n,r,y,null,u,z)}for(g in u)if(y=u[g],z=s[g],u.hasOwnProperty(g)&&(y!=null||z!=null))switch(g){case"value":Y=y;break;case"defaultValue":N=y;break;case"multiple":A=y;default:y!==z&&lt(n,r,g,y,u,z)}r=N,s=A,u=K,Y!=null?Fr(n,!!s,Y,!1):!!u!=!!s&&(r!=null?Fr(n,!!s,r,!0):Fr(n,!!s,s?[]:"",!1));return;case"textarea":K=Y=null;for(N in s)if(g=s[N],s.hasOwnProperty(N)&&g!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:lt(n,r,N,null,u,g)}for(A in u)if(g=u[A],y=s[A],u.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":Y=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(l(91));break;default:g!==y&&lt(n,r,A,g,u,y)}Qd(n,Y,K);return;case"option":for(var Ee in s)if(Y=s[Ee],s.hasOwnProperty(Ee)&&Y!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":n.selected=!1;break;default:lt(n,r,Ee,null,u,Y)}for(z in u)if(Y=u[z],K=s[z],u.hasOwnProperty(z)&&Y!==K&&(Y!=null||K!=null))switch(z){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:lt(n,r,z,Y,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)Y=s[De],s.hasOwnProperty(De)&&Y!=null&&!u.hasOwnProperty(De)&&lt(n,r,De,null,u,Y);for(j in u)if(Y=u[j],K=s[j],u.hasOwnProperty(j)&&Y!==K&&(Y!=null||K!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,r));break;default:lt(n,r,j,Y,u,K)}return;default:if(u0(r)){for(var at in s)Y=s[at],s.hasOwnProperty(at)&&Y!==void 0&&!u.hasOwnProperty(at)&&Ku(n,r,at,void 0,u,Y);for(Z in u)Y=u[Z],K=s[Z],!u.hasOwnProperty(Z)||Y===K||Y===void 0&&K===void 0||Ku(n,r,Z,Y,u,K);return}}for(var G in s)Y=s[G],s.hasOwnProperty(G)&&Y!=null&&!u.hasOwnProperty(G)&&lt(n,r,G,null,u,Y);for(ie in u)Y=u[ie],K=s[ie],!u.hasOwnProperty(ie)||Y===K||Y==null&&K==null||lt(n,r,ie,Y,u,K)}function nm(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q5(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var g=s[u],y=g.transferSize,A=g.initiatorType,N=g.duration;if(y&&N&&nm(A)){for(A=0,N=g.responseEnd,u+=1;u<s.length;u++){var z=s[u],j=z.startTime;if(j>N)break;var Z=z.transferSize,ie=z.initiatorType;Z&&nm(ie)&&(z=z.responseEnd,A+=Z*(z<N?1:(N-j)/(z-j)))}if(--u,r+=8*(y+A)/(g.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var $u=null,Qu=null;function Js(n){return n.nodeType===9?n:n.ownerDocument}function im(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rm(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Zu(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wu=null;function O5(){var n=window.event;return n&&n.type==="popstate"?n===Wu?!1:(Wu=n,!0):(Wu=null,!1)}var lm=typeof setTimeout=="function"?setTimeout:void 0,V5=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,F5=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(n){return am.resolve(null).then(n).catch(j5)}:lm;function j5(n){setTimeout(function(){throw n})}function Wi(n){return n==="head"}function sm(n,r){var s=r,u=0;do{var g=s.nextSibling;if(n.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(g),wl(r);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Aa(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Aa(s);for(var y=s.firstChild;y;){var A=y.nextSibling,N=y.nodeName;y[Ol]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=A}}else s==="body"&&Aa(n.ownerDocument.body);s=g}while(s);wl(r)}function om(n,r){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function ec(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ec(s),l0(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function Y5(n,r,s,u){for(;n.nodeType===1;){var g=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ol])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=kn(n.nextSibling),n===null)break}return null}function J5(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=kn(n.nextSibling),n===null))return null;return n}function um(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=kn(n.nextSibling),n===null))return null;return n}function tc(n){return n.data==="$?"||n.data==="$~"}function nc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function X5(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function kn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var ic=null;function cm(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return kn(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function dm(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function fm(n,r,s){switch(r=Js(s),n){case"html":if(n=r.documentElement,!n)throw Error(l(452));return n;case"head":if(n=r.head,!n)throw Error(l(453));return n;case"body":if(n=r.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function Aa(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);l0(n)}var In=new Map,hm=new Set;function Xs(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var wi=$.d;$.d={f:K5,r:$5,D:Q5,C:Z5,L:W5,m:e3,X:n3,S:t3,M:i3};function K5(){var n=wi.f(),r=Gs();return n||r}function $5(n){var r=qr(n);r!==null&&r.tag===5&&r.type==="form"?Rh(r):wi.r(n)}var xl=typeof document>"u"?null:document;function mm(n,r,s){var u=xl;if(u&&typeof r=="string"&&r){var g=An(r);g='link[rel="'+n+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),hm.has(g)||(hm.add(g),n={rel:n,crossOrigin:s,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),qt(r,"link",n),zt(r),u.head.appendChild(r)))}}function Q5(n){wi.D(n),mm("dns-prefetch",n,null)}function Z5(n,r){wi.C(n,r),mm("preconnect",n,r)}function W5(n,r,s){wi.L(n,r,s);var u=xl;if(u&&n&&r){var g='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+An(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+An(s.imageSizes)+'"]')):g+='[href="'+An(n)+'"]';var y=g;switch(r){case"style":y=bl(n);break;case"script":y=Sl(n)}In.has(y)||(n=S({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),In.set(y,n),u.querySelector(g)!==null||r==="style"&&u.querySelector(Ea(y))||r==="script"&&u.querySelector(Ca(y))||(r=u.createElement("link"),qt(r,"link",n),zt(r),u.head.appendChild(r)))}}function e3(n,r){wi.m(n,r);var s=xl;if(s&&n){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(n)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Sl(n)}if(!In.has(y)&&(n=S({rel:"modulepreload",href:n},r),In.set(y,n),s.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ca(y)))return}u=s.createElement("link"),qt(u,"link",n),zt(u),s.head.appendChild(u)}}}function t3(n,r,s){wi.S(n,r,s);var u=xl;if(u&&n){var g=Or(u).hoistableStyles,y=bl(n);r=r||"default";var A=g.get(y);if(!A){var N={loading:0,preload:null};if(A=u.querySelector(Ea(y)))N.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":r},s),(s=In.get(y))&&rc(n,s);var z=A=u.createElement("link");zt(z),qt(z,"link",n),z._p=new Promise(function(j,Z){z.onload=j,z.onerror=Z}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Ks(A,r,u)}A={type:"stylesheet",instance:A,count:1,state:N},g.set(y,A)}}}function n3(n,r){wi.X(n,r);var s=xl;if(s&&n){var u=Or(s).hoistableScripts,g=Sl(n),y=u.get(g);y||(y=s.querySelector(Ca(g)),y||(n=S({src:n,async:!0},r),(r=In.get(g))&&lc(n,r),y=s.createElement("script"),zt(y),qt(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function i3(n,r){wi.M(n,r);var s=xl;if(s&&n){var u=Or(s).hoistableScripts,g=Sl(n),y=u.get(g);y||(y=s.querySelector(Ca(g)),y||(n=S({src:n,async:!0,type:"module"},r),(r=In.get(g))&&lc(n,r),y=s.createElement("script"),zt(y),qt(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function pm(n,r,s,u){var g=(g=Q.current)?Xs(g):null;if(!g)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=bl(s.href),s=Or(g).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=bl(s.href);var y=Or(g).hoistableStyles,A=y.get(n);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,A),(y=g.querySelector(Ea(n)))&&!y._p&&(A.instance=y,A.state.loading=5),In.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(n,s),y||r3(g,n,s,A.state))),r&&u===null)throw Error(l(528,""));return A}if(r&&u!==null)throw Error(l(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Sl(s),s=Or(g).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function bl(n){return'href="'+An(n)+'"'}function Ea(n){return'link[rel="stylesheet"]['+n+"]"}function gm(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function r3(n,r,s,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),qt(r,"link",s),zt(r),n.head.appendChild(r))}function Sl(n){return'[src="'+An(n)+'"]'}function Ca(n){return"script[async]"+n}function vm(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+An(s.href)+'"]');if(u)return r.instance=u,zt(u),u;var g=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),zt(u),qt(u,"style",g),Ks(u,s.precedence,n),r.instance=u;case"stylesheet":g=bl(s.href);var y=n.querySelector(Ea(g));if(y)return r.state.loading|=4,r.instance=y,zt(y),y;u=gm(s),(g=In.get(g))&&rc(u,g),y=(n.ownerDocument||n).createElement("link"),zt(y);var A=y;return A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),qt(y,"link",u),r.state.loading|=4,Ks(y,s.precedence,n),r.instance=y;case"script":return y=Sl(s.src),(g=n.querySelector(Ca(y)))?(r.instance=g,zt(g),g):(u=s,(g=In.get(y))&&(u=S({},s),lc(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),zt(g),qt(g,"link",u),n.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(l(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ks(u,s.precedence,n));return r.instance}function Ks(n,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,A=0;A<u.length;A++){var N=u[A];if(N.dataset.precedence===r)y=N;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function rc(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function lc(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var $s=null;function ym(n,r,s){if($s===null){var u=new Map,g=$s=new Map;g.set(s,u)}else g=$s,u=g.get(s),u||(u=new Map,g.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),g=0;g<s.length;g++){var y=s[g];if(!(y[Ol]||y[Bt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(r)||"";A=n+A;var N=u.get(A);N?N.push(y):u.set(A,[y])}}return u}function xm(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function l3(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function a3(n,r,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=bl(u.href),y=r.querySelector(Ea(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Qs.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=y,zt(y);return}y=r.ownerDocument||r,u=gm(u),(g=In.get(g))&&rc(u,g),y=y.createElement("link"),zt(y);var A=y;A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),qt(y,"link",u),s.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Qs.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var ac=0;function s3(n,r){return n.stylesheets&&n.count===0&&Ws(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&Ws(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+r);0<n.imgBytes&&ac===0&&(ac=62500*q5());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ws(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>ac?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Qs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ws(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zs=null;function Ws(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zs=new Map,r.forEach(o3,n),Zs=null,Qs.call(n))}function o3(n,r){if(!(r.state.loading&4)){var s=Zs.get(n);if(s)var u=s.get(null);else{s=new Map,Zs.set(n,s);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),u=A)}u&&s.set(null,u)}g=r.instance,A=g.getAttribute("data-precedence"),y=s.get(A)||u,y===u&&s.set(null,g),s.set(A,g),this.count++,u=Qs.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),r.state.loading|=4}}var Na={$$typeof:J,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function u3(n,r,s,u,g,y,A,N,z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=t0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t0(0),this.hiddenUpdates=t0(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Sm(n,r,s,u,g,y,A,N,z,j,Z,ie){return n=new u3(n,r,s,A,z,j,Z,ie,N),r=1,y===!0&&(r|=24),y=mn(3,null,null,r),n.current=y,y.stateNode=n,r=G0(),r.refCount++,n.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:s,cache:r},V0(y),n}function wm(n){return n?(n=Zr,n):Zr}function Tm(n,r,s,u,g,y){g=wm(g),u.context===null?u.context=g:u.pendingContext=g,u=Oi(r),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=Vi(n,u,r),s!==null&&(an(s,n,r),la(s,n,r))}function Am(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function sc(n,r){Am(n,r),(n=n.alternate)&&Am(n,r)}function Em(n){if(n.tag===13||n.tag===31){var r=br(n,67108864);r!==null&&an(r,n,67108864),sc(n,67108864)}}function Cm(n){if(n.tag===13||n.tag===31){var r=xn();r=n0(r);var s=br(n,r);s!==null&&an(s,n,r),sc(n,r)}}var eo=!0;function c3(n,r,s,u){var g=P.T;P.T=null;var y=$.p;try{$.p=2,oc(n,r,s,u)}finally{$.p=y,P.T=g}}function d3(n,r,s,u){var g=P.T;P.T=null;var y=$.p;try{$.p=8,oc(n,r,s,u)}finally{$.p=y,P.T=g}}function oc(n,r,s,u){if(eo){var g=uc(u);if(g===null)Xu(n,r,u,to,s),Mm(n,u);else if(h3(g,n,r,s,u))u.stopPropagation();else if(Mm(n,u),r&4&&-1<f3.indexOf(n)){for(;g!==null;){var y=qr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=pr(y.pendingLanes);if(A!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var z=1<<31-fn(A);N.entanglements[1]|=z,A&=~z}Qn(y),(et&6)===0&&(Bs=Dt()+500,Sa(0))}}break;case 31:case 13:N=br(y,2),N!==null&&an(N,y,2),Gs(),sc(y,2)}if(y=uc(u),y===null&&Xu(n,r,u,to,s),y===g)break;g=y}g!==null&&u.stopPropagation()}else Xu(n,r,u,null,s)}}function uc(n){return n=d0(n),cc(n)}var to=null;function cc(n){if(to=null,n=Pr(n),n!==null){var r=o(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return to=n,null}function Nm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ze:return 2;case Ue:return 8;case st:case Ot:return 32;case Ud:return 268435456;default:return 32}default:return 32}}var dc=!1,er=null,tr=null,nr=null,Ma=new Map,_a=new Map,ir=[],f3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mm(n,r){switch(n){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Ma.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(r.pointerId)}}function Ra(n,r,s,u,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=qr(r),r!==null&&Em(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function h3(n,r,s,u,g){switch(r){case"focusin":return er=Ra(er,n,r,s,u,g),!0;case"dragenter":return tr=Ra(tr,n,r,s,u,g),!0;case"mouseover":return nr=Ra(nr,n,r,s,u,g),!0;case"pointerover":var y=g.pointerId;return Ma.set(y,Ra(Ma.get(y)||null,n,r,s,u,g)),!0;case"gotpointercapture":return y=g.pointerId,_a.set(y,Ra(_a.get(y)||null,n,r,s,u,g)),!0}return!1}function _m(n){var r=Pr(n.target);if(r!==null){var s=o(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,Od(n.priority,function(){Cm(s)});return}}else if(r===31){if(r=f(s),r!==null){n.blockedOn=r,Od(n.priority,function(){Cm(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function no(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=uc(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);c0=u,s.target.dispatchEvent(u),c0=null}else return r=qr(s),r!==null&&Em(r),n.blockedOn=s,!1;r.shift()}return!0}function Rm(n,r,s){no(n)&&s.delete(r)}function m3(){dc=!1,er!==null&&no(er)&&(er=null),tr!==null&&no(tr)&&(tr=null),nr!==null&&no(nr)&&(nr=null),Ma.forEach(Rm),_a.forEach(Rm)}function io(n,r){n.blockedOn===r&&(n.blockedOn=null,dc||(dc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,m3)))}var ro=null;function km(n){ro!==n&&(ro=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ro===n&&(ro=null);for(var r=0;r<n.length;r+=3){var s=n[r],u=n[r+1],g=n[r+2];if(typeof u!="function"){if(cc(u||s)===null)continue;break}var y=qr(s);y!==null&&(n.splice(r,3),r-=3,uu(y,{pending:!0,data:g,method:s.method,action:u},u,g))}}))}function wl(n){function r(z){return io(z,n)}er!==null&&io(er,n),tr!==null&&io(tr,n),nr!==null&&io(nr,n),Ma.forEach(r),_a.forEach(r);for(var s=0;s<ir.length;s++){var u=ir[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ir.length&&(s=ir[0],s.blockedOn===null);)_m(s),s.blockedOn===null&&ir.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var g=s[u],y=s[u+1],A=g[Wt]||null;if(typeof y=="function")A||km(s);else if(A){var N=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[Wt]||null)N=A.formAction;else if(cc(g)!==null)continue}else N=A.action;typeof N=="function"?s[u+1]=N:(s.splice(u,3),u-=3),km(s)}}}function Im(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function fc(n){this._internalRoot=n}lo.prototype.render=fc.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(l(409));var s=r.current,u=xn();Tm(s,u,n,r,null,null)},lo.prototype.unmount=fc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Tm(n.current,2,null,n,null,null),Gs(),r[Gr]=null}};function lo(n){this._internalRoot=n}lo.prototype.unstable_scheduleHydration=function(n){if(n){var r=qd();n={blockedOn:null,target:n,priority:r};for(var s=0;s<ir.length&&r!==0&&r<ir[s].priority;s++);ir.splice(s,0,n),s===0&&_m(n)}};var Dm=e.version;if(Dm!=="19.2.3")throw Error(l(527,Dm,"19.2.3"));$.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=p(r),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var p3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Gl=ao.inject(p3),dn=ao}catch{}}return Ia.createRoot=function(n,r){if(!a(n))throw Error(l(299));var s=!1,u="",g=Ph,y=qh,A=Oh;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=Sm(n,1,!1,null,null,s,u,null,g,y,A,Im),n[Gr]=r.current,Ju(n),new fc(r)},Ia.hydrateRoot=function(n,r,s){if(!a(n))throw Error(l(299));var u=!1,g="",y=Ph,A=qh,N=Oh,z=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.formState!==void 0&&(z=s.formState)),r=Sm(n,1,!0,r,s??null,u,g,z,y,A,N,Im),r.context=wm(null),s=r.current,u=xn(),u=n0(u),g=Oi(u),g.callback=null,Vi(s,g,u),s=u,r.current.lanes=s,ql(r,s),Qn(r),n[Gr]=r.current,Ju(n),new lo(r)},Ia.version="19.2.3",Ia}var Vm;function C3(){if(Vm)return pc.exports;Vm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pc.exports=E3(),pc.exports}var N3=C3();const M3=l2(N3);var Ho=(t=>(t.MATH="",t.PHYSICS="",t.CHEMISTRY="",t.BIOLOGY="",t.ENGLISH="",t.CHINESE="",t.OTHER="",t))(Ho||{}),Qe=(t=>(t.GEMINI="GEMINI",t.QWEN="QWEN",t.DOUBAO="DOUBAO",t.OPENAI="OPENAI",t))(Qe||{}),_3={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R3,k3;function I3(){return{geminiUrl:R3,vertexUrl:k3}}function D3(t,e,i,l){var a,o;if(!(t!=null&&t.baseUrl)){const c=I3();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(o=c.geminiUrl)!==null&&o!==void 0?o:l}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ki{}function ye(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(l,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const o=e[a];return o!=null?String(o):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function h(t,e,i){for(let o=0;o<e.length-1;o++){const c=e[o];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(i))t[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const m=t[f];if(Array.isArray(i))for(let p=0;p<m.length;p++){const x=m[p];h(x,e.slice(o+1),i[p])}else for(const p of m)h(p,e.slice(o+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const m=t[f];h(m[0],e.slice(o+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const l=e[e.length-1],a=t[l];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[l]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let l=0;l<e.length;l++){if(typeof t!="object"||t===null)return i;const a=e[l];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in t){const c=t[o];return Array.isArray(c)?c.map(f=>d(f,e.slice(l+1),i)):i}else return i}else t=t[a]}return t}catch(l){if(l instanceof TypeError)return i;throw l}}function z3(t,e){for(const[i,l]of Object.entries(e)){const a=i.split("."),o=l.split("."),c=new Set;let f=-1;for(let m=0;m<a.length;m++)if(a[m]==="*"){f=m;break}if(f!==-1&&o.length>f)for(let m=f;m<o.length;m++){const p=o[m];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Uc(t,a,o,0,c)}}function Uc(t,e,i,l,a){if(l>=e.length||typeof t!="object"||t===null)return;const o=e[l];if(o.endsWith("[]")){const c=o.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const m of f[c])Uc(m,e,i,l+1,a)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),m={};for(const p of f)m[p]=c[p];for(const[p,x]of Object.entries(m)){const S=[];for(const w of i.slice(l))w==="*"?S.push(p):S.push(w);h(c,S,x)}for(const p of f)delete c[p]}}else{const c=t;o in c&&Uc(c[o],e,i,l+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ad(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L3(t){const e={},i=d(t,["operationName"]);i!=null&&h(e,["operationName"],i);const l=d(t,["resourceName"]);return l!=null&&h(e,["_url","resourceName"],l),e}function U3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],H3(c)),e}function B3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],G3(c)),e}function H3(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>P3(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function G3(t){const e={},i=d(t,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>q3(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function P3(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],J3(i)),e}function q3(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],X3(i)),e}function O3(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function V3(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function F3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],j3(c)),e}function j3(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function a2(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],Y3(c)),e}function Y3(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function J3(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["encodedVideo"]);l!=null&&h(e,["videoBytes"],ad(l));const a=d(t,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function X3(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["videoBytes"],ad(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fm||(Fm={}));var jm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(jm||(jm={}));var Ym;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ym||(Ym={}));var Mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mt||(Mt={}));var Jm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Jm||(Jm={}));var Xm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Xm||(Xm={}));var Km;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Km||(Km={}));var $m;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($m||($m={}));var Qm;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Qm||(Qm={}));var Zm;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Zm||(Zm={}));var Wm;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Wm||(Wm={}));var ep;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ep||(ep={}));var tp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(tp||(tp={}));var np;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(np||(np={}));var ip;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ip||(ip={}));var rp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rp||(rp={}));var lp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lp||(lp={}));var ap;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ap||(ap={}));var sp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sp||(sp={}));var Co;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Co||(Co={}));var op;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(op||(op={}));var up;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(up||(up={}));var cp;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(cp||(cp={}));var Bc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bc||(Bc={}));var dp;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(dp||(dp={}));var fp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(fp||(fp={}));var hp;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(hp||(hp={}));var mp;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mp||(mp={}));var pp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(pp||(pp={}));var gp;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(gp||(gp={}));var vp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(vp||(vp={}));var yp;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(yp||(yp={}));var xp;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(xp||(xp={}));var bp;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bp||(bp={}));var Sp;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Sp||(Sp={}));var wp;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wp||(wp={}));var Tp;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Tp||(Tp={}));var Ap;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ap||(Ap={}));var Ep;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ep||(Ep={}));var Cp;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Cp||(Cp={}));var Np;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Np||(Np={}));var Mp;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Mp||(Mp={}));var _p;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(_p||(_p={}));var Rp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Rp||(Rp={}));var kp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(kp||(kp={}));var Ip;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ip||(Ip={}));var Dp;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Dp||(Dp={}));var zp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(zp||(zp={}));var Lp;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Lp||(Lp={}));var Up;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Up||(Up={}));var Bp;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bp||(Bp={}));var Hp;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Hp||(Hp={}));var Gp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Gp||(Gp={}));var Pp;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Pp||(Pp={}));var qp;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(qp||(qp={}));var Cl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Cl||(Cl={}));class Hc{constructor(e){const i={};for(const l of e.headers.entries())i[l[0]]=l[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Da{get text(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const S=[];for(const w of(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[E,_]of Object.entries(w))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(_!==null||_!==void 0)&&S.push(E);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;x=!0,p+=w.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const S of(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[w,E]of Object.entries(S))w!=="inlineData"&&(E!==null||E!==void 0)&&x.push(w);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,l,a,o,c,f,m,p;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,l,a,o,c,f,m,p;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class Op{}class Vp{}class K3{}class $3{}class Q3{}class Z3{}class Fp{}class jp{}class Yp{}class W3{}class No{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new No;let a;const o=e;return i?a=B3(o):a=U3(o),Object.assign(l,a),l}}class Jp{}class Xp{}class Kp{}class $p{}class e6{}class t6{}class n6{}class sd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new sd,o=F3(e);return Object.assign(l,o),l}}class i6{}class r6{}class l6{}class Qp{}class a6{get text(){var e,i,l;let a="",o=!1;const c=[];for(const f of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[m,p]of Object.entries(f))m!=="text"&&m!=="thought"&&p!==null&&c.push(m);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;o=!0,a+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?a:void 0}get data(){var e,i,l;let a="";const o=[];for(const c of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[f,m]of Object.entries(c))f!=="inlineData"&&m!==null&&o.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class s6{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class od{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new od,o=a2(e);return Object.assign(l,o),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function s2(t,e){const i=We(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function o2(t){return Array.isArray(t)?t.map(e=>Mo(e)):[Mo(t)]}function Mo(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function u2(t){const e=Mo(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function c2(t){const e=Mo(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function d2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Zp(e)):[Zp(t)]}function Gc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Wp(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function e4(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ft(t){if(t==null)throw new Error("ContentUnion is required");return Gc(t)?t:{role:"user",parts:d2(t)}}function ud(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const l=Ft(i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(t.isVertexAI()){const i=Ft(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Ft(i)):[Ft(e)]}function zn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Wp(t)||e4(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ft(t)]}const e=[],i=[],l=Gc(t[0]);for(const a of t){const o=Gc(a);if(o!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(a);else{if(Wp(a)||e4(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return l||e.push({role:"user",parts:d2(i)}),e}function o6(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(l=>l!=="null");if(i.length===1)e.type=Object.values(Mt).includes(i[0].toUpperCase())?i[0].toUpperCase():Mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of i)e.anyOf.push({type:Object.values(Mt).includes(l.toUpperCase())?l.toUpperCase():Mt.TYPE_UNSPECIFIED})}}function Ml(t){const e={},i=["items"],l=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&o6(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Mt).includes(f.toUpperCase())?f.toUpperCase():Mt.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Ml(f);else if(l.includes(c)){const m=[];for(const p of f){if(p.type=="null"){e.nullable=!0;continue}m.push(Ml(p))}e[c]=m}else if(a.includes(c)){const m={};for(const[p,x]of Object.entries(f))m[p]=Ml(x);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=f}return e}function cd(t){return Ml(t)}function dd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function fd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Il(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ml(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ml(e.response));return t}function Dl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function u6(t,e,i,l=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===l;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Ii(t,e){if(typeof e!="string")throw new Error("name must be a string");return u6(t,e,"cachedContents")}function f2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function dr(t){return ad(t)}function c6(t){return t!=null&&typeof t=="object"&&"name"in t}function d6(t){return t!=null&&typeof t=="object"&&"video"in t}function f6(t){return t!=null&&typeof t=="object"&&"uri"in t}function h2(t){var e;let i;if(c6(t)&&(i=t.name),!(f6(t)&&(i=t.uri,i===void 0))&&!(d6(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function m2(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function p2(t){for(const e of["models","tunedModels","publisherModels"])if(h6(t,e))return t[e];return[]}function h6(t,e){return t!==null&&typeof t=="object"&&e in t}function m6(t,e={}){const i=t,l={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(l.responseJsonSchema=i.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function p6(t,e={}){const i=[],l=new Set;for(const a of t){const o=a.name;if(l.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);l.add(o);const c=m6(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function g2(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const l=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function g6(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function v2(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let o=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function zl(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function y2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v6(t){const e={},i=d(t,["responsesFile"]);i!=null&&h(e,["fileName"],i);const l=d(t,["inlinedResponses","inlinedResponses"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Q6(c))),h(e,["inlinedResponses"],o)}const a=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["inlinedEmbedContentResponses"],o)}return e}function y6(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&h(e,["format"],i);const l=d(t,["gcsDestination","outputUriPrefix"]);l!=null&&h(e,["gcsUri"],l);const a=d(t,["bigqueryDestination","outputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function x6(t){const e={},i=d(t,["format"]);i!=null&&h(e,["predictionsFormat"],i);const l=d(t,["gcsUri"]);l!=null&&h(e,["gcsDestination","outputUriPrefix"],l);const a=d(t,["bigqueryUri"]);if(a!=null&&h(e,["bigqueryDestination","outputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wo(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata","displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["metadata","state"]);a!=null&&h(e,["state"],y2(a));const o=d(t,["metadata","createTime"]);o!=null&&h(e,["createTime"],o);const c=d(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&h(e,["updateTime"],f);const m=d(t,["metadata","model"]);m!=null&&h(e,["model"],m);const p=d(t,["metadata","output"]);return p!=null&&h(e,["dest"],v6(v2(p))),e}function Pc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["state"]);a!=null&&h(e,["state"],y2(a));const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["createTime"]);c!=null&&h(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(e,["startTime"],f);const m=d(t,["endTime"]);m!=null&&h(e,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(e,["updateTime"],p);const x=d(t,["model"]);x!=null&&h(e,["model"],x);const S=d(t,["inputConfig"]);S!=null&&h(e,["src"],b6(S));const w=d(t,["outputConfig"]);w!=null&&h(e,["dest"],y6(v2(w)));const E=d(t,["completionStats"]);return E!=null&&h(e,["completionStats"],E),e}function b6(t){const e={},i=d(t,["instancesFormat"]);i!=null&&h(e,["format"],i);const l=d(t,["gcsSource","uris"]);l!=null&&h(e,["gcsUri"],l);const a=d(t,["bigquerySource","inputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function S6(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=d(e,["fileName"]);l!=null&&h(i,["fileName"],l);const a=d(e,["inlinedRequests"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>$6(t,c))),h(i,["requests","requests"],o)}return i}function w6(t){const e={},i=d(t,["format"]);i!=null&&h(e,["instancesFormat"],i);const l=d(t,["gcsUri"]);l!=null&&h(e,["gcsSource","uris"],l);const a=d(t,["bigqueryUri"]);if(a!=null&&h(e,["bigquerySource","inputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function T6(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function A6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zl(t,l)),i}function E6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zl(t,l)),i}function C6(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const l=d(t,["citationMetadata"]);l!=null&&h(e,["citationMetadata"],N6(l));const a=d(t,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const o=d(t,["finishReason"]);o!=null&&h(e,["finishReason"],o);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(t,["index"]);m!=null&&h(e,["index"],m);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const x=d(t,["safetyRatings"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(E=>E)),h(e,["safetyRatings"],w)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function N6(t){const e={},i=d(t,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["citations"],l)}return e}function x2(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>r7(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function M6(t,e){const i={},l=d(t,["displayName"]);if(e!==void 0&&l!=null&&h(e,["batch","displayName"],l),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function _6(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["dest"]);return e!==void 0&&a!=null&&h(e,["outputConfig"],x6(g6(a))),i}function t4(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["src"]);a!=null&&h(i,["batch","inputConfig"],S6(t,g2(t,a)));const o=d(e,["config"]);return o!=null&&M6(o,i),i}function R6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],We(t,l));const a=d(e,["src"]);a!=null&&h(i,["inputConfig"],w6(g2(t,a)));const o=d(e,["config"]);return o!=null&&_6(o,i),i}function k6(t,e){const i={},l=d(t,["displayName"]);return e!==void 0&&l!=null&&h(e,["batch","displayName"],l),i}function I6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["src"]);a!=null&&h(i,["batch","inputConfig"],G6(t,a));const o=d(e,["config"]);return o!=null&&k6(o,i),i}function D6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zl(t,l)),i}function z6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zl(t,l)),i}function L6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function U6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function B6(t,e){const i={},l=d(e,["contents"]);if(l!=null){let o=ud(t,l);Array.isArray(o)&&(o=o.map(c=>c)),h(i,["requests[]","request","content"],o)}const a=d(e,["config"]);return a!=null&&(h(i,["_self"],H6(a,i)),z3(i,{"requests[].*":"requests[].request.*"})),i}function H6(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["requests[]","taskType"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&h(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function G6(t,e){const i={},l=d(e,["fileName"]);l!=null&&h(i,["file_name"],l);const a=d(e,["inlinedRequests"]);return a!=null&&h(i,["requests"],B6(t,a)),i}function P6(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function q6(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O6(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function V6(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],x2(Ft(a)));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const w=d(e,["logprobs"]);w!=null&&h(l,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],cd(U));const O=d(e,["responseJsonSchema"]);if(O!=null&&h(l,["responseJsonSchema"],O),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=d(e,["safetySettings"]);if(i!==void 0&&J!=null){let ge=J;Array.isArray(ge)&&(ge=ge.map(Ce=>l7(Ce))),h(i,["safetySettings"],ge)}const W=d(e,["tools"]);if(i!==void 0&&W!=null){let ge=Dl(W);Array.isArray(ge)&&(ge=ge.map(Ce=>s7(Il(Ce)))),h(i,["tools"],ge)}const ne=d(e,["toolConfig"]);if(i!==void 0&&ne!=null&&h(i,["toolConfig"],a7(ne)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=d(e,["cachedContent"]);i!==void 0&&ee!=null&&h(i,["cachedContent"],Ii(t,ee));const q=d(e,["responseModalities"]);q!=null&&h(l,["responseModalities"],q);const de=d(e,["mediaResolution"]);de!=null&&h(l,["mediaResolution"],de);const le=d(e,["speechConfig"]);if(le!=null&&h(l,["speechConfig"],dd(le)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const be=d(e,["thinkingConfig"]);be!=null&&h(l,["thinkingConfig"],be);const we=d(e,["imageConfig"]);we!=null&&h(l,["imageConfig"],K6(we));const ae=d(e,["enableEnhancedCivicAnswers"]);return ae!=null&&h(l,["enableEnhancedCivicAnswers"],ae),l}function F6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>C6(p))),h(e,["candidates"],m)}const a=d(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function j6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zl(t,l)),i}function Y6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zl(t,l)),i}function J6(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function X6(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function K6(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);if(l!=null&&h(e,["imageSize"],l),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["request","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let f=zn(a);Array.isArray(f)&&(f=f.map(m=>x2(m))),h(i,["request","contents"],f)}const o=d(e,["metadata"]);o!=null&&h(i,["metadata"],o);const c=d(e,["config"]);return c!=null&&h(i,["request","generationConfig"],V6(t,c,d(i,["request"],{}))),i}function Q6(t){const e={},i=d(t,["response"]);i!=null&&h(e,["response"],F6(i));const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function Z6(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);if(e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function W6(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&h(e,["_query","pageToken"],a);const o=d(t,["filter"]);return e!==void 0&&o!=null&&h(e,["_query","filter"],o),i}function e7(t){const e={},i=d(t,["config"]);return i!=null&&Z6(i,e),e}function t7(t){const e={},i=d(t,["config"]);return i!=null&&W6(i,e),e}function n7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["operations"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>wo(c))),h(e,["batchJobs"],o)}return e}function i7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["batchPredictionJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>Pc(c))),h(e,["batchJobs"],o)}return e}function r7(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],P6(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],q6(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],T6(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function l7(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=d(t,["threshold"]);return l!=null&&h(e,["threshold"],l),e}function a7(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],O6(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function s7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],J6(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],X6(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ni;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ni||(Ni={}));class Ur{constructor(e,i,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,l,a)}init(e,i,l){var a,o;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!l||Object.keys(l).length===0?c={config:{}}:typeof l=="object"?c=Object.assign({},l):c=l,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(o=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o7 extends ki{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ur(Ni.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=t4(this.apiClient,e),l=i._url,a=ye("{model}:batchGenerateContent",l),f=i.batch.inputConfig.requests,m=f.requests,p=[];for(const x of m){const S=Object.assign({},x);if(S.systemInstruction){const w=S.systemInstruction;delete S.systemInstruction;const E=S.request;E.systemInstruction=w,S.request=E}p.push(S)}return f.requests=p,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const l=i?Object.assign({},i):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const o=this.getGcsUri(e),c=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?l.dest=`${o.slice(0,-6)}/dest`:l.dest=`${o}_dest_${a}`;else if(c)l.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=R6(this.apiClient,e);return f=ye("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Pc(x))}else{const p=t4(this.apiClient,e);return f=ye("{model}:batchGenerateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>wo(x))}}async createEmbeddingsInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=I6(this.apiClient,e);return o=ye("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>wo(m))}}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Y6(this.apiClient,e);return f=ye("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Pc(x))}else{const p=j6(this.apiClient,e);return f=ye("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>wo(x))}}async cancel(e){var i,l,a,o;let c="",f={};if(this.apiClient.isVertexAI()){const m=E6(this.apiClient,e);c=ye("batchPredictionJobs/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const m=A6(this.apiClient,e);c=ye("batches/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=t7(e);return f=ye("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=i7(x),w=new Qp;return Object.assign(w,S),w})}else{const p=e7(e);return f=ye("batches",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=n7(x),w=new Qp;return Object.assign(w,S),w})}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=z6(this.apiClient,e);return f=ye("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>U6(x))}else{const p=D6(this.apiClient,e);return f=ye("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>L6(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u7(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function n4(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>I7(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function c7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let x=zn(c);Array.isArray(x)&&(x=x.map(S=>n4(S))),h(e,["contents"],x)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],n4(Ft(f)));const m=d(t,["tools"]);if(e!==void 0&&m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>z7(S))),h(e,["tools"],x)}const p=d(t,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],D7(p)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function d7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let S=zn(c);Array.isArray(S)&&(S=S.map(w=>w)),h(e,["contents"],S)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Ft(f));const m=d(t,["tools"]);if(e!==void 0&&m!=null){let S=m;Array.isArray(S)&&(S=S.map(w=>L7(w))),h(e,["tools"],S)}const p=d(t,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const x=d(t,["kmsKeyName"]);return e!==void 0&&x!=null&&h(e,["encryption_spec","kmsKeyName"],x),i}function f7(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],s2(t,l));const a=d(e,["config"]);return a!=null&&c7(a,i),i}function h7(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],s2(t,l));const a=d(e,["config"]);return a!=null&&d7(a,i),i}function m7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Ii(t,l)),i}function p7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Ii(t,l)),i}function g7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function v7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function y7(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function x7(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function b7(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function S7(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function w7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Ii(t,l)),i}function T7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Ii(t,l)),i}function A7(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function E7(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function C7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function N7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function M7(t){const e={},i=d(t,["config"]);return i!=null&&C7(i,e),e}function _7(t){const e={},i=d(t,["config"]);return i!=null&&N7(i,e),e}function R7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["cachedContents"],o)}return e}function k7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["cachedContents"],o)}return e}function I7(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],y7(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],x7(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],u7(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function D7(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],b7(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function z7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],A7(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],E7(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function L7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(w=>S7(w))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function U7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),i}function B7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),i}function H7(t,e){const i={},l=d(e,["name"]);l!=null&&h(i,["_url","name"],Ii(t,l));const a=d(e,["config"]);return a!=null&&U7(a,i),i}function G7(t,e){const i={},l=d(e,["name"]);l!=null&&h(i,["_url","name"],Ii(t,l));const a=d(e,["config"]);return a!=null&&B7(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P7 extends ki{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ur(Ni.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(i),i)}async create(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=h7(this.apiClient,e);return f=ye("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=f7(this.apiClient,e);return f=ye("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=T7(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=w7(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=p7(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=v7(x),w=new Kp;return Object.assign(w,S),w})}else{const p=m7(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=g7(x),w=new Kp;return Object.assign(w,S),w})}}async update(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=G7(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=H7(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=_7(e);return f=ye("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=k7(x),w=new $p;return Object.assign(w,S),w})}else{const p=M7(e);return f=ye("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=R7(x),w=new $p;return Object.assign(w,S),w})}}}function _o(t,e){var i={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(i[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(i[l[a]]=t[l[a]]);return i}function i4(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],l=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(t){return this instanceof Be?(this.v=t,this):new Be(t)}function On(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(_){return Promise.resolve(_).then(E,S)}}function f(E,_){l[E]&&(a[E]=function(R){return new Promise(function(k,U){o.push([E,R,k,U])>1||m(E,R)})},_&&(a[E]=_(a[E])))}function m(E,_){try{p(l[E](_))}catch(R){w(o[0][3],R)}}function p(E){E.value instanceof Be?Promise.resolve(E.value.v).then(x,S):w(o[0][2],E)}function x(E){m("next",E)}function S(E){m("throw",E)}function w(E,_){E(_),o.shift(),o.length&&m(o[0][0],o[0][1])}}function Vn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof i4=="function"?i4(t):t[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(o){i[o]=t[o]&&function(c){return new Promise(function(f,m){c=t[o](c),a(f,m,c.done,c.value)})}}function a(o,c,f,m){Promise.resolve(m).then(function(p){o({value:p,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q7(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:b2(i)}function b2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function O7(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function r4(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let l=0;for(;l<i;)if(t[l].role==="user")e.push(t[l]),l++;else{const a=[];let o=!0;for(;l<i&&t[l].role==="model";)a.push(t[l]),o&&!b2(t[l])&&(o=!1),l++;o?e.push(...a):e.pop()}return e}class V7{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new F7(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class F7{constructor(e,i,l,a={},o=[]){this.apiClient=e,this.modelsModule=i,this.model=l,this.config=a,this.history=o,this.sendPromise=Promise.resolve(),O7(o)}async sendMessage(e){var i;await this.sendPromise;const l=Ft(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var o,c,f;const m=await a,p=(c=(o=m.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content,x=m.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let w=[];x!=null&&(w=(f=x.slice(S))!==null&&f!==void 0?f:[]);const E=p?[p]:[];this.recordHistory(l,E,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const l=Ft(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const o=await a;return this.processStreamResponse(o,l)}getHistory(e=!1){const i=e?r4(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return On(this,arguments,function*(){var a,o,c,f,m,p;const x=[];try{for(var S=!0,w=Vn(e),E;E=yield Be(w.next()),a=E.done,!a;S=!0){f=E.value,S=!1;const _=f;if(q7(_)){const R=(p=(m=_.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content;R!==void 0&&x.push(R)}yield yield Be(_)}}catch(_){o={error:_}}finally{try{!S&&!a&&(c=w.return)&&(yield Be(c.call(w)))}finally{if(o)throw o.error}}this.recordHistory(i,x)})}recordHistory(e,i,l){let a=[];i.length>0&&i.every(o=>o.role!==void 0)?a=i:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...r4(l)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Go extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Go.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j7(t){const e={},i=d(t,["file"]);return i!=null&&h(e,["file"],i),e}function Y7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function J7(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],h2(i)),e}function X7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function K7(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],h2(i)),e}function $7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function Q7(t){const e={},i=d(t,["config"]);return i!=null&&$7(i,e),e}function Z7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["files"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W7 extends ki{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ur(Ni.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q7(e);return o=ye("files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=Z7(m),x=new i6;return Object.assign(x,p),x})}}async createInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=j7(e);return o=ye("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=Y7(m),x=new r6;return Object.assign(x,p),x})}}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=K7(e);return o=ye("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J7(e);return o=ye("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=X7(m),x=new l6;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function To(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function ey(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gy(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function ty(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function ny(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iy(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function ry(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const l=d(t,["responseJsonSchema"]);l!=null&&h(e,["responseJsonSchema"],l);const a=d(t,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const o=d(t,["candidateCount"]);o!=null&&h(e,["candidateCount"],o);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const x=d(t,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const w=d(t,["responseLogprobs"]);w!=null&&h(e,["responseLogprobs"],w);const E=d(t,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const _=d(t,["responseModalities"]);_!=null&&h(e,["responseModalities"],_);const R=d(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const U=d(t,["seed"]);U!=null&&h(e,["seed"],U);const O=d(t,["speechConfig"]);O!=null&&h(e,["speechConfig"],O);const J=d(t,["stopSequences"]);J!=null&&h(e,["stopSequences"],J);const W=d(t,["temperature"]);W!=null&&h(e,["temperature"],W);const ne=d(t,["thinkingConfig"]);ne!=null&&h(e,["thinkingConfig"],ne);const ee=d(t,["topK"]);ee!=null&&h(e,["topK"],ee);const q=d(t,["topP"]);if(q!=null&&h(e,["topP"],q),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ly(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function ay(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function sy(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],l);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],fd(S));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],ey(Ft(_)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let ee=Dl(R);Array.isArray(ee)&&(ee=ee.map(q=>yy(Il(q)))),h(e,["setup","tools"],ee)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],vy(k));const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const O=d(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&h(e,["setup","outputAudioTranscription"],O);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const W=d(t,["contextWindowCompression"]);e!==void 0&&W!=null&&h(e,["setup","contextWindowCompression"],W);const ne=d(t,["proactivity"]);if(e!==void 0&&ne!=null&&h(e,["setup","proactivity"],ne),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function oy(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],ry(l));const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],fd(S));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],Ft(_));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let q=Dl(R);Array.isArray(q)&&(q=q.map(de=>xy(Il(de)))),h(e,["setup","tools"],q)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],k);const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const O=d(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&h(e,["setup","outputAudioTranscription"],O);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const W=d(t,["contextWindowCompression"]);e!==void 0&&W!=null&&h(e,["setup","contextWindowCompression"],W);const ne=d(t,["proactivity"]);e!==void 0&&ne!=null&&h(e,["setup","proactivity"],ne);const ee=d(t,["explicitVadSignal"]);return e!==void 0&&ee!=null&&h(e,["setup","explicitVadSignal"],ee),i}function uy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],We(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],sy(a,i)),i}function cy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],We(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],oy(a,i)),i}function dy(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],i),e}function fy(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["weightedPrompts"],l)}return e}function hy(t){const e={},i=d(t,["media"]);if(i!=null){let p=o2(i);Array.isArray(p)&&(p=p.map(x=>To(x))),h(e,["mediaChunks"],p)}const l=d(t,["audio"]);l!=null&&h(e,["audio"],To(c2(l)));const a=d(t,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const o=d(t,["video"]);o!=null&&h(e,["video"],To(u2(o)));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function my(t){const e={},i=d(t,["media"]);if(i!=null){let p=o2(i);Array.isArray(p)&&(p=p.map(x=>x)),h(e,["mediaChunks"],p)}const l=d(t,["audio"]);l!=null&&h(e,["audio"],c2(l));const a=d(t,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const o=d(t,["video"]);o!=null&&h(e,["video"],u2(o));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function py(t){const e={},i=d(t,["setupComplete"]);i!=null&&h(e,["setupComplete"],i);const l=d(t,["serverContent"]);l!=null&&h(e,["serverContent"],l);const a=d(t,["toolCall"]);a!=null&&h(e,["toolCall"],a);const o=d(t,["toolCallCancellation"]);o!=null&&h(e,["toolCallCancellation"],o);const c=d(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],by(c));const f=d(t,["goAway"]);f!=null&&h(e,["goAway"],f);const m=d(t,["sessionResumptionUpdate"]);m!=null&&h(e,["sessionResumptionUpdate"],m);const p=d(t,["voiceActivityDetectionSignal"]);return p!=null&&h(e,["voiceActivityDetectionSignal"],p),e}function gy(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],ty(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],ny(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],To(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function vy(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yy(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],ly(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],ay(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function xy(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(w=>iy(w))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function by(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&h(e,["promptTokenCount"],i);const l=d(t,["cachedContentTokenCount"]);l!=null&&h(e,["cachedContentTokenCount"],l);const a=d(t,["candidatesTokenCount"]);a!=null&&h(e,["responseTokenCount"],a);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&h(e,["toolUsePromptTokenCount"],o);const c=d(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&h(e,["totalTokenCount"],f);const m=d(t,["promptTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["promptTokensDetails"],E)}const p=d(t,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["cacheTokensDetails"],E)}const x=d(t,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["responseTokensDetails"],E)}const S=d(t,["toolUsePromptTokensDetails"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["toolUsePromptTokensDetails"],E)}const w=d(t,["trafficType"]);return w!=null&&h(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sy(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function wy(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const l=d(t,["citationMetadata"]);l!=null&&h(e,["citationMetadata"],Ty(l));const a=d(t,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const o=d(t,["finishReason"]);o!=null&&h(e,["finishReason"],o);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(t,["index"]);m!=null&&h(e,["index"],m);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const x=d(t,["safetyRatings"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(E=>E)),h(e,["safetyRatings"],w)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function Ty(t){const e={},i=d(t,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["citations"],l)}return e}function Ay(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let o=zn(a);Array.isArray(o)&&(o=o.map(c=>c)),h(i,["contents"],o)}return i}function Ey(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["tokensInfo"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["tokensInfo"],a)}return e}function Cy(t){const e={},i=d(t,["values"]);i!=null&&h(e,["values"],i);const l=d(t,["statistics"]);return l!=null&&h(e,["statistics"],Ny(l)),e}function Ny(t){const e={},i=d(t,["truncated"]);i!=null&&h(e,["truncated"],i);const l=d(t,["token_count"]);return l!=null&&h(e,["tokenCount"],l),e}function Po(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>U8(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function My(t){const e={},i=d(t,["controlType"]);i!=null&&h(e,["controlType"],i);const l=d(t,["enableControlImageComputation"]);return l!=null&&h(e,["computeControl"],l),e}function _y(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ry(t,e){const i={},l=d(t,["systemInstruction"]);e!==void 0&&l!=null&&h(e,["systemInstruction"],Ft(l));const a=d(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>A2(f))),h(e,["tools"],c)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&h(e,["generationConfig"],S8(o)),i}function ky(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=zn(a);Array.isArray(c)&&(c=c.map(f=>Po(f))),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&_y(o),i}function Iy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=zn(a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&Ry(o,i),i}function Dy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["totalTokens"]);l!=null&&h(e,["totalTokens"],l);const a=d(t,["cachedContentTokenCount"]);return a!=null&&h(e,["cachedContentTokenCount"],a),e}function zy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["totalTokens"]);return l!=null&&h(e,["totalTokens"],l),e}function Ly(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],We(t,l)),i}function Uy(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],We(t,l)),i}function By(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Hy(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Gy(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&h(e,["parameters","includeRaiReason"],w);const E=d(t,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const U=d(t,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const O=d(t,["editMode"]);e!==void 0&&O!=null&&h(e,["parameters","editMode"],O);const J=d(t,["baseSteps"]);return e!==void 0&&J!=null&&h(e,["parameters","editConfig","baseSteps"],J),i}function Py(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>O8(m))),h(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&Gy(c,i),i}function qy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>qo(o))),h(e,["generatedImages"],a)}return e}function Oy(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["requests[]","taskType"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&h(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Vy(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["instances[]","task_type"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["instances[]","title"],a);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&h(e,["parameters","outputDimensionality"],o);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&h(e,["parameters","autoTruncate"],f),i}function Fy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let f=ud(t,a);Array.isArray(f)&&(f=f.map(m=>m)),h(i,["requests[]","content"],f)}const o=d(e,["config"]);o!=null&&Oy(o,i);const c=d(e,["model"]);return c!==void 0&&h(i,["requests[]","model"],We(t,c)),i}function jy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=ud(t,a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["instances[]","content"],c)}const o=d(e,["config"]);return o!=null&&Vy(o,i),i}function Yy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["embeddings"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["embeddings"],o)}const a=d(t,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function Jy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions[]","embeddings"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Cy(c))),h(e,["embeddings"],o)}const a=d(t,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function Xy(t){const e={},i=d(t,["endpoint"]);i!=null&&h(e,["name"],i);const l=d(t,["deployedModelId"]);return l!=null&&h(e,["deployedModelId"],l),e}function Ky(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function $y(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qy(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zy(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function Wy(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],Po(Ft(a)));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const w=d(e,["logprobs"]);w!=null&&h(l,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],cd(U));const O=d(e,["responseJsonSchema"]);if(O!=null&&h(l,["responseJsonSchema"],O),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=d(e,["safetySettings"]);if(i!==void 0&&J!=null){let ge=J;Array.isArray(ge)&&(ge=ge.map(Ce=>V8(Ce))),h(i,["safetySettings"],ge)}const W=d(e,["tools"]);if(i!==void 0&&W!=null){let ge=Dl(W);Array.isArray(ge)&&(ge=ge.map(Ce=>$8(Il(Ce)))),h(i,["tools"],ge)}const ne=d(e,["toolConfig"]);if(i!==void 0&&ne!=null&&h(i,["toolConfig"],K8(ne)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=d(e,["cachedContent"]);i!==void 0&&ee!=null&&h(i,["cachedContent"],Ii(t,ee));const q=d(e,["responseModalities"]);q!=null&&h(l,["responseModalities"],q);const de=d(e,["mediaResolution"]);de!=null&&h(l,["mediaResolution"],de);const le=d(e,["speechConfig"]);if(le!=null&&h(l,["speechConfig"],dd(le)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const be=d(e,["thinkingConfig"]);be!=null&&h(l,["thinkingConfig"],be);const we=d(e,["imageConfig"]);we!=null&&h(l,["imageConfig"],C8(we));const ae=d(e,["enableEnhancedCivicAnswers"]);return ae!=null&&h(l,["enableEnhancedCivicAnswers"],ae),l}function e8(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],Ft(a));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const w=d(e,["logprobs"]);w!=null&&h(l,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],cd(U));const O=d(e,["responseJsonSchema"]);O!=null&&h(l,["responseJsonSchema"],O);const J=d(e,["routingConfig"]);J!=null&&h(l,["routingConfig"],J);const W=d(e,["modelSelectionConfig"]);W!=null&&h(l,["modelConfig"],W);const ne=d(e,["safetySettings"]);if(i!==void 0&&ne!=null){let P=ne;Array.isArray(P)&&(P=P.map($=>$)),h(i,["safetySettings"],P)}const ee=d(e,["tools"]);if(i!==void 0&&ee!=null){let P=Dl(ee);Array.isArray(P)&&(P=P.map($=>A2(Il($)))),h(i,["tools"],P)}const q=d(e,["toolConfig"]);i!==void 0&&q!=null&&h(i,["toolConfig"],q);const de=d(e,["labels"]);i!==void 0&&de!=null&&h(i,["labels"],de);const le=d(e,["cachedContent"]);i!==void 0&&le!=null&&h(i,["cachedContent"],Ii(t,le));const be=d(e,["responseModalities"]);be!=null&&h(l,["responseModalities"],be);const we=d(e,["mediaResolution"]);we!=null&&h(l,["mediaResolution"],we);const ae=d(e,["speechConfig"]);ae!=null&&h(l,["speechConfig"],dd(ae));const ge=d(e,["audioTimestamp"]);ge!=null&&h(l,["audioTimestamp"],ge);const Ce=d(e,["thinkingConfig"]);Ce!=null&&h(l,["thinkingConfig"],Ce);const Te=d(e,["imageConfig"]);if(Te!=null&&h(l,["imageConfig"],N8(Te)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function l4(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=zn(a);Array.isArray(c)&&(c=c.map(f=>Po(f))),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&h(i,["generationConfig"],Wy(t,o,i)),i}function a4(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["contents"]);if(a!=null){let c=zn(a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&h(i,["generationConfig"],e8(t,o,i)),i}function s4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>wy(p))),h(e,["candidates"],m)}const a=d(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function o4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(x=>x)),h(e,["candidates"],p)}const a=d(t,["createTime"]);a!=null&&h(e,["createTime"],a);const o=d(t,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const c=d(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&h(e,["responseId"],f);const m=d(t,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function t8(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&h(e,["parameters","aspectRatio"],a);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&h(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f);const m=d(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&h(e,["parameters","includeSafetyAttributes"],m);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const x=d(t,["language"]);e!==void 0&&x!=null&&h(e,["parameters","language"],x);const S=d(t,["outputMimeType"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","mimeType"],S);const w=d(t,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&h(e,["parameters","outputOptions","compressionQuality"],w),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(t,["imageSize"]);if(e!==void 0&&E!=null&&h(e,["parameters","sampleImageSize"],E),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function n8(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&h(e,["parameters","includeRaiReason"],w);const E=d(t,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const U=d(t,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const O=d(t,["imageSize"]);e!==void 0&&O!=null&&h(e,["parameters","sampleImageSize"],O);const J=d(t,["enhancePrompt"]);return e!==void 0&&J!=null&&h(e,["parameters","enhancePrompt"],J),i}function i8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["config"]);return o!=null&&t8(o,i),i}function r8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["config"]);return o!=null&&n8(o,i),i}function l8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>v8(c))),h(e,["generatedImages"],o)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],w2(a)),e}function a8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>qo(c))),h(e,["generatedImages"],o)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],T2(a)),e}function s8(t,e){const i={},l=d(t,["numberOfVideos"]);if(e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(t,["durationSeconds"]);if(e!==void 0&&a!=null&&h(e,["parameters","durationSeconds"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const c=d(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=d(t,["negativePrompt"]);e!==void 0&&m!=null&&h(e,["parameters","negativePrompt"],m);const p=d(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&h(e,["instances[0]","lastFrame"],Oo(x));const S=d(t,["referenceImages"]);if(e!==void 0&&S!=null){let w=S;Array.isArray(w)&&(w=w.map(E=>ux(E))),h(e,["instances[0]","referenceImages"],w)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function o8(t,e){const i={},l=d(t,["numberOfVideos"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const o=d(t,["fps"]);e!==void 0&&o!=null&&h(e,["parameters","fps"],o);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const m=d(t,["aspectRatio"]);e!==void 0&&m!=null&&h(e,["parameters","aspectRatio"],m);const p=d(t,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["pubsubTopic"]);e!==void 0&&S!=null&&h(e,["parameters","pubsubTopic"],S);const w=d(t,["negativePrompt"]);e!==void 0&&w!=null&&h(e,["parameters","negativePrompt"],w);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&h(e,["parameters","enhancePrompt"],E);const _=d(t,["generateAudio"]);e!==void 0&&_!=null&&h(e,["parameters","generateAudio"],_);const R=d(t,["lastFrame"]);e!==void 0&&R!=null&&h(e,["instances[0]","lastFrame"],Fn(R));const k=d(t,["referenceImages"]);if(e!==void 0&&k!=null){let J=k;Array.isArray(J)&&(J=J.map(W=>cx(W))),h(e,["instances[0]","referenceImages"],J)}const U=d(t,["mask"]);e!==void 0&&U!=null&&h(e,["instances[0]","mask"],ox(U));const O=d(t,["compressionQuality"]);return e!==void 0&&O!=null&&h(e,["parameters","compressionQuality"],O),i}function u8(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],h8(c)),e}function c8(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],m8(c)),e}function d8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],Oo(o));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],E2(c));const f=d(e,["source"]);f!=null&&p8(f,i);const m=d(e,["config"]);return m!=null&&s8(m,i),i}function f8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],Fn(o));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],C2(c));const f=d(e,["source"]);f!=null&&g8(f,i);const m=d(e,["config"]);return m!=null&&o8(m,i),i}function h8(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>x8(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function m8(t){const e={},i=d(t,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>b8(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function p8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],Oo(a));const o=d(t,["video"]);return e!==void 0&&o!=null&&h(e,["instances[0]","video"],E2(o)),i}function g8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],Fn(a));const o=d(t,["video"]);return e!==void 0&&o!=null&&h(e,["instances[0]","video"],C2(o)),i}function v8(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],M8(i));const l=d(t,["raiFilteredReason"]);l!=null&&h(e,["raiFilteredReason"],l);const a=d(t,["_self"]);return a!=null&&h(e,["safetyAttributes"],w2(a)),e}function qo(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],S2(i));const l=d(t,["raiFilteredReason"]);l!=null&&h(e,["raiFilteredReason"],l);const a=d(t,["_self"]);a!=null&&h(e,["safetyAttributes"],T2(a));const o=d(t,["prompt"]);return o!=null&&h(e,["enhancedPrompt"],o),e}function y8(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["mask"],S2(i));const l=d(t,["labels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["labels"],a)}return e}function x8(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],ax(i)),e}function b8(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],sx(i)),e}function S8(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const l=d(t,["responseJsonSchema"]);l!=null&&h(e,["responseJsonSchema"],l);const a=d(t,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const o=d(t,["candidateCount"]);o!=null&&h(e,["candidateCount"],o);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const x=d(t,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const w=d(t,["responseLogprobs"]);w!=null&&h(e,["responseLogprobs"],w);const E=d(t,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const _=d(t,["responseModalities"]);_!=null&&h(e,["responseModalities"],_);const R=d(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const U=d(t,["seed"]);U!=null&&h(e,["seed"],U);const O=d(t,["speechConfig"]);O!=null&&h(e,["speechConfig"],O);const J=d(t,["stopSequences"]);J!=null&&h(e,["stopSequences"],J);const W=d(t,["temperature"]);W!=null&&h(e,["temperature"],W);const ne=d(t,["thinkingConfig"]);ne!=null&&h(e,["thinkingConfig"],ne);const ee=d(t,["topK"]);ee!=null&&h(e,["topK"],ee);const q=d(t,["topP"]);if(q!=null&&h(e,["topP"],q),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function w8(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],We(t,l)),i}function T8(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],We(t,l)),i}function A8(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function E8(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function C8(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);if(l!=null&&h(e,["imageSize"],l),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function N8(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);l!=null&&h(e,["imageSize"],l);const a=d(t,["outputMimeType"]);a!=null&&h(e,["imageOutputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);return o!=null&&h(e,["imageOutputOptions","compressionQuality"],o),e}function M8(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],dr(i));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function S2(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["imageBytes"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function Oo(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],dr(i));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function Fn(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["imageBytes"]);l!=null&&h(e,["bytesBase64Encoded"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function _8(t,e,i){const l={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&h(i,["_query","pageSize"],a);const o=d(e,["pageToken"]);i!==void 0&&o!=null&&h(i,["_query","pageToken"],o);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],m2(t,f)),l}function R8(t,e,i){const l={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&h(i,["_query","pageSize"],a);const o=d(e,["pageToken"]);i!==void 0&&o!=null&&h(i,["_query","pageToken"],o);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],m2(t,f)),l}function k8(t,e){const i={},l=d(e,["config"]);return l!=null&&_8(t,l,i),i}function I8(t,e){const i={},l=d(e,["config"]);return l!=null&&R8(t,l,i),i}function D8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["_self"]);if(a!=null){let o=p2(a);Array.isArray(o)&&(o=o.map(c=>qc(c))),h(e,["models"],o)}return e}function z8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["_self"]);if(a!=null){let o=p2(a);Array.isArray(o)&&(o=o.map(c=>Oc(c))),h(e,["models"],o)}return e}function L8(t){const e={},i=d(t,["maskMode"]);i!=null&&h(e,["maskMode"],i);const l=d(t,["segmentationClasses"]);l!=null&&h(e,["maskClasses"],l);const a=d(t,["maskDilation"]);return a!=null&&h(e,["dilation"],a),e}function qc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);a!=null&&h(e,["description"],a);const o=d(t,["version"]);o!=null&&h(e,["version"],o);const c=d(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],Q8(c));const f=d(t,["inputTokenLimit"]);f!=null&&h(e,["inputTokenLimit"],f);const m=d(t,["outputTokenLimit"]);m!=null&&h(e,["outputTokenLimit"],m);const p=d(t,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const x=d(t,["temperature"]);x!=null&&h(e,["temperature"],x);const S=d(t,["maxTemperature"]);S!=null&&h(e,["maxTemperature"],S);const w=d(t,["topP"]);w!=null&&h(e,["topP"],w);const E=d(t,["topK"]);E!=null&&h(e,["topK"],E);const _=d(t,["thinking"]);return _!=null&&h(e,["thinking"],_),e}function Oc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);a!=null&&h(e,["description"],a);const o=d(t,["versionId"]);o!=null&&h(e,["version"],o);const c=d(t,["deployedModels"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(w=>Xy(w))),h(e,["endpoints"],S)}const f=d(t,["labels"]);f!=null&&h(e,["labels"],f);const m=d(t,["_self"]);m!=null&&h(e,["tunedModelInfo"],Z8(m));const p=d(t,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const x=d(t,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(w=>w)),h(e,["checkpoints"],S)}return e}function U8(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],Ky(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],$y(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],Sy(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function B8(t){const e={},i=d(t,["productImage"]);return i!=null&&h(e,["image"],Fn(i)),e}function H8(t,e){const i={},l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["baseSteps"]);e!==void 0&&a!=null&&h(e,["parameters","baseSteps"],a);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const m=d(t,["personGeneration"]);e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m);const p=d(t,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","mimeType"],x);const S=d(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S);const w=d(t,["enhancePrompt"]);e!==void 0&&w!=null&&h(e,["parameters","enhancePrompt"],w);const E=d(t,["labels"]);return e!==void 0&&E!=null&&h(e,["labels"],E),i}function G8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["source"]);a!=null&&q8(a,i);const o=d(e,["config"]);return o!=null&&H8(o,i),i}function P8(t){const e={},i=d(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>qo(a))),h(e,["generatedImages"],l)}return e}function q8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["personImage"]);e!==void 0&&a!=null&&h(e,["instances[0]","personImage","image"],Fn(a));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>B8(f))),h(e,["instances[0]","productImages"],c)}return i}function O8(t){const e={},i=d(t,["referenceImage"]);i!=null&&h(e,["referenceImage"],Fn(i));const l=d(t,["referenceId"]);l!=null&&h(e,["referenceId"],l);const a=d(t,["referenceType"]);a!=null&&h(e,["referenceType"],a);const o=d(t,["maskImageConfig"]);o!=null&&h(e,["maskImageConfig"],L8(o));const c=d(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],My(c));const f=d(t,["styleImageConfig"]);f!=null&&h(e,["styleImageConfig"],f);const m=d(t,["subjectImageConfig"]);return m!=null&&h(e,["subjectImageConfig"],m),e}function w2(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const l=d(t,["safetyAttributes","scores"]);l!=null&&h(e,["scores"],l);const a=d(t,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function T2(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const l=d(t,["safetyAttributes","scores"]);l!=null&&h(e,["scores"],l);const a=d(t,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function V8(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=d(t,["threshold"]);return l!=null&&h(e,["threshold"],l),e}function F8(t){const e={},i=d(t,["image"]);return i!=null&&h(e,["image"],Fn(i)),e}function j8(t,e){const i={},l=d(t,["mode"]);e!==void 0&&l!=null&&h(e,["parameters","mode"],l);const a=d(t,["maxPredictions"]);e!==void 0&&a!=null&&h(e,["parameters","maxPredictions"],a);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&h(e,["parameters","confidenceThreshold"],o);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&h(e,["parameters","binaryColorThreshold"],f);const m=d(t,["labels"]);return e!==void 0&&m!=null&&h(e,["labels"],m),i}function Y8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["source"]);a!=null&&X8(a,i);const o=d(e,["config"]);return o!=null&&j8(o,i),i}function J8(t){const e={},i=d(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>y8(a))),h(e,["generatedMasks"],l)}return e}function X8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],Fn(a));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&h(e,["instances[0]","scribble"],F8(o)),i}function K8(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],Qy(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function $8(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],A8(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],E8(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function A2(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(w=>Zy(w))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function Q8(t){const e={},i=d(t,["baseModel"]);i!=null&&h(e,["baseModel"],i);const l=d(t,["createTime"]);l!=null&&h(e,["createTime"],l);const a=d(t,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function Z8(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(e,["baseModel"],i);const l=d(t,["createTime"]);l!=null&&h(e,["createTime"],l);const a=d(t,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function W8(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&h(e,["defaultCheckpointId"],o),i}function ex(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&h(e,["defaultCheckpointId"],o),i}function tx(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","name"],We(t,l));const a=d(e,["config"]);return a!=null&&W8(a,i),i}function nx(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["config"]);return a!=null&&ex(a,i),i}function ix(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&h(e,["parameters","safetySetting"],a);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&h(e,["parameters","personGeneration"],o);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const m=d(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&h(e,["parameters","outputOptions","compressionQuality"],m);const p=d(t,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const x=d(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const w=d(t,["numberOfImages"]);e!==void 0&&w!=null&&h(e,["parameters","sampleCount"],w);const E=d(t,["mode"]);return e!==void 0&&E!=null&&h(e,["parameters","mode"],E),i}function rx(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],We(t,l));const a=d(e,["image"]);a!=null&&h(i,["instances[0]","image"],Fn(a));const o=d(e,["upscaleFactor"]);o!=null&&h(i,["parameters","upscaleConfig","upscaleFactor"],o);const c=d(e,["config"]);return c!=null&&ix(c,i),i}function lx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>qo(o))),h(e,["generatedImages"],a)}return e}function ax(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["encodedVideo"]);l!=null&&h(e,["videoBytes"],dr(l));const a=d(t,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function sx(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["videoBytes"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function ox(t){const e={},i=d(t,["image"]);i!=null&&h(e,["_self"],Fn(i));const l=d(t,["maskMode"]);return l!=null&&h(e,["maskMode"],l),e}function ux(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],Oo(i));const l=d(t,["referenceType"]);return l!=null&&h(e,["referenceType"],l),e}function cx(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],Fn(i));const l=d(t,["referenceType"]);return l!=null&&h(e,["referenceType"],l),e}function E2(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["videoBytes"]);l!=null&&h(e,["encodedVideo"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["encoding"],a),e}function C2(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["videoBytes"]);l!=null&&h(e,["bytesBase64Encoded"],dr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dx(t,e){const i={},l=d(t,["displayName"]);return e!==void 0&&l!=null&&h(e,["displayName"],l),i}function fx(t){const e={},i=d(t,["config"]);return i!=null&&dx(i,e),e}function hx(t,e){const i={},l=d(t,["force"]);return e!==void 0&&l!=null&&h(e,["_query","force"],l),i}function mx(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const l=d(t,["config"]);return l!=null&&hx(l,e),e}function px(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function gx(t,e){const i={},l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["customMetadata"],o)}const a=d(t,["chunkingConfig"]);return e!==void 0&&a!=null&&h(e,["chunkingConfig"],a),i}function vx(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],xx(c)),e}function yx(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const l=d(t,["fileName"]);l!=null&&h(e,["fileName"],l);const a=d(t,["config"]);return a!=null&&gx(a,e),e}function xx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function bx(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function Sx(t){const e={},i=d(t,["config"]);return i!=null&&bx(i,e),e}function wx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["fileSearchStores"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["fileSearchStores"],o)}return e}function N2(t,e){const i={},l=d(t,["mimeType"]);e!==void 0&&l!=null&&h(e,["mimeType"],l);const a=d(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),h(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),i}function Tx(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const l=d(t,["config"]);return l!=null&&N2(l,e),e}function Ax(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ex="Content-Type",Cx="X-Server-Timeout",Nx="User-Agent",Vc="x-goog-api-client",Mx="1.34.0",_x=`google-genai-sdk/${Mx}`,Rx="v1beta1",kx="v1beta";class Ix{constructor(e){var i,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Rx,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:kx,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,l){const a=[this.getRequestUrlInternal(i)];return l&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,l);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))a.searchParams.append(c,String(f));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,i,a.toString(),e.abortSignal),this.unaryApiCall(a,o,e.httpMethod)}patchHttpOptions(e,i){const l=JSON.parse(JSON.stringify(e));for(const[a,o]of Object.entries(i))typeof o=="object"?l[a]=Object.assign(Object.assign({},l[a]),o):o!==void 0&&(l[a]=o);return l}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,i,a.toString(),e.abortSignal),this.streamApiCall(a,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,l,a){if(i&&i.timeout||a){const o=new AbortController,c=o.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>o.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}a&&a.addEventListener("abort",()=>{o.abort()}),e.signal=c}return i&&i.extraBody!==null&&Dx(e,i.extraBody),e.headers=await this.getHeadersInternal(i,l),e}async unaryApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async a=>(await u4(a),new Hc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async a=>(await u4(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return On(this,arguments,function*(){var l;const a=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),o=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const f="data:",m=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:x}=yield Be(a.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=o.decode(x,{stream:!0});try{const _=JSON.parse(S);if("error"in _){const R=JSON.parse(JSON.stringify(_.error)),k=R.status,U=R.code,O=`got status: ${k}. ${JSON.stringify(_)}`;if(U>=400&&U<600)throw new Go({message:O,status:U})}}catch(_){if(_.name==="ApiError")throw _}c+=S;let w=-1,E=0;for(;;){w=-1,E=0;for(const k of m){const U=c.indexOf(k);U!==-1&&(w===-1||U<w)&&(w=U,E=k.length)}if(w===-1)break;const _=c.substring(0,w);c=c.substring(w+E);const R=_.trim();if(R.startsWith(f)){const k=R.substring(f.length).trim();try{const U=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Be(new Hc(U))}catch(U){throw new Error(`exception parsing stream chunk ${k}. ${U}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},i=_x+" "+this.clientOptions.userAgentExtra;return e[Nx]=i,e[Vc]=i,e[Ex]="application/json",e}async getHeadersInternal(e,i){const l=new Headers;if(e&&e.headers){for(const[a,o]of Object.entries(e.headers))l.append(a,o);e.timeout&&e.timeout>0&&l.append(Cx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,i),l}getFileName(e){var i;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(i=l.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),l}async uploadFile(e,i){var l;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const o=this.clientOptions.uploader,c=await o.stat(e);a.sizeBytes=String(c.size);const f=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=f;const m={file:a},p=this.getFileName(e),x=ye("upload/v1beta/files",m._url),S=await this.fetchUploadUrl(x,a.sizeBytes,a.mimeType,p,m,i==null?void 0:i.httpOptions);return o.upload(e,S,this)}async uploadFileToFileSearchStore(e,i,l){var a;const o=this.clientOptions.uploader,c=await o.stat(i),f=String(c.size),m=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(i),S={};l!=null&&N2(l,S);const w=await this.fetchUploadUrl(p,f,m,x,S,l==null?void 0:l.httpOptions);return o.uploadToFileSearchStore(i,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,l,a,o,c){var f;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:m});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(f=p==null?void 0:p.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function u4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let l;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await t.json():l={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(l);throw i>=400&&i<600?new Go({message:a,status:i}):new Error(a)}}function Dx(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))i=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(o,c){const f=Object.assign({},o);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const p=c[m],x=f[m];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?f[m]=l(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),f[m]=p)}return f}const a=l(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx="mcp_used/unknown";let Lx=!1;function M2(t){for(const e of t)if(Ux(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Lx}function _2(t){var e;const i=(e=t[Vc])!==null&&e!==void 0?e:"";t[Vc]=(i+` ${zx}`).trimStart()}function Ux(t){return t!==null&&typeof t=="object"&&t instanceof hd}function Bx(t){return On(this,arguments,function*(i,l=100){let a,o=0;for(;o<l;){const c=yield Be(i.listTools({cursor:a}));for(const f of c.tools)yield yield Be(f),o++;if(!c.nextCursor)break;a=c.nextCursor}})}class hd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new hd(e,i)}async initialize(){var e,i,l,a;if(this.mcpTools.length>0)return;const o={},c=[];for(const x of this.mcpClients)try{for(var f=!0,m=(i=void 0,Vn(Bx(x))),p;p=await m.next(),e=p.done,!e;f=!0){a=p.value,f=!1;const S=a;c.push(S);const w=S.name;if(o[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);o[w]=x}}catch(S){i={error:S}}finally{try{!f&&!e&&(l=m.return)&&await l.call(m)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),p6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const c=await a.callTool({name:l.name,arguments:l.args},void 0,o);i.push({functionResponse:{name:l.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Hx(t,e,i){const l=new s6;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(l,a),e(l)}class Gx{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l}async connect(e){var i,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),c=Ox(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),m=`${a}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${f}`;let p=()=>{};const x=new Promise(J=>{p=J}),S=e.callbacks,w=function(){p({})},E=this.apiClient,_={onopen:w,onmessage:J=>{Hx(E,S.onmessage,J)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(J){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(J){}},R=this.webSocketFactory.create(m,qx(c),_);R.connect(),await x;const O={setup:{model:We(this.apiClient,e.model)}};return R.send(JSON.stringify(O)),new Px(R,this.apiClient)}}class Px{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=fy(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=dy(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Cl.PLAY)}pause(){this.sendPlaybackControl(Cl.PAUSE)}stop(){this.sendPlaybackControl(Cl.STOP)}resetContext(){this.sendPlaybackControl(Cl.RESET_CONTEXT)}close(){this.conn.close()}}function qx(t){const e={};return t.forEach((i,l)=>{e[l]=i}),e}function Ox(t){const e=new Headers;for(const[i,l]of Object.entries(t))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Fx(t,e,i){const l=new a6;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const o=JSON.parse(a);if(t.isVertexAI()){const c=py(o);Object.assign(l,c)}else Object.assign(l,o);e(l)}class jx{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l,this.music=new Gx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,l,a,o,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&M2(e.config.tools)&&_2(S);const w=Kx(S);if(this.apiClient.isVertexAI())x=`${m}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,x);else{const le=this.apiClient.getApiKey();let be="BidiGenerateContent",we="key";le!=null&&le.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),be="BidiGenerateContentConstrained",we="access_token"),x=`${m}/ws/google.ai.generativelanguage.${p}.GenerativeService.${be}?${we}=${le}`}let E=()=>{};const _=new Promise(le=>{E=le}),R=e.callbacks,k=function(){var le;(le=R==null?void 0:R.onopen)===null||le===void 0||le.call(R),E({})},U=this.apiClient,O={onopen:k,onmessage:le=>{Fx(U,R.onmessage,le)},onerror:(i=R==null?void 0:R.onerror)!==null&&i!==void 0?i:function(le){},onclose:(l=R==null?void 0:R.onclose)!==null&&l!==void 0?l:function(le){}},J=this.webSocketFactory.create(x,Xx(w),O);J.connect(),await _;let W=We(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const le=this.apiClient.getProject(),be=this.apiClient.getLocation();W=`projects/${le}/locations/${be}/`+W}let ne={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Co.AUDIO]}:e.config.responseModalities=[Co.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],q=[];for(const le of ee)if(this.isCallableTool(le)){const be=le;q.push(await be.tool())}else q.push(le);q.length>0&&(e.config.tools=q);const de={model:W,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ne=cy(this.apiClient,de):ne=uy(this.apiClient,de),delete ne.config,J.send(JSON.stringify(ne)),new Jx(J,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Yx={turnComplete:!0};class Jx{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let l=[];try{l=zn(i.turns),e.isVertexAI()||(l=l.map(a=>Po(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:l,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let l=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?l=i.functionResponses:l=[i.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const o of l){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Vx)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Yx),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:my(e)}:i={realtimeInput:hy(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Xx(t){const e={};return t.forEach((i,l)=>{e[l]=i}),e}function Kx(t){const e=new Headers;for(const[i,l]of Object.entries(t))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c4=10;function d4(t){var e,i,l;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(_l(c)){a=!0;break}if(!a)return!0;const o=(l=t==null?void 0:t.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function _l(t){return"callTool"in t&&typeof t.callTool=="function"}function $x(t){var e,i,l;return(l=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>_l(a)))!==null&&l!==void 0?l:!1}function f4(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((l,a)=>{if(_l(l))return;const o=l;o.functionDeclarations&&o.functionDeclarations.length>0&&i.push(a)}),i}function h4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx extends ki{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var l,a,o,c,f;const m=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!$x(i)||d4(i.config))return await this.generateContentInternal(m);const p=f4(i);if(p.length>0){const R=p.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let x,S;const w=zn(m.contents),E=(o=(a=(l=m.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&o!==void 0?o:c4;let _=0;for(;_<E&&(x=await this.generateContentInternal(m),!(!x.functionCalls||x.functionCalls.length===0));){const R=x.candidates[0].content,k=[];for(const U of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(_l(U)){const J=await U.callTool(x.functionCalls);k.push(...J)}_++,S={role:"user",parts:k},m.contents=zn(m.contents),m.contents.push(R),m.contents.push(S),h4(m.config)&&(w.push(R),w.push(S))}return h4(m.config)&&(x.automaticFunctionCallingHistory=w),x},this.generateContentStream=async i=>{var l,a,o,c,f;if(this.maybeMoveToResponseJsonSchem(i),d4(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const m=f4(i);if(m.length>0){const S=m.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(o=(a=(l=i==null?void 0:i.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,x=(f=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(p&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(l=>{var a;let o;const c=[];if(l!=null&&l.generatedImages)for(const m of l.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((a=m==null?void 0:m.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?o=m==null?void 0:m.safetyAttributes:c.push(m);let f;return o?f={generatedImages:c,positivePromptSafetyAttributes:o,sdkHttpResponse:l.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:l.sdkHttpResponse},f}),this.list=async i=>{var l;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((l=c.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Ur(Ni.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const l={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(l.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async i=>{let l={numberOfImages:1,mode:"upscale"};i.config&&(l=Object.assign(Object.assign({},l),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var l,a,o,c,f,m;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=i.video)===null||l===void 0)&&l.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(o=i.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.uri&&(!((m=(f=i.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,l,a;const o=(i=e.config)===null||i===void 0?void 0:i.tools;if(!o)return e;const c=await Promise.all(o.map(async m=>_l(m)?await m.tool():m)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&M2(e.config.tools)){const m=(a=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},m);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),_2(p),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return f}async initAfcToolsMap(e){var i,l,a;const o=new Map;for(const c of(l=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&l!==void 0?l:[])if(_l(c)){const f=c,m=await f.tool();for(const p of(a=m.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(o.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);o.set(p.name,f)}}return o}async processAfcStream(e){var i,l,a;const o=(a=(l=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:c4;let c=!1,f=0;const m=await this.initAfcToolsMap(e);return(function(p,x,S){return On(this,arguments,function*(){for(var w,E,_,R,k,U;f<o;){c&&(f++,c=!1);const ne=yield Be(p.processParamsMaybeAddMcpUsage(S)),ee=yield Be(p.generateContentStreamInternal(ne)),q=[],de=[];try{for(var O=!0,J=(E=void 0,Vn(ee)),W;W=yield Be(J.next()),w=W.done,!w;O=!0){R=W.value,O=!1;const le=R;if(yield yield Be(le),le.candidates&&(!((k=le.candidates[0])===null||k===void 0)&&k.content)){de.push(le.candidates[0].content);for(const be of(U=le.candidates[0].content.parts)!==null&&U!==void 0?U:[])if(f<o&&be.functionCall){if(!be.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(be.functionCall.name)){const we=yield Be(x.get(be.functionCall.name).callTool([be.functionCall]));q.push(...we)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${be.functionCall.name}`)}}}}catch(le){E={error:le}}finally{try{!O&&!w&&(_=J.return)&&(yield Be(_.call(J)))}finally{if(E)throw E.error}}if(q.length>0){c=!0;const le=new Da;le.candidates=[{content:{role:"user",parts:q}}],yield yield Be(le);const be=[];be.push(...de),be.push({role:"user",parts:q});const we=zn(S.contents).concat(be);S.contents=we}else break}})})(this,m,e)}async generateContentInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=a4(this.apiClient,e);return f=ye("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=o4(x),w=new Da;return Object.assign(w,S),w})}else{const p=l4(this.apiClient,e);return f=ye("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=s4(x),w=new Da;return Object.assign(w,S),w})}}async generateContentStreamInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=a4(this.apiClient,e);return f=ye("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(S){return On(this,arguments,function*(){var w,E,_,R;try{for(var k=!0,U=Vn(S),O;O=yield Be(U.next()),w=O.done,!w;k=!0){R=O.value,k=!1;const J=R,W=o4(yield Be(J.json()));W.sdkHttpResponse={headers:J.headers};const ne=new Da;Object.assign(ne,W),yield yield Be(ne)}}catch(J){E={error:J}}finally{try{!k&&!w&&(_=U.return)&&(yield Be(_.call(U)))}finally{if(E)throw E.error}}})})}else{const p=l4(this.apiClient,e);return f=ye("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(S){return On(this,arguments,function*(){var w,E,_,R;try{for(var k=!0,U=Vn(S),O;O=yield Be(U.next()),w=O.done,!w;k=!0){R=O.value,k=!1;const J=R,W=s4(yield Be(J.json()));W.sdkHttpResponse={headers:J.headers};const ne=new Da;Object.assign(ne,W),yield yield Be(ne)}}catch(J){E={error:J}}finally{try{!k&&!w&&(_=U.return)&&(yield Be(_.call(U)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=jy(this.apiClient,e);return f=ye("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=Jy(x),w=new Op;return Object.assign(w,S),w})}else{const p=Fy(this.apiClient,e);return f=ye("{model}:batchEmbedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=Yy(x),w=new Op;return Object.assign(w,S),w})}}async generateImagesInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=r8(this.apiClient,e);return f=ye("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=a8(x),w=new Vp;return Object.assign(w,S),w})}else{const p=i8(this.apiClient,e);return f=ye("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=l8(x),w=new Vp;return Object.assign(w,S),w})}}async editImageInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Py(this.apiClient,e);return o=ye("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=qy(m),x=new K3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=rx(this.apiClient,e);return o=ye("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=lx(m),x=new $3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=G8(this.apiClient,e);return o=ye("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=P8(m),x=new Q3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Y8(this.apiClient,e);return o=ye("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=J8(m),x=new Z3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=T8(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Oc(x))}else{const p=w8(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>qc(x))}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=I8(this.apiClient,e);return f=ye("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=z8(x),w=new Fp;return Object.assign(w,S),w})}else{const p=k8(this.apiClient,e);return f=ye("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=D8(x),w=new Fp;return Object.assign(w,S),w})}}async update(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=nx(this.apiClient,e);return f=ye("{model}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Oc(x))}else{const p=tx(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>qc(x))}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Uy(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=Hy(x),w=new jp;return Object.assign(w,S),w})}else{const p=Ly(this.apiClient,e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=By(x),w=new jp;return Object.assign(w,S),w})}}async countTokens(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Iy(this.apiClient,e);return f=ye("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=zy(x),w=new Yp;return Object.assign(w,S),w})}else{const p=ky(this.apiClient,e);return f=ye("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=Dy(x),w=new Yp;return Object.assign(w,S),w})}}async computeTokens(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Ay(this.apiClient,e);return o=ye("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=Ey(m),x=new W3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=f8(this.apiClient,e);return f=ye("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const S=c8(x),w=new No;return Object.assign(w,S),w})}else{const p=d8(this.apiClient,e);return f=ye("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>{const S=u8(x),w=new No;return Object.assign(w,S),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zx extends ki{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let o;l&&"httpOptions"in l&&(o=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:o}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let o;l&&"httpOptions"in l&&(o=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:o}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=V3(e);return f=ye("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c}else{const p=O3(e);return f=ye("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=L3(e);return o=ye("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function e9(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>u9(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function t9(t,e,i){const l={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&h(i,["expireTime"],a);const o=d(e,["newSessionExpireTime"]);i!==void 0&&o!=null&&h(i,["newSessionExpireTime"],o);const c=d(e,["uses"]);i!==void 0&&c!=null&&h(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&h(i,["bidiGenerateContentSetup"],o9(t,f));const m=d(e,["lockAdditionalFields"]);return i!==void 0&&m!=null&&h(i,["fieldMask"],m),l}function n9(t,e){const i={},l=d(e,["config"]);return l!=null&&h(i,["config"],t9(t,l,i)),i}function i9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function r9(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l9(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function a9(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function s9(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],l);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],fd(S));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],e9(Ft(_)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let ee=Dl(R);Array.isArray(ee)&&(ee=ee.map(q=>d9(Il(q)))),h(e,["setup","tools"],ee)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],c9(k));const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const O=d(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&h(e,["setup","outputAudioTranscription"],O);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const W=d(t,["contextWindowCompression"]);e!==void 0&&W!=null&&h(e,["setup","contextWindowCompression"],W);const ne=d(t,["proactivity"]);if(e!==void 0&&ne!=null&&h(e,["setup","proactivity"],ne),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function o9(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],We(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],s9(a,i)),i}function u9(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],i9(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],r9(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],Wx(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function c9(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function d9(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],l9(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],a9(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f9(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const l=t[i];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(o=>`${i}.${o}`);e.push(...a)}else e.push(i)}return e.join(",")}function h9(t,e){let i=null;const l=t.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const o=l.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,i=o):delete t.bidiGenerateContentSetup}else l!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const o=f9(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];a.length>0&&(f=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const m=[];o&&m.push(o),f.length>0&&m.push(...f),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class m9 extends ki{constructor(e){super(),this.apiClient=e}async create(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=n9(this.apiClient,e);o=ye("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const m=h9(f,e.config);return a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p9(t,e){const i={},l=d(t,["force"]);return e!==void 0&&l!=null&&h(e,["_query","force"],l),i}function g9(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const l=d(t,["config"]);return l!=null&&p9(l,e),e}function v9(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function y9(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function x9(t){const e={},i=d(t,["parent"]);i!=null&&h(e,["_url","parent"],i);const l=d(t,["config"]);return l!=null&&y9(l,e),e}function b9(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["documents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S9 extends ki{constructor(e){super(),this.apiClient=e,this.list=async i=>new Ur(Ni.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:i.parent,config:l.config}),await this.listInternal(i),i)}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=v9(e);return o=ye("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=g9(e);a=ye("{name}",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=x9(e);return o=ye("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=b9(m),x=new e6;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w9 extends ki{constructor(e,i=new S9(e)){super(),this.apiClient=e,this.documents=i,this.list=async(l={})=>new Ur(Ni.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=fx(e);return o=ye("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=px(e);return o=ye("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mx(e);a=ye("{name}",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Sx(e);return o=ye("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=wx(m),x=new t6;return Object.assign(x,p),x})}}async uploadToFileSearchStoreInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Tx(e);return o=ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=Ax(m),x=new n6;return Object.assign(x,p),x})}}async importFile(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=yx(e);return o=ye("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=vx(m),x=new sd;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R2=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return R2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^i()&15>>+l/4).toString(16))};const T9=()=>R2();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const jc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln extends Error{}class Kt extends Ln{constructor(e,i,l,a){super(`${Kt.makeMessage(e,i,l)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,l){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):l;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,l,a){if(!e||!a)return new Vo({message:l,cause:jc(i)});const o=i;return e===400?new I2(e,o,l,a):e===401?new D2(e,o,l,a):e===403?new z2(e,o,l,a):e===404?new L2(e,o,l,a):e===409?new U2(e,o,l,a):e===422?new B2(e,o,l,a):e===429?new H2(e,o,l,a):e>=500?new G2(e,o,l,a):new Kt(e,o,l,a)}}class Yc extends Kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Vo extends Kt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class k2 extends Vo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class I2 extends Kt{}class D2 extends Kt{}class z2 extends Kt{}class L2 extends Kt{}class U2 extends Kt{}class B2 extends Kt{}class H2 extends Kt{}class G2 extends Kt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A9=/^[a-z][a-z0-9+.-]*:/i,E9=t=>A9.test(t);let Jc=t=>(Jc=Array.isArray,Jc(t));const C9=Jc;let N9=C9;const m4=N9;function M9(t){if(!t)return!0;for(const e in t)return!1;return!0}function _9(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const R9=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ln(`${t} must be an integer`);if(e<0)throw new Ln(`${t} must be a positive integer`);return e},k9=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I9=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const El="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const z9=()=>{var t,e,i,l,a;const o=D9();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":El,"X-Stainless-OS":g4(Deno.build.os),"X-Stainless-Arch":p4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":El,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":El,"X-Stainless-OS":g4((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":p4((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=L9();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":El,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":El,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function L9(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const l=i.exec(navigator.userAgent);if(l){const a=l[1]||0,o=l[2]||0,c=l[3]||0;return{browser:e,version:`${a}.${o}.${c}`}}}return null}const p4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",g4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let so;const U9=()=>so??(so=z9());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function P2(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function H9(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return P2({start(){},async pull(i){const{done:l,value:a}=await e.next();l?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function q2(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function G9(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const l=t.getReader(),a=l.cancel();l.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P9=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O2=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function xc(t,e,i){return O2(),new File(t,e??"unknown_file",i)}function q9(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const O9=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",V9=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&V2(t),F9=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function j9(t,e,i){if(O2(),t=await t,V9(t))return t instanceof File?t:xc([await t.arrayBuffer()],t.name);if(F9(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),xc(await Xc(a),e,i)}const l=await Xc(t);if(e||(e=q9(t)),!(i!=null&&i.type)){const a=l.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return xc(l,e,i)}async function Xc(t){var e,i,l,a,o;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(V2(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(O9(t))try{for(var f=!0,m=Vn(t),p;p=await m.next(),e=p.done,!e;f=!0){a=p.value,f=!1;const x=a;c.push(...await Xc(x))}}catch(x){i={error:x}}finally{try{!f&&!e&&(l=m.return)&&await l.call(m)}finally{if(i)throw i.error}}else{const x=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${Y9(t)}`)}return c}function Y9(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F2{constructor(e){this._client=e}}F2._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j2(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const v4=Object.freeze(Object.create(null)),J9=(t=j2)=>(function(i,...l){if(i.length===1)return i[0];let a=!1;const o=[],c=i.reduce((x,S,w)=>{var E,_,R;/[?#]/.test(S)&&(a=!0);const k=l[w];let U=(a?encodeURIComponent:t)(""+k);return w!==l.length&&(k==null||typeof k=="object"&&k.toString===((R=Object.getPrototypeOf((_=Object.getPrototypeOf((E=k.hasOwnProperty)!==null&&E!==void 0?E:v4))!==null&&_!==void 0?_:v4))===null||R===void 0?void 0:R.toString))&&(U=k+"",o.push({start:x.length+S.length,length:U.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),x+S+(w===l.length?"":U)},""),f=c.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=m.exec(f))!==null;)o.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(o.sort((x,S)=>x.start-S.start),o.length>0){let x=0;const S=o.reduce((w,E)=>{const _=" ".repeat(E.start-x),R="^".repeat(E.length);return x=E.start+E.length,w+_+R},"");throw new Ln(`Path parameters result in path with invalid segments:
${o.map(w=>w.error).join(`
`)}
${c}
${S}`)}return c}),oo=J9(j2);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y2 extends F2{create(e,i){var l;const{api_version:a=this._client.apiVersion}=e,o=_o(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Ln("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Ln("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(oo`/${a}/interactions`,Object.assign(Object.assign({body:o},i),{stream:(l=e.stream)!==null&&l!==void 0?l:!1}))}delete(e,i={},l){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(oo`/${a}/interactions/${e}`,l)}cancel(e,i={},l){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(oo`/${a}/interactions/${e}/cancel`,l)}get(e,i={},l){var a;const o=i??{},{api_version:c=this._client.apiVersion}=o,f=_o(o,["api_version"]);return this._client.get(oo`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},l),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}Y2._key=Object.freeze(["interactions"]);class J2 extends Y2{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X9(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let l=0;for(const a of t)i.set(a,l),l+=a.length;return i}let uo;function md(t){let e;return(uo??(e=new globalThis.TextEncoder,uo=e.encode.bind(e)))(t)}let co;function y4(t){let e;return(co??(e=new globalThis.TextDecoder,co=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fo{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?md(e):e;this.buffer=X9([this.buffer,i]);const l=[];let a;for(;(a=K9(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){l.push(y4(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=y4(this.buffer.subarray(0,o));l.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Fo.NEWLINE_CHARS=new Set([`
`,"\r"]);Fo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function K9(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function $9(t){for(let l=0;l<t.length-1;l++){if(t[l]===10&&t[l+1]===10||t[l]===13&&t[l+1]===13)return l+2;if(t[l]===13&&t[l+1]===10&&l+3<t.length&&t[l+2]===13&&t[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ro={off:0,error:200,warn:300,info:400,debug:500},x4=(t,e,i)=>{if(t){if(_9(Ro,t))return t;Jt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ro))}`)}};function Ua(){}function fo(t,e,i){return!e||Ro[t]>Ro[i]?Ua:e[t].bind(e)}const Q9={error:Ua,warn:Ua,info:Ua,debug:Ua};let b4=new WeakMap;function Jt(t){var e;const i=t.logger,l=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return Q9;const a=b4.get(i);if(a&&a[0]===l)return a[1];const o={error:fo("error",i,l),warn:fo("warn",i,l),info:fo("info",i,l),debug:fo("debug",i,l)};return b4.set(i,[l,o]),o}const Lr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nl{constructor(e,i,l){this.iterator=e,this.controller=i,this.client=l}static fromSSEResponse(e,i,l){let a=!1;const o=l?Jt(l):console;function c(){return On(this,arguments,function*(){var m,p,x,S;if(a)throw new Ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let w=!1;try{try{for(var E=!0,_=Vn(Z9(e,i)),R;R=yield Be(_.next()),m=R.done,!m;E=!0){S=R.value,E=!1;const k=S;if(!w)if(k.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield Be(JSON.parse(k.data))}catch(U){throw o.error("Could not parse message into JSON:",k.data),o.error("From chunk:",k.raw),U}}}catch(k){p={error:k}}finally{try{!E&&!m&&(x=_.return)&&(yield Be(x.call(_)))}finally{if(p)throw p.error}}w=!0}catch(k){if(Fc(k))return yield Be(void 0);throw k}finally{w||i.abort()}})}return new Nl(c,i,l)}static fromReadableStream(e,i,l){let a=!1;function o(){return On(this,arguments,function*(){var m,p,x,S;const w=new Fo,E=q2(e);try{for(var _=!0,R=Vn(E),k;k=yield Be(R.next()),m=k.done,!m;_=!0){S=k.value,_=!1;const U=S;for(const O of w.decode(U))yield yield Be(O)}}catch(U){p={error:U}}finally{try{!_&&!m&&(x=R.return)&&(yield Be(x.call(R)))}finally{if(p)throw p.error}}for(const U of w.flush())yield yield Be(U)})}function c(){return On(this,arguments,function*(){var m,p,x,S;if(a)throw new Ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let w=!1;try{try{for(var E=!0,_=Vn(o()),R;R=yield Be(_.next()),m=R.done,!m;E=!0){S=R.value,E=!1;const k=S;w||k&&(yield yield Be(JSON.parse(k)))}}catch(k){p={error:k}}finally{try{!E&&!m&&(x=_.return)&&(yield Be(x.call(_)))}finally{if(p)throw p.error}}w=!0}catch(k){if(Fc(k))return yield Be(void 0);throw k}finally{w||i.abort()}})}return new Nl(c,i,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],l=this.iterator(),a=o=>({next:()=>{if(o.length===0){const c=l.next();e.push(c),i.push(c)}return o.shift()}});return[new Nl(()=>a(e),this.controller,this.client),new Nl(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return P2({async start(){i=e[Symbol.asyncIterator]()},async pull(l){try{const{value:a,done:o}=await i.next();if(o)return l.close();const c=md(JSON.stringify(a)+`
`);l.enqueue(c)}catch(a){l.error(a)}},async cancel(){var l;await((l=i.return)===null||l===void 0?void 0:l.call(i))}})}}function Z9(t,e){return On(this,arguments,function*(){var l,a,o,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ln("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ln("Attempted to iterate over a response with no body");const f=new eb,m=new Fo,p=q2(t.body);try{for(var x=!0,S=Vn(W9(p)),w;w=yield Be(S.next()),l=w.done,!l;x=!0){c=w.value,x=!1;const E=c;for(const _ of m.decode(E)){const R=f.decode(_);R&&(yield yield Be(R))}}}catch(E){a={error:E}}finally{try{!x&&!l&&(o=S.return)&&(yield Be(o.call(S)))}finally{if(a)throw a.error}}for(const E of m.flush()){const _=f.decode(E);_&&(yield yield Be(_))}})}function W9(t){return On(this,arguments,function*(){var i,l,a,o;let c=new Uint8Array;try{for(var f=!0,m=Vn(t),p;p=yield Be(m.next()),i=p.done,!i;f=!0){o=p.value,f=!1;const x=o;if(x==null)continue;const S=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?md(x):x;let w=new Uint8Array(c.length+S.length);w.set(c),w.set(S,c.length),c=w;let E;for(;(E=$9(c))!==-1;)yield yield Be(c.slice(0,E)),c=c.slice(E)}}catch(x){l={error:x}}finally{try{!f&&!i&&(a=m.return)&&(yield Be(a.call(m)))}finally{if(l)throw l.error}}c.length>0&&(yield yield Be(c))})}class eb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,l,a]=tb(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function tb(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nb(t,e){const{response:i,requestLogID:l,retryOfRequestLogID:a,startTime:o}=e,c=await(async()=>{var f;if(e.options.stream)return Jt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Nl.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const m=i.headers.get("content-type"),p=(f=m==null?void 0:m.split(";")[0])===null||f===void 0?void 0:f.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?await i.json():await i.text()})();return Jt(t).debug(`[${l}] response parsed`,Lr({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-o})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pd extends Promise{constructor(e,i,l=nb){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=l,this.client=e}_thenUnwrap(e){return new pd(this.client,this.responsePromise,async(i,l)=>e(await this.parseResponse(i,l),l))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X2=Symbol("brand.privateNullableHeaders");function*ib(t){if(!t)return;if(X2 in t){const{values:l,nulls:a}=t;yield*l.entries();for(const o of a)yield[o,null];return}let e=!1,i;t instanceof Headers?i=t.entries():m4(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let l of i){const a=l[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const o=m4(l[1])?l[1]:[l[1]];let c=!1;for(const f of o)f!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,f])}}const za=t=>{const e=new Headers,i=new Set;for(const l of t){const a=new Set;for(const[o,c]of ib(l)){const f=o.toLowerCase();a.has(f)||(e.delete(o),a.add(f)),c===null?(e.delete(o),i.add(f)):(e.append(o,c),i.delete(f))}}return{[X2]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bc=t=>{var e,i,l,a,o,c;if(typeof globalThis.process<"u")return(l=(i=(e=_3)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(c=(o=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||o===void 0?void 0:o.call(a,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var K2;class jo{constructor(e){var i,l,a,o,c,f,m,{baseURL:p=bc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(i=bc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=e,w=_o(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:S},w),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(l=E.timeout)!==null&&l!==void 0?l:jo.DEFAULT_TIMEOUT,this.logger=(a=E.logger)!==null&&a!==void 0?a:console;const _="warn";this.logLevel=_,this.logLevel=(c=(o=x4(E.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:x4(bc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:_,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(m=E.fetch)!==null&&m!==void 0?m:B9(),this.encoder=P9,this._options=E,this.apiKey=x,this.apiVersion=S,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=za([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return za([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return za([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,l])=>typeof l<"u").map(([i,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(i)}=`;throw new Ln(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${El}`}defaultIdempotencyKey(){return`stainless-node-retry-${T9()}`}makeStatusError(e,i,l,a){return Kt.generate(e,i,l,a)}buildURL(e,i,l){const a=!this.baseURLOverridden()&&l||this.baseURL,o=E9(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return M9(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(o.search=this.stringifyQuery(i)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:l}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,l){return this.request(Promise.resolve(l).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new pd(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,l){var a,o,c;const f=await e,m=(a=f.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=m),await this.prepareOptions(f);const{req:p,url:x,timeout:S}=await this.buildRequest(f,{retryCount:m-i});await this.prepareRequest(p,{url:x,options:f});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=l===void 0?"":`, retryOf: ${l}`,_=Date.now();if(Jt(this).debug(`[${w}] sending request`,Lr({retryOfRequestLogID:l,method:f.method,url:x,options:f,headers:p.headers})),!((o=f.signal)===null||o===void 0)&&o.aborted)throw new Yc;const R=new AbortController,k=await this.fetchWithTimeout(x,p,S,R).catch(jc),U=Date.now();if(k instanceof globalThis.Error){const J=`retrying, ${i} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new Yc;const W=Fc(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(i)return Jt(this).info(`[${w}] connection ${W?"timed out":"failed"} - ${J}`),Jt(this).debug(`[${w}] connection ${W?"timed out":"failed"} (${J})`,Lr({retryOfRequestLogID:l,url:x,durationMs:U-_,message:k.message})),this.retryRequest(f,i,l??w);throw Jt(this).info(`[${w}] connection ${W?"timed out":"failed"} - error; no more retries left`),Jt(this).debug(`[${w}] connection ${W?"timed out":"failed"} (error; no more retries left)`,Lr({retryOfRequestLogID:l,url:x,durationMs:U-_,message:k.message})),W?new k2:new Vo({cause:k})}const O=`[${w}${E}] ${p.method} ${x} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${U-_}ms`;if(!k.ok){const J=await this.shouldRetry(k);if(i&&J){const le=`retrying, ${i} attempts remaining`;return await G9(k.body),Jt(this).info(`${O} - ${le}`),Jt(this).debug(`[${w}] response error (${le})`,Lr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,durationMs:U-_})),this.retryRequest(f,i,l??w,k.headers)}const W=J?"error; no more retries left":"error; not retryable";Jt(this).info(`${O} - ${W}`);const ne=await k.text().catch(le=>jc(le).message),ee=k9(ne),q=ee?void 0:ne;throw Jt(this).debug(`[${w}] response error (${W})`,Lr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,message:q,durationMs:Date.now()-_})),this.makeStatusError(k.status,ee,q,k.headers)}return Jt(this).info(O),Jt(this).debug(`[${w}] response start`,Lr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,durationMs:U-_})),{response:k,options:f,controller:R,requestLogID:w,retryOfRequestLogID:l,startTime:_}}async fetchWithTimeout(e,i,l,a){const o=i||{},{signal:c,method:f}=o,m=_o(o,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const p=setTimeout(()=>a.abort(),l),x=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,S=Object.assign(Object.assign(Object.assign({signal:a.signal},x?{duplex:"half"}:{}),{method:"GET"}),m);f&&(S.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(p)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,l,a){var o;let c;const f=a==null?void 0:a.get("retry-after-ms");if(f){const p=parseFloat(f);Number.isNaN(p)||(c=p)}const m=a==null?void 0:a.get("retry-after");if(m&&!c){const p=parseFloat(m);Number.isNaN(p)?c=Date.parse(m)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,p)}return await I9(c),this.makeRequest(e,i-1,l)}calculateDefaultRetryTimeoutMillis(e,i){const o=i-e,c=Math.min(.5*Math.pow(2,o),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:i=0}={}){var l,a,o;const c=Object.assign({},e),{method:f,path:m,query:p,defaultBaseURL:x}=c,S=this.buildURL(m,p,x);"timeout"in c&&R9("timeout",c.timeout),c.timeout=(l=c.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:w,body:E}=this.buildBody({options:c}),_=await this.buildHeaders({options:e,method:f,bodyHeaders:w,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:_},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(o=c.fetchOptions)!==null&&o!==void 0?o:{}),url:S,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:a}){let o={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let f=za([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),U9()),this._options.defaultHeaders,l,e.headers,c]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const l=za([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&l.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:H9(e)}:this.encoder({body:e,headers:l})}}jo.DEFAULT_TIMEOUT=6e4;class Ut extends jo{constructor(){super(...arguments),this.interactions=new J2(this)}}K2=Ut;Ut.GeminiNextGenAPIClient=K2;Ut.GeminiNextGenAPIClientError=Ln;Ut.APIError=Kt;Ut.APIConnectionError=Vo;Ut.APIConnectionTimeoutError=k2;Ut.APIUserAbortError=Yc;Ut.NotFoundError=L2;Ut.ConflictError=U2;Ut.RateLimitError=H2;Ut.BadRequestError=I2;Ut.AuthenticationError=D2;Ut.InternalServerError=G2;Ut.PermissionDeniedError=z2;Ut.UnprocessableEntityError=B2;Ut.toFile=j9;Ut.Interactions=J2;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function lb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function ab(t,e){const i={},l=d(t,["sdkHttpResponse"]);return l!=null&&h(i,["sdkHttpResponse"],l),i}function sb(t,e){const i={},l=d(t,["sdkHttpResponse"]);return l!=null&&h(i,["sdkHttpResponse"],l),i}function ob(t,e,i){const l={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&h(e,["displayName"],a),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&h(e,["tuningTask","hyperparameters","epochCount"],o);const c=d(t,["learningRateMultiplier"]);if(c!=null&&h(l,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&h(e,["tuningTask","hyperparameters","batchSize"],f);const m=d(t,["learningRate"]);if(e!==void 0&&m!=null&&h(e,["tuningTask","hyperparameters","learningRate"],m),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function ub(t,e,i){const l={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec"],S4(E))}else if(a==="PREFERENCE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec"],S4(E))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&h(e,["tunedModelDisplayName"],o);const c=d(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let f=d(i,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(f==="PREFERENCE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(m==="PREFERENCE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(p==="PREFERENCE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const w=d(t,["beta"]);return e!==void 0&&w!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),l}function cb(t,e){const i={},l=d(t,["baseModel"]);l!=null&&h(i,["baseModel"],l);const a=d(t,["preTunedModel"]);a!=null&&h(i,["preTunedModel"],a);const o=d(t,["trainingDataset"]);o!=null&&Sb(o);const c=d(t,["config"]);return c!=null&&ob(c,i),i}function db(t,e){const i={},l=d(t,["baseModel"]);l!=null&&h(i,["baseModel"],l);const a=d(t,["preTunedModel"]);a!=null&&h(i,["preTunedModel"],a);const o=d(t,["trainingDataset"]);o!=null&&wb(o,i,e);const c=d(t,["config"]);return c!=null&&ub(c,i,e),i}function fb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function hb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function mb(t,e,i){const l={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),l}function pb(t,e,i){const l={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),l}function gb(t,e){const i={},l=d(t,["config"]);return l!=null&&mb(l,i),i}function vb(t,e){const i={},l=d(t,["config"]);return l!=null&&pb(l,i),i}function yb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["nextPageToken"]);a!=null&&h(i,["nextPageToken"],a);const o=d(t,["tunedModels"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>$2(f))),h(i,["tuningJobs"],c)}return i}function xb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["nextPageToken"]);a!=null&&h(i,["nextPageToken"],a);const o=d(t,["tuningJobs"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Kc(f))),h(i,["tuningJobs"],c)}return i}function bb(t,e){const i={},l=d(t,["name"]);l!=null&&h(i,["model"],l);const a=d(t,["name"]);return a!=null&&h(i,["endpoint"],a),i}function Sb(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=d(t,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(i,["examples","examples"],a)}return i}function wb(t,e,i){const l={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function $2(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["state"]);o!=null&&h(i,["state"],f2(o));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&h(i,["startTime"],f);const m=d(t,["tuningTask","completeTime"]);m!=null&&h(i,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(i,["updateTime"],p);const x=d(t,["description"]);x!=null&&h(i,["description"],x);const S=d(t,["baseModel"]);S!=null&&h(i,["baseModel"],S);const w=d(t,["_self"]);return w!=null&&h(i,["tunedModel"],bb(w)),i}function Kc(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["state"]);o!=null&&h(i,["state"],f2(o));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(i,["startTime"],f);const m=d(t,["endTime"]);m!=null&&h(i,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(i,["updateTime"],p);const x=d(t,["error"]);x!=null&&h(i,["error"],x);const S=d(t,["description"]);S!=null&&h(i,["description"],S);const w=d(t,["baseModel"]);w!=null&&h(i,["baseModel"],w);const E=d(t,["tunedModel"]);E!=null&&h(i,["tunedModel"],E);const _=d(t,["preTunedModel"]);_!=null&&h(i,["preTunedModel"],_);const R=d(t,["supervisedTuningSpec"]);R!=null&&h(i,["supervisedTuningSpec"],R);const k=d(t,["preferenceOptimizationSpec"]);k!=null&&h(i,["preferenceOptimizationSpec"],k);const U=d(t,["tuningDataStats"]);U!=null&&h(i,["tuningDataStats"],U);const O=d(t,["encryptionSpec"]);O!=null&&h(i,["encryptionSpec"],O);const J=d(t,["partnerModelTuningSpec"]);J!=null&&h(i,["partnerModelTuningSpec"],J);const W=d(t,["customBaseModel"]);W!=null&&h(i,["customBaseModel"],W);const ne=d(t,["experiment"]);ne!=null&&h(i,["experiment"],ne);const ee=d(t,["labels"]);ee!=null&&h(i,["labels"],ee);const q=d(t,["outputUri"]);q!=null&&h(i,["outputUri"],q);const de=d(t,["pipelineJob"]);de!=null&&h(i,["pipelineJob"],de);const le=d(t,["serviceAccount"]);le!=null&&h(i,["serviceAccount"],le);const be=d(t,["tunedModelDisplayName"]);be!=null&&h(i,["tunedModelDisplayName"],be);const we=d(t,["veoTuningSpec"]);return we!=null&&h(i,["veoTuningSpec"],we),i}function Tb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["metadata"]);o!=null&&h(i,["metadata"],o);const c=d(t,["done"]);c!=null&&h(i,["done"],c);const f=d(t,["error"]);return f!=null&&h(i,["error"],f),i}function S4(t,e){const i={},l=d(t,["gcsUri"]);l!=null&&h(i,["validationDatasetUri"],l);const a=d(t,["vertexDatasetResource"]);return a!=null&&h(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ab extends ki{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ur(Ni.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var l;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((l=i.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},i),{preTunedModel:a});return o.baseModel=void 0,await this.tuneInternal(o)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),o=await this.tuneMldevInternal(a);let c="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?c=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(c=o.name.split("/operations/")[0]),{name:c,state:Bc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=hb(e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>Kc(x))}else{const p=fb(e);return f=ye("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>$2(x))}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=vb(e);return f=ye("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=xb(x),w=new Jp;return Object.assign(w,S),w})}else{const p=gb(e);return f=ye("tunedModels",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=yb(x),w=new Jp;return Object.assign(w,S),w})}}async cancel(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=lb(e);return f=ye("{name}:cancel",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=sb(x),w=new Xp;return Object.assign(w,S),w})}else{const p=rb(e);return f=ye("{name}:cancel",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const w=S;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const S=ab(x),w=new Xp;return Object.assign(w,S),w})}}async tuneInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=db(e,e);return o=ye("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>Kc(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=cb(e);return o=ye("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>Tb(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eb{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Cb=1024*1024*8,Nb=3,Mb=1e3,_b=2,ko="x-goog-upload-status";async function Rb(t,e,i){var l;const a=await Q2(t,e,i),o=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[ko])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function kb(t,e,i){var l;const a=await Q2(t,e,i),o=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[ko])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=a2(o),f=new od;return Object.assign(f,c),f}async function Q2(t,e,i){var l,a;let o=0,c=0,f=new Hc(new Response),m="upload";for(o=t.size;c<o;){const p=Math.min(Cb,o-c),x=t.slice(c,c+p);c+p>=o&&(m+=", finalize");let S=0,w=Mb;for(;S<Nb&&(f=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((l=f==null?void 0:f.headers)===null||l===void 0)&&l[ko]));)S++,await Db(w),w=w*_b;if(c+=p,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[ko])!=="active")break;if(o<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function Ib(t){return{size:t.size,type:t.type}}function Db(t){return new Promise(e=>setTimeout(e,t))}class zb{async upload(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rb(e,i,l)}async uploadToFileSearchStore(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kb(e,i,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ib(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lb{create(e,i,l){return new Ub(e,i,l)}}class Ub{constructor(e,i,l){this.url=e,this.headers=i,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w4="x-goog-api-key";class Bb{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(w4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(w4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="gl-node/";class Z2{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new Ut({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const l=D3(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new Bb(this.apiKey);this.apiClient=new Ix({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Hb+"web",uploader:new zb,downloader:new Eb}),this.models=new Qx(this.apiClient),this.live=new jx(this.apiClient,a,new Lb),this.batches=new o7(this.apiClient),this.chats=new V7(this.models,this.apiClient),this.caches=new P7(this.apiClient),this.files=new W7(this.apiClient),this.operations=new Zx(this.apiClient),this.authTokens=new m9(this.apiClient),this.tunings=new Ab(this.apiClient),this.fileSearchStores=new w9(this.apiClient)}}const Gb={type:Mt.OBJECT,properties:{content:{type:Mt.STRING,description:" Markdown  LaTeX  ($...$)"},options:{type:Mt.ARRAY,items:{type:Mt.STRING},description:" LaTeX  ($...$)"},diagramDescription:{type:Mt.STRING,description:"/"},answer:{type:Mt.STRING,description:""},analysis:{type:Mt.STRING,description:" Markdown  LaTeX"},learningGuide:{type:Mt.STRING,description:""},knowledgePoints:{type:Mt.ARRAY,items:{type:Mt.STRING},description:""},subject:{type:Mt.STRING,enum:Object.values(Ho),description:""},difficulty:{type:Mt.INTEGER,description:" (1-5)"}},required:["content","analysis","knowledgePoints","subject","difficulty"]},Io=`

1. //
2.  LaTeX$...$  $$...$$ Unicode  LaTeX
   -              // Unicode 
   - 
     - 6  $\\sqrt{6}$
     - x  $x^2$
     -   $\\times$
     -   $^\\circ$
     -   $\\theta$
     - /  $\\leq$ / $\\geq$
3.  JSON content, options, diagramDescription, answer, analysis, learningGuide, knowledgePoints, subject, difficulty
   - options  ["A. ", "B. "]
4.  $...$ $...$
5. 
6.  JSON  ( \\frac  \frac\\sqrt  sqrt)`;function Pb(t){let e="",i=0;for(;i<t.length;)if(t[i]==="\\"&&i+1<t.length){const l=t[i+1];if(l==="\\"){e+="\\\\",i+=2;continue}if(l==='"'||l==="/"){e+="\\"+l,i+=2;continue}if(l==="u"&&i+5<t.length&&/^[0-9a-fA-F]{4}$/.test(t.substring(i+2,i+6))){e+=t.substring(i,i+6),i+=6;continue}if("bfnrt".includes(l)){const a=i+2<t.length?t[i+2]:"";if(!/[a-zA-Z]/.test(a)){e+="\\"+l,i+=2;continue}}e+="\\\\"+l,i+=2}else e+=t[i],i++;return e}const qb=async t=>new Promise(e=>{const i=new Image;i.src=t,i.onload=()=>{const l=document.createElement("canvas");let a=i.width,o=i.height;const c=1024;(a>c||o>c)&&(a>o?(o=Math.round(o*c/a),a=c):(a=Math.round(a*c/o),o=c)),l.width=a,l.height=o;const f=l.getContext("2d");f==null||f.drawImage(i,0,0,a,o),e(l.toDataURL("image/jpeg",.8))},i.onerror=()=>e(t)});function Ob(t){let e=t.trim();e.startsWith("```json")?e=e.slice(7):e.startsWith("```")&&(e=e.slice(3)),e.endsWith("```")&&(e=e.slice(0,-3)),e=e.trim(),e=e.trim();const i=Pb(e);try{return JSON.parse(i)}catch(l){try{return JSON.parse(e)}catch{try{let o=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"");return JSON.parse(o)}catch{throw console.error("JSON parsing failed after all cleanup attempts:",t.substring(0,500)),new Error(`JSON : ${l.message}`)}}}}async function Vb(t,e,i){if(!e.apiKey)throw new Error("API Key ");const l=new Z2({apiKey:e.apiKey}),a=e.modelName||"gemini-2.0-flash",c=(await l.models.generateContent({model:a,contents:[{role:"user",parts:[{inlineData:{mimeType:"image/jpeg",data:t.split(",")[1]||t}},{text:i}]}],config:{responseMimeType:"application/json",responseSchema:Gb}})).text;if(!c)throw new Error("Gemini ");return JSON.parse(c.trim())}async function Fb(t,e,i){var p,x;let l=e.baseUrl,a=e.modelName||"gpt-4o";if(e.type===Qe.QWEN)l=l||"https://dashscope.aliyuncs.com/compatible-mode/v1",a=e.modelName||"qwen-vl-max";else if(e.type===Qe.DOUBAO){if(l=l||"https://ark.cn-beijing.volces.com/api/v3",!((p=e.modelName)!=null&&p.trim()))throw new Error("ID (ep-xxxxxxxxxx) Ark ");a=e.modelName.trim()}if(!e.apiKey)throw new Error("API Key ");let o;if(e.type===Qe.QWEN)o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}};else if(e.type===Qe.DOUBAO){const S=t.startsWith("data:")?t:`data:image/jpeg;base64,${t}`;o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:S}}]}]}}else o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}};const c=await fetch(`${l}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${e.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok){let S="AI ";try{const w=await c.json();console.error("AI API Error Response:",w);const E=((x=w.error)==null?void 0:x.message)||w.message||JSON.stringify(w);E.includes("support text")||E.includes("MultiContent")?S="/(Vision)":S=E}catch{console.error("AI API Error (Text):",await c.text()),S=`HTTP error! status: ${c.status}`}throw new Error(S)}const f=await c.json(),m=f.choices?f.choices[0].message.content:f.result.response;return Ob(m)}const T4=async t=>{var i,l,a,o;const e="''";try{if(t.type===Qe.GEMINI){if(!t.apiKey)throw new Error("API Key ");const c=new Z2({apiKey:t.apiKey}),f=t.modelName||"gemini-2.0-flash";if(!(await c.models.generateContent({model:f,contents:e})).text)throw new Error("Gemini ");return!0}else{let c=t.baseUrl,f=t.modelName||"gpt-4o";if(t.type===Qe.QWEN?(c=c||"https://dashscope.aliyuncs.com/compatible-mode/v1",f=t.modelName||"qwen-vl-max"):t.type===Qe.DOUBAO&&(c=c||"https://ark.cn-beijing.volces.com/api/v3",f=t.modelName||"doubao-1-5-pro-32k-250115"),!t.apiKey)throw new Error("API Key ");let m;t.type===Qe.DOUBAO?m={model:f,messages:[{role:"user",content:[{type:"text",text:e}]}]}:m={model:f,messages:[{role:"system",content:e},{role:"user",content:e}]};const p=await fetch(`${c}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${t.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!p.ok){const w=await p.json();throw new Error(((i=w.error)==null?void 0:i.message)||"AI ")}const x=await p.json();return x.choices?!!((a=(l=x.choices[0])==null?void 0:l.message)!=null&&a.content):!!((o=x.result)!=null&&o.response)}}catch(c){throw console.error("AI Config Test Failed:",c),new Error(`AI : ${c.message}`)}},jb=async(t,e)=>{const i=e.systemPrompt||Io,l=e.systemPrompt||Io;console.log("AI Config:",{...e,systemPrompt:e.systemPrompt?"Custom":"Default",usedPromptPrefix:l.slice(0,50)+"..."});const a=await qb(t);try{return e.type===Qe.GEMINI?await Vb(a,e,i):await Fb(a,e,i)}catch(o){throw console.error("AI Analysis Failed:",o),new Error(" AI ")}},Tl=t=>({...t,options:t.options?typeof t.options=="string"?JSON.parse(t.options):t.options:[],knowledgePoints:t.knowledgePoints?typeof t.knowledgePoints=="string"?JSON.parse(t.knowledgePoints):t.knowledgePoints:[]}),Yb=/\$\$[\s\S]*?\$\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]|\$(?:\\\$|[^$])*\$/g,W2=/\\(?:frac|sqrt|times|cdot|pm|leq|geq|neq|approx|pi|theta|sin|cos|tan|log|ln|sum|prod|int|cdots|ldots)\b(?:\s*\{[^{}]*\})?/g,Jb=/\\frac\s*\{[^{}]*\}\s*\{[^{}]*\}/g,Xb=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)(?:\\s*[+\\-*/]\\s*\\d+)?","g"),eg=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^\\{[^{}]*\\}|\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)+","g"),Kb=t=>{const e=String(t||"").trim();return!e||e.includes("$$")||/(^|[^\\])\$/.test(e)||e.includes("\\(")||e.includes("\\[")||/[\u4e00-\u9fff]/.test(e)?!1:W2.test(e)||eg.test(e)||/[=+\-*/()<>]/.test(e)},Ba=t=>{const e=String(t??"");if(!e.trim())return e;const i=[];for(const f of e.matchAll(Yb))f.index!=null&&i.push({start:f.index,end:f.index+f[0].length});const l=f=>i.some(m=>f>=m.start&&f<m.end),a=(f,m)=>{i.push({start:f,end:m})},o=(f,m)=>m.replace(f,(p,x)=>{if(l(x)||/^\\[ntr]$/.test(p))return p;const S=`$${p}$`;return a(x,x+S.length),S});if(Kb(e))return`$${e}$`;let c=e;return c=o(Jb,c),c=o(W2,c),c=o(Xb,c),c=o(eg,c),c},$b=t=>t?(Array.isArray(t)?t:[t]).map(i=>Ba(typeof i=="string"?i:JSON.stringify(i))):[],ct={async getAIConfig(){try{const t=await fetch("/api/config");if(!t.ok)throw new Error("Failed to load config");const e=await t.json();return e.configData?JSON.parse(e.configData):{...{activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0},...e}}catch(t){return console.warn("Could not load remote config, using defaults",t),{activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0}}},async saveAIConfig(t){try{await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({configData:JSON.stringify(t)})})}catch(e){throw console.error("Failed to save config",e),e}},async syncRemoteConfig(){try{return await this.getAIConfig()}catch{return null}},async getActiveProviderConfig(){const t=await this.getAIConfig(),e=t.activeProvider;if(Object.values(Qe).includes(e)){const l=t.providers[e]||{};return{type:e,apiKey:l.apiKey,baseUrl:l.baseUrl,modelName:l.modelName,systemPrompt:t.systemPrompt}}const i=t.customProviders.find(l=>l.id===e);return i?{type:i.id,apiKey:i.config.apiKey,baseUrl:i.config.baseUrl,modelName:i.config.modelName,systemPrompt:t.systemPrompt}:{type:Qe.GEMINI}},async fetchQuestions(t){const e=new URL("/api/questions",window.location.origin);(t==null?void 0:t.page)!=null&&e.searchParams.set("page",String(t.page)),(t==null?void 0:t.pageSize)!=null&&e.searchParams.set("pageSize",String(t.pageSize)),t!=null&&t.tag&&e.searchParams.set("tag",t.tag),t!=null&&t.q&&e.searchParams.set("q",t.q),t!=null&&t.subject&&e.searchParams.set("subject",t.subject);const i=await fetch(e.toString().replace(window.location.origin,""));if(!i.ok)throw new Error("Failed to fetch questions");const l=await i.json();return Array.isArray(l)?l.map(Tl).sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()):{items:(l.items||[]).map(Tl),total:Number(l.total)||0,page:Number(l.page)||((t==null?void 0:t.page)??1),pageSize:Number(l.pageSize)||((t==null?void 0:t.pageSize)??20)}},async fetchTrash(t){const e=new URL("/api/trash",window.location.origin);(t==null?void 0:t.page)!=null&&e.searchParams.set("page",String(t.page)),(t==null?void 0:t.pageSize)!=null&&e.searchParams.set("pageSize",String(t.pageSize)),t!=null&&t.tag&&e.searchParams.set("tag",t.tag),t!=null&&t.q&&e.searchParams.set("q",t.q),t!=null&&t.subject&&e.searchParams.set("subject",t.subject);const i=await fetch(e.toString().replace(window.location.origin,""));if(!i.ok)throw new Error("Failed to fetch trash");const l=await i.json();return Array.isArray(l)?l.map(Tl).sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()):{items:(l.items||[]).map(Tl),total:Number(l.total)||0,page:Number(l.page)||((t==null?void 0:t.page)??1),pageSize:Number(l.pageSize)||((t==null?void 0:t.pageSize)??20)}},async createQuestion(t){const e=(o,c=[])=>{if(!o)return c;if(Array.isArray(o))return o;if(typeof o=="string")try{const f=JSON.parse(o);return Array.isArray(f)?f:[o]}catch{return[o]}return c},i={...t,content:Ba(t.content||""),options:$b(e(t.options)),knowledgePoints:e(t.knowledgePoints,[""]),subject:String(t.subject||""),answer:(()=>{const o=Array.isArray(t.answer)?t.answer.join(", "):String(t.answer||"");return Ba(o)})(),analysis:Ba(t.analysis||""),learningGuide:Ba(t.learningGuide||""),difficulty:Number(t.difficulty)||3},l=await fetch("/api/questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){const o=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||`Create failed: ${l.status}`)}const a=await l.json();return Tl(a)},async updateQuestion(t,e){const i=await fetch(`/api/questions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok){const a=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(a.error||`Update failed: ${i.status}`)}const l=await i.json();return Tl(l)},async deleteQuestion(t){if(!(await fetch(`/api/questions/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete question")},async restoreQuestion(t){if(!(await fetch(`/api/questions/${t}/restore`,{method:"PATCH"})).ok)throw new Error("Failed to restore question")},async hardDeleteQuestion(t){if(!(await fetch(`/api/questions/${t}/hard`,{method:"DELETE"})).ok)throw new Error("Failed to hard delete question")},async getMistakeCount(){return(await this.fetchQuestions()).length},async analyzeImage(t,e){const i=await this.getActiveProviderConfig();return jb(t,i)},async exportBackup(){window.open("/api/export","_blank")},async getMigrationStatus(){const t=await fetch("/api/db/migrations");if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`Failed to get migrations: ${t.status}`)}return t.json()},async migrateToLatest(){const t=await fetch("/api/db/migrate",{method:"POST"});if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`Failed to migrate: ${t.status}`)}return t.json()},async importBackup(t){let e;try{e=JSON.parse(t)}catch{throw new Error("Invalid JSON")}if(!(await fetch("/api/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to import backup")}};class on{constructor(e,i,l){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=i,this.end=l}static range(e,i){return i?!e||!e.loc||!i.loc||e.loc.lexer!==i.loc.lexer?null:new on(e.loc.lexer,e.loc.start,i.loc.end):e&&e.loc}}class Sn{constructor(e,i){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=i}range(e,i){return new Sn(i,on.range(this,e))}}class he{constructor(e,i){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var l="KaTeX parse error: "+e,a,o,c=i&&i.loc;if(c&&c.start<=c.end){var f=c.lexer.input;a=c.start,o=c.end,a===f.length?l+=" at end of input: ":l+=" at position "+(a+1)+": ";var m=f.slice(a,o).replace(/[^]/g,"$&"),p;a>15?p=""+f.slice(a-15,a):p=f.slice(0,a);var x;o+15<f.length?x=f.slice(o,o+15)+"":x=f.slice(o),l+=p+m+x}var S=new Error(l);return S.name="ParseError",S.__proto__=he.prototype,S.position=a,a!=null&&o!=null&&(S.length=o-a),S.rawMessage=e,S}}he.prototype.__proto__=Error.prototype;var Qb=function(e,i){return e===void 0?i:e},Zb=/([A-Z])/g,Wb=function(e){return e.replace(Zb,"-$1").toLowerCase()},eS={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},tS=/[&><"']/g;function nS(t){return String(t).replace(tS,e=>eS[e])}var tg=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},iS=function(e){var i=tg(e);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},rS=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},lS=function(e){var i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"},Ze={deflt:Qb,escape:nS,hyphenate:Wb,getBaseElem:tg,isCharacterBox:iS,protocolFromUrl:lS},Ao={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function aS(t){if(t.default)return t.default;var e=t.type,i=Array.isArray(e)?e[0]:e;if(typeof i!="string")return i.enum[0];switch(i){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class gd{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var i in Ao)if(Ao.hasOwnProperty(i)){var l=Ao[i];this[i]=e[i]!==void 0?l.processor?l.processor(e[i]):e[i]:aS(l)}}reportNonstrict(e,i,l){var a=this.strict;if(typeof a=="function"&&(a=a(e,i,l)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new he("LaTeX-incompatible input and strict mode is set to 'error': "+(i+" ["+e+"]"),l);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+i+" ["+e+"]"))}}useStrictBehavior(e,i,l){var a=this.strict;if(typeof a=="function")try{a=a(e,i,l)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+i+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var i=Ze.protocolFromUrl(e.url);if(i==null)return!1;e.protocol=i}var l=typeof this.trust=="function"?this.trust(e):this.trust;return!!l}}class lr{constructor(e,i,l){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=i,this.cramped=l}sup(){return Zn[sS[this.id]]}sub(){return Zn[oS[this.id]]}fracNum(){return Zn[uS[this.id]]}fracDen(){return Zn[cS[this.id]]}cramp(){return Zn[dS[this.id]]}text(){return Zn[fS[this.id]]}isTight(){return this.size>=2}}var vd=0,Do=1,Rl=2,Ei=3,Pa=4,Dn=5,kl=6,Xt=7,Zn=[new lr(vd,0,!1),new lr(Do,0,!0),new lr(Rl,1,!1),new lr(Ei,1,!0),new lr(Pa,2,!1),new lr(Dn,2,!0),new lr(kl,3,!1),new lr(Xt,3,!0)],sS=[Pa,Dn,Pa,Dn,kl,Xt,kl,Xt],oS=[Dn,Dn,Dn,Dn,Xt,Xt,Xt,Xt],uS=[Rl,Ei,Pa,Dn,kl,Xt,kl,Xt],cS=[Ei,Ei,Dn,Dn,Xt,Xt,Xt,Xt],dS=[Do,Do,Ei,Ei,Dn,Dn,Xt,Xt],fS=[vd,Do,Rl,Ei,Rl,Ei,Rl,Ei],Ie={DISPLAY:Zn[vd],TEXT:Zn[Rl],SCRIPT:Zn[Pa],SCRIPTSCRIPT:Zn[kl]},$c=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function hS(t){for(var e=0;e<$c.length;e++)for(var i=$c[e],l=0;l<i.blocks.length;l++){var a=i.blocks[l];if(t>=a[0]&&t<=a[1])return i.name}return null}var Eo=[];$c.forEach(t=>t.blocks.forEach(e=>Eo.push(...e)));function ng(t){for(var e=0;e<Eo.length;e+=2)if(t>=Eo[e]&&t<=Eo[e+1])return!0;return!1}var Al=80,mS=function(e,i){return"M95,"+(622+e+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},pS=function(e,i){return"M263,"+(601+e+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},gS=function(e,i){return"M983 "+(10+e+i)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},vS=function(e,i){return"M424,"+(2398+e+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+i+`
h400000v`+(40+e)+"h-400000z"},yS=function(e,i){return"M473,"+(2713+e+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+i+"h400000v"+(40+e)+"H1017.7z"},xS=function(e){var i=e/2;return"M400000 "+e+" H0 L"+i+" 0 l65 45 L145 "+(e-80)+" H400000z"},bS=function(e,i,l){var a=l-54-i-e;return"M702 "+(e+i)+"H400000"+(40+e)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+e)+"H742z"},SS=function(e,i,l){i=1e3*i;var a="";switch(e){case"sqrtMain":a=mS(i,Al);break;case"sqrtSize1":a=pS(i,Al);break;case"sqrtSize2":a=gS(i,Al);break;case"sqrtSize3":a=vS(i,Al);break;case"sqrtSize4":a=yS(i,Al);break;case"sqrtTall":a=bS(i,Al,l)}return a},wS=function(e,i){switch(e){case"":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},A4={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},TS=function(e,i){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Oa{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){for(var e="",i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e}toText(){var e=i=>i.toText();return this.children.map(e).join("")}}var Wn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ho={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},E4={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function AS(t,e){Wn[t]=e}function yd(t,e,i){if(!Wn[e])throw new Error("Font metrics not found for font: "+e+".");var l=t.charCodeAt(0),a=Wn[e][l];if(!a&&t[0]in E4&&(l=E4[t[0]].charCodeAt(0),a=Wn[e][l]),!a&&i==="text"&&ng(l)&&(a=Wn[e][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var Sc={};function ES(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Sc[e]){var i=Sc[e]={cssEmPerMu:ho.quad[e]/18};for(var l in ho)ho.hasOwnProperty(l)&&(i[l]=ho[l][e])}return Sc[e]}var CS=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],C4=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],N4=function(e,i){return i.size<2?e:CS[e-1][i.size-1]};class Ai{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ai.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=C4[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var l in e)e.hasOwnProperty(l)&&(i[l]=e[l]);return new Ai(i)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:N4(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:C4[e-1]})}havingBaseStyle(e){e=e||this.style.text();var i=N4(Ai.BASESIZE,e);return this.size===i&&this.textSize===Ai.BASESIZE&&this.style===e?this:this.extend({style:e,size:i})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ai.BASESIZE?["sizing","reset-size"+this.size,"size"+Ai.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ES(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ai.BASESIZE=6;var Qc={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},NS={ex:!0,em:!0,mu:!0},ig=function(e){return typeof e!="string"&&(e=e.unit),e in Qc||e in NS||e==="ex"},vt=function(e,i){var l;if(e.unit in Qc)l=Qc[e.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(e.unit==="mu")l=i.fontMetrics().cssEmPerMu;else{var a;if(i.style.isTight()?a=i.havingStyle(i.style.text()):a=i,e.unit==="ex")l=a.fontMetrics().xHeight;else if(e.unit==="em")l=a.fontMetrics().quad;else throw new he("Invalid unit: '"+e.unit+"'");a!==i&&(l*=a.sizeMultiplier/i.sizeMultiplier)}return Math.min(e.number*l,i.maxSize)},pe=function(e){return+e.toFixed(4)+"em"},or=function(e){return e.filter(i=>i).join(" ")},rg=function(e,i,l){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=l||{},i){i.style.isTight()&&this.classes.push("mtight");var a=i.getColor();a&&(this.style.color=a)}},lg=function(e){var i=document.createElement(e);i.className=or(this.classes);for(var l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&i.setAttribute(a,this.attributes[a]);for(var o=0;o<this.children.length;o++)i.appendChild(this.children[o].toNode());return i},MS=/[\s"'>/=\x00-\x1f]/,ag=function(e){var i="<"+e;this.classes.length&&(i+=' class="'+Ze.escape(or(this.classes))+'"');var l="";for(var a in this.style)this.style.hasOwnProperty(a)&&(l+=Ze.hyphenate(a)+":"+this.style[a]+";");l&&(i+=' style="'+Ze.escape(l)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(MS.test(o))throw new he("Invalid attribute name '"+o+"'");i+=" "+o+'="'+Ze.escape(this.attributes[o])+'"'}i+=">";for(var c=0;c<this.children.length;c++)i+=this.children[c].toMarkup();return i+="</"+e+">",i};class Va{constructor(e,i,l,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,rg.call(this,e,l,a),this.children=i||[]}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return lg.call(this,"span")}toMarkup(){return ag.call(this,"span")}}class xd{constructor(e,i,l,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,rg.call(this,i,a),this.children=l||[],this.setAttribute("href",e)}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return lg.call(this,"a")}toMarkup(){return ag.call(this,"a")}}class _S{constructor(e,i,l){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=i,this.src=e,this.classes=["mord"],this.style=l}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);return e}toMarkup(){var e='<img src="'+Ze.escape(this.src)+'"'+(' alt="'+Ze.escape(this.alt)+'"'),i="";for(var l in this.style)this.style.hasOwnProperty(l)&&(i+=Ze.hyphenate(l)+":"+this.style[l]+";");return i&&(e+=' style="'+Ze.escape(i)+'"'),e+="'/>",e}}var RS={:"",:"",:"",:""};class Un{constructor(e,i,l,a,o,c,f,m){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=i||0,this.depth=l||0,this.italic=a||0,this.skew=o||0,this.width=c||0,this.classes=f||[],this.style=m||{},this.maxFontSize=0;var p=hS(this.text.charCodeAt(0));p&&this.classes.push(p+"_fallback"),/[]/.test(this.text)&&(this.text=RS[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),i=null;this.italic>0&&(i=document.createElement("span"),i.style.marginRight=pe(this.italic)),this.classes.length>0&&(i=i||document.createElement("span"),i.className=or(this.classes));for(var l in this.style)this.style.hasOwnProperty(l)&&(i=i||document.createElement("span"),i.style[l]=this.style[l]);return i?(i.appendChild(e),i):e}toMarkup(){var e=!1,i="<span";this.classes.length&&(e=!0,i+=' class="',i+=Ze.escape(or(this.classes)),i+='"');var l="";this.italic>0&&(l+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(l+=Ze.hyphenate(a)+":"+this.style[a]+";");l&&(e=!0,i+=' style="'+Ze.escape(l)+'"');var o=Ze.escape(this.text);return e?(i+=">",i+=o,i+="</span>",i):o}}class Mi{constructor(e,i){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=i||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg");for(var l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);for(var a=0;a<this.children.length;a++)i.appendChild(this.children[a].toNode());return i}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+Ze.escape(this.attributes[i])+'"');e+=">";for(var l=0;l<this.children.length;l++)e+=this.children[l].toMarkup();return e+="</svg>",e}}class ur{constructor(e,i){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=i}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"path");return this.alternate?i.setAttribute("d",this.alternate):i.setAttribute("d",A4[this.pathName]),i}toMarkup(){return this.alternate?'<path d="'+Ze.escape(this.alternate)+'"/>':'<path d="'+Ze.escape(A4[this.pathName])+'"/>'}}class Zc{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"line");for(var l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);return i}toMarkup(){var e="<line";for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+Ze.escape(this.attributes[i])+'"');return e+="/>",e}}function M4(t){if(t instanceof Un)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function kS(t){if(t instanceof Va)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var IS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},DS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},dt={math:{},text:{}};function b(t,e,i,l,a,o){dt[t][a]={font:e,group:i,replace:l},o&&l&&(dt[t][l]=dt[t][a])}var T="math",oe="text",C="main",I="ams",pt="accent-token",Se="bin",$t="close",Ll="inner",ke="mathord",_t="op-token",wn="open",Yo="punct",D="rel",Di="spacing",H="textord";b(T,C,D,"","\\equiv",!0);b(T,C,D,"","\\prec",!0);b(T,C,D,"","\\succ",!0);b(T,C,D,"","\\sim",!0);b(T,C,D,"","\\perp");b(T,C,D,"","\\preceq",!0);b(T,C,D,"","\\succeq",!0);b(T,C,D,"","\\simeq",!0);b(T,C,D,"","\\mid",!0);b(T,C,D,"","\\ll",!0);b(T,C,D,"","\\gg",!0);b(T,C,D,"","\\asymp",!0);b(T,C,D,"","\\parallel");b(T,C,D,"","\\bowtie",!0);b(T,C,D,"","\\smile",!0);b(T,C,D,"","\\sqsubseteq",!0);b(T,C,D,"","\\sqsupseteq",!0);b(T,C,D,"","\\doteq",!0);b(T,C,D,"","\\frown",!0);b(T,C,D,"","\\ni",!0);b(T,C,D,"","\\propto",!0);b(T,C,D,"","\\vdash",!0);b(T,C,D,"","\\dashv",!0);b(T,C,D,"","\\owns");b(T,C,Yo,".","\\ldotp");b(T,C,Yo,"","\\cdotp");b(T,C,H,"#","\\#");b(oe,C,H,"#","\\#");b(T,C,H,"&","\\&");b(oe,C,H,"&","\\&");b(T,C,H,"","\\aleph",!0);b(T,C,H,"","\\forall",!0);b(T,C,H,"","\\hbar",!0);b(T,C,H,"","\\exists",!0);b(T,C,H,"","\\nabla",!0);b(T,C,H,"","\\flat",!0);b(T,C,H,"","\\ell",!0);b(T,C,H,"","\\natural",!0);b(T,C,H,"","\\clubsuit",!0);b(T,C,H,"","\\wp",!0);b(T,C,H,"","\\sharp",!0);b(T,C,H,"","\\diamondsuit",!0);b(T,C,H,"","\\Re",!0);b(T,C,H,"","\\heartsuit",!0);b(T,C,H,"","\\Im",!0);b(T,C,H,"","\\spadesuit",!0);b(T,C,H,"","\\S",!0);b(oe,C,H,"","\\S");b(T,C,H,"","\\P",!0);b(oe,C,H,"","\\P");b(T,C,H,"","\\dag");b(oe,C,H,"","\\dag");b(oe,C,H,"","\\textdagger");b(T,C,H,"","\\ddag");b(oe,C,H,"","\\ddag");b(oe,C,H,"","\\textdaggerdbl");b(T,C,$t,"","\\rmoustache",!0);b(T,C,wn,"","\\lmoustache",!0);b(T,C,$t,"","\\rgroup",!0);b(T,C,wn,"","\\lgroup",!0);b(T,C,Se,"","\\mp",!0);b(T,C,Se,"","\\ominus",!0);b(T,C,Se,"","\\uplus",!0);b(T,C,Se,"","\\sqcap",!0);b(T,C,Se,"","\\ast");b(T,C,Se,"","\\sqcup",!0);b(T,C,Se,"","\\bigcirc",!0);b(T,C,Se,"","\\bullet",!0);b(T,C,Se,"","\\ddagger");b(T,C,Se,"","\\wr",!0);b(T,C,Se,"","\\amalg");b(T,C,Se,"&","\\And");b(T,C,D,"","\\longleftarrow",!0);b(T,C,D,"","\\Leftarrow",!0);b(T,C,D,"","\\Longleftarrow",!0);b(T,C,D,"","\\longrightarrow",!0);b(T,C,D,"","\\Rightarrow",!0);b(T,C,D,"","\\Longrightarrow",!0);b(T,C,D,"","\\leftrightarrow",!0);b(T,C,D,"","\\longleftrightarrow",!0);b(T,C,D,"","\\Leftrightarrow",!0);b(T,C,D,"","\\Longleftrightarrow",!0);b(T,C,D,"","\\mapsto",!0);b(T,C,D,"","\\longmapsto",!0);b(T,C,D,"","\\nearrow",!0);b(T,C,D,"","\\hookleftarrow",!0);b(T,C,D,"","\\hookrightarrow",!0);b(T,C,D,"","\\searrow",!0);b(T,C,D,"","\\leftharpoonup",!0);b(T,C,D,"","\\rightharpoonup",!0);b(T,C,D,"","\\swarrow",!0);b(T,C,D,"","\\leftharpoondown",!0);b(T,C,D,"","\\rightharpoondown",!0);b(T,C,D,"","\\nwarrow",!0);b(T,C,D,"","\\rightleftharpoons",!0);b(T,I,D,"","\\nless",!0);b(T,I,D,"","\\@nleqslant");b(T,I,D,"","\\@nleqq");b(T,I,D,"","\\lneq",!0);b(T,I,D,"","\\lneqq",!0);b(T,I,D,"","\\@lvertneqq");b(T,I,D,"","\\lnsim",!0);b(T,I,D,"","\\lnapprox",!0);b(T,I,D,"","\\nprec",!0);b(T,I,D,"","\\npreceq",!0);b(T,I,D,"","\\precnsim",!0);b(T,I,D,"","\\precnapprox",!0);b(T,I,D,"","\\nsim",!0);b(T,I,D,"","\\@nshortmid");b(T,I,D,"","\\nmid",!0);b(T,I,D,"","\\nvdash",!0);b(T,I,D,"","\\nvDash",!0);b(T,I,D,"","\\ntriangleleft");b(T,I,D,"","\\ntrianglelefteq",!0);b(T,I,D,"","\\subsetneq",!0);b(T,I,D,"","\\@varsubsetneq");b(T,I,D,"","\\subsetneqq",!0);b(T,I,D,"","\\@varsubsetneqq");b(T,I,D,"","\\ngtr",!0);b(T,I,D,"","\\@ngeqslant");b(T,I,D,"","\\@ngeqq");b(T,I,D,"","\\gneq",!0);b(T,I,D,"","\\gneqq",!0);b(T,I,D,"","\\@gvertneqq");b(T,I,D,"","\\gnsim",!0);b(T,I,D,"","\\gnapprox",!0);b(T,I,D,"","\\nsucc",!0);b(T,I,D,"","\\nsucceq",!0);b(T,I,D,"","\\succnsim",!0);b(T,I,D,"","\\succnapprox",!0);b(T,I,D,"","\\ncong",!0);b(T,I,D,"","\\@nshortparallel");b(T,I,D,"","\\nparallel",!0);b(T,I,D,"","\\nVDash",!0);b(T,I,D,"","\\ntriangleright");b(T,I,D,"","\\ntrianglerighteq",!0);b(T,I,D,"","\\@nsupseteqq");b(T,I,D,"","\\supsetneq",!0);b(T,I,D,"","\\@varsupsetneq");b(T,I,D,"","\\supsetneqq",!0);b(T,I,D,"","\\@varsupsetneqq");b(T,I,D,"","\\nVdash",!0);b(T,I,D,"","\\precneqq",!0);b(T,I,D,"","\\succneqq",!0);b(T,I,D,"","\\@nsubseteqq");b(T,I,Se,"","\\unlhd");b(T,I,Se,"","\\unrhd");b(T,I,D,"","\\nleftarrow",!0);b(T,I,D,"","\\nrightarrow",!0);b(T,I,D,"","\\nLeftarrow",!0);b(T,I,D,"","\\nRightarrow",!0);b(T,I,D,"","\\nleftrightarrow",!0);b(T,I,D,"","\\nLeftrightarrow",!0);b(T,I,D,"","\\vartriangle");b(T,I,H,"","\\hslash");b(T,I,H,"","\\triangledown");b(T,I,H,"","\\lozenge");b(T,I,H,"","\\circledS");b(T,I,H,"","\\circledR");b(oe,I,H,"","\\circledR");b(T,I,H,"","\\measuredangle",!0);b(T,I,H,"","\\nexists");b(T,I,H,"","\\mho");b(T,I,H,"","\\Finv",!0);b(T,I,H,"","\\Game",!0);b(T,I,H,"","\\backprime");b(T,I,H,"","\\blacktriangle");b(T,I,H,"","\\blacktriangledown");b(T,I,H,"","\\blacksquare");b(T,I,H,"","\\blacklozenge");b(T,I,H,"","\\bigstar");b(T,I,H,"","\\sphericalangle",!0);b(T,I,H,"","\\complement",!0);b(T,I,H,"","\\eth",!0);b(oe,C,H,"","");b(T,I,H,"","\\diagup");b(T,I,H,"","\\diagdown");b(T,I,H,"","\\square");b(T,I,H,"","\\Box");b(T,I,H,"","\\Diamond");b(T,I,H,"","\\yen",!0);b(oe,I,H,"","\\yen",!0);b(T,I,H,"","\\checkmark",!0);b(oe,I,H,"","\\checkmark");b(T,I,H,"","\\beth",!0);b(T,I,H,"","\\daleth",!0);b(T,I,H,"","\\gimel",!0);b(T,I,H,"","\\digamma",!0);b(T,I,H,"","\\varkappa");b(T,I,wn,"","\\@ulcorner",!0);b(T,I,$t,"","\\@urcorner",!0);b(T,I,wn,"","\\@llcorner",!0);b(T,I,$t,"","\\@lrcorner",!0);b(T,I,D,"","\\leqq",!0);b(T,I,D,"","\\leqslant",!0);b(T,I,D,"","\\eqslantless",!0);b(T,I,D,"","\\lesssim",!0);b(T,I,D,"","\\lessapprox",!0);b(T,I,D,"","\\approxeq",!0);b(T,I,Se,"","\\lessdot");b(T,I,D,"","\\lll",!0);b(T,I,D,"","\\lessgtr",!0);b(T,I,D,"","\\lesseqgtr",!0);b(T,I,D,"","\\lesseqqgtr",!0);b(T,I,D,"","\\doteqdot");b(T,I,D,"","\\risingdotseq",!0);b(T,I,D,"","\\fallingdotseq",!0);b(T,I,D,"","\\backsim",!0);b(T,I,D,"","\\backsimeq",!0);b(T,I,D,"","\\subseteqq",!0);b(T,I,D,"","\\Subset",!0);b(T,I,D,"","\\sqsubset",!0);b(T,I,D,"","\\preccurlyeq",!0);b(T,I,D,"","\\curlyeqprec",!0);b(T,I,D,"","\\precsim",!0);b(T,I,D,"","\\precapprox",!0);b(T,I,D,"","\\vartriangleleft");b(T,I,D,"","\\trianglelefteq");b(T,I,D,"","\\vDash",!0);b(T,I,D,"","\\Vvdash",!0);b(T,I,D,"","\\smallsmile");b(T,I,D,"","\\smallfrown");b(T,I,D,"","\\bumpeq",!0);b(T,I,D,"","\\Bumpeq",!0);b(T,I,D,"","\\geqq",!0);b(T,I,D,"","\\geqslant",!0);b(T,I,D,"","\\eqslantgtr",!0);b(T,I,D,"","\\gtrsim",!0);b(T,I,D,"","\\gtrapprox",!0);b(T,I,Se,"","\\gtrdot");b(T,I,D,"","\\ggg",!0);b(T,I,D,"","\\gtrless",!0);b(T,I,D,"","\\gtreqless",!0);b(T,I,D,"","\\gtreqqless",!0);b(T,I,D,"","\\eqcirc",!0);b(T,I,D,"","\\circeq",!0);b(T,I,D,"","\\triangleq",!0);b(T,I,D,"","\\thicksim");b(T,I,D,"","\\thickapprox");b(T,I,D,"","\\supseteqq",!0);b(T,I,D,"","\\Supset",!0);b(T,I,D,"","\\sqsupset",!0);b(T,I,D,"","\\succcurlyeq",!0);b(T,I,D,"","\\curlyeqsucc",!0);b(T,I,D,"","\\succsim",!0);b(T,I,D,"","\\succapprox",!0);b(T,I,D,"","\\vartriangleright");b(T,I,D,"","\\trianglerighteq");b(T,I,D,"","\\Vdash",!0);b(T,I,D,"","\\shortmid");b(T,I,D,"","\\shortparallel");b(T,I,D,"","\\between",!0);b(T,I,D,"","\\pitchfork",!0);b(T,I,D,"","\\varpropto");b(T,I,D,"","\\blacktriangleleft");b(T,I,D,"","\\therefore",!0);b(T,I,D,"","\\backepsilon");b(T,I,D,"","\\blacktriangleright");b(T,I,D,"","\\because",!0);b(T,I,D,"","\\llless");b(T,I,D,"","\\gggtr");b(T,I,Se,"","\\lhd");b(T,I,Se,"","\\rhd");b(T,I,D,"","\\eqsim",!0);b(T,C,D,"","\\Join");b(T,I,D,"","\\Doteq",!0);b(T,I,Se,"","\\dotplus",!0);b(T,I,Se,"","\\smallsetminus");b(T,I,Se,"","\\Cap",!0);b(T,I,Se,"","\\Cup",!0);b(T,I,Se,"","\\doublebarwedge",!0);b(T,I,Se,"","\\boxminus",!0);b(T,I,Se,"","\\boxplus",!0);b(T,I,Se,"","\\divideontimes",!0);b(T,I,Se,"","\\ltimes",!0);b(T,I,Se,"","\\rtimes",!0);b(T,I,Se,"","\\leftthreetimes",!0);b(T,I,Se,"","\\rightthreetimes",!0);b(T,I,Se,"","\\curlywedge",!0);b(T,I,Se,"","\\curlyvee",!0);b(T,I,Se,"","\\circleddash",!0);b(T,I,Se,"","\\circledast",!0);b(T,I,Se,"","\\centerdot");b(T,I,Se,"","\\intercal",!0);b(T,I,Se,"","\\doublecap");b(T,I,Se,"","\\doublecup");b(T,I,Se,"","\\boxtimes",!0);b(T,I,D,"","\\dashrightarrow",!0);b(T,I,D,"","\\dashleftarrow",!0);b(T,I,D,"","\\leftleftarrows",!0);b(T,I,D,"","\\leftrightarrows",!0);b(T,I,D,"","\\Lleftarrow",!0);b(T,I,D,"","\\twoheadleftarrow",!0);b(T,I,D,"","\\leftarrowtail",!0);b(T,I,D,"","\\looparrowleft",!0);b(T,I,D,"","\\leftrightharpoons",!0);b(T,I,D,"","\\curvearrowleft",!0);b(T,I,D,"","\\circlearrowleft",!0);b(T,I,D,"","\\Lsh",!0);b(T,I,D,"","\\upuparrows",!0);b(T,I,D,"","\\upharpoonleft",!0);b(T,I,D,"","\\downharpoonleft",!0);b(T,C,D,"","\\origof",!0);b(T,C,D,"","\\imageof",!0);b(T,I,D,"","\\multimap",!0);b(T,I,D,"","\\leftrightsquigarrow",!0);b(T,I,D,"","\\rightrightarrows",!0);b(T,I,D,"","\\rightleftarrows",!0);b(T,I,D,"","\\twoheadrightarrow",!0);b(T,I,D,"","\\rightarrowtail",!0);b(T,I,D,"","\\looparrowright",!0);b(T,I,D,"","\\curvearrowright",!0);b(T,I,D,"","\\circlearrowright",!0);b(T,I,D,"","\\Rsh",!0);b(T,I,D,"","\\downdownarrows",!0);b(T,I,D,"","\\upharpoonright",!0);b(T,I,D,"","\\downharpoonright",!0);b(T,I,D,"","\\rightsquigarrow",!0);b(T,I,D,"","\\leadsto");b(T,I,D,"","\\Rrightarrow",!0);b(T,I,D,"","\\restriction");b(T,C,H,"","`");b(T,C,H,"$","\\$");b(oe,C,H,"$","\\$");b(oe,C,H,"$","\\textdollar");b(T,C,H,"%","\\%");b(oe,C,H,"%","\\%");b(T,C,H,"_","\\_");b(oe,C,H,"_","\\_");b(oe,C,H,"_","\\textunderscore");b(T,C,H,"","\\angle",!0);b(T,C,H,"","\\infty",!0);b(T,C,H,"","\\prime");b(T,C,H,"","\\triangle");b(T,C,H,"","\\Gamma",!0);b(T,C,H,"","\\Delta",!0);b(T,C,H,"","\\Theta",!0);b(T,C,H,"","\\Lambda",!0);b(T,C,H,"","\\Xi",!0);b(T,C,H,"","\\Pi",!0);b(T,C,H,"","\\Sigma",!0);b(T,C,H,"","\\Upsilon",!0);b(T,C,H,"","\\Phi",!0);b(T,C,H,"","\\Psi",!0);b(T,C,H,"","\\Omega",!0);b(T,C,H,"A","");b(T,C,H,"B","");b(T,C,H,"E","");b(T,C,H,"Z","");b(T,C,H,"H","");b(T,C,H,"I","");b(T,C,H,"K","");b(T,C,H,"M","");b(T,C,H,"N","");b(T,C,H,"O","");b(T,C,H,"P","");b(T,C,H,"T","");b(T,C,H,"X","");b(T,C,H,"","\\neg",!0);b(T,C,H,"","\\lnot");b(T,C,H,"","\\top");b(T,C,H,"","\\bot");b(T,C,H,"","\\emptyset");b(T,I,H,"","\\varnothing");b(T,C,ke,"","\\alpha",!0);b(T,C,ke,"","\\beta",!0);b(T,C,ke,"","\\gamma",!0);b(T,C,ke,"","\\delta",!0);b(T,C,ke,"","\\epsilon",!0);b(T,C,ke,"","\\zeta",!0);b(T,C,ke,"","\\eta",!0);b(T,C,ke,"","\\theta",!0);b(T,C,ke,"","\\iota",!0);b(T,C,ke,"","\\kappa",!0);b(T,C,ke,"","\\lambda",!0);b(T,C,ke,"","\\mu",!0);b(T,C,ke,"","\\nu",!0);b(T,C,ke,"","\\xi",!0);b(T,C,ke,"","\\omicron",!0);b(T,C,ke,"","\\pi",!0);b(T,C,ke,"","\\rho",!0);b(T,C,ke,"","\\sigma",!0);b(T,C,ke,"","\\tau",!0);b(T,C,ke,"","\\upsilon",!0);b(T,C,ke,"","\\phi",!0);b(T,C,ke,"","\\chi",!0);b(T,C,ke,"","\\psi",!0);b(T,C,ke,"","\\omega",!0);b(T,C,ke,"","\\varepsilon",!0);b(T,C,ke,"","\\vartheta",!0);b(T,C,ke,"","\\varpi",!0);b(T,C,ke,"","\\varrho",!0);b(T,C,ke,"","\\varsigma",!0);b(T,C,ke,"","\\varphi",!0);b(T,C,Se,"","*",!0);b(T,C,Se,"+","+");b(T,C,Se,"","-",!0);b(T,C,Se,"","\\cdot",!0);b(T,C,Se,"","\\circ",!0);b(T,C,Se,"","\\div",!0);b(T,C,Se,"","\\pm",!0);b(T,C,Se,"","\\times",!0);b(T,C,Se,"","\\cap",!0);b(T,C,Se,"","\\cup",!0);b(T,C,Se,"","\\setminus",!0);b(T,C,Se,"","\\land");b(T,C,Se,"","\\lor");b(T,C,Se,"","\\wedge",!0);b(T,C,Se,"","\\vee",!0);b(T,C,H,"","\\surd");b(T,C,wn,"","\\langle",!0);b(T,C,wn,"","\\lvert");b(T,C,wn,"","\\lVert");b(T,C,$t,"?","?");b(T,C,$t,"!","!");b(T,C,$t,"","\\rangle",!0);b(T,C,$t,"","\\rvert");b(T,C,$t,"","\\rVert");b(T,C,D,"=","=");b(T,C,D,":",":");b(T,C,D,"","\\approx",!0);b(T,C,D,"","\\cong",!0);b(T,C,D,"","\\ge");b(T,C,D,"","\\geq",!0);b(T,C,D,"","\\gets");b(T,C,D,">","\\gt",!0);b(T,C,D,"","\\in",!0);b(T,C,D,"","\\@not");b(T,C,D,"","\\subset",!0);b(T,C,D,"","\\supset",!0);b(T,C,D,"","\\subseteq",!0);b(T,C,D,"","\\supseteq",!0);b(T,I,D,"","\\nsubseteq",!0);b(T,I,D,"","\\nsupseteq",!0);b(T,C,D,"","\\models");b(T,C,D,"","\\leftarrow",!0);b(T,C,D,"","\\le");b(T,C,D,"","\\leq",!0);b(T,C,D,"<","\\lt",!0);b(T,C,D,"","\\rightarrow",!0);b(T,C,D,"","\\to");b(T,I,D,"","\\ngeq",!0);b(T,I,D,"","\\nleq",!0);b(T,C,Di,"","\\ ");b(T,C,Di,"","\\space");b(T,C,Di,"","\\nobreakspace");b(oe,C,Di,"","\\ ");b(oe,C,Di,""," ");b(oe,C,Di,"","\\space");b(oe,C,Di,"","\\nobreakspace");b(T,C,Di,null,"\\nobreak");b(T,C,Di,null,"\\allowbreak");b(T,C,Yo,",",",");b(T,C,Yo,";",";");b(T,I,Se,"","\\barwedge",!0);b(T,I,Se,"","\\veebar",!0);b(T,C,Se,"","\\odot",!0);b(T,C,Se,"","\\oplus",!0);b(T,C,Se,"","\\otimes",!0);b(T,C,H,"","\\partial",!0);b(T,C,Se,"","\\oslash",!0);b(T,I,Se,"","\\circledcirc",!0);b(T,I,Se,"","\\boxdot",!0);b(T,C,Se,"","\\bigtriangleup");b(T,C,Se,"","\\bigtriangledown");b(T,C,Se,"","\\dagger");b(T,C,Se,"","\\diamond");b(T,C,Se,"","\\star");b(T,C,Se,"","\\triangleleft");b(T,C,Se,"","\\triangleright");b(T,C,wn,"{","\\{");b(oe,C,H,"{","\\{");b(oe,C,H,"{","\\textbraceleft");b(T,C,$t,"}","\\}");b(oe,C,H,"}","\\}");b(oe,C,H,"}","\\textbraceright");b(T,C,wn,"{","\\lbrace");b(T,C,$t,"}","\\rbrace");b(T,C,wn,"[","\\lbrack",!0);b(oe,C,H,"[","\\lbrack",!0);b(T,C,$t,"]","\\rbrack",!0);b(oe,C,H,"]","\\rbrack",!0);b(T,C,wn,"(","\\lparen",!0);b(T,C,$t,")","\\rparen",!0);b(oe,C,H,"<","\\textless",!0);b(oe,C,H,">","\\textgreater",!0);b(T,C,wn,"","\\lfloor",!0);b(T,C,$t,"","\\rfloor",!0);b(T,C,wn,"","\\lceil",!0);b(T,C,$t,"","\\rceil",!0);b(T,C,H,"\\","\\backslash");b(T,C,H,"","|");b(T,C,H,"","\\vert");b(oe,C,H,"|","\\textbar",!0);b(T,C,H,"","\\|");b(T,C,H,"","\\Vert");b(oe,C,H,"","\\textbardbl");b(oe,C,H,"~","\\textasciitilde");b(oe,C,H,"\\","\\textbackslash");b(oe,C,H,"^","\\textasciicircum");b(T,C,D,"","\\uparrow",!0);b(T,C,D,"","\\Uparrow",!0);b(T,C,D,"","\\downarrow",!0);b(T,C,D,"","\\Downarrow",!0);b(T,C,D,"","\\updownarrow",!0);b(T,C,D,"","\\Updownarrow",!0);b(T,C,_t,"","\\coprod");b(T,C,_t,"","\\bigvee");b(T,C,_t,"","\\bigwedge");b(T,C,_t,"","\\biguplus");b(T,C,_t,"","\\bigcap");b(T,C,_t,"","\\bigcup");b(T,C,_t,"","\\int");b(T,C,_t,"","\\intop");b(T,C,_t,"","\\iint");b(T,C,_t,"","\\iiint");b(T,C,_t,"","\\prod");b(T,C,_t,"","\\sum");b(T,C,_t,"","\\bigotimes");b(T,C,_t,"","\\bigoplus");b(T,C,_t,"","\\bigodot");b(T,C,_t,"","\\oint");b(T,C,_t,"","\\oiint");b(T,C,_t,"","\\oiiint");b(T,C,_t,"","\\bigsqcup");b(T,C,_t,"","\\smallint");b(oe,C,Ll,"","\\textellipsis");b(T,C,Ll,"","\\mathellipsis");b(oe,C,Ll,"","\\ldots",!0);b(T,C,Ll,"","\\ldots",!0);b(T,C,Ll,"","\\@cdots",!0);b(T,C,Ll,"","\\ddots",!0);b(T,C,H,"","\\varvdots");b(oe,C,H,"","\\varvdots");b(T,C,pt,"","\\acute");b(T,C,pt,"","\\grave");b(T,C,pt,"","\\ddot");b(T,C,pt,"~","\\tilde");b(T,C,pt,"","\\bar");b(T,C,pt,"","\\breve");b(T,C,pt,"","\\check");b(T,C,pt,"^","\\hat");b(T,C,pt,"","\\vec");b(T,C,pt,"","\\dot");b(T,C,pt,"","\\mathring");b(T,C,ke,"","\\@imath");b(T,C,ke,"","\\@jmath");b(T,C,H,"","");b(T,C,H,"","");b(oe,C,H,"","\\i",!0);b(oe,C,H,"","\\j",!0);b(oe,C,H,"","\\ss",!0);b(oe,C,H,"","\\ae",!0);b(oe,C,H,"","\\oe",!0);b(oe,C,H,"","\\o",!0);b(oe,C,H,"","\\AE",!0);b(oe,C,H,"","\\OE",!0);b(oe,C,H,"","\\O",!0);b(oe,C,pt,"","\\'");b(oe,C,pt,"","\\`");b(oe,C,pt,"","\\^");b(oe,C,pt,"","\\~");b(oe,C,pt,"","\\=");b(oe,C,pt,"","\\u");b(oe,C,pt,"","\\.");b(oe,C,pt,"","\\c");b(oe,C,pt,"","\\r");b(oe,C,pt,"","\\v");b(oe,C,pt,"",'\\"');b(oe,C,pt,"","\\H");b(oe,C,pt,"","\\textcircled");var sg={"--":!0,"---":!0,"``":!0,"''":!0};b(oe,C,H,"","--",!0);b(oe,C,H,"","\\textendash");b(oe,C,H,"","---",!0);b(oe,C,H,"","\\textemdash");b(oe,C,H,"","`",!0);b(oe,C,H,"","\\textquoteleft");b(oe,C,H,"","'",!0);b(oe,C,H,"","\\textquoteright");b(oe,C,H,"","``",!0);b(oe,C,H,"","\\textquotedblleft");b(oe,C,H,"","''",!0);b(oe,C,H,"","\\textquotedblright");b(T,C,H,"","\\degree",!0);b(oe,C,H,"","\\degree");b(oe,C,H,"","\\textdegree",!0);b(T,C,H,"","\\pounds");b(T,C,H,"","\\mathsterling",!0);b(oe,C,H,"","\\pounds");b(oe,C,H,"","\\textsterling",!0);b(T,I,H,"","\\maltese");b(oe,I,H,"","\\maltese");var _4='0123456789/@."';for(var wc=0;wc<_4.length;wc++){var R4=_4.charAt(wc);b(T,C,H,R4,R4)}var k4='0123456789!@*()-=+";:?/.,';for(var Tc=0;Tc<k4.length;Tc++){var I4=k4.charAt(Tc);b(oe,C,H,I4,I4)}var zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Ac=0;Ac<zo.length;Ac++){var mo=zo.charAt(Ac);b(T,C,ke,mo,mo),b(oe,C,H,mo,mo)}b(T,I,H,"C","");b(oe,I,H,"C","");b(T,I,H,"H","");b(oe,I,H,"H","");b(T,I,H,"N","");b(oe,I,H,"N","");b(T,I,H,"P","");b(oe,I,H,"P","");b(T,I,H,"Q","");b(oe,I,H,"Q","");b(T,I,H,"R","");b(oe,I,H,"R","");b(T,I,H,"Z","");b(oe,I,H,"Z","");b(T,C,ke,"h","");b(oe,C,ke,"h","");var Le="";for(var Yt=0;Yt<zo.length;Yt++){var bt=zo.charAt(Yt);Le=String.fromCharCode(55349,56320+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56372+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56424+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56580+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56684+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56736+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56788+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56840+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56944+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Yt<26&&(Le=String.fromCharCode(55349,56632+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le),Le=String.fromCharCode(55349,56476+Yt),b(T,C,ke,bt,Le),b(oe,C,H,bt,Le))}Le="";b(T,C,ke,"k",Le);b(oe,C,H,"k",Le);for(var Dr=0;Dr<10;Dr++){var ar=Dr.toString();Le=String.fromCharCode(55349,57294+Dr),b(T,C,ke,ar,Le),b(oe,C,H,ar,Le),Le=String.fromCharCode(55349,57314+Dr),b(T,C,ke,ar,Le),b(oe,C,H,ar,Le),Le=String.fromCharCode(55349,57324+Dr),b(T,C,ke,ar,Le),b(oe,C,H,ar,Le),Le=String.fromCharCode(55349,57334+Dr),b(T,C,ke,ar,Le),b(oe,C,H,ar,Le)}var Wc="";for(var Ec=0;Ec<Wc.length;Ec++){var po=Wc.charAt(Ec);b(T,C,ke,po,po),b(oe,C,H,po,po)}var go=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],D4=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],zS=function(e,i){var l=e.charCodeAt(0),a=e.charCodeAt(1),o=(l-55296)*1024+(a-56320)+65536,c=i==="math"?0:1;if(119808<=o&&o<120484){var f=Math.floor((o-119808)/26);return[go[f][2],go[f][c]]}else if(120782<=o&&o<=120831){var m=Math.floor((o-120782)/10);return[D4[m][2],D4[m][c]]}else{if(o===120485||o===120486)return[go[0][2],go[0][c]];if(120486<o&&o<120782)return["",""];throw new he("Unsupported character: "+e)}},Jo=function(e,i,l){return dt[l][e]&&dt[l][e].replace&&(e=dt[l][e].replace),{value:e,metrics:yd(e,i,l)}},qn=function(e,i,l,a,o){var c=Jo(e,i,l),f=c.metrics;e=c.value;var m;if(f){var p=f.italic;(l==="text"||a&&a.font==="mathit")&&(p=0),m=new Un(e,f.height,f.depth,p,f.skew,f.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+i+"' and mode '"+l+"'")),m=new Un(e,0,0,0,0,0,o);if(a){m.maxFontSize=a.sizeMultiplier,a.style.isTight()&&m.classes.push("mtight");var x=a.getColor();x&&(m.style.color=x)}return m},LS=function(e,i,l,a){return a===void 0&&(a=[]),l.font==="boldsymbol"&&Jo(e,"Main-Bold",i).metrics?qn(e,"Main-Bold",i,l,a.concat(["mathbf"])):e==="\\"||dt[i][e].font==="main"?qn(e,"Main-Regular",i,l,a):qn(e,"AMS-Regular",i,l,a.concat(["amsrm"]))},US=function(e,i,l,a,o){return o!=="textord"&&Jo(e,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},BS=function(e,i,l){var a=e.mode,o=e.text,c=["mord"],f=a==="math"||a==="text"&&i.font,m=f?i.font:i.fontFamily,p="",x="";if(o.charCodeAt(0)===55349&&([p,x]=zS(o,a)),p.length>0)return qn(o,p,a,i,c.concat(x));if(m){var S,w;if(m==="boldsymbol"){var E=US(o,a,i,c,l);S=E.fontName,w=[E.fontClass]}else f?(S=cg[m].fontName,w=[m]):(S=vo(m,i.fontWeight,i.fontShape),w=[m,i.fontWeight,i.fontShape]);if(Jo(o,S,a).metrics)return qn(o,S,a,i,c.concat(w));if(sg.hasOwnProperty(o)&&S.slice(0,10)==="Typewriter"){for(var _=[],R=0;R<o.length;R++)_.push(qn(o[R],S,a,i,c.concat(w)));return ug(_)}}if(l==="mathord")return qn(o,"Math-Italic",a,i,c.concat(["mathnormal"]));if(l==="textord"){var k=dt[a][o]&&dt[a][o].font;if(k==="ams"){var U=vo("amsrm",i.fontWeight,i.fontShape);return qn(o,U,a,i,c.concat("amsrm",i.fontWeight,i.fontShape))}else if(k==="main"||!k){var O=vo("textrm",i.fontWeight,i.fontShape);return qn(o,O,a,i,c.concat(i.fontWeight,i.fontShape))}else{var J=vo(k,i.fontWeight,i.fontShape);return qn(o,J,a,i,c.concat(J,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+l+" in makeOrd")},HS=(t,e)=>{if(or(t.classes)!==or(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var i=t.classes[0];if(i==="mbin"||i==="mord")return!1}for(var l in t.style)if(t.style.hasOwnProperty(l)&&t.style[l]!==e.style[l])return!1;for(var a in e.style)if(e.style.hasOwnProperty(a)&&t.style[a]!==e.style[a])return!1;return!0},GS=t=>{for(var e=0;e<t.length-1;e++){var i=t[e],l=t[e+1];i instanceof Un&&l instanceof Un&&HS(i,l)&&(i.text+=l.text,i.height=Math.max(i.height,l.height),i.depth=Math.max(i.depth,l.depth),i.italic=l.italic,t.splice(e+1,1),e--)}return t},bd=function(e){for(var i=0,l=0,a=0,o=0;o<e.children.length;o++){var c=e.children[o];c.height>i&&(i=c.height),c.depth>l&&(l=c.depth),c.maxFontSize>a&&(a=c.maxFontSize)}e.height=i,e.depth=l,e.maxFontSize=a},sn=function(e,i,l,a){var o=new Va(e,i,l,a);return bd(o),o},og=(t,e,i,l)=>new Va(t,e,i,l),PS=function(e,i,l){var a=sn([e],[],i);return a.height=Math.max(l||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),a.style.borderBottomWidth=pe(a.height),a.maxFontSize=1,a},qS=function(e,i,l,a){var o=new xd(e,i,l,a);return bd(o),o},ug=function(e){var i=new Oa(e);return bd(i),i},OS=function(e,i){return e instanceof Oa?sn([],[e],i):e},VS=function(e){if(e.positionType==="individualShift"){for(var i=e.children,l=[i[0]],a=-i[0].shift-i[0].elem.depth,o=a,c=1;c<i.length;c++){var f=-i[c].shift-o-i[c].elem.depth,m=f-(i[c-1].elem.height+i[c-1].elem.depth);o=o+f,l.push({type:"kern",size:m}),l.push(i[c])}return{children:l,depth:a}}var p;if(e.positionType==="top"){for(var x=e.positionData,S=0;S<e.children.length;S++){var w=e.children[S];x-=w.type==="kern"?w.size:w.elem.height+w.elem.depth}p=x}else if(e.positionType==="bottom")p=-e.positionData;else{var E=e.children[0];if(E.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")p=-E.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")p=-E.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:p}},FS=function(e,i){for(var{children:l,depth:a}=VS(e),o=0,c=0;c<l.length;c++){var f=l[c];if(f.type==="elem"){var m=f.elem;o=Math.max(o,m.maxFontSize,m.height)}}o+=2;var p=sn(["pstrut"],[]);p.style.height=pe(o);for(var x=[],S=a,w=a,E=a,_=0;_<l.length;_++){var R=l[_];if(R.type==="kern")E+=R.size;else{var k=R.elem,U=R.wrapperClasses||[],O=R.wrapperStyle||{},J=sn(U,[p,k],void 0,O);J.style.top=pe(-o-E-k.depth),R.marginLeft&&(J.style.marginLeft=R.marginLeft),R.marginRight&&(J.style.marginRight=R.marginRight),x.push(J),E+=k.height+k.depth}S=Math.min(S,E),w=Math.max(w,E)}var W=sn(["vlist"],x);W.style.height=pe(w);var ne;if(S<0){var ee=sn([],[]),q=sn(["vlist"],[ee]);q.style.height=pe(-S);var de=sn(["vlist-s"],[new Un("")]);ne=[sn(["vlist-r"],[W,de]),sn(["vlist-r"],[q])]}else ne=[sn(["vlist-r"],[W])];var le=sn(["vlist-t"],ne);return ne.length===2&&le.classes.push("vlist-t2"),le.height=w,le.depth=-S,le},jS=(t,e)=>{var i=sn(["mspace"],[],e),l=vt(t,e);return i.style.marginRight=pe(l),i},vo=function(e,i,l){var a="";switch(e){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=e}var o;return i==="textbf"&&l==="textit"?o="BoldItalic":i==="textbf"?o="Bold":i==="textit"?o="Italic":o="Regular",a+"-"+o},cg={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},dg={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},YS=function(e,i){var[l,a,o]=dg[e],c=new ur(l),f=new Mi([c],{width:pe(a),height:pe(o),style:"width:"+pe(a),viewBox:"0 0 "+1e3*a+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),m=og(["overlay"],[f],i);return m.height=o,m.style.height=pe(o),m.style.width=pe(a),m},F={fontMap:cg,makeSymbol:qn,mathsym:LS,makeSpan:sn,makeSvgSpan:og,makeLineSpan:PS,makeAnchor:qS,makeFragment:ug,wrapFragment:OS,makeVList:FS,makeOrd:BS,makeGlue:jS,staticSvg:YS,svgData:dg,tryCombineChars:GS},gt={number:3,unit:"mu"},zr={number:4,unit:"mu"},Ti={number:5,unit:"mu"},JS={mord:{mop:gt,mbin:zr,mrel:Ti,minner:gt},mop:{mord:gt,mop:gt,mrel:Ti,minner:gt},mbin:{mord:zr,mop:zr,mopen:zr,minner:zr},mrel:{mord:Ti,mop:Ti,mopen:Ti,minner:Ti},mopen:{},mclose:{mop:gt,mbin:zr,mrel:Ti,minner:gt},mpunct:{mord:gt,mop:gt,mrel:Ti,mopen:gt,mclose:gt,mpunct:gt,minner:gt},minner:{mord:gt,mop:gt,mbin:zr,mrel:Ti,mopen:gt,mpunct:gt,minner:gt}},XS={mord:{mop:gt},mop:{mord:gt,mop:gt},mbin:{},mrel:{},mopen:{},mclose:{mop:gt},mpunct:{},minner:{mop:gt}},fg={},Lo={},Uo={};function xe(t){for(var{type:e,names:i,props:l,handler:a,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:l.numArgs,argTypes:l.argTypes,allowedInArgument:!!l.allowedInArgument,allowedInText:!!l.allowedInText,allowedInMath:l.allowedInMath===void 0?!0:l.allowedInMath,numOptionalArgs:l.numOptionalArgs||0,infix:!!l.infix,primitive:!!l.primitive,handler:a},m=0;m<i.length;++m)fg[i[m]]=f;e&&(o&&(Lo[e]=o),c&&(Uo[e]=c))}function Br(t){var{type:e,htmlBuilder:i,mathmlBuilder:l}=t;xe({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:i,mathmlBuilder:l})}var Bo=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Tt=function(e){return e.type==="ordgroup"?e.body:[e]},_i=F.makeSpan,KS=["leftmost","mbin","mopen","mrel","mop","mpunct"],$S=["rightmost","mrel","mclose","mpunct"],QS={display:Ie.DISPLAY,text:Ie.TEXT,script:Ie.SCRIPT,scriptscript:Ie.SCRIPTSCRIPT},ZS={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},It=function(e,i,l,a){a===void 0&&(a=[null,null]);for(var o=[],c=0;c<e.length;c++){var f=Xe(e[c],i);if(f instanceof Oa){var m=f.children;o.push(...m)}else o.push(f)}if(F.tryCombineChars(o),!l)return o;var p=i;if(e.length===1){var x=e[0];x.type==="sizing"?p=i.havingSize(x.size):x.type==="styling"&&(p=i.havingStyle(QS[x.style]))}var S=_i([a[0]||"leftmost"],[],i),w=_i([a[1]||"rightmost"],[],i),E=l==="root";return z4(o,(_,R)=>{var k=R.classes[0],U=_.classes[0];k==="mbin"&&$S.includes(U)?R.classes[0]="mord":U==="mbin"&&KS.includes(k)&&(_.classes[0]="mord")},{node:S},w,E),z4(o,(_,R)=>{var k=ed(R),U=ed(_),O=k&&U?_.hasClass("mtight")?XS[k][U]:JS[k][U]:null;if(O)return F.makeGlue(O,p)},{node:S},w,E),o},z4=function t(e,i,l,a,o){a&&e.push(a);for(var c=0;c<e.length;c++){var f=e[c],m=hg(f);if(m){t(m.children,i,l,null,o);continue}var p=!f.hasClass("mspace");if(p){var x=i(f,l.node);x&&(l.insertAfter?l.insertAfter(x):(e.unshift(x),c++))}p?l.node=f:o&&f.hasClass("newline")&&(l.node=_i(["leftmost"])),l.insertAfter=(S=>w=>{e.splice(S+1,0,w),c++})(c)}a&&e.pop()},hg=function(e){return e instanceof Oa||e instanceof xd||e instanceof Va&&e.hasClass("enclosing")?e:null},WS=function t(e,i){var l=hg(e);if(l){var a=l.children;if(a.length){if(i==="right")return t(a[a.length-1],"right");if(i==="left")return t(a[0],"left")}}return e},ed=function(e,i){return e?(i&&(e=WS(e,i)),ZS[e.classes[0]]||null):null},qa=function(e,i){var l=["nulldelimiter"].concat(e.baseSizingClasses());return _i(i.concat(l))},Xe=function(e,i,l){if(!e)return _i();if(Lo[e.type]){var a=Lo[e.type](e,i);if(l&&i.size!==l.size){a=_i(i.sizingClasses(l),[a],i);var o=i.sizeMultiplier/l.sizeMultiplier;a.height*=o,a.depth*=o}return a}else throw new he("Got group of unknown type: '"+e.type+"'")};function yo(t,e){var i=_i(["base"],t,e),l=_i(["strut"]);return l.style.height=pe(i.height+i.depth),i.depth&&(l.style.verticalAlign=pe(-i.depth)),i.children.unshift(l),i}function td(t,e){var i=null;t.length===1&&t[0].type==="tag"&&(i=t[0].tag,t=t[0].body);var l=It(t,e,"root"),a;l.length===2&&l[1].hasClass("tag")&&(a=l.pop());for(var o=[],c=[],f=0;f<l.length;f++)if(c.push(l[f]),l[f].hasClass("mbin")||l[f].hasClass("mrel")||l[f].hasClass("allowbreak")){for(var m=!1;f<l.length-1&&l[f+1].hasClass("mspace")&&!l[f+1].hasClass("newline");)f++,c.push(l[f]),l[f].hasClass("nobreak")&&(m=!0);m||(o.push(yo(c,e)),c=[])}else l[f].hasClass("newline")&&(c.pop(),c.length>0&&(o.push(yo(c,e)),c=[]),o.push(l[f]));c.length>0&&o.push(yo(c,e));var p;i?(p=yo(It(i,e,!0)),p.classes=["tag"],o.push(p)):a&&o.push(a);var x=_i(["katex-html"],o);if(x.setAttribute("aria-hidden","true"),p){var S=p.children[0];S.style.height=pe(x.height+x.depth),x.depth&&(S.style.verticalAlign=pe(-x.depth))}return x}function mg(t){return new Oa(t)}class bn{constructor(e,i,l){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=i||[],this.classes=l||[]}setAttribute(e,i){this.attributes[e]=i}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);this.classes.length>0&&(e.className=or(this.classes));for(var l=0;l<this.children.length;l++)if(this.children[l]instanceof ei&&this.children[l+1]instanceof ei){for(var a=this.children[l].toText()+this.children[++l].toText();this.children[l+1]instanceof ei;)a+=this.children[++l].toText();e.appendChild(new ei(a).toNode())}else e.appendChild(this.children[l].toNode());return e}toMarkup(){var e="<"+this.type;for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="',e+=Ze.escape(this.attributes[i]),e+='"');this.classes.length>0&&(e+=' class ="'+Ze.escape(or(this.classes))+'"'),e+=">";for(var l=0;l<this.children.length;l++)e+=this.children[l].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class ei{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ze.escape(this.toText())}toText(){return this.text}}class ew{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",pe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+pe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ce={MathNode:bn,TextNode:ei,SpaceNode:ew,newDocumentFragment:mg},Bn=function(e,i,l){return dt[i][e]&&dt[i][e].replace&&e.charCodeAt(0)!==55349&&!(sg.hasOwnProperty(e)&&l&&(l.fontFamily&&l.fontFamily.slice(4,6)==="tt"||l.font&&l.font.slice(4,6)==="tt"))&&(e=dt[i][e].replace),new ce.TextNode(e)},Sd=function(e){return e.length===1?e[0]:new ce.MathNode("mrow",e)},wd=function(e,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";var l=i.font;if(!l||l==="mathnormal")return null;var a=e.mode;if(l==="mathit")return"italic";if(l==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(l==="mathbf")return"bold";if(l==="mathbb")return"double-struck";if(l==="mathsfit")return"sans-serif-italic";if(l==="mathfrak")return"fraktur";if(l==="mathscr"||l==="mathcal")return"script";if(l==="mathsf")return"sans-serif";if(l==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;dt[a][o]&&dt[a][o].replace&&(o=dt[a][o].replace);var c=F.fontMap[l].fontName;return yd(o,c,a)?F.fontMap[l].variant:null};function Cc(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof ei&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var i=t.children[0];return i instanceof ei&&i.text===","}else return!1}var un=function(e,i,l){if(e.length===1){var a=ut(e[0],i);return l&&a instanceof bn&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var o=[],c,f=0;f<e.length;f++){var m=ut(e[f],i);if(m instanceof bn&&c instanceof bn){if(m.type==="mtext"&&c.type==="mtext"&&m.getAttribute("mathvariant")===c.getAttribute("mathvariant")){c.children.push(...m.children);continue}else if(m.type==="mn"&&c.type==="mn"){c.children.push(...m.children);continue}else if(Cc(m)&&c.type==="mn"){c.children.push(...m.children);continue}else if(m.type==="mn"&&Cc(c))m.children=[...c.children,...m.children],o.pop();else if((m.type==="msup"||m.type==="msub")&&m.children.length>=1&&(c.type==="mn"||Cc(c))){var p=m.children[0];p instanceof bn&&p.type==="mn"&&(p.children=[...c.children,...p.children],o.pop())}else if(c.type==="mi"&&c.children.length===1){var x=c.children[0];if(x instanceof ei&&x.text===""&&(m.type==="mo"||m.type==="mi"||m.type==="mn")){var S=m.children[0];S instanceof ei&&S.text.length>0&&(S.text=S.text.slice(0,1)+""+S.text.slice(1),o.pop())}}}o.push(m),c=m}return o},cr=function(e,i,l){return Sd(un(e,i,l))},ut=function(e,i){if(!e)return new ce.MathNode("mrow");if(Uo[e.type]){var l=Uo[e.type](e,i);return l}else throw new he("Got group of unknown type: '"+e.type+"'")};function L4(t,e,i,l,a){var o=un(t,i),c;o.length===1&&o[0]instanceof bn&&["mrow","mtable"].includes(o[0].type)?c=o[0]:c=new ce.MathNode("mrow",o);var f=new ce.MathNode("annotation",[new ce.TextNode(e)]);f.setAttribute("encoding","application/x-tex");var m=new ce.MathNode("semantics",[c,f]),p=new ce.MathNode("math",[m]);p.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),l&&p.setAttribute("display","block");var x=a?"katex":"katex-mathml";return F.makeSpan([x],[p])}var pg=function(e){return new Ai({style:e.displayMode?Ie.DISPLAY:Ie.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},gg=function(e,i){if(i.displayMode){var l=["katex-display"];i.leqno&&l.push("leqno"),i.fleqn&&l.push("fleqn"),e=F.makeSpan(l,[e])}return e},tw=function(e,i,l){var a=pg(l),o;if(l.output==="mathml")return L4(e,i,a,l.displayMode,!0);if(l.output==="html"){var c=td(e,a);o=F.makeSpan(["katex"],[c])}else{var f=L4(e,i,a,l.displayMode,!1),m=td(e,a);o=F.makeSpan(["katex"],[f,m])}return gg(o,l)},nw=function(e,i,l){var a=pg(l),o=td(e,a),c=F.makeSpan(["katex"],[o]);return gg(c,l)},iw={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},rw=function(e){var i=new ce.MathNode("mo",[new ce.TextNode(iw[e.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},lw={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},aw=function(e){return e.type==="ordgroup"?e.body.length:1},sw=function(e,i){function l(){var f=4e5,m=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(m)){var p=e,x=aw(p.base),S,w,E;if(x>5)m==="widehat"||m==="widecheck"?(S=420,f=2364,E=.42,w=m+"4"):(S=312,f=2340,E=.34,w="tilde4");else{var _=[1,1,2,2,3,3][x];m==="widehat"||m==="widecheck"?(f=[0,1062,2364,2364,2364][_],S=[0,239,300,360,420][_],E=[0,.24,.3,.3,.36,.42][_],w=m+_):(f=[0,600,1033,2339,2340][_],S=[0,260,286,306,312][_],E=[0,.26,.286,.3,.306,.34][_],w="tilde"+_)}var R=new ur(w),k=new Mi([R],{width:"100%",height:pe(E),viewBox:"0 0 "+f+" "+S,preserveAspectRatio:"none"});return{span:F.makeSvgSpan([],[k],i),minWidth:0,height:E}}else{var U=[],O=lw[m],[J,W,ne]=O,ee=ne/1e3,q=J.length,de,le;if(q===1){var be=O[3];de=["hide-tail"],le=[be]}else if(q===2)de=["halfarrow-left","halfarrow-right"],le=["xMinYMin","xMaxYMin"];else if(q===3)de=["brace-left","brace-center","brace-right"],le=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+q+" children.");for(var we=0;we<q;we++){var ae=new ur(J[we]),ge=new Mi([ae],{width:"400em",height:pe(ee),viewBox:"0 0 "+f+" "+ne,preserveAspectRatio:le[we]+" slice"}),Ce=F.makeSvgSpan([de[we]],[ge],i);if(q===1)return{span:Ce,minWidth:W,height:ee};Ce.style.height=pe(ee),U.push(Ce)}return{span:F.makeSpan(["stretchy"],U,i),minWidth:W,height:ee}}}var{span:a,minWidth:o,height:c}=l();return a.height=c,a.style.height=pe(c),o>0&&(a.style.minWidth=pe(o)),a},ow=function(e,i,l,a,o){var c,f=e.height+e.depth+l+a;if(/fbox|color|angl/.test(i)){if(c=F.makeSpan(["stretchy",i],[],o),i==="fbox"){var m=o.color&&o.getColor();m&&(c.style.borderColor=m)}}else{var p=[];/^[bx]cancel$/.test(i)&&p.push(new Zc({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&p.push(new Zc({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var x=new Mi(p,{width:"100%",height:pe(f)});c=F.makeSvgSpan([],[x],o)}return c.height=f,c.style.height=pe(f),c},Ri={encloseSpan:ow,mathMLnode:rw,svgSpan:sw};function qe(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Td(t){var e=Xo(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Xo(t){return t&&(t.type==="atom"||DS.hasOwnProperty(t.type))?t:null}var Ad=(t,e)=>{var i,l,a;t&&t.type==="supsub"?(l=qe(t.base,"accent"),i=l.base,t.base=i,a=kS(Xe(t,e)),t.base=l):(l=qe(t,"accent"),i=l.base);var o=Xe(i,e.havingCrampedStyle()),c=l.isShifty&&Ze.isCharacterBox(i),f=0;if(c){var m=Ze.getBaseElem(i),p=Xe(m,e.havingCrampedStyle());f=M4(p).skew}var x=l.label==="\\c",S=x?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),w;if(l.isStretchy)w=Ri.svgSpan(l,e),w=F.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:w,wrapperClasses:["svg-align"],wrapperStyle:f>0?{width:"calc(100% - "+pe(2*f)+")",marginLeft:pe(2*f)}:void 0}]},e);else{var E,_;l.label==="\\vec"?(E=F.staticSvg("vec",e),_=F.svgData.vec[1]):(E=F.makeOrd({mode:l.mode,text:l.label},e,"textord"),E=M4(E),E.italic=0,_=E.width,x&&(S+=E.depth)),w=F.makeSpan(["accent-body"],[E]);var R=l.label==="\\textcircled";R&&(w.classes.push("accent-full"),S=o.height);var k=f;R||(k-=_/2),w.style.left=pe(k),l.label==="\\textcircled"&&(w.style.top=".2em"),w=F.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-S},{type:"elem",elem:w}]},e)}var U=F.makeSpan(["mord","accent"],[w],e);return a?(a.children[0]=U,a.height=Math.max(U.height,a.height),a.classes[0]="mord",a):U},vg=(t,e)=>{var i=t.isStretchy?Ri.mathMLnode(t.label):new ce.MathNode("mo",[Bn(t.label,t.mode)]),l=new ce.MathNode("mover",[ut(t.base,e),i]);return l.setAttribute("accent","true"),l},uw=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));xe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var i=Bo(e[0]),l=!uw.test(t.funcName),a=!l||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:l,isShifty:a,base:i}},htmlBuilder:Ad,mathmlBuilder:vg});xe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var i=e[0],l=t.parser.mode;return l==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),l="text"),{type:"accent",mode:l,label:t.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:Ad,mathmlBuilder:vg});xe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"accentUnder",mode:i.mode,label:l,base:a}},htmlBuilder:(t,e)=>{var i=Xe(t.base,e),l=Ri.svgSpan(t,e),a=t.label==="\\utilde"?.12:0,o=F.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:l,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:i}]},e);return F.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var i=Ri.mathMLnode(t.label),l=new ce.MathNode("munder",[ut(t.base,e),i]);return l.setAttribute("accentunder","true"),l}});var xo=t=>{var e=new ce.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};xe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:l,funcName:a}=t;return{type:"xArrow",mode:l.mode,label:a,body:e[0],below:i[0]}},htmlBuilder(t,e){var i=e.style,l=e.havingStyle(i.sup()),a=F.wrapFragment(Xe(t.body,l,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(o+"-arrow-pad");var c;t.below&&(l=e.havingStyle(i.sub()),c=F.wrapFragment(Xe(t.below,l,e),e),c.classes.push(o+"-arrow-pad"));var f=Ri.svgSpan(t,e),m=-e.fontMetrics().axisHeight+.5*f.height,p=-e.fontMetrics().axisHeight-.5*f.height-.111;(a.depth>.25||t.label==="\\xleftequilibrium")&&(p-=a.depth);var x;if(c){var S=-e.fontMetrics().axisHeight+c.height+.5*f.height+.111;x=F.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:p},{type:"elem",elem:f,shift:m},{type:"elem",elem:c,shift:S}]},e)}else x=F.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:p},{type:"elem",elem:f,shift:m}]},e);return x.children[0].children[0].children[1].classes.push("svg-align"),F.makeSpan(["mrel","x-arrow"],[x],e)},mathmlBuilder(t,e){var i=Ri.mathMLnode(t.label);i.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var l;if(t.body){var a=xo(ut(t.body,e));if(t.below){var o=xo(ut(t.below,e));l=new ce.MathNode("munderover",[i,o,a])}else l=new ce.MathNode("mover",[i,a])}else if(t.below){var c=xo(ut(t.below,e));l=new ce.MathNode("munder",[i,c])}else l=xo(),l=new ce.MathNode("mover",[i,l]);return l}});var cw=F.makeSpan;function yg(t,e){var i=It(t.body,e,!0);return cw([t.mclass],i,e)}function xg(t,e){var i,l=un(t.body,e);return t.mclass==="minner"?i=new ce.MathNode("mpadded",l):t.mclass==="mord"?t.isCharacterBox?(i=l[0],i.type="mi"):i=new ce.MathNode("mi",l):(t.isCharacterBox?(i=l[0],i.type="mo"):i=new ce.MathNode("mo",l),t.mclass==="mbin"?(i.attributes.lspace="0.22em",i.attributes.rspace="0.22em"):t.mclass==="mpunct"?(i.attributes.lspace="0em",i.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(i.attributes.lspace="0em",i.attributes.rspace="0em"):t.mclass==="minner"&&(i.attributes.lspace="0.0556em",i.attributes.width="+0.1111em")),i}xe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"mclass",mode:i.mode,mclass:"m"+l.slice(5),body:Tt(a),isCharacterBox:Ze.isCharacterBox(a)}},htmlBuilder:yg,mathmlBuilder:xg});var Ko=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};xe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:i}=t;return{type:"mclass",mode:i.mode,mclass:Ko(e[0]),body:Tt(e[1]),isCharacterBox:Ze.isCharacterBox(e[1])}}});xe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:i,funcName:l}=t,a=e[1],o=e[0],c;l!=="\\stackrel"?c=Ko(a):c="mrel";var f={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:l!=="\\stackrel",body:Tt(a)},m={type:"supsub",mode:o.mode,base:f,sup:l==="\\underset"?null:o,sub:l==="\\underset"?o:null};return{type:"mclass",mode:i.mode,mclass:c,body:[m],isCharacterBox:Ze.isCharacterBox(m)}},htmlBuilder:yg,mathmlBuilder:xg});xe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"pmb",mode:i.mode,mclass:Ko(e[0]),body:Tt(e[0])}},htmlBuilder(t,e){var i=It(t.body,e,!0),l=F.makeSpan([t.mclass],i,e);return l.style.textShadow="0.02em 0.01em 0.04px",l},mathmlBuilder(t,e){var i=un(t.body,e),l=new ce.MathNode("mstyle",i);return l.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),l}});var dw={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},U4=()=>({type:"styling",body:[],mode:"math",style:"display"}),B4=t=>t.type==="textord"&&t.text==="@",fw=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function hw(t,e,i){var l=dw[t];switch(l){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return i.callFunction(l,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var a=i.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:l,mode:"math",family:"rel"},c=i.callFunction("\\Big",[o],[]),f=i.callFunction("\\\\cdright",[e[1]],[]),m={type:"ordgroup",mode:"math",body:[a,c,f]};return i.callFunction("\\\\cdparent",[m],[])}case"\\\\cdlongequal":return i.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var p={type:"textord",text:"\\Vert",mode:"math"};return i.callFunction("\\Big",[p],[])}default:return{type:"textord",text:" ",mode:"math"}}}function mw(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var i=t.fetch().text;if(i==="&"||i==="\\\\")t.consume();else if(i==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new he("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var l=[],a=[l],o=0;o<e.length;o++){for(var c=e[o],f=U4(),m=0;m<c.length;m++)if(!B4(c[m]))f.body.push(c[m]);else{l.push(f),m+=1;var p=Td(c[m]).text,x=new Array(2);if(x[0]={type:"ordgroup",mode:"math",body:[]},x[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(p)>-1))if("<>AV".indexOf(p)>-1)for(var S=0;S<2;S++){for(var w=!0,E=m+1;E<c.length;E++){if(fw(c[E],p)){w=!1,m=E;break}if(B4(c[E]))throw new he("Missing a "+p+" character to complete a CD arrow.",c[E]);x[S].body.push(c[E])}if(w)throw new he("Missing a "+p+" character to complete a CD arrow.",c[m])}else throw new he('Expected one of "<>AV=|." after @',c[m]);var _=hw(p,x,t),R={type:"styling",body:[_],mode:"math",style:"display"};l.push(R),f=U4()}o%2===0?l.push(f):l.shift(),l=[],a.push(l)}t.gullet.endGroup(),t.gullet.endGroup();var k=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:k,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}xe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t;return{type:"cdlabel",mode:i.mode,side:l.slice(4),label:e[0]}},htmlBuilder(t,e){var i=e.havingStyle(e.style.sup()),l=F.wrapFragment(Xe(t.label,i,e),e);return l.classes.push("cd-label-"+t.side),l.style.bottom=pe(.8-l.depth),l.height=0,l.depth=0,l},mathmlBuilder(t,e){var i=new ce.MathNode("mrow",[ut(t.label,e)]);return i=new ce.MathNode("mpadded",[i]),i.setAttribute("width","0"),t.side==="left"&&i.setAttribute("lspace","-1width"),i.setAttribute("voffset","0.7em"),i=new ce.MathNode("mstyle",[i]),i.setAttribute("displaystyle","false"),i.setAttribute("scriptlevel","1"),i}});xe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:i}=t;return{type:"cdlabelparent",mode:i.mode,fragment:e[0]}},htmlBuilder(t,e){var i=F.wrapFragment(Xe(t.fragment,e),e);return i.classes.push("cd-vert-arrow"),i},mathmlBuilder(t,e){return new ce.MathNode("mrow",[ut(t.fragment,e)])}});xe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:i}=t,l=qe(e[0],"ordgroup"),a=l.body,o="",c=0;c<a.length;c++){var f=qe(a[c],"textord");o+=f.text}var m=parseInt(o),p;if(isNaN(m))throw new he("\\@char has non-numeric argument "+o);if(m<0||m>=1114111)throw new he("\\@char with invalid code point "+o);return m<=65535?p=String.fromCharCode(m):(m-=65536,p=String.fromCharCode((m>>10)+55296,(m&1023)+56320)),{type:"textord",mode:i.mode,text:p}}});var bg=(t,e)=>{var i=It(t.body,e.withColor(t.color),!1);return F.makeFragment(i)},Sg=(t,e)=>{var i=un(t.body,e.withColor(t.color)),l=new ce.MathNode("mstyle",i);return l.setAttribute("mathcolor",t.color),l};xe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:i}=t,l=qe(e[0],"color-token").color,a=e[1];return{type:"color",mode:i.mode,color:l,body:Tt(a)}},htmlBuilder:bg,mathmlBuilder:Sg});xe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:i,breakOnTokenText:l}=t,a=qe(e[0],"color-token").color;i.gullet.macros.set("\\current@color",a);var o=i.parseExpression(!0,l);return{type:"color",mode:i.mode,color:a,body:o}},htmlBuilder:bg,mathmlBuilder:Sg});xe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,i){var{parser:l}=t,a=l.gullet.future().text==="["?l.parseSizeGroup(!0):null,o=!l.settings.displayMode||!l.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:l.mode,newLine:o,size:a&&qe(a,"size").value}},htmlBuilder(t,e){var i=F.makeSpan(["mspace"],[],e);return t.newLine&&(i.classes.push("newline"),t.size&&(i.style.marginTop=pe(vt(t.size,e)))),i},mathmlBuilder(t,e){var i=new ce.MathNode("mspace");return t.newLine&&(i.setAttribute("linebreak","newline"),t.size&&i.setAttribute("height",pe(vt(t.size,e)))),i}});var nd={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},wg=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new he("Expected a control sequence",t);return e},pw=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Tg=(t,e,i,l)=>{var a=t.gullet.macros.get(i.text);a==null&&(i.noexpand=!0,a={tokens:[i],numArgs:0,unexpandable:!t.gullet.isExpandable(i.text)}),t.gullet.macros.set(e,a,l)};xe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:i}=t;e.consumeSpaces();var l=e.fetch();if(nd[l.text])return(i==="\\global"||i==="\\\\globallong")&&(l.text=nd[l.text]),qe(e.parseFunction(),"internal");throw new he("Invalid token after macro prefix",l)}});xe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=e.gullet.popToken(),a=l.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new he("Expected a control sequence",l);for(var o=0,c,f=[[]];e.gullet.future().text!=="{";)if(l=e.gullet.popToken(),l.text==="#"){if(e.gullet.future().text==="{"){c=e.gullet.future(),f[o].push("{");break}if(l=e.gullet.popToken(),!/^[1-9]$/.test(l.text))throw new he('Invalid argument number "'+l.text+'"');if(parseInt(l.text)!==o+1)throw new he('Argument number "'+l.text+'" out of order');o++,f.push([])}else{if(l.text==="EOF")throw new he("Expected a macro definition");f[o].push(l.text)}var{tokens:m}=e.gullet.consumeArg();return c&&m.unshift(c),(i==="\\edef"||i==="\\xdef")&&(m=e.gullet.expandTokens(m),m.reverse()),e.gullet.macros.set(a,{tokens:m,numArgs:o,delimiters:f},i===nd[i]),{type:"internal",mode:e.mode}}});xe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=wg(e.gullet.popToken());e.gullet.consumeSpaces();var a=pw(e);return Tg(e,l,a,i==="\\\\globallet"),{type:"internal",mode:e.mode}}});xe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=wg(e.gullet.popToken()),a=e.gullet.popToken(),o=e.gullet.popToken();return Tg(e,l,o,i==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(a),{type:"internal",mode:e.mode}}});var Ha=function(e,i,l){var a=dt.math[e]&&dt.math[e].replace,o=yd(a||e,i,l);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+i+".");return o},Ed=function(e,i,l,a){var o=l.havingBaseStyle(i),c=F.makeSpan(a.concat(o.sizingClasses(l)),[e],l),f=o.sizeMultiplier/l.sizeMultiplier;return c.height*=f,c.depth*=f,c.maxFontSize=o.sizeMultiplier,c},Ag=function(e,i,l){var a=i.havingBaseStyle(l),o=(1-i.sizeMultiplier/a.sizeMultiplier)*i.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=pe(o),e.height-=o,e.depth+=o},gw=function(e,i,l,a,o,c){var f=F.makeSymbol(e,"Main-Regular",o,a),m=Ed(f,i,a,c);return l&&Ag(m,a,i),m},vw=function(e,i,l,a){return F.makeSymbol(e,"Size"+i+"-Regular",l,a)},Eg=function(e,i,l,a,o,c){var f=vw(e,i,o,a),m=Ed(F.makeSpan(["delimsizing","size"+i],[f],a),Ie.TEXT,a,c);return l&&Ag(m,a,Ie.TEXT),m},Nc=function(e,i,l){var a;i==="Size1-Regular"?a="delim-size1":a="delim-size4";var o=F.makeSpan(["delimsizinginner",a],[F.makeSpan([],[F.makeSymbol(e,i,l)])]);return{type:"elem",elem:o}},Mc=function(e,i,l){var a=Wn["Size4-Regular"][e.charCodeAt(0)]?Wn["Size4-Regular"][e.charCodeAt(0)][4]:Wn["Size1-Regular"][e.charCodeAt(0)][4],o=new ur("inner",wS(e,Math.round(1e3*i))),c=new Mi([o],{width:pe(a),height:pe(i),style:"width:"+pe(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),f=F.makeSvgSpan([],[c],l);return f.height=i,f.style.height=pe(i),f.style.width=pe(a),{type:"elem",elem:f}},id=.008,bo={type:"kern",size:-1*id},yw=["|","\\lvert","\\rvert","\\vert"],xw=["\\|","\\lVert","\\rVert","\\Vert"],Cg=function(e,i,l,a,o,c){var f,m,p,x,S="",w=0;f=p=x=e,m=null;var E="Size1-Regular";e==="\\uparrow"?p=x="":e==="\\Uparrow"?p=x="":e==="\\downarrow"?f=p="":e==="\\Downarrow"?f=p="":e==="\\updownarrow"?(f="\\uparrow",p="",x="\\downarrow"):e==="\\Updownarrow"?(f="\\Uparrow",p="",x="\\Downarrow"):yw.includes(e)?(p="",S="vert",w=333):xw.includes(e)?(p="",S="doublevert",w=556):e==="["||e==="\\lbrack"?(f="",p="",x="",E="Size4-Regular",S="lbrack",w=667):e==="]"||e==="\\rbrack"?(f="",p="",x="",E="Size4-Regular",S="rbrack",w=667):e==="\\lfloor"||e===""?(p=f="",x="",E="Size4-Regular",S="lfloor",w=667):e==="\\lceil"||e===""?(f="",p=x="",E="Size4-Regular",S="lceil",w=667):e==="\\rfloor"||e===""?(p=f="",x="",E="Size4-Regular",S="rfloor",w=667):e==="\\rceil"||e===""?(f="",p=x="",E="Size4-Regular",S="rceil",w=667):e==="("||e==="\\lparen"?(f="",p="",x="",E="Size4-Regular",S="lparen",w=875):e===")"||e==="\\rparen"?(f="",p="",x="",E="Size4-Regular",S="rparen",w=875):e==="\\{"||e==="\\lbrace"?(f="",m="",x="",p="",E="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(f="",m="",x="",p="",E="Size4-Regular"):e==="\\lgroup"||e===""?(f="",x="",p="",E="Size4-Regular"):e==="\\rgroup"||e===""?(f="",x="",p="",E="Size4-Regular"):e==="\\lmoustache"||e===""?(f="",x="",p="",E="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(f="",x="",p="",E="Size4-Regular");var _=Ha(f,E,o),R=_.height+_.depth,k=Ha(p,E,o),U=k.height+k.depth,O=Ha(x,E,o),J=O.height+O.depth,W=0,ne=1;if(m!==null){var ee=Ha(m,E,o);W=ee.height+ee.depth,ne=2}var q=R+J+W,de=Math.max(0,Math.ceil((i-q)/(ne*U))),le=q+de*ne*U,be=a.fontMetrics().axisHeight;l&&(be*=a.sizeMultiplier);var we=le/2-be,ae=[];if(S.length>0){var ge=le-R-J,Ce=Math.round(le*1e3),Te=TS(S,Math.round(ge*1e3)),P=new ur(S,Te),$=(w/1e3).toFixed(3)+"em",fe=(Ce/1e3).toFixed(3)+"em",Ae=new Mi([P],{width:$,height:fe,viewBox:"0 0 "+w+" "+Ce}),Me=F.makeSvgSpan([],[Ae],a);Me.height=Ce/1e3,Me.style.width=$,Me.style.height=fe,ae.push({type:"elem",elem:Me})}else{if(ae.push(Nc(x,E,o)),ae.push(bo),m===null){var L=le-R-J+2*id;ae.push(Mc(p,L,a))}else{var X=(le-R-J-W)/2+2*id;ae.push(Mc(p,X,a)),ae.push(bo),ae.push(Nc(m,E,o)),ae.push(bo),ae.push(Mc(p,X,a))}ae.push(bo),ae.push(Nc(f,E,o))}var ue=a.havingBaseStyle(Ie.TEXT),ve=F.makeVList({positionType:"bottom",positionData:we,children:ae},ue);return Ed(F.makeSpan(["delimsizing","mult"],[ve],ue),Ie.TEXT,a,c)},_c=80,Rc=.08,kc=function(e,i,l,a,o){var c=SS(e,a,l),f=new ur(e,c),m=new Mi([f],{width:"400em",height:pe(i),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});return F.makeSvgSpan(["hide-tail"],[m],o)},bw=function(e,i){var l=i.havingBaseSizing(),a=Rg("\\surd",e*l.sizeMultiplier,_g,l),o=l.sizeMultiplier,c=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness),f,m=0,p=0,x=0,S;return a.type==="small"?(x=1e3+1e3*c+_c,e<1?o=1:e<1.4&&(o=.7),m=(1+c+Rc)/o,p=(1+c)/o,f=kc("sqrtMain",m,x,c,i),f.style.minWidth="0.853em",S=.833/o):a.type==="large"?(x=(1e3+_c)*Ga[a.size],p=(Ga[a.size]+c)/o,m=(Ga[a.size]+c+Rc)/o,f=kc("sqrtSize"+a.size,m,x,c,i),f.style.minWidth="1.02em",S=1/o):(m=e+c+Rc,p=e+c,x=Math.floor(1e3*e+c)+_c,f=kc("sqrtTall",m,x,c,i),f.style.minWidth="0.742em",S=1.056),f.height=p,f.style.height=pe(m),{span:f,advanceWidth:S,ruleWidth:(i.fontMetrics().sqrtRuleThickness+c)*o}},Ng=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Sw=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Mg=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ga=[0,1.2,1.8,2.4,3],ww=function(e,i,l,a,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Ng.includes(e)||Mg.includes(e))return Eg(e,i,!1,l,a,o);if(Sw.includes(e))return Cg(e,Ga[i],!1,l,a,o);throw new he("Illegal delimiter: '"+e+"'")},Tw=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Aw=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"stack"}],_g=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Ew=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Rg=function(e,i,l,a){for(var o=Math.min(2,3-a.style.size),c=o;c<l.length&&l[c].type!=="stack";c++){var f=Ha(e,Ew(l[c]),"math"),m=f.height+f.depth;if(l[c].type==="small"){var p=a.havingBaseStyle(l[c].style);m*=p.sizeMultiplier}if(m>i)return l[c]}return l[l.length-1]},kg=function(e,i,l,a,o,c){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var f;Mg.includes(e)?f=Tw:Ng.includes(e)?f=_g:f=Aw;var m=Rg(e,i,f,a);return m.type==="small"?gw(e,m.style,l,a,o,c):m.type==="large"?Eg(e,m.size,l,a,o,c):Cg(e,i,l,a,o,c)},Cw=function(e,i,l,a,o,c){var f=a.fontMetrics().axisHeight*a.sizeMultiplier,m=901,p=5/a.fontMetrics().ptPerEm,x=Math.max(i-f,l+f),S=Math.max(x/500*m,2*x-p);return kg(e,S,!0,a,o,c)},Ci={sqrtImage:bw,sizedDelim:ww,sizeToMaxHeight:Ga,customSizedDelim:kg,leftRightDelim:Cw},H4={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Nw=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function $o(t,e){var i=Xo(t);if(i&&Nw.includes(i.text))return i;throw i?new he("Invalid delimiter '"+i.text+"' after '"+e.funcName+"'",t):new he("Invalid delimiter type '"+t.type+"'",t)}xe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var i=$o(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:H4[t.funcName].size,mclass:H4[t.funcName].mclass,delim:i.text}},htmlBuilder:(t,e)=>t.delim==="."?F.makeSpan([t.mclass]):Ci.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Bn(t.delim,t.mode));var i=new ce.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i.setAttribute("stretchy","true");var l=pe(Ci.sizeToMaxHeight[t.size]);return i.setAttribute("minsize",l),i.setAttribute("maxsize",l),i}});function G4(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}xe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=t.parser.gullet.macros.get("\\current@color");if(i&&typeof i!="string")throw new he("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:$o(e[0],t).text,color:i}}});xe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=$o(e[0],t),l=t.parser;++l.leftrightDepth;var a=l.parseExpression(!1);--l.leftrightDepth,l.expect("\\right",!1);var o=qe(l.parseFunction(),"leftright-right");return{type:"leftright",mode:l.mode,body:a,left:i.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{G4(t);for(var i=It(t.body,e,!0,["mopen","mclose"]),l=0,a=0,o=!1,c=0;c<i.length;c++)i[c].isMiddle?o=!0:(l=Math.max(i[c].height,l),a=Math.max(i[c].depth,a));l*=e.sizeMultiplier,a*=e.sizeMultiplier;var f;if(t.left==="."?f=qa(e,["mopen"]):f=Ci.leftRightDelim(t.left,l,a,e,t.mode,["mopen"]),i.unshift(f),o)for(var m=1;m<i.length;m++){var p=i[m],x=p.isMiddle;x&&(i[m]=Ci.leftRightDelim(x.delim,l,a,x.options,t.mode,[]))}var S;if(t.right===".")S=qa(e,["mclose"]);else{var w=t.rightColor?e.withColor(t.rightColor):e;S=Ci.leftRightDelim(t.right,l,a,w,t.mode,["mclose"])}return i.push(S),F.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{G4(t);var i=un(t.body,e);if(t.left!=="."){var l=new ce.MathNode("mo",[Bn(t.left,t.mode)]);l.setAttribute("fence","true"),i.unshift(l)}if(t.right!=="."){var a=new ce.MathNode("mo",[Bn(t.right,t.mode)]);a.setAttribute("fence","true"),t.rightColor&&a.setAttribute("mathcolor",t.rightColor),i.push(a)}return Sd(i)}});xe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=$o(e[0],t);if(!t.parser.leftrightDepth)throw new he("\\middle without preceding \\left",i);return{type:"middle",mode:t.parser.mode,delim:i.text}},htmlBuilder:(t,e)=>{var i;if(t.delim===".")i=qa(e,[]);else{i=Ci.sizedDelim(t.delim,1,e,t.mode,[]);var l={delim:t.delim,options:e};i.isMiddle=l}return i},mathmlBuilder:(t,e)=>{var i=t.delim==="\\vert"||t.delim==="|"?Bn("|","text"):Bn(t.delim,t.mode),l=new ce.MathNode("mo",[i]);return l.setAttribute("fence","true"),l.setAttribute("lspace","0.05em"),l.setAttribute("rspace","0.05em"),l}});var Cd=(t,e)=>{var i=F.wrapFragment(Xe(t.body,e),e),l=t.label.slice(1),a=e.sizeMultiplier,o,c=0,f=Ze.isCharacterBox(t.body);if(l==="sout")o=F.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/a,c=-.5*e.fontMetrics().xHeight;else if(l==="phase"){var m=vt({number:.6,unit:"pt"},e),p=vt({number:.35,unit:"ex"},e),x=e.havingBaseSizing();a=a/x.sizeMultiplier;var S=i.height+i.depth+m+p;i.style.paddingLeft=pe(S/2+m);var w=Math.floor(1e3*S*a),E=xS(w),_=new Mi([new ur("phase",E)],{width:"400em",height:pe(w/1e3),viewBox:"0 0 400000 "+w,preserveAspectRatio:"xMinYMin slice"});o=F.makeSvgSpan(["hide-tail"],[_],e),o.style.height=pe(S),c=i.depth+m+p}else{/cancel/.test(l)?f||i.classes.push("cancel-pad"):l==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var R=0,k=0,U=0;/box/.test(l)?(U=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),R=e.fontMetrics().fboxsep+(l==="colorbox"?0:U),k=R):l==="angl"?(U=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),R=4*U,k=Math.max(0,.25-i.depth)):(R=f?.2:0,k=R),o=Ri.encloseSpan(i,l,R,k,e),/fbox|boxed|fcolorbox/.test(l)?(o.style.borderStyle="solid",o.style.borderWidth=pe(U)):l==="angl"&&U!==.049&&(o.style.borderTopWidth=pe(U),o.style.borderRightWidth=pe(U)),c=i.depth+k,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var O;if(t.backgroundColor)O=F.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:i,shift:0}]},e);else{var J=/cancel|phase/.test(l)?["svg-align"]:[];O=F.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:o,shift:c,wrapperClasses:J}]},e)}return/cancel/.test(l)&&(O.height=i.height,O.depth=i.depth),/cancel/.test(l)&&!f?F.makeSpan(["mord","cancel-lap"],[O],e):F.makeSpan(["mord"],[O],e)},Nd=(t,e)=>{var i=0,l=new ce.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ut(t.body,e)]);switch(t.label){case"\\cancel":l.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":l.setAttribute("notation","downdiagonalstrike");break;case"\\phase":l.setAttribute("notation","phasorangle");break;case"\\sout":l.setAttribute("notation","horizontalstrike");break;case"\\fbox":l.setAttribute("notation","box");break;case"\\angl":l.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(i=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,l.setAttribute("width","+"+2*i+"pt"),l.setAttribute("height","+"+2*i+"pt"),l.setAttribute("lspace",i+"pt"),l.setAttribute("voffset",i+"pt"),t.label==="\\fcolorbox"){var a=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);l.setAttribute("style","border: "+a+"em solid "+String(t.borderColor))}break;case"\\xcancel":l.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&l.setAttribute("mathbackground",t.backgroundColor),l};xe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,i){var{parser:l,funcName:a}=t,o=qe(e[0],"color-token").color,c=e[1];return{type:"enclose",mode:l.mode,label:a,backgroundColor:o,body:c}},htmlBuilder:Cd,mathmlBuilder:Nd});xe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,i){var{parser:l,funcName:a}=t,o=qe(e[0],"color-token").color,c=qe(e[1],"color-token").color,f=e[2];return{type:"enclose",mode:l.mode,label:a,backgroundColor:c,borderColor:o,body:f}},htmlBuilder:Cd,mathmlBuilder:Nd});xe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\fbox",body:e[0]}}});xe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"enclose",mode:i.mode,label:l,body:a}},htmlBuilder:Cd,mathmlBuilder:Nd});xe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\angl",body:e[0]}}});var Ig={};function ti(t){for(var{type:e,names:i,props:l,handler:a,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:l.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},m=0;m<i.length;++m)Ig[i[m]]=f;o&&(Lo[e]=o),c&&(Uo[e]=c)}var Dg={};function M(t,e){Dg[t]=e}function P4(t){var e=[];t.consumeSpaces();var i=t.fetch().text;for(i==="\\relax"&&(t.consume(),t.consumeSpaces(),i=t.fetch().text);i==="\\hline"||i==="\\hdashline";)t.consume(),e.push(i==="\\hdashline"),t.consumeSpaces(),i=t.fetch().text;return e}var Qo=t=>{var e=t.parser.settings;if(!e.displayMode)throw new he("{"+t.envName+"} can be used only in display mode.")};function Md(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function fr(t,e,i){var{hskipBeforeAndAfter:l,addJot:a,cols:o,arraystretch:c,colSeparationType:f,autoTag:m,singleRow:p,emptySingleRow:x,maxNumCols:S,leqno:w}=e;if(t.gullet.beginGroup(),p||t.gullet.macros.set("\\cr","\\\\\\relax"),!c){var E=t.gullet.expandMacroAsText("\\arraystretch");if(E==null)c=1;else if(c=parseFloat(E),!c||c<0)throw new he("Invalid \\arraystretch: "+E)}t.gullet.beginGroup();var _=[],R=[_],k=[],U=[],O=m!=null?[]:void 0;function J(){m&&t.gullet.macros.set("\\@eqnsw","1",!0)}function W(){O&&(t.gullet.macros.get("\\df@tag")?(O.push(t.subparse([new Sn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):O.push(!!m&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(J(),U.push(P4(t));;){var ne=t.parseExpression(!1,p?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),ne={type:"ordgroup",mode:t.mode,body:ne},i&&(ne={type:"styling",mode:t.mode,style:i,body:[ne]}),_.push(ne);var ee=t.fetch().text;if(ee==="&"){if(S&&_.length===S){if(p||f)throw new he("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(ee==="\\end"){W(),_.length===1&&ne.type==="styling"&&ne.body[0].body.length===0&&(R.length>1||!x)&&R.pop(),U.length<R.length+1&&U.push([]);break}else if(ee==="\\\\"){t.consume();var q=void 0;t.gullet.future().text!==" "&&(q=t.parseSizeGroup(!0)),k.push(q?q.value:null),W(),U.push(P4(t)),_=[],R.push(_),J()}else throw new he("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:a,arraystretch:c,body:R,cols:o,rowGaps:k,hskipBeforeAndAfter:l,hLinesBeforeRow:U,colSeparationType:f,tags:O,leqno:w}}function _d(t){return t.slice(0,1)==="d"?"display":"text"}var ni=function(e,i){var l,a,o=e.body.length,c=e.hLinesBeforeRow,f=0,m=new Array(o),p=[],x=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),S=1/i.fontMetrics().ptPerEm,w=5*S;if(e.colSeparationType&&e.colSeparationType==="small"){var E=i.havingStyle(Ie.SCRIPT).sizeMultiplier;w=.2778*(E/i.sizeMultiplier)}var _=e.colSeparationType==="CD"?vt({number:3,unit:"ex"},i):12*S,R=3*S,k=e.arraystretch*_,U=.7*k,O=.3*k,J=0;function W(Yn){for(var Jn=0;Jn<Yn.length;++Jn)Jn>0&&(J+=.25),p.push({pos:J,isDashed:Yn[Jn]})}for(W(c[0]),l=0;l<e.body.length;++l){var ne=e.body[l],ee=U,q=O;f<ne.length&&(f=ne.length);var de=new Array(ne.length);for(a=0;a<ne.length;++a){var le=Xe(ne[a],i);q<le.depth&&(q=le.depth),ee<le.height&&(ee=le.height),de[a]=le}var be=e.rowGaps[l],we=0;be&&(we=vt(be,i),we>0&&(we+=O,q<we&&(q=we),we=0)),e.addJot&&(q+=R),de.height=ee,de.depth=q,J+=ee,de.pos=J,J+=q+we,m[l]=de,W(c[l+1])}var ae=J/2+i.fontMetrics().axisHeight,ge=e.cols||[],Ce=[],Te,P,$=[];if(e.tags&&e.tags.some(Yn=>Yn))for(l=0;l<o;++l){var fe=m[l],Ae=fe.pos-ae,Me=e.tags[l],L=void 0;Me===!0?L=F.makeSpan(["eqn-num"],[],i):Me===!1?L=F.makeSpan([],[],i):L=F.makeSpan([],It(Me,i,!0),i),L.depth=fe.depth,L.height=fe.height,$.push({type:"elem",elem:L,shift:Ae})}for(a=0,P=0;a<f||P<ge.length;++a,++P){for(var X=ge[P]||{},ue=!0;X.type==="separator";){if(ue||(Te=F.makeSpan(["arraycolsep"],[]),Te.style.width=pe(i.fontMetrics().doubleRuleSep),Ce.push(Te)),X.separator==="|"||X.separator===":"){var ve=X.separator==="|"?"solid":"dashed",Re=F.makeSpan(["vertical-separator"],[],i);Re.style.height=pe(J),Re.style.borderRightWidth=pe(x),Re.style.borderRightStyle=ve,Re.style.margin="0 "+pe(-x/2);var Q=J-ae;Q&&(Re.style.verticalAlign=pe(-Q)),Ce.push(Re)}else throw new he("Invalid separator type: "+X.separator);P++,X=ge[P]||{},ue=!1}if(!(a>=f)){var se=void 0;(a>0||e.hskipBeforeAndAfter)&&(se=Ze.deflt(X.pregap,w),se!==0&&(Te=F.makeSpan(["arraycolsep"],[]),Te.style.width=pe(se),Ce.push(Te)));var Oe=[];for(l=0;l<o;++l){var tt=m[l],cn=tt[a];if(cn){var jn=tt.pos-ae;cn.depth=tt.depth,cn.height=tt.height,Oe.push({type:"elem",elem:cn,shift:jn})}}Oe=F.makeVList({positionType:"individualShift",children:Oe},i),Oe=F.makeSpan(["col-align-"+(X.align||"c")],[Oe]),Ce.push(Oe),(a<f-1||e.hskipBeforeAndAfter)&&(se=Ze.deflt(X.postgap,w),se!==0&&(Te=F.makeSpan(["arraycolsep"],[]),Te.style.width=pe(se),Ce.push(Te)))}}if(m=F.makeSpan(["mtable"],Ce),p.length>0){for(var ri=F.makeLineSpan("hline",i,x),Hr=F.makeLineSpan("hdashline",i,x),Qt=[{type:"elem",elem:m,shift:0}];p.length>0;){var hr=p.pop(),Zt=hr.pos-ae;hr.isDashed?Qt.push({type:"elem",elem:Hr,shift:Zt}):Qt.push({type:"elem",elem:ri,shift:Zt})}m=F.makeVList({positionType:"individualShift",children:Qt},i)}if($.length===0)return F.makeSpan(["mord"],[m],i);var mr=F.makeVList({positionType:"individualShift",children:$},i);return mr=F.makeSpan(["tag"],[mr],i),F.makeFragment([m,mr])},Mw={c:"center ",l:"left ",r:"right "},ii=function(e,i){for(var l=[],a=new ce.MathNode("mtd",[],["mtr-glue"]),o=new ce.MathNode("mtd",[],["mml-eqn-num"]),c=0;c<e.body.length;c++){for(var f=e.body[c],m=[],p=0;p<f.length;p++)m.push(new ce.MathNode("mtd",[ut(f[p],i)]));e.tags&&e.tags[c]&&(m.unshift(a),m.push(a),e.leqno?m.unshift(o):m.push(o)),l.push(new ce.MathNode("mtr",m))}var x=new ce.MathNode("mtable",l),S=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);x.setAttribute("rowspacing",pe(S));var w="",E="";if(e.cols&&e.cols.length>0){var _=e.cols,R="",k=!1,U=0,O=_.length;_[0].type==="separator"&&(w+="top ",U=1),_[_.length-1].type==="separator"&&(w+="bottom ",O-=1);for(var J=U;J<O;J++)_[J].type==="align"?(E+=Mw[_[J].align],k&&(R+="none "),k=!0):_[J].type==="separator"&&k&&(R+=_[J].separator==="|"?"solid ":"dashed ",k=!1);x.setAttribute("columnalign",E.trim()),/[sd]/.test(R)&&x.setAttribute("columnlines",R.trim())}if(e.colSeparationType==="align"){for(var W=e.cols||[],ne="",ee=1;ee<W.length;ee++)ne+=ee%2?"0em ":"1em ";x.setAttribute("columnspacing",ne.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?x.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?x.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?x.setAttribute("columnspacing","0.5em"):x.setAttribute("columnspacing","1em");var q="",de=e.hLinesBeforeRow;w+=de[0].length>0?"left ":"",w+=de[de.length-1].length>0?"right ":"";for(var le=1;le<de.length-1;le++)q+=de[le].length===0?"none ":de[le][0]?"dashed ":"solid ";return/[sd]/.test(q)&&x.setAttribute("rowlines",q.trim()),w!==""&&(x=new ce.MathNode("menclose",[x]),x.setAttribute("notation",w.trim())),e.arraystretch&&e.arraystretch<1&&(x=new ce.MathNode("mstyle",[x]),x.setAttribute("scriptlevel","1")),x},zg=function(e,i){e.envName.indexOf("ed")===-1&&Qo(e);var l=[],a=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",c=fr(e.parser,{cols:l,addJot:!0,autoTag:o?void 0:Md(e.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),f,m=0,p={type:"ordgroup",mode:e.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){for(var x="",S=0;S<i[0].body.length;S++){var w=qe(i[0].body[S],"textord");x+=w.text}f=Number(x),m=f*2}var E=!m;c.body.forEach(function(U){for(var O=1;O<U.length;O+=2){var J=qe(U[O],"styling"),W=qe(J.body[0],"ordgroup");W.body.unshift(p)}if(E)m<U.length&&(m=U.length);else{var ne=U.length/2;if(f<ne)throw new he("Too many math in a row: "+("expected "+f+", but got "+ne),U[0])}});for(var _=0;_<m;++_){var R="r",k=0;_%2===1?R="l":_>0&&E&&(k=1),l[_]={type:"align",align:R,pregap:k,postgap:0}}return c.colSeparationType=E?"align":"alignat",c};ti({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var i=Xo(e[0]),l=i?[e[0]]:qe(e[0],"ordgroup").body,a=l.map(function(c){var f=Td(c),m=f.text;if("lcr".indexOf(m)!==-1)return{type:"align",align:m};if(m==="|")return{type:"separator",separator:"|"};if(m===":")return{type:"separator",separator:":"};throw new he("Unknown column alignment: "+m,c)}),o={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return fr(t.parser,o,_d(t.envName))},htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],i="c",l={hskipBeforeAndAfter:!1,cols:[{type:"align",align:i}]};if(t.envName.charAt(t.envName.length-1)==="*"){var a=t.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),i=a.fetch().text,"lcr".indexOf(i)===-1)throw new he("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),l.cols=[{type:"align",align:i}]}}var o=fr(t.parser,l,_d(t.envName)),c=Math.max(0,...o.body.map(f=>f.length));return o.cols=new Array(c).fill({type:"align",align:i}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},i=fr(t.parser,e,"script");return i.colSeparationType="small",i},htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var i=Xo(e[0]),l=i?[e[0]]:qe(e[0],"ordgroup").body,a=l.map(function(c){var f=Td(c),m=f.text;if("lc".indexOf(m)!==-1)return{type:"align",align:m};throw new he("Unknown column alignment: "+m,c)});if(a.length>1)throw new he("{subarray} can contain only one column");var o={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=fr(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new he("{subarray} can contain only one column");return o},htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},i=fr(t.parser,e,_d(t.envName));return{type:"leftright",mode:t.mode,body:[i],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:zg,htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Qo(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Md(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return fr(t.parser,e,"display")},htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:zg,htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Qo(t);var e={autoTag:Md(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return fr(t.parser,e,"display")},htmlBuilder:ni,mathmlBuilder:ii});ti({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Qo(t),mw(t.parser)},htmlBuilder:ni,mathmlBuilder:ii});M("\\nonumber","\\gdef\\@eqnsw{0}");M("\\notag","\\nonumber");xe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new he(t.funcName+" valid only within array environment")}});var q4=Ig;xe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];if(a.type!=="ordgroup")throw new he("Invalid environment name",a);for(var o="",c=0;c<a.body.length;++c)o+=qe(a.body[c],"textord").text;if(l==="\\begin"){if(!q4.hasOwnProperty(o))throw new he("No such environment: "+o,a);var f=q4[o],{args:m,optArgs:p}=i.parseArguments("\\begin{"+o+"}",f),x={mode:i.mode,envName:o,parser:i},S=f.handler(x,m,p);i.expect("\\end",!1);var w=i.nextToken,E=qe(i.parseFunction(),"environment");if(E.name!==o)throw new he("Mismatch: \\begin{"+o+"} matched by \\end{"+E.name+"}",w);return S}return{type:"environment",mode:i.mode,name:o,nameGroup:a}}});var Lg=(t,e)=>{var i=t.font,l=e.withFont(i);return Xe(t.body,l)},Ug=(t,e)=>{var i=t.font,l=e.withFont(i);return ut(t.body,l)},O4={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};xe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=Bo(e[0]),o=l;return o in O4&&(o=O4[o]),{type:"font",mode:i.mode,font:o.slice(1),body:a}},htmlBuilder:Lg,mathmlBuilder:Ug});xe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:i}=t,l=e[0],a=Ze.isCharacterBox(l);return{type:"mclass",mode:i.mode,mclass:Ko(l),body:[{type:"font",mode:i.mode,font:"boldsymbol",body:l}],isCharacterBox:a}}});xe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l,breakOnTokenText:a}=t,{mode:o}=i,c=i.parseExpression(!0,a),f="math"+l.slice(1);return{type:"font",mode:o,font:f,body:{type:"ordgroup",mode:i.mode,body:c}}},htmlBuilder:Lg,mathmlBuilder:Ug});var Bg=(t,e)=>{var i=e;return t==="display"?i=i.id>=Ie.SCRIPT.id?i.text():Ie.DISPLAY:t==="text"&&i.size===Ie.DISPLAY.size?i=Ie.TEXT:t==="script"?i=Ie.SCRIPT:t==="scriptscript"&&(i=Ie.SCRIPTSCRIPT),i},Rd=(t,e)=>{var i=Bg(t.size,e.style),l=i.fracNum(),a=i.fracDen(),o;o=e.havingStyle(l);var c=Xe(t.numer,o,e);if(t.continued){var f=8.5/e.fontMetrics().ptPerEm,m=3.5/e.fontMetrics().ptPerEm;c.height=c.height<f?f:c.height,c.depth=c.depth<m?m:c.depth}o=e.havingStyle(a);var p=Xe(t.denom,o,e),x,S,w;t.hasBarLine?(t.barSize?(S=vt(t.barSize,e),x=F.makeLineSpan("frac-line",e,S)):x=F.makeLineSpan("frac-line",e),S=x.height,w=x.height):(x=null,S=0,w=e.fontMetrics().defaultRuleThickness);var E,_,R;i.size===Ie.DISPLAY.size||t.size==="display"?(E=e.fontMetrics().num1,S>0?_=3*w:_=7*w,R=e.fontMetrics().denom1):(S>0?(E=e.fontMetrics().num2,_=w):(E=e.fontMetrics().num3,_=3*w),R=e.fontMetrics().denom2);var k;if(x){var O=e.fontMetrics().axisHeight;E-c.depth-(O+.5*S)<_&&(E+=_-(E-c.depth-(O+.5*S))),O-.5*S-(p.height-R)<_&&(R+=_-(O-.5*S-(p.height-R)));var J=-(O-.5*S);k=F.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:R},{type:"elem",elem:x,shift:J},{type:"elem",elem:c,shift:-E}]},e)}else{var U=E-c.depth-(p.height-R);U<_&&(E+=.5*(_-U),R+=.5*(_-U)),k=F.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:R},{type:"elem",elem:c,shift:-E}]},e)}o=e.havingStyle(i),k.height*=o.sizeMultiplier/e.sizeMultiplier,k.depth*=o.sizeMultiplier/e.sizeMultiplier;var W;i.size===Ie.DISPLAY.size?W=e.fontMetrics().delim1:i.size===Ie.SCRIPTSCRIPT.size?W=e.havingStyle(Ie.SCRIPT).fontMetrics().delim2:W=e.fontMetrics().delim2;var ne,ee;return t.leftDelim==null?ne=qa(e,["mopen"]):ne=Ci.customSizedDelim(t.leftDelim,W,!0,e.havingStyle(i),t.mode,["mopen"]),t.continued?ee=F.makeSpan([]):t.rightDelim==null?ee=qa(e,["mclose"]):ee=Ci.customSizedDelim(t.rightDelim,W,!0,e.havingStyle(i),t.mode,["mclose"]),F.makeSpan(["mord"].concat(o.sizingClasses(e)),[ne,F.makeSpan(["mfrac"],[k]),ee],e)},kd=(t,e)=>{var i=new ce.MathNode("mfrac",[ut(t.numer,e),ut(t.denom,e)]);if(!t.hasBarLine)i.setAttribute("linethickness","0px");else if(t.barSize){var l=vt(t.barSize,e);i.setAttribute("linethickness",pe(l))}var a=Bg(t.size,e.style);if(a.size!==e.style.size){i=new ce.MathNode("mstyle",[i]);var o=a.size===Ie.DISPLAY.size?"true":"false";i.setAttribute("displaystyle",o),i.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var c=[];if(t.leftDelim!=null){var f=new ce.MathNode("mo",[new ce.TextNode(t.leftDelim.replace("\\",""))]);f.setAttribute("fence","true"),c.push(f)}if(c.push(i),t.rightDelim!=null){var m=new ce.MathNode("mo",[new ce.TextNode(t.rightDelim.replace("\\",""))]);m.setAttribute("fence","true"),c.push(m)}return Sd(c)}return i};xe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=e[1],c,f=null,m=null,p="auto";switch(l){case"\\dfrac":case"\\frac":case"\\tfrac":c=!0;break;case"\\\\atopfrac":c=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":c=!1,f="(",m=")";break;case"\\\\bracefrac":c=!1,f="\\{",m="\\}";break;case"\\\\brackfrac":c=!1,f="[",m="]";break;default:throw new Error("Unrecognized genfrac command")}switch(l){case"\\dfrac":case"\\dbinom":p="display";break;case"\\tfrac":case"\\tbinom":p="text";break}return{type:"genfrac",mode:i.mode,continued:!1,numer:a,denom:o,hasBarLine:c,leftDelim:f,rightDelim:m,size:p,barSize:null}},htmlBuilder:Rd,mathmlBuilder:kd});xe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=e[1];return{type:"genfrac",mode:i.mode,continued:!0,numer:a,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});xe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:i,token:l}=t,a;switch(i){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:a,token:l}}});var V4=["display","text","script","scriptscript"],F4=function(e){var i=null;return e.length>0&&(i=e,i=i==="."?null:i),i};xe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:i}=t,l=e[4],a=e[5],o=Bo(e[0]),c=o.type==="atom"&&o.family==="open"?F4(o.text):null,f=Bo(e[1]),m=f.type==="atom"&&f.family==="close"?F4(f.text):null,p=qe(e[2],"size"),x,S=null;p.isBlank?x=!0:(S=p.value,x=S.number>0);var w="auto",E=e[3];if(E.type==="ordgroup"){if(E.body.length>0){var _=qe(E.body[0],"textord");w=V4[Number(_.text)]}}else E=qe(E,"textord"),w=V4[Number(E.text)];return{type:"genfrac",mode:i.mode,numer:l,denom:a,continued:!1,hasBarLine:x,barSize:S,leftDelim:c,rightDelim:m,size:w}},htmlBuilder:Rd,mathmlBuilder:kd});xe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:i,funcName:l,token:a}=t;return{type:"infix",mode:i.mode,replaceWith:"\\\\abovefrac",size:qe(e[0],"size").value,token:a}}});xe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=rS(qe(e[1],"infix").size),c=e[2],f=o.number>0;return{type:"genfrac",mode:i.mode,numer:a,denom:c,continued:!1,hasBarLine:f,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Rd,mathmlBuilder:kd});var Hg=(t,e)=>{var i=e.style,l,a;t.type==="supsub"?(l=t.sup?Xe(t.sup,e.havingStyle(i.sup()),e):Xe(t.sub,e.havingStyle(i.sub()),e),a=qe(t.base,"horizBrace")):a=qe(t,"horizBrace");var o=Xe(a.base,e.havingBaseStyle(Ie.DISPLAY)),c=Ri.svgSpan(a,e),f;if(a.isOver?(f=F.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:c}]},e),f.children[0].children[0].children[1].classes.push("svg-align")):(f=F.makeVList({positionType:"bottom",positionData:o.depth+.1+c.height,children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:o}]},e),f.children[0].children[0].children[0].classes.push("svg-align")),l){var m=F.makeSpan(["mord",a.isOver?"mover":"munder"],[f],e);a.isOver?f=F.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"kern",size:.2},{type:"elem",elem:l}]},e):f=F.makeVList({positionType:"bottom",positionData:m.depth+.2+l.height+l.depth,children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:m}]},e)}return F.makeSpan(["mord",a.isOver?"mover":"munder"],[f],e)},_w=(t,e)=>{var i=Ri.mathMLnode(t.label);return new ce.MathNode(t.isOver?"mover":"munder",[ut(t.base,e),i])};xe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t;return{type:"horizBrace",mode:i.mode,label:l,isOver:/^\\over/.test(l),base:e[0]}},htmlBuilder:Hg,mathmlBuilder:_w});xe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[1],a=qe(e[0],"url").url;return i.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:i.mode,href:a,body:Tt(l)}:i.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var i=It(t.body,e,!1);return F.makeAnchor(t.href,[],i,e)},mathmlBuilder:(t,e)=>{var i=cr(t.body,e);return i instanceof bn||(i=new bn("mrow",[i])),i.setAttribute("href",t.href),i}});xe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=qe(e[0],"url").url;if(!i.settings.isTrusted({command:"\\url",url:l}))return i.formatUnsupportedCmd("\\url");for(var a=[],o=0;o<l.length;o++){var c=l[o];c==="~"&&(c="\\textasciitilde"),a.push({type:"textord",mode:"text",text:c})}var f={type:"text",mode:i.mode,font:"\\texttt",body:a};return{type:"href",mode:i.mode,href:l,body:Tt(f)}}});xe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:i}=t;return{type:"hbox",mode:i.mode,body:Tt(e[0])}},htmlBuilder(t,e){var i=It(t.body,e,!1);return F.makeFragment(i)},mathmlBuilder(t,e){return new ce.MathNode("mrow",un(t.body,e))}});xe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l,token:a}=t,o=qe(e[0],"raw").string,c=e[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var f,m={};switch(l){case"\\htmlClass":m.class=o,f={command:"\\htmlClass",class:o};break;case"\\htmlId":m.id=o,f={command:"\\htmlId",id:o};break;case"\\htmlStyle":m.style=o,f={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var p=o.split(","),x=0;x<p.length;x++){var S=p[x],w=S.indexOf("=");if(w<0)throw new he("\\htmlData key/value '"+S+"' missing equals sign");var E=S.slice(0,w),_=S.slice(w+1);m["data-"+E.trim()]=_}f={command:"\\htmlData",attributes:m};break}default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(f)?{type:"html",mode:i.mode,attributes:m,body:Tt(c)}:i.formatUnsupportedCmd(l)},htmlBuilder:(t,e)=>{var i=It(t.body,e,!1),l=["enclosing"];t.attributes.class&&l.push(...t.attributes.class.trim().split(/\s+/));var a=F.makeSpan(l,i,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&a.setAttribute(o,t.attributes[o]);return a},mathmlBuilder:(t,e)=>cr(t.body,e)});xe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"htmlmathml",mode:i.mode,html:Tt(e[0]),mathml:Tt(e[1])}},htmlBuilder:(t,e)=>{var i=It(t.html,e,!1);return F.makeFragment(i)},mathmlBuilder:(t,e)=>cr(t.mathml,e)});var Ic=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!i)throw new he("Invalid size: '"+e+"' in \\includegraphics");var l={number:+(i[1]+i[2]),unit:i[3]};if(!ig(l))throw new he("Invalid unit: '"+l.unit+"' in \\includegraphics.");return l};xe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,i)=>{var{parser:l}=t,a={number:0,unit:"em"},o={number:.9,unit:"em"},c={number:0,unit:"em"},f="";if(i[0])for(var m=qe(i[0],"raw").string,p=m.split(","),x=0;x<p.length;x++){var S=p[x].split("=");if(S.length===2){var w=S[1].trim();switch(S[0].trim()){case"alt":f=w;break;case"width":a=Ic(w);break;case"height":o=Ic(w);break;case"totalheight":c=Ic(w);break;default:throw new he("Invalid key: '"+S[0]+"' in \\includegraphics.")}}}var E=qe(e[0],"url").url;return f===""&&(f=E,f=f.replace(/^.*[\\/]/,""),f=f.substring(0,f.lastIndexOf("."))),l.settings.isTrusted({command:"\\includegraphics",url:E})?{type:"includegraphics",mode:l.mode,alt:f,width:a,height:o,totalheight:c,src:E}:l.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var i=vt(t.height,e),l=0;t.totalheight.number>0&&(l=vt(t.totalheight,e)-i);var a=0;t.width.number>0&&(a=vt(t.width,e));var o={height:pe(i+l)};a>0&&(o.width=pe(a)),l>0&&(o.verticalAlign=pe(-l));var c=new _S(t.src,t.alt,o);return c.height=i,c.depth=l,c},mathmlBuilder:(t,e)=>{var i=new ce.MathNode("mglyph",[]);i.setAttribute("alt",t.alt);var l=vt(t.height,e),a=0;if(t.totalheight.number>0&&(a=vt(t.totalheight,e)-l,i.setAttribute("valign",pe(-a))),i.setAttribute("height",pe(l+a)),t.width.number>0){var o=vt(t.width,e);i.setAttribute("width",pe(o))}return i.setAttribute("src",t.src),i}});xe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:l}=t,a=qe(e[0],"size");if(i.settings.strict){var o=l[1]==="m",c=a.value.unit==="mu";o?(c||i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" supports only mu units, "+("not "+a.value.unit+" units")),i.mode!=="math"&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" works only in math mode")):c&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" doesn't support mu units")}return{type:"kern",mode:i.mode,dimension:a.value}},htmlBuilder(t,e){return F.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var i=vt(t.dimension,e);return new ce.SpaceNode(i)}});xe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"lap",mode:i.mode,alignment:l.slice(5),body:a}},htmlBuilder:(t,e)=>{var i;t.alignment==="clap"?(i=F.makeSpan([],[Xe(t.body,e)]),i=F.makeSpan(["inner"],[i],e)):i=F.makeSpan(["inner"],[Xe(t.body,e)]);var l=F.makeSpan(["fix"],[]),a=F.makeSpan([t.alignment],[i,l],e),o=F.makeSpan(["strut"]);return o.style.height=pe(a.height+a.depth),a.depth&&(o.style.verticalAlign=pe(-a.depth)),a.children.unshift(o),a=F.makeSpan(["thinbox"],[a],e),F.makeSpan(["mord","vbox"],[a],e)},mathmlBuilder:(t,e)=>{var i=new ce.MathNode("mpadded",[ut(t.body,e)]);if(t.alignment!=="rlap"){var l=t.alignment==="llap"?"-1":"-0.5";i.setAttribute("lspace",l+"width")}return i.setAttribute("width","0px"),i}});xe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:i,parser:l}=t,a=l.mode;l.switchMode("math");var o=i==="\\("?"\\)":"$",c=l.parseExpression(!1,o);return l.expect(o),l.switchMode(a),{type:"styling",mode:l.mode,style:"text",body:c}}});xe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new he("Mismatched "+t.funcName)}});var j4=(t,e)=>{switch(e.style.size){case Ie.DISPLAY.size:return t.display;case Ie.TEXT.size:return t.text;case Ie.SCRIPT.size:return t.script;case Ie.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};xe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"mathchoice",mode:i.mode,display:Tt(e[0]),text:Tt(e[1]),script:Tt(e[2]),scriptscript:Tt(e[3])}},htmlBuilder:(t,e)=>{var i=j4(t,e),l=It(i,e,!1);return F.makeFragment(l)},mathmlBuilder:(t,e)=>{var i=j4(t,e);return cr(i,e)}});var Gg=(t,e,i,l,a,o,c)=>{t=F.makeSpan([],[t]);var f=i&&Ze.isCharacterBox(i),m,p;if(e){var x=Xe(e,l.havingStyle(a.sup()),l);p={elem:x,kern:Math.max(l.fontMetrics().bigOpSpacing1,l.fontMetrics().bigOpSpacing3-x.depth)}}if(i){var S=Xe(i,l.havingStyle(a.sub()),l);m={elem:S,kern:Math.max(l.fontMetrics().bigOpSpacing2,l.fontMetrics().bigOpSpacing4-S.height)}}var w;if(p&&m){var E=l.fontMetrics().bigOpSpacing5+m.elem.height+m.elem.depth+m.kern+t.depth+c;w=F.makeVList({positionType:"bottom",positionData:E,children:[{type:"kern",size:l.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:pe(-o)},{type:"kern",size:m.kern},{type:"elem",elem:t},{type:"kern",size:p.kern},{type:"elem",elem:p.elem,marginLeft:pe(o)},{type:"kern",size:l.fontMetrics().bigOpSpacing5}]},l)}else if(m){var _=t.height-c;w=F.makeVList({positionType:"top",positionData:_,children:[{type:"kern",size:l.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:pe(-o)},{type:"kern",size:m.kern},{type:"elem",elem:t}]},l)}else if(p){var R=t.depth+c;w=F.makeVList({positionType:"bottom",positionData:R,children:[{type:"elem",elem:t},{type:"kern",size:p.kern},{type:"elem",elem:p.elem,marginLeft:pe(o)},{type:"kern",size:l.fontMetrics().bigOpSpacing5}]},l)}else return t;var k=[w];if(m&&o!==0&&!f){var U=F.makeSpan(["mspace"],[],l);U.style.marginRight=pe(o),k.unshift(U)}return F.makeSpan(["mop","op-limits"],k,l)},Pg=["\\smallint"],Ul=(t,e)=>{var i,l,a=!1,o;t.type==="supsub"?(i=t.sup,l=t.sub,o=qe(t.base,"op"),a=!0):o=qe(t,"op");var c=e.style,f=!1;c.size===Ie.DISPLAY.size&&o.symbol&&!Pg.includes(o.name)&&(f=!0);var m;if(o.symbol){var p=f?"Size2-Regular":"Size1-Regular",x="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(x=o.name.slice(1),o.name=x==="oiint"?"\\iint":"\\iiint"),m=F.makeSymbol(o.name,p,"math",e,["mop","op-symbol",f?"large-op":"small-op"]),x.length>0){var S=m.italic,w=F.staticSvg(x+"Size"+(f?"2":"1"),e);m=F.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:0},{type:"elem",elem:w,shift:f?.08:0}]},e),o.name="\\"+x,m.classes.unshift("mop"),m.italic=S}}else if(o.body){var E=It(o.body,e,!0);E.length===1&&E[0]instanceof Un?(m=E[0],m.classes[0]="mop"):m=F.makeSpan(["mop"],E,e)}else{for(var _=[],R=1;R<o.name.length;R++)_.push(F.mathsym(o.name[R],o.mode,e));m=F.makeSpan(["mop"],_,e)}var k=0,U=0;return(m instanceof Un||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(k=(m.height-m.depth)/2-e.fontMetrics().axisHeight,U=m.italic),a?Gg(m,i,l,e,c,U,k):(k&&(m.style.position="relative",m.style.top=pe(k)),m)},Fa=(t,e)=>{var i;if(t.symbol)i=new bn("mo",[Bn(t.name,t.mode)]),Pg.includes(t.name)&&i.setAttribute("largeop","false");else if(t.body)i=new bn("mo",un(t.body,e));else{i=new bn("mi",[new ei(t.name.slice(1))]);var l=new bn("mo",[Bn("","text")]);t.parentIsSupSub?i=new bn("mrow",[i,l]):i=mg([i,l])}return i},Rw={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};xe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=l;return a.length===1&&(a=Rw[a]),{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:Ul,mathmlBuilder:Fa});xe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Tt(l)}},htmlBuilder:Ul,mathmlBuilder:Fa});var kw={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};xe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:Ul,mathmlBuilder:Fa});xe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:Ul,mathmlBuilder:Fa});xe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:i}=t,l=i;return l.length===1&&(l=kw[l]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:l}},htmlBuilder:Ul,mathmlBuilder:Fa});var qg=(t,e)=>{var i,l,a=!1,o;t.type==="supsub"?(i=t.sup,l=t.sub,o=qe(t.base,"operatorname"),a=!0):o=qe(t,"operatorname");var c;if(o.body.length>0){for(var f=o.body.map(S=>{var w=S.text;return typeof w=="string"?{type:"textord",mode:S.mode,text:w}:S}),m=It(f,e.withFont("mathrm"),!0),p=0;p<m.length;p++){var x=m[p];x instanceof Un&&(x.text=x.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}c=F.makeSpan(["mop"],m,e)}else c=F.makeSpan(["mop"],[],e);return a?Gg(c,i,l,e,e.style,0,0):c},Iw=(t,e)=>{for(var i=un(t.body,e.withFont("mathrm")),l=!0,a=0;a<i.length;a++){var o=i[a];if(!(o instanceof ce.SpaceNode))if(o instanceof ce.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var c=o.children[0];o.children.length===1&&c instanceof ce.TextNode?c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):l=!1;break}default:l=!1}else l=!1}if(l){var f=i.map(x=>x.toText()).join("");i=[new ce.TextNode(f)]}var m=new ce.MathNode("mi",i);m.setAttribute("mathvariant","normal");var p=new ce.MathNode("mo",[Bn("","text")]);return t.parentIsSupSub?new ce.MathNode("mrow",[m,p]):ce.newDocumentFragment([m,p])};xe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"operatorname",mode:i.mode,body:Tt(a),alwaysHandleSupSub:l==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:qg,mathmlBuilder:Iw});M("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Br({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?F.makeFragment(It(t.body,e,!1)):F.makeSpan(["mord"],It(t.body,e,!0),e)},mathmlBuilder(t,e){return cr(t.body,e,!0)}});xe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:i}=t,l=e[0];return{type:"overline",mode:i.mode,body:l}},htmlBuilder(t,e){var i=Xe(t.body,e.havingCrampedStyle()),l=F.makeLineSpan("overline-line",e),a=e.fontMetrics().defaultRuleThickness,o=F.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:3*a},{type:"elem",elem:l},{type:"kern",size:a}]},e);return F.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var i=new ce.MathNode("mo",[new ce.TextNode("")]);i.setAttribute("stretchy","true");var l=new ce.MathNode("mover",[ut(t.body,e),i]);return l.setAttribute("accent","true"),l}});xe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"phantom",mode:i.mode,body:Tt(l)}},htmlBuilder:(t,e)=>{var i=It(t.body,e.withPhantom(),!1);return F.makeFragment(i)},mathmlBuilder:(t,e)=>{var i=un(t.body,e);return new ce.MathNode("mphantom",i)}});xe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"hphantom",mode:i.mode,body:l}},htmlBuilder:(t,e)=>{var i=F.makeSpan([],[Xe(t.body,e.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var l=0;l<i.children.length;l++)i.children[l].height=0,i.children[l].depth=0;return i=F.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e),F.makeSpan(["mord"],[i],e)},mathmlBuilder:(t,e)=>{var i=un(Tt(t.body),e),l=new ce.MathNode("mphantom",i),a=new ce.MathNode("mpadded",[l]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});xe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"vphantom",mode:i.mode,body:l}},htmlBuilder:(t,e)=>{var i=F.makeSpan(["inner"],[Xe(t.body,e.withPhantom())]),l=F.makeSpan(["fix"],[]);return F.makeSpan(["mord","rlap"],[i,l],e)},mathmlBuilder:(t,e)=>{var i=un(Tt(t.body),e),l=new ce.MathNode("mphantom",i),a=new ce.MathNode("mpadded",[l]);return a.setAttribute("width","0px"),a}});xe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t,l=qe(e[0],"size").value,a=e[1];return{type:"raisebox",mode:i.mode,dy:l,body:a}},htmlBuilder(t,e){var i=Xe(t.body,e),l=vt(t.dy,e);return F.makeVList({positionType:"shift",positionData:-l,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){var i=new ce.MathNode("mpadded",[ut(t.body,e)]),l=t.dy.number+t.dy.unit;return i.setAttribute("voffset",l),i}});xe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});xe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,i){var{parser:l}=t,a=i[0],o=qe(e[0],"size"),c=qe(e[1],"size");return{type:"rule",mode:l.mode,shift:a&&qe(a,"size").value,width:o.value,height:c.value}},htmlBuilder(t,e){var i=F.makeSpan(["mord","rule"],[],e),l=vt(t.width,e),a=vt(t.height,e),o=t.shift?vt(t.shift,e):0;return i.style.borderRightWidth=pe(l),i.style.borderTopWidth=pe(a),i.style.bottom=pe(o),i.width=l,i.height=a+o,i.depth=-o,i.maxFontSize=a*1.125*e.sizeMultiplier,i},mathmlBuilder(t,e){var i=vt(t.width,e),l=vt(t.height,e),a=t.shift?vt(t.shift,e):0,o=e.color&&e.getColor()||"black",c=new ce.MathNode("mspace");c.setAttribute("mathbackground",o),c.setAttribute("width",pe(i)),c.setAttribute("height",pe(l));var f=new ce.MathNode("mpadded",[c]);return a>=0?f.setAttribute("height",pe(a)):(f.setAttribute("height",pe(a)),f.setAttribute("depth",pe(-a))),f.setAttribute("voffset",pe(a)),f}});function Og(t,e,i){for(var l=It(t,e,!1),a=e.sizeMultiplier/i.sizeMultiplier,o=0;o<l.length;o++){var c=l[o].classes.indexOf("sizing");c<0?Array.prototype.push.apply(l[o].classes,e.sizingClasses(i)):l[o].classes[c+1]==="reset-size"+e.size&&(l[o].classes[c+1]="reset-size"+i.size),l[o].height*=a,l[o].depth*=a}return F.makeFragment(l)}var Y4=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Dw=(t,e)=>{var i=e.havingSize(t.size);return Og(t.body,i,e)};xe({type:"sizing",names:Y4,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:i,funcName:l,parser:a}=t,o=a.parseExpression(!1,i);return{type:"sizing",mode:a.mode,size:Y4.indexOf(l)+1,body:o}},htmlBuilder:Dw,mathmlBuilder:(t,e)=>{var i=e.havingSize(t.size),l=un(t.body,i),a=new ce.MathNode("mstyle",l);return a.setAttribute("mathsize",pe(i.sizeMultiplier)),a}});xe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,i)=>{var{parser:l}=t,a=!1,o=!1,c=i[0]&&qe(i[0],"ordgroup");if(c)for(var f="",m=0;m<c.body.length;++m){var p=c.body[m];if(f=p.text,f==="t")a=!0;else if(f==="b")o=!0;else{a=!1,o=!1;break}}else a=!0,o=!0;var x=e[0];return{type:"smash",mode:l.mode,body:x,smashHeight:a,smashDepth:o}},htmlBuilder:(t,e)=>{var i=F.makeSpan([],[Xe(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return i;if(t.smashHeight&&(i.height=0,i.children))for(var l=0;l<i.children.length;l++)i.children[l].height=0;if(t.smashDepth&&(i.depth=0,i.children))for(var a=0;a<i.children.length;a++)i.children[a].depth=0;var o=F.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e);return F.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var i=new ce.MathNode("mpadded",[ut(t.body,e)]);return t.smashHeight&&i.setAttribute("height","0px"),t.smashDepth&&i.setAttribute("depth","0px"),i}});xe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:l}=t,a=i[0],o=e[0];return{type:"sqrt",mode:l.mode,body:o,index:a}},htmlBuilder(t,e){var i=Xe(t.body,e.havingCrampedStyle());i.height===0&&(i.height=e.fontMetrics().xHeight),i=F.wrapFragment(i,e);var l=e.fontMetrics(),a=l.defaultRuleThickness,o=a;e.style.id<Ie.TEXT.id&&(o=e.fontMetrics().xHeight);var c=a+o/4,f=i.height+i.depth+c+a,{span:m,ruleWidth:p,advanceWidth:x}=Ci.sqrtImage(f,e),S=m.height-p;S>i.height+i.depth+c&&(c=(c+S-i.height-i.depth)/2);var w=m.height-i.height-c-p;i.style.paddingLeft=pe(x);var E=F.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+w)},{type:"elem",elem:m},{type:"kern",size:p}]},e);if(t.index){var _=e.havingStyle(Ie.SCRIPTSCRIPT),R=Xe(t.index,_,e),k=.6*(E.height-E.depth),U=F.makeVList({positionType:"shift",positionData:-k,children:[{type:"elem",elem:R}]},e),O=F.makeSpan(["root"],[U]);return F.makeSpan(["mord","sqrt"],[O,E],e)}else return F.makeSpan(["mord","sqrt"],[E],e)},mathmlBuilder(t,e){var{body:i,index:l}=t;return l?new ce.MathNode("mroot",[ut(i,e),ut(l,e)]):new ce.MathNode("msqrt",[ut(i,e)])}});var J4={display:Ie.DISPLAY,text:Ie.TEXT,script:Ie.SCRIPT,scriptscript:Ie.SCRIPTSCRIPT};xe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:i,funcName:l,parser:a}=t,o=a.parseExpression(!0,i),c=l.slice(1,l.length-5);return{type:"styling",mode:a.mode,style:c,body:o}},htmlBuilder(t,e){var i=J4[t.style],l=e.havingStyle(i).withFont("");return Og(t.body,l,e)},mathmlBuilder(t,e){var i=J4[t.style],l=e.havingStyle(i),a=un(t.body,l),o=new ce.MathNode("mstyle",a),c={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},f=c[t.style];return o.setAttribute("scriptlevel",f[0]),o.setAttribute("displaystyle",f[1]),o}});var zw=function(e,i){var l=e.base;if(l)if(l.type==="op"){var a=l.limits&&(i.style.size===Ie.DISPLAY.size||l.alwaysHandleSupSub);return a?Ul:null}else if(l.type==="operatorname"){var o=l.alwaysHandleSupSub&&(i.style.size===Ie.DISPLAY.size||l.limits);return o?qg:null}else{if(l.type==="accent")return Ze.isCharacterBox(l.base)?Ad:null;if(l.type==="horizBrace"){var c=!e.sub;return c===l.isOver?Hg:null}else return null}else return null};Br({type:"supsub",htmlBuilder(t,e){var i=zw(t,e);if(i)return i(t,e);var{base:l,sup:a,sub:o}=t,c=Xe(l,e),f,m,p=e.fontMetrics(),x=0,S=0,w=l&&Ze.isCharacterBox(l);if(a){var E=e.havingStyle(e.style.sup());f=Xe(a,E,e),w||(x=c.height-E.fontMetrics().supDrop*E.sizeMultiplier/e.sizeMultiplier)}if(o){var _=e.havingStyle(e.style.sub());m=Xe(o,_,e),w||(S=c.depth+_.fontMetrics().subDrop*_.sizeMultiplier/e.sizeMultiplier)}var R;e.style===Ie.DISPLAY?R=p.sup1:e.style.cramped?R=p.sup3:R=p.sup2;var k=e.sizeMultiplier,U=pe(.5/p.ptPerEm/k),O=null;if(m){var J=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(c instanceof Un||J)&&(O=pe(-c.italic))}var W;if(f&&m){x=Math.max(x,R,f.depth+.25*p.xHeight),S=Math.max(S,p.sub2);var ne=p.defaultRuleThickness,ee=4*ne;if(x-f.depth-(m.height-S)<ee){S=ee-(x-f.depth)+m.height;var q=.8*p.xHeight-(x-f.depth);q>0&&(x+=q,S-=q)}var de=[{type:"elem",elem:m,shift:S,marginRight:U,marginLeft:O},{type:"elem",elem:f,shift:-x,marginRight:U}];W=F.makeVList({positionType:"individualShift",children:de},e)}else if(m){S=Math.max(S,p.sub1,m.height-.8*p.xHeight);var le=[{type:"elem",elem:m,marginLeft:O,marginRight:U}];W=F.makeVList({positionType:"shift",positionData:S,children:le},e)}else if(f)x=Math.max(x,R,f.depth+.25*p.xHeight),W=F.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:f,marginRight:U}]},e);else throw new Error("supsub must have either sup or sub.");var be=ed(c,"right")||"mord";return F.makeSpan([be],[c,F.makeSpan(["msupsub"],[W])],e)},mathmlBuilder(t,e){var i=!1,l,a;t.base&&t.base.type==="horizBrace"&&(a=!!t.sup,a===t.base.isOver&&(i=!0,l=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[ut(t.base,e)];t.sub&&o.push(ut(t.sub,e)),t.sup&&o.push(ut(t.sup,e));var c;if(i)c=l?"mover":"munder";else if(t.sub)if(t.sup){var p=t.base;p&&p.type==="op"&&p.limits&&e.style===Ie.DISPLAY||p&&p.type==="operatorname"&&p.alwaysHandleSupSub&&(e.style===Ie.DISPLAY||p.limits)?c="munderover":c="msubsup"}else{var m=t.base;m&&m.type==="op"&&m.limits&&(e.style===Ie.DISPLAY||m.alwaysHandleSupSub)||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(m.limits||e.style===Ie.DISPLAY)?c="munder":c="msub"}else{var f=t.base;f&&f.type==="op"&&f.limits&&(e.style===Ie.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||e.style===Ie.DISPLAY)?c="mover":c="msup"}return new ce.MathNode(c,o)}});Br({type:"atom",htmlBuilder(t,e){return F.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var i=new ce.MathNode("mo",[Bn(t.text,t.mode)]);if(t.family==="bin"){var l=wd(t,e);l==="bold-italic"&&i.setAttribute("mathvariant",l)}else t.family==="punct"?i.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&i.setAttribute("stretchy","false");return i}});var Vg={mi:"italic",mn:"normal",mtext:"normal"};Br({type:"mathord",htmlBuilder(t,e){return F.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var i=new ce.MathNode("mi",[Bn(t.text,t.mode,e)]),l=wd(t,e)||"italic";return l!==Vg[i.type]&&i.setAttribute("mathvariant",l),i}});Br({type:"textord",htmlBuilder(t,e){return F.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var i=Bn(t.text,t.mode,e),l=wd(t,e)||"normal",a;return t.mode==="text"?a=new ce.MathNode("mtext",[i]):/[0-9]/.test(t.text)?a=new ce.MathNode("mn",[i]):t.text==="\\prime"?a=new ce.MathNode("mo",[i]):a=new ce.MathNode("mi",[i]),l!==Vg[a.type]&&a.setAttribute("mathvariant",l),a}});var Dc={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},zc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Br({type:"spacing",htmlBuilder(t,e){if(zc.hasOwnProperty(t.text)){var i=zc[t.text].className||"";if(t.mode==="text"){var l=F.makeOrd(t,e,"textord");return l.classes.push(i),l}else return F.makeSpan(["mspace",i],[F.mathsym(t.text,t.mode,e)],e)}else{if(Dc.hasOwnProperty(t.text))return F.makeSpan(["mspace",Dc[t.text]],[],e);throw new he('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var i;if(zc.hasOwnProperty(t.text))i=new ce.MathNode("mtext",[new ce.TextNode("")]);else{if(Dc.hasOwnProperty(t.text))return new ce.MathNode("mspace");throw new he('Unknown type of space "'+t.text+'"')}return i}});var X4=()=>{var t=new ce.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Br({type:"tag",mathmlBuilder(t,e){var i=new ce.MathNode("mtable",[new ce.MathNode("mtr",[X4(),new ce.MathNode("mtd",[cr(t.body,e)]),X4(),new ce.MathNode("mtd",[cr(t.tag,e)])])]);return i.setAttribute("width","100%"),i}});var K4={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},$4={"\\textbf":"textbf","\\textmd":"textmd"},Lw={"\\textit":"textit","\\textup":"textup"},Q4=(t,e)=>{var i=t.font;if(i){if(K4[i])return e.withTextFontFamily(K4[i]);if($4[i])return e.withTextFontWeight($4[i]);if(i==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Lw[i])};xe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"text",mode:i.mode,body:Tt(a),font:l}},htmlBuilder(t,e){var i=Q4(t,e),l=It(t.body,i,!0);return F.makeSpan(["mord","text"],l,i)},mathmlBuilder(t,e){var i=Q4(t,e);return cr(t.body,i)}});xe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"underline",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Xe(t.body,e),l=F.makeLineSpan("underline-line",e),a=e.fontMetrics().defaultRuleThickness,o=F.makeVList({positionType:"top",positionData:i.height,children:[{type:"kern",size:a},{type:"elem",elem:l},{type:"kern",size:3*a},{type:"elem",elem:i}]},e);return F.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var i=new ce.MathNode("mo",[new ce.TextNode("")]);i.setAttribute("stretchy","true");var l=new ce.MathNode("munder",[ut(t.body,e),i]);return l.setAttribute("accentunder","true"),l}});xe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"vcenter",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Xe(t.body,e),l=e.fontMetrics().axisHeight,a=.5*(i.height-l-(i.depth+l));return F.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){return new ce.MathNode("mpadded",[ut(t.body,e)],["vcenter"])}});xe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,i){throw new he("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var i=Z4(t),l=[],a=e.havingStyle(e.style.text()),o=0;o<i.length;o++){var c=i[o];c==="~"&&(c="\\textasciitilde"),l.push(F.makeSymbol(c,"Typewriter-Regular",t.mode,a,["mord","texttt"]))}return F.makeSpan(["mord","text"].concat(a.sizingClasses(e)),F.tryCombineChars(l),a)},mathmlBuilder(t,e){var i=new ce.TextNode(Z4(t)),l=new ce.MathNode("mtext",[i]);return l.setAttribute("mathvariant","monospace"),l}});var Z4=t=>t.body.replace(/ /g,t.star?"":""),sr=fg,Fg=`[ \r
	]`,Uw="\\\\[a-zA-Z@]+",Bw="\\\\[^\uD800-\uDFFF]",Hw="("+Uw+")"+Fg+"*",Gw=`\\\\(
|[ \r	]+
?)[ \r	]*`,rd="[-]",Pw=new RegExp(rd+"+$"),qw="("+Fg+"+)|"+(Gw+"|")+"([!-\\[\\]---]"+(rd+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(rd+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Hw)+("|"+Bw+")");class W4{constructor(e,i){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=i,this.tokenRegex=new RegExp(qw,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,i){this.catcodes[e]=i}lex(){var e=this.input,i=this.tokenRegex.lastIndex;if(i===e.length)return new Sn("EOF",new on(this,i,i));var l=this.tokenRegex.exec(e);if(l===null||l.index!==i)throw new he("Unexpected character: '"+e[i]+"'",new Sn(e[i],new on(this,i,i+1)));var a=l[6]||l[3]||(l[2]?"\\ ":" ");if(this.catcodes[a]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Sn(a,new on(this,i,this.tokenRegex.lastIndex))}}class Ow{constructor(e,i){e===void 0&&(e={}),i===void 0&&(i={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=i,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new he("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var i in e)e.hasOwnProperty(i)&&(e[i]==null?delete this.current[i]:this.current[i]=e[i])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,i,l){if(l===void 0&&(l=!1),l){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=i)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}i==null?delete this.current[e]:this.current[e]=i}}var Vw=Dg;M("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});M("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});M("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});M("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});M("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var i=t.future();return e[0].length===1&&e[0][0].text===i.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});M("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");M("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var e2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};M("\\char",function(t){var e=t.popToken(),i,l="";if(e.text==="'")i=8,e=t.popToken();else if(e.text==='"')i=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")l=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new he("\\char` missing argument");l=e.text.charCodeAt(0)}else i=10;if(i){if(l=e2[e.text],l==null||l>=i)throw new he("Invalid base-"+i+" digit "+e.text);for(var a;(a=e2[t.future().text])!=null&&a<i;)l*=i,l+=a,t.popToken()}return"\\@char{"+l+"}"});var Id=(t,e,i,l)=>{var a=t.consumeArg().tokens;if(a.length!==1)throw new he("\\newcommand's first argument must be a macro name");var o=a[0].text,c=t.isDefined(o);if(c&&!e)throw new he("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!c&&!i)throw new he("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var f=0;if(a=t.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var m="",p=t.expandNextToken();p.text!=="]"&&p.text!=="EOF";)m+=p.text,p=t.expandNextToken();if(!m.match(/^\s*[0-9]+\s*$/))throw new he("Invalid number of arguments: "+m);f=parseInt(m),a=t.consumeArg().tokens}return c&&l||t.macros.set(o,{tokens:a,numArgs:f}),""};M("\\newcommand",t=>Id(t,!1,!0,!1));M("\\renewcommand",t=>Id(t,!0,!1,!1));M("\\providecommand",t=>Id(t,!0,!0,!0));M("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(i=>i.text).join("")),""});M("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(i=>i.text).join("")),""});M("\\show",t=>{var e=t.popToken(),i=e.text;return console.log(e,t.macros.get(i),sr[i],dt.math[i],dt.text[i]),""});M("\\bgroup","{");M("\\egroup","}");M("~","\\nobreakspace");M("\\lq","`");M("\\rq","'");M("\\aa","\\r a");M("\\AA","\\r A");M("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");M("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");M("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");M("","\\mathscr{B}");M("","\\mathscr{E}");M("","\\mathscr{F}");M("","\\mathscr{H}");M("","\\mathscr{I}");M("","\\mathscr{L}");M("","\\mathscr{M}");M("","\\mathscr{R}");M("","\\mathfrak{C}");M("","\\mathfrak{H}");M("","\\mathfrak{Z}");M("\\Bbbk","\\Bbb{k}");M("","\\cdotp");M("\\llap","\\mathllap{\\textrm{#1}}");M("\\rlap","\\mathrlap{\\textrm{#1}}");M("\\clap","\\mathclap{\\textrm{#1}}");M("\\mathstrut","\\vphantom{(}");M("\\underbar","\\underline{\\text{#1}}");M("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');M("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");M("\\ne","\\neq");M("","\\neq");M("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");M("","\\notin");M("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");M("","\\perp");M("","\\mathclose{!\\mkern-0.8mu!}");M("","\\notni");M("","\\ulcorner");M("","\\urcorner");M("","\\llcorner");M("","\\lrcorner");M("","\\copyright");M("","\\textregistered");M("","\\textregistered");M("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');M("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');M("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');M("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');M("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");M("","\\vdots");M("\\varGamma","\\mathit{\\Gamma}");M("\\varDelta","\\mathit{\\Delta}");M("\\varTheta","\\mathit{\\Theta}");M("\\varLambda","\\mathit{\\Lambda}");M("\\varXi","\\mathit{\\Xi}");M("\\varPi","\\mathit{\\Pi}");M("\\varSigma","\\mathit{\\Sigma}");M("\\varUpsilon","\\mathit{\\Upsilon}");M("\\varPhi","\\mathit{\\Phi}");M("\\varPsi","\\mathit{\\Psi}");M("\\varOmega","\\mathit{\\Omega}");M("\\substack","\\begin{subarray}{c}#1\\end{subarray}");M("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");M("\\boxed","\\fbox{$\\displaystyle{#1}$}");M("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");M("\\implies","\\DOTSB\\;\\Longrightarrow\\;");M("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");M("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");M("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var t2={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};M("\\dots",function(t){var e="\\dotso",i=t.expandAfterFuture().text;return i in t2?e=t2[i]:(i.slice(0,4)==="\\not"||i in dt.math&&["bin","rel"].includes(dt.math[i].group))&&(e="\\dotsb"),e});var Dd={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};M("\\dotso",function(t){var e=t.future().text;return e in Dd?"\\ldots\\,":"\\ldots"});M("\\dotsc",function(t){var e=t.future().text;return e in Dd&&e!==","?"\\ldots\\,":"\\ldots"});M("\\cdots",function(t){var e=t.future().text;return e in Dd?"\\@cdots\\,":"\\@cdots"});M("\\dotsb","\\cdots");M("\\dotsm","\\cdots");M("\\dotsi","\\!\\cdots");M("\\dotsx","\\ldots\\,");M("\\DOTSI","\\relax");M("\\DOTSB","\\relax");M("\\DOTSX","\\relax");M("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");M("\\,","\\tmspace+{3mu}{.1667em}");M("\\thinspace","\\,");M("\\>","\\mskip{4mu}");M("\\:","\\tmspace+{4mu}{.2222em}");M("\\medspace","\\:");M("\\;","\\tmspace+{5mu}{.2777em}");M("\\thickspace","\\;");M("\\!","\\tmspace-{3mu}{.1667em}");M("\\negthinspace","\\!");M("\\negmedspace","\\tmspace-{4mu}{.2222em}");M("\\negthickspace","\\tmspace-{5mu}{.277em}");M("\\enspace","\\kern.5em ");M("\\enskip","\\hskip.5em\\relax");M("\\quad","\\hskip1em\\relax");M("\\qquad","\\hskip2em\\relax");M("\\tag","\\@ifstar\\tag@literal\\tag@paren");M("\\tag@paren","\\tag@literal{({#1})}");M("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new he("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});M("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");M("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");M("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");M("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");M("\\newline","\\\\\\relax");M("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var jg=pe(Wn["Main-Regular"][84][1]-.7*Wn["Main-Regular"][65][1]);M("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+jg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");M("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+jg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");M("\\hspace","\\@ifstar\\@hspacer\\@hspace");M("\\@hspace","\\hskip #1\\relax");M("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");M("\\ordinarycolon",":");M("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");M("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');M("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');M("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');M("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');M("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');M("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');M("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');M("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');M("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');M("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');M("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');M("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');M("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');M("","\\dblcolon");M("","\\eqcolon");M("","\\coloneqq");M("","\\eqqcolon");M("","\\Coloneqq");M("\\ratio","\\vcentcolon");M("\\coloncolon","\\dblcolon");M("\\colonequals","\\coloneqq");M("\\coloncolonequals","\\Coloneqq");M("\\equalscolon","\\eqqcolon");M("\\equalscoloncolon","\\Eqqcolon");M("\\colonminus","\\coloneq");M("\\coloncolonminus","\\Coloneq");M("\\minuscolon","\\eqcolon");M("\\minuscoloncolon","\\Eqcolon");M("\\coloncolonapprox","\\Colonapprox");M("\\coloncolonsim","\\Colonsim");M("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");M("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");M("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");M("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");M("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");M("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");M("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");M("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");M("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");M("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");M("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");M("\\ngeqq","\\html@mathml{\\@ngeqq}{}");M("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");M("\\nleqq","\\html@mathml{\\@nleqq}{}");M("\\nleqslant","\\html@mathml{\\@nleqslant}{}");M("\\nshortmid","\\html@mathml{\\@nshortmid}{}");M("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");M("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");M("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");M("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");M("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");M("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");M("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");M("\\imath","\\html@mathml{\\@imath}{}");M("\\jmath","\\html@mathml{\\@jmath}{}");M("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");M("","\\llbracket");M("","\\rrbracket");M("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");M("","\\lBrace");M("","\\rBrace");M("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");M("","\\minuso");M("\\darr","\\downarrow");M("\\dArr","\\Downarrow");M("\\Darr","\\Downarrow");M("\\lang","\\langle");M("\\rang","\\rangle");M("\\uarr","\\uparrow");M("\\uArr","\\Uparrow");M("\\Uarr","\\Uparrow");M("\\N","\\mathbb{N}");M("\\R","\\mathbb{R}");M("\\Z","\\mathbb{Z}");M("\\alef","\\aleph");M("\\alefsym","\\aleph");M("\\Alpha","\\mathrm{A}");M("\\Beta","\\mathrm{B}");M("\\bull","\\bullet");M("\\Chi","\\mathrm{X}");M("\\clubs","\\clubsuit");M("\\cnums","\\mathbb{C}");M("\\Complex","\\mathbb{C}");M("\\Dagger","\\ddagger");M("\\diamonds","\\diamondsuit");M("\\empty","\\emptyset");M("\\Epsilon","\\mathrm{E}");M("\\Eta","\\mathrm{H}");M("\\exist","\\exists");M("\\harr","\\leftrightarrow");M("\\hArr","\\Leftrightarrow");M("\\Harr","\\Leftrightarrow");M("\\hearts","\\heartsuit");M("\\image","\\Im");M("\\infin","\\infty");M("\\Iota","\\mathrm{I}");M("\\isin","\\in");M("\\Kappa","\\mathrm{K}");M("\\larr","\\leftarrow");M("\\lArr","\\Leftarrow");M("\\Larr","\\Leftarrow");M("\\lrarr","\\leftrightarrow");M("\\lrArr","\\Leftrightarrow");M("\\Lrarr","\\Leftrightarrow");M("\\Mu","\\mathrm{M}");M("\\natnums","\\mathbb{N}");M("\\Nu","\\mathrm{N}");M("\\Omicron","\\mathrm{O}");M("\\plusmn","\\pm");M("\\rarr","\\rightarrow");M("\\rArr","\\Rightarrow");M("\\Rarr","\\Rightarrow");M("\\real","\\Re");M("\\reals","\\mathbb{R}");M("\\Reals","\\mathbb{R}");M("\\Rho","\\mathrm{P}");M("\\sdot","\\cdot");M("\\sect","\\S");M("\\spades","\\spadesuit");M("\\sub","\\subset");M("\\sube","\\subseteq");M("\\supe","\\supseteq");M("\\Tau","\\mathrm{T}");M("\\thetasym","\\vartheta");M("\\weierp","\\wp");M("\\Zeta","\\mathrm{Z}");M("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");M("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");M("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");M("\\bra","\\mathinner{\\langle{#1}|}");M("\\ket","\\mathinner{|{#1}\\rangle}");M("\\braket","\\mathinner{\\langle{#1}\\rangle}");M("\\Bra","\\left\\langle#1\\right|");M("\\Ket","\\left|#1\\right\\rangle");var Yg=t=>e=>{var i=e.consumeArg().tokens,l=e.consumeArg().tokens,a=e.consumeArg().tokens,o=e.consumeArg().tokens,c=e.macros.get("|"),f=e.macros.get("\\|");e.macros.beginGroup();var m=S=>w=>{t&&(w.macros.set("|",c),a.length&&w.macros.set("\\|",f));var E=S;if(!S&&a.length){var _=w.future();_.text==="|"&&(w.popToken(),E=!0)}return{tokens:E?a:l,numArgs:0}};e.macros.set("|",m(!1)),a.length&&e.macros.set("\\|",m(!0));var p=e.consumeArg().tokens,x=e.expandTokens([...o,...p,...i]);return e.macros.endGroup(),{tokens:x.reverse(),numArgs:0}};M("\\bra@ket",Yg(!1));M("\\bra@set",Yg(!0));M("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");M("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");M("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");M("\\angln","{\\angl n}");M("\\blue","\\textcolor{##6495ed}{#1}");M("\\orange","\\textcolor{##ffa500}{#1}");M("\\pink","\\textcolor{##ff00af}{#1}");M("\\red","\\textcolor{##df0030}{#1}");M("\\green","\\textcolor{##28ae7b}{#1}");M("\\gray","\\textcolor{gray}{#1}");M("\\purple","\\textcolor{##9d38bd}{#1}");M("\\blueA","\\textcolor{##ccfaff}{#1}");M("\\blueB","\\textcolor{##80f6ff}{#1}");M("\\blueC","\\textcolor{##63d9ea}{#1}");M("\\blueD","\\textcolor{##11accd}{#1}");M("\\blueE","\\textcolor{##0c7f99}{#1}");M("\\tealA","\\textcolor{##94fff5}{#1}");M("\\tealB","\\textcolor{##26edd5}{#1}");M("\\tealC","\\textcolor{##01d1c1}{#1}");M("\\tealD","\\textcolor{##01a995}{#1}");M("\\tealE","\\textcolor{##208170}{#1}");M("\\greenA","\\textcolor{##b6ffb0}{#1}");M("\\greenB","\\textcolor{##8af281}{#1}");M("\\greenC","\\textcolor{##74cf70}{#1}");M("\\greenD","\\textcolor{##1fab54}{#1}");M("\\greenE","\\textcolor{##0d923f}{#1}");M("\\goldA","\\textcolor{##ffd0a9}{#1}");M("\\goldB","\\textcolor{##ffbb71}{#1}");M("\\goldC","\\textcolor{##ff9c39}{#1}");M("\\goldD","\\textcolor{##e07d10}{#1}");M("\\goldE","\\textcolor{##a75a05}{#1}");M("\\redA","\\textcolor{##fca9a9}{#1}");M("\\redB","\\textcolor{##ff8482}{#1}");M("\\redC","\\textcolor{##f9685d}{#1}");M("\\redD","\\textcolor{##e84d39}{#1}");M("\\redE","\\textcolor{##bc2612}{#1}");M("\\maroonA","\\textcolor{##ffbde0}{#1}");M("\\maroonB","\\textcolor{##ff92c6}{#1}");M("\\maroonC","\\textcolor{##ed5fa6}{#1}");M("\\maroonD","\\textcolor{##ca337c}{#1}");M("\\maroonE","\\textcolor{##9e034e}{#1}");M("\\purpleA","\\textcolor{##ddd7ff}{#1}");M("\\purpleB","\\textcolor{##c6b9fc}{#1}");M("\\purpleC","\\textcolor{##aa87ff}{#1}");M("\\purpleD","\\textcolor{##7854ab}{#1}");M("\\purpleE","\\textcolor{##543b78}{#1}");M("\\mintA","\\textcolor{##f5f9e8}{#1}");M("\\mintB","\\textcolor{##edf2df}{#1}");M("\\mintC","\\textcolor{##e0e5cc}{#1}");M("\\grayA","\\textcolor{##f6f7f7}{#1}");M("\\grayB","\\textcolor{##f0f1f2}{#1}");M("\\grayC","\\textcolor{##e3e5e6}{#1}");M("\\grayD","\\textcolor{##d6d8da}{#1}");M("\\grayE","\\textcolor{##babec2}{#1}");M("\\grayF","\\textcolor{##888d93}{#1}");M("\\grayG","\\textcolor{##626569}{#1}");M("\\grayH","\\textcolor{##3b3e40}{#1}");M("\\grayI","\\textcolor{##21242c}{#1}");M("\\kaBlue","\\textcolor{##314453}{#1}");M("\\kaGreen","\\textcolor{##71B307}{#1}");var Jg={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Fw{constructor(e,i,l){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=i,this.expansionCount=0,this.feed(e),this.macros=new Ow(Vw,i.macros),this.mode=l,this.stack=[]}feed(e){this.lexer=new W4(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var i,l,a;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;i=this.popToken(),{tokens:a,end:l}=this.consumeArg(["]"])}else({tokens:a,start:i,end:l}=this.consumeArg());return this.pushToken(new Sn("EOF",l.loc)),this.pushTokens(a),new Sn("",on.range(i,l))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var i=[],l=e&&e.length>0;l||this.consumeSpaces();var a=this.future(),o,c=0,f=0;do{if(o=this.popToken(),i.push(o),o.text==="{")++c;else if(o.text==="}"){if(--c,c===-1)throw new he("Extra }",o)}else if(o.text==="EOF")throw new he("Unexpected end of input in a macro argument, expected '"+(e&&l?e[f]:"}")+"'",o);if(e&&l)if((c===0||c===1&&e[f]==="{")&&o.text===e[f]){if(++f,f===e.length){i.splice(-f,f);break}}else f=0}while(c!==0||l);return a.text==="{"&&i[i.length-1].text==="}"&&(i.pop(),i.shift()),i.reverse(),{tokens:i,start:a,end:o}}consumeArgs(e,i){if(i){if(i.length!==e+1)throw new he("The length of delimiters doesn't match the number of args!");for(var l=i[0],a=0;a<l.length;a++){var o=this.popToken();if(l[a]!==o.text)throw new he("Use of the macro doesn't match its definition",o)}}for(var c=[],f=0;f<e;f++)c.push(this.consumeArg(i&&i[f+1]).tokens);return c}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new he("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var i=this.popToken(),l=i.text,a=i.noexpand?null:this._getExpansion(l);if(a==null||e&&a.unexpandable){if(e&&a==null&&l[0]==="\\"&&!this.isDefined(l))throw new he("Undefined control sequence: "+l);return this.pushToken(i),!1}this.countExpansion(1);var o=a.tokens,c=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){o=o.slice();for(var f=o.length-1;f>=0;--f){var m=o[f];if(m.text==="#"){if(f===0)throw new he("Incomplete placeholder at end of macro body",m);if(m=o[--f],m.text==="#")o.splice(f+1,1);else if(/^[1-9]$/.test(m.text))o.splice(f,2,...c[+m.text-1]);else throw new he("Not a valid argument number",m)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Sn(e)]):void 0}expandTokens(e){var i=[],l=this.stack.length;for(this.pushTokens(e);this.stack.length>l;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),i.push(a)}return this.countExpansion(i.length),i}expandMacroAsText(e){var i=this.expandMacro(e);return i&&i.map(l=>l.text).join("")}_getExpansion(e){var i=this.macros.get(e);if(i==null)return i;if(e.length===1){var l=this.lexer.catcodes[e];if(l!=null&&l!==13)return}var a=typeof i=="function"?i(this):i;if(typeof a=="string"){var o=0;if(a.indexOf("#")!==-1)for(var c=a.replace(/##/g,"");c.indexOf("#"+(o+1))!==-1;)++o;for(var f=new W4(a,this.settings),m=[],p=f.lex();p.text!=="EOF";)m.push(p),p=f.lex();m.reverse();var x={tokens:m,numArgs:o};return x}return a}isDefined(e){return this.macros.has(e)||sr.hasOwnProperty(e)||dt.math.hasOwnProperty(e)||dt.text.hasOwnProperty(e)||Jg.hasOwnProperty(e)}isExpandable(e){var i=this.macros.get(e);return i!=null?typeof i=="string"||typeof i=="function"||!i.unexpandable:sr.hasOwnProperty(e)&&!sr[e].primitive}}var n2=/^[]/,So=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Lc={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},i2={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Zo{constructor(e,i){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Fw(e,i,this.mode),this.settings=i,this.leftrightDepth=0}expect(e,i){if(i===void 0&&(i=!0),this.fetch().text!==e)throw new he("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());i&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var i=this.nextToken;this.consume(),this.gullet.pushToken(new Sn("}")),this.gullet.pushTokens(e);var l=this.parseExpression(!1);return this.expect("}"),this.nextToken=i,l}parseExpression(e,i){for(var l=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(Zo.endOfExpression.indexOf(a.text)!==-1||i&&a.text===i||e&&sr[a.text]&&sr[a.text].infix)break;var o=this.parseAtom(i);if(o){if(o.type==="internal")continue}else break;l.push(o)}return this.mode==="text"&&this.formLigatures(l),this.handleInfixNodes(l)}handleInfixNodes(e){for(var i=-1,l,a=0;a<e.length;a++)if(e[a].type==="infix"){if(i!==-1)throw new he("only one infix operator per group",e[a].token);i=a,l=e[a].replaceWith}if(i!==-1&&l){var o,c,f=e.slice(0,i),m=e.slice(i+1);f.length===1&&f[0].type==="ordgroup"?o=f[0]:o={type:"ordgroup",mode:this.mode,body:f},m.length===1&&m[0].type==="ordgroup"?c=m[0]:c={type:"ordgroup",mode:this.mode,body:m};var p;return l==="\\\\abovefrac"?p=this.callFunction(l,[o,e[i],c],[]):p=this.callFunction(l,[o,c],[]),[p]}else return e}handleSupSubscript(e){var i=this.fetch(),l=i.text;this.consume(),this.consumeSpaces();var a;do{var o;a=this.parseGroup(e)}while(((o=a)==null?void 0:o.type)==="internal");if(!a)throw new he("Expected group after '"+l+"'",i);return a}formatUnsupportedCmd(e){for(var i=[],l=0;l<e.length;l++)i.push({type:"textord",mode:"text",text:e[l]});var a={type:"text",mode:this.mode,body:i},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return o}parseAtom(e){var i=this.parseGroup("atom",e);if((i==null?void 0:i.type)==="internal"||this.mode==="text")return i;for(var l,a;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(i&&i.type==="op"){var c=o.text==="\\limits";i.limits=c,i.alwaysHandleSupSub=!0}else if(i&&i.type==="operatorname")i.alwaysHandleSupSub&&(i.limits=o.text==="\\limits");else throw new he("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(l)throw new he("Double superscript",o);l=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(a)throw new he("Double subscript",o);a=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(l)throw new he("Double superscript",o);var f={type:"textord",mode:this.mode,text:"\\prime"},m=[f];for(this.consume();this.fetch().text==="'";)m.push(f),this.consume();this.fetch().text==="^"&&m.push(this.handleSupSubscript("superscript")),l={type:"ordgroup",mode:this.mode,body:m}}else if(So[o.text]){var p=n2.test(o.text),x=[];for(x.push(new Sn(So[o.text])),this.consume();;){var S=this.fetch().text;if(!So[S]||n2.test(S)!==p)break;x.unshift(new Sn(So[S])),this.consume()}var w=this.subparse(x);p?a={type:"ordgroup",mode:"math",body:w}:l={type:"ordgroup",mode:"math",body:w}}else break}return l||a?{type:"supsub",mode:this.mode,base:i,sup:l,sub:a}:i}parseFunction(e,i){var l=this.fetch(),a=l.text,o=sr[a];if(!o)return null;if(this.consume(),i&&i!=="atom"&&!o.allowedInArgument)throw new he("Got function '"+a+"' with no arguments"+(i?" as "+i:""),l);if(this.mode==="text"&&!o.allowedInText)throw new he("Can't use function '"+a+"' in text mode",l);if(this.mode==="math"&&o.allowedInMath===!1)throw new he("Can't use function '"+a+"' in math mode",l);var{args:c,optArgs:f}=this.parseArguments(a,o);return this.callFunction(a,c,f,l,e)}callFunction(e,i,l,a,o){var c={funcName:e,parser:this,token:a,breakOnTokenText:o},f=sr[e];if(f&&f.handler)return f.handler(c,i,l);throw new he("No function handler for "+e)}parseArguments(e,i){var l=i.numArgs+i.numOptionalArgs;if(l===0)return{args:[],optArgs:[]};for(var a=[],o=[],c=0;c<l;c++){var f=i.argTypes&&i.argTypes[c],m=c<i.numOptionalArgs;(i.primitive&&f==null||i.type==="sqrt"&&c===1&&o[0]==null)&&(f="primitive");var p=this.parseGroupOfType("argument to '"+e+"'",f,m);if(m)o.push(p);else if(p!=null)a.push(p);else throw new he("Null argument, please report this as a bug")}return{args:a,optArgs:o}}parseGroupOfType(e,i,l){switch(i){case"color":return this.parseColorGroup(l);case"size":return this.parseSizeGroup(l);case"url":return this.parseUrlGroup(l);case"math":case"text":return this.parseArgumentGroup(l,i);case"hbox":{var a=this.parseArgumentGroup(l,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",l);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(l)throw new he("A primitive argument cannot be optional");var c=this.parseGroup(e);if(c==null)throw new he("Expected group as "+e,this.fetch());return c}case"original":case null:case void 0:return this.parseArgumentGroup(l);default:throw new he("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,i){var l=this.gullet.scanArgument(i);if(l==null)return null;for(var a="",o;(o=this.fetch()).text!=="EOF";)a+=o.text,this.consume();return this.consume(),l.text=a,l}parseRegexGroup(e,i){for(var l=this.fetch(),a=l,o="",c;(c=this.fetch()).text!=="EOF"&&e.test(o+c.text);)a=c,o+=a.text,this.consume();if(o==="")throw new he("Invalid "+i+": '"+l.text+"'",l);return l.range(a,o)}parseColorGroup(e){var i=this.parseStringGroup("color",e);if(i==null)return null;var l=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(i.text);if(!l)throw new he("Invalid color: '"+i.text+"'",i);var a=l[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(e){var i,l=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?i=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):i=this.parseStringGroup("size",e),!i)return null;!e&&i.text.length===0&&(i.text="0pt",l=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(i.text);if(!a)throw new he("Invalid size: '"+i.text+"'",i);var o={number:+(a[1]+a[2]),unit:a[3]};if(!ig(o))throw new he("Invalid unit: '"+o.unit+"'",i);return{type:"size",mode:this.mode,value:o,isBlank:l}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var i=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),i==null)return null;var l=i.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:l}}parseArgumentGroup(e,i){var l=this.gullet.scanArgument(e);if(l==null)return null;var a=this.mode;i&&this.switchMode(i),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var c={type:"ordgroup",mode:this.mode,loc:l.loc,body:o};return i&&this.switchMode(a),c}parseGroup(e,i){var l=this.fetch(),a=l.text,o;if(a==="{"||a==="\\begingroup"){this.consume();var c=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var f=this.parseExpression(!1,c),m=this.fetch();this.expect(c),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:on.range(l,m),body:f,semisimple:a==="\\begingroup"||void 0}}else if(o=this.parseFunction(i,e)||this.parseSymbol(),o==null&&a[0]==="\\"&&!Jg.hasOwnProperty(a)){if(this.settings.throwOnError)throw new he("Undefined control sequence: "+a,l);o=this.formatUnsupportedCmd(a),this.consume()}return o}formLigatures(e){for(var i=e.length-1,l=0;l<i;++l){var a=e[l],o=a.text;o==="-"&&e[l+1].text==="-"&&(l+1<i&&e[l+2].text==="-"?(e.splice(l,3,{type:"textord",mode:"text",loc:on.range(a,e[l+2]),text:"---"}),i-=2):(e.splice(l,2,{type:"textord",mode:"text",loc:on.range(a,e[l+1]),text:"--"}),i-=1)),(o==="'"||o==="`")&&e[l+1].text===o&&(e.splice(l,2,{type:"textord",mode:"text",loc:on.range(a,e[l+1]),text:o+o}),i-=1)}}parseSymbol(){var e=this.fetch(),i=e.text;if(/^\\verb[^a-zA-Z]/.test(i)){this.consume();var l=i.slice(5),a=l.charAt(0)==="*";if(a&&(l=l.slice(1)),l.length<2||l.charAt(0)!==l.slice(-1))throw new he(`\\verb assertion failed --
                    please report what input caused this bug`);return l=l.slice(1,-1),{type:"verb",mode:"text",body:l,star:a}}i2.hasOwnProperty(i[0])&&!dt[this.mode][i[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+i[0]+'" used in math mode',e),i=i2[i[0]]+i.slice(1));var o=Pw.exec(i);o&&(i=i.substring(0,o.index),i==="i"?i="":i==="j"&&(i=""));var c;if(dt[this.mode][i]){this.settings.strict&&this.mode==="math"&&Wc.indexOf(i)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+i[0]+'" used in math mode',e);var f=dt[this.mode][i].group,m=on.range(e),p;if(IS.hasOwnProperty(f)){var x=f;p={type:"atom",mode:this.mode,family:x,loc:m,text:i}}else p={type:f,mode:this.mode,loc:m,text:i};c=p}else if(i.charCodeAt(0)>=128)this.settings.strict&&(ng(i.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+i[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+i[0]+'"'+(" ("+i.charCodeAt(0)+")"),e)),c={type:"textord",mode:"text",loc:on.range(e),text:i};else return null;if(this.consume(),o)for(var S=0;S<o[0].length;S++){var w=o[0][S];if(!Lc[w])throw new he("Unknown accent ' "+w+"'",e);var E=Lc[w][this.mode]||Lc[w].text;if(!E)throw new he("Accent "+w+" unsupported in "+this.mode+" mode",e);c={type:"accent",mode:this.mode,loc:on.range(e),label:E,isStretchy:!1,isShifty:!0,base:c}}return c}}Zo.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var zd=function(e,i){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var l=new Zo(e,i);delete l.gullet.macros.current["\\df@tag"];var a=l.parse();if(delete l.gullet.macros.current["\\current@color"],delete l.gullet.macros.current["\\color"],l.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new he("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:l.subparse([new Sn("\\df@tag")])}]}return a},Xg=function(e,i,l){i.textContent="";var a=Ld(e,l).toNode();i.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Xg=function(){throw new he("KaTeX doesn't work in quirks mode.")});var jw=function(e,i){var l=Ld(e,i).toMarkup();return l},Yw=function(e,i){var l=new gd(i);return zd(e,l)},Kg=function(e,i,l){if(l.throwOnError||!(e instanceof he))throw e;var a=F.makeSpan(["katex-error"],[new Un(i)]);return a.setAttribute("title",e.toString()),a.setAttribute("style","color:"+l.errorColor),a},Ld=function(e,i){var l=new gd(i);try{var a=zd(e,l);return tw(a,e,l)}catch(o){return Kg(o,e,l)}},Jw=function(e,i){var l=new gd(i);try{var a=zd(e,l);return nw(a,e,l)}catch(o){return Kg(o,e,l)}},Xw="0.16.27",Kw={Span:Va,Anchor:xd,SymbolNode:Un,SvgNode:Mi,PathNode:ur,LineNode:Zc},$w={version:Xw,render:Xg,renderToString:jw,ParseError:he,SETTINGS_SCHEMA:Ao,__parse:Yw,__renderToDomTree:Ld,__renderToHTMLTree:Jw,__setFontMetrics:AS,__defineSymbol:b,__defineFunction:xe,__defineMacro:M,__domTree:Kw};const Qw="latexAutofixEnabled",Zw=()=>{try{const t=localStorage.getItem(Qw);return t===null?!0:t==="true"}catch{return!0}},La=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),kt=me.memo(({content:t,className:e="",enableAutoFix:i})=>{const l=me.useMemo(()=>{const o=String(t||"");if(!o)return"";const c=o,f=c.includes("$$")||c.includes("\\(")||c.includes("\\[")||/(^|[^\\])\$/.test(c),m=/\\(frac|sqrt|times|cdot|pm|leq|geq|neq|approx|sin|cos|tan|log|ln)\b/.test(c)||new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)").test(c),x=(i??Zw())&&!f&&m,S=new RegExp("(\\$\\$[\\s\\S]+?\\$\\$|\\\\\\[[\\s\\S]+?\\\\\\]|\\\\\\(.*?\\\\\\)|(?<!\\\\)\\$.*?\\$)","g");let w;try{w=c.split(S)}catch{const O=/(\$\$[\s\S]+?\$\$|\\\[[\s\S]+?\\\]|\\\(.*?\\\))/g;w=c.split(O)}const E=/\\frac\s*\{[^{}]*\}\s*\{[^{}]*\}/g,_=/\\(?:frac|sqrt|times|cdot|pm|leq|geq|neq|approx|pi|theta|sin|cos|tan|log|ln)\b(?:\s*\{[^{}]*\})?/g,R=new RegExp("(?<!\\\\)\\b[A-Za-z0-9]+(?:\\^[A-Za-z0-9]+|_\\{[^{}]*\\}|_[A-Za-z0-9]+)(?:\\s*[+\\-*/]\\s*\\d+)?","g"),k=U=>{if(!x)return La(U).replace(/\n/g,"<br/>");const O=[],J=String(U||""),W=new RegExp(`${E.source}|${_.source}|${R.source}`,"g");let ne=0;for(const ee of J.matchAll(W)){if(ee.index==null)continue;const q=ee.index,de=q+ee[0].length;q>ne&&O.push(La(J.slice(ne,q)).replace(/\n/g,"<br/>"));const le=ee[0];/^\\[ntr]$/.test(le)?O.push(La(le)):O.push(a(le,!1)),ne=de}return ne<J.length&&O.push(La(J.slice(ne)).replace(/\n/g,"<br/>")),O.join("")};return w.map(U=>U?U.startsWith("$$")&&U.endsWith("$$")||U.startsWith("\\[")&&U.endsWith("\\]")?a(U.slice(2,-2),!0):U.startsWith("\\(")&&U.endsWith("\\)")?a(U.slice(2,-2),!1):U.startsWith("$")&&U.endsWith("$")?a(U.slice(1,-1),!1):k(U):"").join("")},[t,i]);function a(o,c){try{return $w.renderToString(o,{displayMode:c,throwOnError:!1,output:"html",strict:!1,trust:!0,macros:{"\\RR":"\\mathbb{R}","\\NN":"\\mathbb{N}"}})}catch(f){return console.warn("KaTeX render error for formula:",o,f),`<code class="bg-red-50 text-red-600 px-1 rounded">${La(o)}</code>`}}return v.jsx("div",{className:`latex-container ${e} prose prose-slate max-w-none leading-relaxed transition-opacity duration-200`,dangerouslySetInnerHTML:{__html:l}})});kt.displayName="LaTeXRenderer";const Ww=({question:t,isSelected:e=!1,onToggleSelect:i,onDelete:l,onRestore:a,onView:o,onEdit:c,onUpdateDifficulty:f,onSelectKnowledgePoint:m,isTrashMode:p=!1})=>{const[x,S]=me.useState(!1),[w,E]=me.useState(!1),_=4,R=(q,de)=>{q.stopPropagation(),f==null||f(t.id,de)},k=(q,de)=>{q.stopPropagation(),m==null||m(de)},U=q=>{q.stopPropagation(),S(!x)},O=q=>{q.stopPropagation(),E(!w)},J=q=>{q.stopPropagation(),i==null||i()},W=Array.isArray(t.knowledgePoints)?t.knowledgePoints:[],ne=x?W:W.slice(0,_),ee=W.length>_;return v.jsxs("div",{className:`bg-white rounded-xl shadow-sm border overflow-hidden hover:shadow-md transition-all flex flex-col h-full group relative cursor-pointer ${e?"border-indigo-500 ring-2 ring-indigo-500/20":"border-slate-200"}`,onClick:()=>o==null?void 0:o(t),children:[v.jsx("div",{className:`absolute top-2 right-2 z-20 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shadow-sm ${e?"bg-indigo-600 border-indigo-600 scale-110":"bg-white/80 border-slate-300 opacity-0 group-hover:opacity-100 hover:border-indigo-400 backdrop-blur-sm"}`,onClick:J,children:e&&v.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),t.image&&v.jsxs("div",{className:"relative h-40 shrink-0 overflow-hidden bg-slate-100 border-b border-slate-100",children:[v.jsx("img",{src:t.image,alt:"Question",className:"w-full h-full object-contain"}),t.diagramDescription&&v.jsx("div",{className:"absolute top-2 left-2 z-10",children:v.jsx("button",{onClick:O,className:`p-1.5 rounded-lg backdrop-blur-md transition-all border ${w?"bg-indigo-600 text-white border-indigo-500":"bg-white/70 text-slate-600 border-white/50 hover:bg-white/90 shadow-sm"}`,title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),w&&t.diagramDescription&&v.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm p-4 flex items-center justify-center animate-in fade-in duration-200",children:v.jsxs("div",{className:"relative text-white text-xs leading-relaxed max-h-full overflow-y-auto",children:[v.jsx("p",{className:"font-bold mb-1 flex items-center gap-1 opacity-70",children:""}),t.diagramDescription,v.jsx("button",{onClick:O,className:"absolute -top-2 -right-2 p-1 text-white/50 hover:text-white",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})]}),v.jsxs("div",{className:`p-4 flex flex-col flex-1 transition-colors ${e?"bg-indigo-50/30":""}`,children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full uppercase",children:t.subject}),v.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((q,de)=>v.jsx("button",{onClick:le=>R(le,de+1),className:"focus:outline-none hover:scale-110 transition-transform",children:v.jsx("svg",{className:`w-4 h-4 ${de<t.difficulty?"fill-current":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},de))})]}),v.jsx("div",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:v.jsx(kt,{content:t.content})}),v.jsx("div",{className:"mt-auto pt-2 border-t border-slate-50",children:v.jsxs("div",{className:"flex flex-wrap gap-1",children:[ne.map((q,de)=>v.jsxs("button",{onClick:le=>k(le,q),className:"text-[10px] px-1.5 py-0.5 bg-slate-50 text-slate-500 rounded border border-slate-100 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-100 transition-all focus:outline-none",children:["#",q]},de)),ee&&v.jsx("button",{onClick:U,className:"text-[10px] px-1.5 py-0.5 text-indigo-500 hover:text-indigo-700 font-semibold focus:outline-none",children:x?"":`+${t.knowledgePoints.length-_}`})]})}),v.jsxs("div",{className:"flex justify-between items-center border-t border-slate-50 mt-4 pt-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[!p&&t.lastReviewedAt&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded font-bold uppercase tracking-widest",children:""}),p&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded font-bold uppercase tracking-widest",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[!p&&v.jsx("button",{onClick:q=>{q.stopPropagation(),c==null||c(t)},className:"p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),p?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:q=>{q.stopPropagation(),a==null||a(t.id)},className:"p-1 text-emerald-500 hover:bg-emerald-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v.jsx("button",{onClick:q=>{q.stopPropagation(),l==null||l(t.id)},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):v.jsx("button",{onClick:q=>{q.stopPropagation(),l==null||l(t.id)},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})]})},eT=({question:t,isSelected:e=!1,onToggleSelect:i,onDelete:l,onRestore:a,onView:o,onEdit:c,onUpdateDifficulty:f,onSelectKnowledgePoint:m,isTrashMode:p=!1})=>{const x=(E,_)=>{E.stopPropagation(),f==null||f(t.id,_)},S=E=>{E.stopPropagation(),i==null||i()},w=(E,_)=>{E.stopPropagation(),m==null||m(_)};return v.jsxs("tr",{className:`group hover:bg-slate-50 transition-colors cursor-pointer ${e?"bg-indigo-50/50":""}`,onClick:()=>o==null?void 0:o(t),children:[v.jsx("td",{className:"px-6 py-4 text-center",children:v.jsx("div",{onClick:S,className:`w-5 h-5 mx-auto rounded border-2 flex items-center justify-center transition-all ${e?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 hover:border-indigo-400"}`,children:e&&v.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-[10px] font-bold rounded uppercase whitespace-nowrap",children:t.subject})}),v.jsxs("td",{className:"px-6 py-4 min-w-[200px]",children:[v.jsx("div",{className:"text-sm text-slate-700 line-clamp-1 max-w-md",children:v.jsx(kt,{content:t.content,className:"inline"})}),v.jsxs("div",{className:"mt-1 flex gap-2",children:[!p&&t.lastReviewedAt&&v.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded-sm font-bold uppercase tracking-widest",children:""}),p&&v.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded-sm font-bold uppercase tracking-widest",children:["",new Date(t.deletedAt||0).toLocaleDateString()]})]})]}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:"flex flex-wrap gap-1",children:t.knowledgePoints.slice(0,2).map((E,_)=>v.jsxs("button",{onClick:R=>w(R,E),className:"text-[10px] px-1.5 py-0.5 bg-white text-slate-500 rounded border border-slate-200 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",children:["#",E]},_))})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:"flex gap-0.5 text-amber-400",children:[...Array(5)].map((E,_)=>v.jsx("button",{onClick:R=>x(R,_+1),className:"focus:outline-none hover:scale-125 transition-transform",children:v.jsx("svg",{className:`w-3.5 h-3.5 ${_<t.difficulty?"fill-current":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},_))})}),v.jsx("td",{className:"px-6 py-4 text-right",children:v.jsx("div",{className:"flex justify-end gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:p?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:E=>{E.stopPropagation(),a==null||a(t.id)},className:"text-emerald-500 hover:text-emerald-700",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v.jsx("button",{onClick:E=>{E.stopPropagation(),l==null||l(t.id)},className:"text-red-400 hover:text-red-600",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:E=>{E.stopPropagation(),c==null||c(t)},className:"text-slate-400 hover:text-indigo-600",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),v.jsx("button",{onClick:E=>{E.stopPropagation(),l==null||l(t.id)},className:"text-slate-400 hover:text-red-500",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})})]})},$g=({imageSrc:t,onCropComplete:e,onCancel:i,title:l="",description:a="",allowSkip:o=!1,onSkip:c})=>{const f=me.useRef(null),m=me.useRef(null),p=me.useRef(null),[x,S]=me.useState(t),[w,E]=me.useState(!1),[_,R]=me.useState(!o),[k,U]=me.useState({x:0,y:0}),[O,J]=me.useState({x:0,y:0}),[W,ne]=me.useState(null);me.useEffect(()=>{S(t),R(!o),ne(null),E(!1)},[t,o]);const ee=$=>{const fe=new Image;fe.src=x,fe.onload=()=>{const Ae=document.createElement("canvas"),Me=Ae.getContext("2d");if(!Me)return;Ae.width=fe.height,Ae.height=fe.width,Me.translate(Ae.width/2,Ae.height/2);const L=$==="left"?-90:90;Me.rotate(L*Math.PI/180),Me.drawImage(fe,-fe.width/2,-fe.height/2),S(Ae.toDataURL("image/jpeg",.9)),ne(null)}},q=$=>{var ue;if(!_)return;const fe=(ue=f.current)==null?void 0:ue.getBoundingClientRect();if(!fe||$.target.closest("button"))return;const Ae="touches"in $?$.touches[0].clientX:$.clientX,Me="touches"in $?$.touches[0].clientY:$.clientY,L=Ae-fe.left,X=Me-fe.top;E(!0),U({x:L,y:X}),J({x:L,y:X}),ne(null)},de=$=>{var ue;if(!_||!w)return;const fe=(ue=f.current)==null?void 0:ue.getBoundingClientRect();if(!fe)return;const Ae="touches"in $?$.touches[0].clientX:$.clientX,Me="touches"in $?$.touches[0].clientY:$.clientY,L=Math.max(0,Math.min(Ae-fe.left,fe.width)),X=Math.max(0,Math.min(Me-fe.top,fe.height));J({x:L,y:X})},le=()=>{if(!_||!w)return;E(!1);const $=Math.min(k.x,O.x),fe=Math.min(k.y,O.y),Ae=Math.abs(O.x-k.x),Me=Math.abs(O.y-k.y);Ae>10&&Me>10&&ne({x:$,y:fe,w:Ae,h:Me})},be=()=>{if(!_||!W||!m.current||!p.current)return;const $=m.current,fe=p.current,Ae=fe.getContext("2d");if(!Ae)return;const Me=$.naturalWidth/$.width,L=$.naturalHeight/$.height;fe.width=W.w*Me,fe.height=W.h*L,Ae.drawImage($,W.x*Me,W.y*L,W.w*Me,W.h*L,0,0,fe.width,fe.height),e(fe.toDataURL("image/jpeg",.9))},we=Math.min(k.x,O.x),ae=Math.min(k.y,O.y),ge=Math.abs(O.x-k.x),Ce=Math.abs(O.y-k.y),Te=()=>{R(!0),ne(null),E(!1)},P=()=>{if(!o)return;(c||e)(x)};return v.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-900/95 backdrop-blur-md flex flex-col p-4 md:p-8 animate-in fade-in duration-300",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 max-w-5xl mx-auto w-full",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-white",children:l}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:a})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("div",{className:"flex items-center bg-slate-800 rounded-xl mr-2 p-1",children:[v.jsx("button",{onClick:()=>ee("left"),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:" 90",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),v.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),v.jsx("button",{onClick:()=>ee("right"),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:" 90",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6"})})})]}),o&&v.jsx("button",{onClick:P,className:"px-5 py-2 rounded-xl bg-white/10 text-white hover:bg-white/15 transition-colors font-semibold",title:"",children:""}),o&&!_&&v.jsx("button",{onClick:Te,className:"px-5 py-2 rounded-xl border border-white/15 text-slate-200 hover:text-white hover:bg-white/10 transition-colors font-semibold",title:"",children:""}),v.jsx("button",{onClick:i,className:"px-5 py-2 rounded-xl text-slate-300 hover:text-white hover:bg-white/10 transition-colors font-semibold",children:""}),v.jsxs("button",{disabled:!_||!W||w,onClick:be,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-900/20 disabled:opacity-50 disabled:grayscale transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),""]})]})]}),v.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden relative",children:[!_&&o&&v.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 px-4 py-2 rounded-xl bg-black/40 text-slate-200 text-xs font-semibold border border-white/10",children:""}),v.jsxs("div",{ref:f,className:`relative max-w-full max-h-full select-none touch-none bg-black/40 rounded-lg overflow-hidden border border-white/10 ${_?"cursor-crosshair":"cursor-default"}`,onMouseDown:q,onMouseMove:de,onMouseUp:le,onTouchStart:q,onTouchMove:de,onTouchEnd:le,children:[v.jsx("img",{ref:m,src:x,alt:"To crop",className:"max-w-full max-h-[70vh] pointer-events-none",onLoad:$=>{}}),_&&v.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none"}),_&&(w||W)&&v.jsxs("div",{className:"absolute border-2 border-indigo-400/60 bg-transparent shadow-[0_0_0_9999px_rgba(0,0,0,0.5)] z-10",style:{left:we,top:ae,width:ge,height:Ce},children:[v.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-indigo-400/60"}),W&&!w&&v.jsx("div",{className:"absolute top-2 left-2 bg-indigo-600 text-white text-[10px] px-1.5 py-0.5 rounded font-black uppercase tracking-widest shadow-lg",children:"Selected Area"})]})]})]}),v.jsx("canvas",{ref:p,className:"hidden"}),_&&v.jsx("div",{className:"max-w-5xl mx-auto w-full mt-6 flex justify-center",children:v.jsxs("div",{className:"flex items-center gap-8 text-slate-500 text-xs font-medium",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),v.jsx("span",{children:""})]})]})})]})},Qg=({question:t,onClose:e,onSaved:i})=>{const[l,a]=me.useState(t.content||""),[o,c]=me.useState(()=>Array.isArray(t.options)?t.options.map(String):[]),[f,m]=me.useState(t.answer||""),[p,x]=me.useState(t.analysis||""),[S,w]=me.useState(t.learningGuide||""),[E,_]=me.useState(!1),[R,k]=me.useState(null),U=me.useMemo(()=>!(!l.trim()||!p.trim()||!S.trim()),[p,l,S]),O=(ee,q)=>{c(de=>de.map((le,be)=>be===ee?q:le))},J=()=>{c(ee=>[...ee,""])},W=ee=>{c(q=>q.filter((de,le)=>le!==ee))},ne=async()=>{if(U){_(!0),k(null);try{const ee=o.map(de=>String(de||"").trim()).filter(de=>de.length>0),q=await ct.updateQuestion(t.id,{content:l,options:ee,answer:f||void 0,analysis:p,learningGuide:S});k({type:"success",message:""}),i==null||i(q),setTimeout(()=>{e()},800)}catch(ee){const q=(ee==null?void 0:ee.message)||"";k({type:"error",message:`${q}`})}finally{_(!1)}}};return v.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-5xl h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"px-6 py-4 border-b space-y-3",children:[R&&v.jsxs("div",{className:`p-3 rounded-xl border text-sm font-bold flex items-center gap-2 ${R.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[v.jsx("span",{children:R.message}),v.jsx("button",{onClick:()=>k(null),className:"ml-auto text-current opacity-50 hover:opacity-100 transition-opacity",title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-black text-slate-800",children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:" LaTeX $...$ / $$...$$ "})]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all hover:text-slate-600",title:"",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.image&&v.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-3",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),v.jsx("img",{src:t.image,alt:"Original",className:"w-full max-h-48 object-contain rounded-xl bg-white"})]})]}),v.jsxs("div",{className:"flex-1 min-h-0 grid grid-cols-1 lg:grid-cols-2",children:[v.jsxs("div",{className:"min-h-0 overflow-y-auto p-6 space-y-6",children:[v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:l,onChange:ee=>a(ee.target.value),className:"w-full min-h-[140px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]}),v.jsxs("section",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("button",{onClick:J,className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]})]}),v.jsxs("div",{className:"space-y-2",children:[o.length===0&&v.jsx("div",{className:"text-xs text-slate-400",children:"/"}),o.map((ee,q)=>v.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 border border-slate-200 rounded-2xl",children:[v.jsxs("div",{className:"w-8 text-sm font-black text-indigo-600 pt-2",children:[String.fromCharCode(65+q),"."]}),v.jsx("textarea",{value:ee,onChange:de=>O(q,de.target.value),className:"flex-1 min-h-[60px] p-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:` ${String.fromCharCode(65+q)} LaTeX`}),v.jsx("button",{onClick:()=>W(q),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},q))]})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("input",{value:f,onChange:ee=>m(ee.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",placeholder:"A  3  $x=2$"})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:p,onChange:ee=>x(ee.target.value),className:"w-full min-h-[120px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:S,onChange:ee=>w(ee.target.value),className:"w-full min-h-[120px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]})]}),v.jsxs("div",{className:"min-h-0 overflow-y-auto p-6 bg-slate-50 border-l border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:""})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(kt,{content:l||"()",className:"text-slate-800"}),o.length>0&&v.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:o.map((ee,q)=>v.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 border border-slate-200 rounded-2xl",children:[v.jsxs("span",{className:"font-black text-indigo-600 shrink-0",children:[String.fromCharCode(65+q),"."]}),v.jsx(kt,{content:ee||"()",className:"text-sm text-slate-700"})]},q))})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(kt,{content:f||"()"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(kt,{content:p||"()"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(kt,{content:S||"()"})]})]})]})]}),v.jsxs("div",{className:"px-6 py-4 border-t bg-white flex items-center justify-between",children:[v.jsx("div",{className:"text-xs text-slate-400",children:U?"":" /  /  "}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 border border-slate-200 rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50",disabled:E,children:""}),v.jsx("button",{onClick:ne,disabled:!U||E,className:"px-5 py-2 bg-indigo-600 text-white rounded-xl text-sm font-black hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"...":""})]})]})]})})},tT=({question:t,onClose:e,onUpdateDifficulty:i,onUpdateField:l})=>{const[a,o]=me.useState(!1),[c,f]=me.useState(!1),[m,p]=me.useState(!1),x=async R=>{p(!0);try{await ct.updateQuestion(t.id,{croppedDiagram:R}),l==null||l(t.id,"croppedDiagram",R),o(!1)}catch{alert("")}finally{p(!1)}},S=async()=>{if(window.confirm("")){p(!0);try{await ct.updateQuestion(t.id,{croppedDiagram:void 0}),l==null||l(t.id,"croppedDiagram",void 0)}catch{alert("")}finally{p(!1)}}},w=async R=>{p(!0);try{await ct.updateQuestion(t.id,{subject:R}),l==null||l(t.id,"subject",R)}catch{alert("")}finally{p(!1)}},E=async()=>{var U;const R=prompt("");if(!R||!R.trim())return;if((U=t.knowledgePoints)!=null&&U.includes(R.trim())){alert("");return}const k=[...t.knowledgePoints||[],R.trim()];p(!0);try{await ct.updateQuestion(t.id,{knowledgePoints:k}),l==null||l(t.id,"knowledgePoints",k)}catch{alert("")}finally{p(!1)}},_=async R=>{if(!window.confirm(` "${R}" `))return;const k=(t.knowledgePoints||[]).filter(U=>U!==R);p(!0);try{await ct.updateQuestion(t.id,{knowledgePoints:k}),l==null||l(t.id,"knowledgePoints",k)}catch{alert("")}finally{p(!1)}};return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] rounded-none md:rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-center px-4 py-3 md:px-6 md:py-4 border-b",children:[v.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:[v.jsxs("div",{className:"relative group/subject",children:[v.jsx("select",{value:t.subject,onChange:R=>w(R.target.value),className:"appearance-none pl-3 pr-7 py-1 bg-indigo-600 text-white text-sm rounded-md uppercase shadow-sm outline-none cursor-pointer hover:bg-indigo-700 transition-colors font-bold",children:Object.values(Ho).map(R=>v.jsx("option",{value:R,className:"text-slate-800 bg-white",children:R},R))}),v.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-white/80",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})})]}),""]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-10 space-y-8 md:space-y-10 scrollbar-hide",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),v.jsxs("button",{onClick:()=>f(!0),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors border border-indigo-100 shadow-sm",title:"/",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),""]})]}),v.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 group relative",children:[v.jsx(kt,{content:t.content,className:"text-lg leading-relaxed text-slate-800"}),t.options&&t.options.length>0&&v.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:t.options.map((R,k)=>{const U=typeof R=="object"?R.content||R.text||R.value||JSON.stringify(R):String(R);return v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white border border-slate-200 rounded-2xl shadow-sm hover:border-indigo-200 transition-colors",children:[v.jsxs("span",{className:"font-black text-indigo-600 shrink-0",children:[String.fromCharCode(65+k),"."]}),v.jsx(kt,{content:U,className:"text-sm text-slate-600"})]},k)})}),t.croppedDiagram&&v.jsxs("div",{className:"mt-8 p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 relative group/legend",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),v.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:""})]}),v.jsx("div",{className:"flex justify-center bg-white p-4 rounded-xl shadow-sm border border-indigo-50",children:v.jsx("img",{src:t.croppedDiagram,alt:"Extracted Legend",className:"max-h-64 object-contain"})}),v.jsx("button",{onClick:S,className:"absolute top-4 right-4 p-2 bg-white text-red-500 rounded-lg shadow-sm hover:bg-red-50 transition-colors opacity-0 group-hover/legend:opacity-100",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),t.image&&v.jsxs("div",{className:"mt-8 relative group/img",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("button",{onClick:()=>o(!0),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors border border-indigo-100 shadow-sm",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758L5 19m0-14l4.121 4.121"})}),""]})]}),v.jsx("div",{className:"flex justify-center bg-white p-6 rounded-2xl border border-slate-200 shadow-sm overflow-hidden min-h-[100px] items-center",children:v.jsx("img",{src:t.image,alt:"Original Capture",className:"max-h-96 object-contain grayscale-[0.3] hover:grayscale-0 transition-all"})})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[v.jsxs("h3",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.2em] flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),""]}),v.jsxs("div",{className:"bg-white px-3 py-1 rounded-md shadow-sm border border-emerald-100 shrink-0",children:[v.jsx("span",{className:"text-[10px] font-black text-emerald-400 mr-1",children:""}),v.jsx(kt,{content:t.answer,className:"text-lg font-black text-emerald-600 inline"})]})]}),v.jsxs("div",{className:"bg-emerald-50/50 p-8 rounded-3xl border border-emerald-100",children:[v.jsxs("div",{className:"mb-4 rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-[12px] text-amber-800 leading-relaxed",children:[v.jsx("span",{className:"font-black mr-2",children:""}),""]}),v.jsx(kt,{content:t.analysis,className:"text-slate-700 leading-relaxed"})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),""]}),v.jsxs("div",{className:"bg-indigo-50/50 p-8 rounded-3xl border border-indigo-100",children:[v.jsx(kt,{content:t.learningGuide,className:"text-slate-700 leading-relaxed italic"}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-indigo-100/50",children:[v.jsx("h4",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-4",children:" ( + )"}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(t.knowledgePoints)?t.knowledgePoints:[]).map((R,k)=>v.jsxs("span",{className:"group relative px-3 py-1.5 bg-white text-indigo-600 text-xs rounded-xl border border-indigo-200 font-bold shadow-sm pr-7",children:["#",R,v.jsx("button",{onClick:()=>_(R),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-indigo-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},k)),v.jsxs("button",{onClick:E,className:"px-3 py-1.5 bg-indigo-50 text-indigo-400 text-xs rounded-xl border border-dashed border-indigo-300 font-bold hover:bg-indigo-100 hover:text-indigo-600 hover:border-indigo-400 transition-all flex items-center gap-1",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]})]})]})]})]})]})]}),v.jsxs("div",{className:"px-8 py-4 bg-slate-50 border-t flex justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("span",{className:"text-xs text-slate-500 font-medium",children:new Date(t.createdAt).toLocaleString()})]}),v.jsx("div",{className:"flex items-center gap-6",children:v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),v.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((R,k)=>v.jsx("button",{onClick:()=>i==null?void 0:i(t.id,k+1),className:"focus:outline-none hover:scale-125 transition-transform",title:` ${k+1} `,children:v.jsx("svg",{className:`w-5 h-5 ${k<t.difficulty?"fill-amber-400 text-amber-400":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},k))})]})})]})]})}),a&&t.image&&v.jsx($g,{imageSrc:t.image,onCropComplete:x,onCancel:()=>o(!1)}),c&&v.jsx(Qg,{question:t,onClose:()=>f(!1),onSaved:R=>{l==null||l(t.id,"content",R.content),l==null||l(t.id,"options",R.options||[]),l==null||l(t.id,"answer",R.answer),l==null||l(t.id,"analysis",R.analysis),l==null||l(t.id,"learningGuide",R.learningGuide)}}),m&&v.jsx("div",{className:"fixed inset-0 z-[200] bg-black/40 backdrop-blur-sm flex items-center justify-center",children:v.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),v.jsx("p",{className:"text-sm font-bold text-slate-700",children:"..."})]})})]})},nT=({onQuestionSaved:t,onCancel:e})=>{const[i,l]=me.useState([]),[a,o]=me.useState(!1),[c,f]=me.useState(!1),[m,p]=me.useState(null),[x,S]=me.useState(null),[w,E]=me.useState(null),_=me.useRef(null),R=me.useRef(null),k=ae=>new Promise((ge,Ce)=>{const Te=new FileReader;Te.onerror=()=>Ce(new Error("")),Te.onloadend=()=>ge(String(Te.result||"")),Te.readAsDataURL(ae)}),U=ae=>{S(ae),E("upload")},O=async()=>{if(a)return;const ae=await J();if(!ae){alert("/");return}U(ae)},J=async()=>{var ae;try{const ge=navigator;if((ae=ge.clipboard)!=null&&ae.read){const Ce=await ge.clipboard.read();for(const Te of Ce){const $=(Te.types||[]).find(Ae=>Ae.startsWith("image/"));if(!$)continue;const fe=await Te.getType($);return await k(fe)}return null}}catch{}return null};me.useEffect(()=>{const ae=async ge=>{var $;if(a||c||x)return;const Te=Array.from((($=ge.clipboardData)==null?void 0:$.items)||[]).find(fe=>{var Ae;return(Ae=fe.type)==null?void 0:Ae.startsWith("image/")});if(Te){ge.preventDefault();const fe=Te.getAsFile();fe&&U(await k(fe));return}const P=await J();P&&(ge.preventDefault(),U(P))};return window.addEventListener("paste",ae),()=>window.removeEventListener("paste",ae)},[a,c,x]);const W=async()=>{try{const ae=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});p(ae),f(!0),setTimeout(()=>{R.current&&(R.current.srcObject=ae)},100)}catch(ae){console.error("Camera error:",ae),ae.name==="NotAllowedError"||ae.name==="PermissionDeniedError"?alert(""):window.location.protocol!=="https:"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?alert(" HTTPS  localhost  HTTPS"):alert(`${ae.message||""}`)}},ne=()=>{m&&(m.getTracks().forEach(ae=>ae.stop()),p(null)),f(!1)},ee=()=>{if(!R.current)return;const ae=document.createElement("canvas");ae.width=R.current.videoWidth,ae.height=R.current.videoHeight;const ge=ae.getContext("2d");if(ge){ge.drawImage(R.current,0,0);const Ce=ae.toDataURL("image/jpeg",.9);S(Ce),E("camera"),ne()}},q=ae=>{const ge={id:crypto.randomUUID(),preview:ae,status:"pending"};l(Ce=>[...Ce,ge]),S(null),E(null)},de=ae=>{const ge=Array.from(ae.target.files||[]);ge.length!==0&&(ge.forEach(Ce=>{const Te=new FileReader;Te.onloadend=()=>{S(Te.result),E("upload")},Te.readAsDataURL(Ce)}),_.current&&(_.current.value=""))},le=ae=>{a||l(ge=>ge.filter(Ce=>Ce.id!==ae))},be=async()=>{if(a)return;const ae=i.filter(ge=>ge.status==="pending"||ge.status==="error");if(ae.length!==0){o(!0);for(const ge of ae){l(Ce=>Ce.map(Te=>Te.id===ge.id?{...Te,status:"analyzing",error:void 0}:Te));try{const Ce=await ct.analyzeImage(ge.preview),Te={image:ge.preview,...Ce};l(P=>P.map($=>$.id===ge.id?{...$,status:"done",result:Te}:$)),await t(Te)}catch(Ce){l(Te=>Te.map(P=>P.id===ge.id?{...P,status:"error",error:Ce.message||""}:P))}}o(!1)}},we=me.useMemo(()=>{const ae=i.length,ge=i.filter(P=>P.status==="done").length,Ce=i.filter(P=>P.status==="error").length,Te=i.filter(P=>P.status==="analyzing").length;return{total:ae,done:ge,error:Ce,analyzing:Te}},[i]);return v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:[v.jsxs("div",{className:"bg-white w-full max-w-4xl h-full md:h-auto md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:max-h-[90vh]",children:[v.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-5 border-b flex justify-between items-center bg-slate-50",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Gemini "})]}),v.jsx("button",{onClick:e,disabled:a,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-full transition-colors disabled:opacity-30",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:i.length===0?v.jsxs("div",{className:"h-full flex flex-col gap-6",children:[v.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[v.jsxs("div",{onClick:()=>{var ae;return(ae=_.current)==null?void 0:ae.click()},className:"flex-1 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/30 transition-all group p-8",children:[v.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 mb-6 group-hover:scale-110 transition-transform",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),v.jsx("p",{className:"text-xl font-bold text-slate-700 mb-2",children:""}),v.jsx("p",{className:"text-slate-400 text-sm",children:""})]}),v.jsxs("div",{onClick:W,className:"flex-1 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:border-emerald-400 hover:bg-emerald-50/30 transition-all group p-8",children:[v.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 mb-6 group-hover:scale-110 transition-transform",children:v.jsxs("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsx("p",{className:"text-xl font-bold text-slate-700 mb-2",children:""}),v.jsx("p",{className:"text-slate-400 text-sm",children:""})]})]}),v.jsx("button",{type:"button",onClick:O,disabled:a,className:"w-full px-6 py-3 rounded-2xl border border-slate-200 text-slate-700 font-semibold hover:bg-white transition-colors disabled:opacity-50",children:"Ctrl+V"})]}):v.jsxs("div",{className:"flex flex-col gap-6",children:[v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[i.map(ae=>v.jsxs("div",{className:"relative group aspect-square rounded-2xl overflow-hidden border border-slate-200 bg-slate-50 shadow-sm",children:[v.jsx("img",{src:ae.preview,className:`w-full h-full object-cover transition-all ${ae.status==="analyzing"?"scale-110 blur-[2px] opacity-50":""}`}),ae.status==="analyzing"&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-indigo-600/20",children:[v.jsx("div",{className:"w-10 h-10 border-4 border-white/30 border-t-white rounded-full animate-spin mb-2"}),v.jsx("span",{className:"text-[10px] text-white font-black uppercase tracking-tighter",children:"AI "})]}),ae.status==="done"&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emerald-500/80 animate-in zoom-in duration-300",children:v.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),ae.status==="error"&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-500/80 p-3 text-center",children:[v.jsx("svg",{className:"w-8 h-8 text-white mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),v.jsx("span",{className:"text-[10px] text-white font-bold leading-tight",children:ae.error})]}),!a&&ae.status!=="done"&&v.jsx("button",{onClick:()=>le(ae.id),className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500",children:v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},ae.id)),!a&&v.jsxs("div",{onClick:()=>{var ae;return(ae=_.current)==null?void 0:ae.click()},className:"aspect-square border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/30 transition-all text-slate-400 hover:text-indigo-600",children:[v.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"text-xs font-bold",children:""})]})]}),v.jsx("button",{type:"button",onClick:O,disabled:a,className:"w-full px-6 py-3 rounded-2xl border border-slate-200 text-slate-700 font-semibold hover:bg-white transition-colors disabled:opacity-50",children:"Ctrl+V"})]})}),v.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-6 border-t bg-slate-50 flex flex-col md:flex-row items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[v.jsxs("div",{className:"text-lg font-black text-slate-700",children:[we.done," ",v.jsx("span",{className:"text-slate-300",children:"/"})," ",we.total]}),v.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-500",style:{width:`${we.total>0?we.done/we.total*100:0}%`}})})]})]}),we.error>0&&v.jsxs("div",{className:"px-3 py-1 bg-red-100 text-red-600 text-[10px] font-bold rounded-lg uppercase animate-pulse",children:[we.error," "]})]}),v.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[v.jsx("button",{onClick:e,disabled:a,className:"flex-1 md:flex-none px-6 py-3 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-white transition-colors disabled:opacity-50",children:we.done===we.total&&we.total>0?"":""}),we.done<we.total&&v.jsx("button",{onClick:be,disabled:a||i.length===0,className:"flex-1 md:flex-none px-8 py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:a?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})})]})]}),v.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",multiple:!0,onChange:de})]}),c&&v.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col",children:[v.jsx("div",{className:"relative flex-1 bg-black",children:v.jsx("video",{ref:R,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-contain"})}),v.jsxs("div",{className:"h-24 bg-black/80 flex items-center justify-between px-8 pb-safe",children:[v.jsx("button",{onClick:ne,className:"text-white font-bold p-4",children:""}),v.jsx("button",{onClick:ee,className:"w-16 h-16 rounded-full bg-white border-4 border-slate-300 shadow-xl active:scale-95 transition-transform"}),v.jsx("div",{className:"w-16"})," "]})]}),x&&v.jsx($g,{imageSrc:x,allowSkip:!0,onCropComplete:q,onSkip:q,onCancel:()=>{S(null);const ae=w;E(null),ae==="camera"&&W()},title:"",description:""})]})},iT=()=>v.jsxs("div",{className:"binding-line print:flex hidden",children:[v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{children:"       "})]}),rT=({questions:t,onClose:e})=>{const[i,l]=me.useState([]),[a,o]=me.useState(!1),[c,f]=me.useState(!0),m=Array.from(new Set(t.flatMap(w=>w.knowledgePoints))),p=w=>{l(E=>E.includes(w)?E.filter(_=>_!==w):[...E,w])},x=t.filter(w=>i.length===0||w.knowledgePoints.some(E=>i.includes(E))),S=()=>{window.print()};return a?v.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto flex flex-col print:bg-white print:block",children:[v.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center print:hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),v.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors",children:[v.jsx("input",{type:"checkbox",checked:c,onChange:w=>f(w.target.checked),className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"}),v.jsx("span",{children:""})]})})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>o(!1),className:"px-5 py-2 text-slate-600 font-semibold bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:""}),v.jsxs("button",{onClick:S,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})," (A4)"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"flex-1 flex justify-center p-8 print:p-0 print:block",children:v.jsxs("div",{className:"bg-white max-w-[210mm] w-full min-h-[297mm] paper-shadow print:shadow-none print:max-w-none relative print-container flex flex-col",children:[v.jsx(iT,{}),v.jsxs("div",{className:"p-12 print:p-4 flex-1",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold mb-4 tracking-widest text-slate-900",children:""}),v.jsxs("div",{className:"flex justify-center gap-8 text-sm text-slate-600 mb-8 font-medium",children:[v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"})]}),v.jsxs("div",{className:"border-y-2 border-slate-900 py-2 flex justify-between px-4 text-xs font-bold uppercase tracking-widest",children:[v.jsxs("span",{children:["",i.length>0?i.join(""):""]}),v.jsxs("span",{children:["",new Date().toISOString().slice(0,10).replace(/-/g,"")]})]})]}),v.jsx("div",{className:"space-y-10",children:x.map((w,E)=>v.jsx("div",{className:"relative pb-6 border-b border-slate-50 last:border-0 break-inside-avoid",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("span",{className:"text-lg font-bold font-serif shrink-0 w-8 h-8 flex items-center justify-center bg-slate-900 text-white rounded-md",children:E+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"mb-4",children:v.jsx(kt,{content:w.content,className:"text-lg text-slate-800 leading-relaxed"})}),w.options&&w.options.length>0&&v.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 mb-6 ml-2",children:w.options.map((_,R)=>v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsxs("span",{className:"font-bold text-slate-900",children:[String.fromCharCode(65+R),"."]}),v.jsx(kt,{content:_,className:"text-base text-slate-700"})]},R))}),w.image&&v.jsx("div",{className:"my-6 flex justify-center border border-slate-100 p-4 rounded-lg bg-slate-50/50",children:v.jsx("img",{src:w.image,alt:"Diagram",className:"max-h-80 object-contain"})}),v.jsx("div",{className:"mt-8 border-t border-dashed border-slate-200 pt-16 print:block hidden",children:v.jsx("p",{className:"text-[10px] text-slate-300 text-right italic",children:""})})]})]})},w.id))}),x.length===0&&v.jsxs("div",{className:"text-center py-20 text-slate-400",children:[v.jsx("p",{className:"text-lg",children:""}),v.jsx("p",{className:"text-sm",children:""})]})]}),c&&x.length>0&&v.jsxs("div",{className:"page-break p-12 print:p-4 border-t-8 border-slate-100",children:[v.jsx("div",{className:"text-center mb-12",children:v.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-widest border-b-2 border-slate-900 inline-block pb-2",children:""})}),v.jsx("div",{className:"space-y-12",children:x.map((w,E)=>v.jsxs("div",{className:"break-inside-avoid bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-slate-200",children:[v.jsxs("span",{className:"font-black text-slate-900",children:[" ",E+1," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:":"}),v.jsx("span",{className:"text-xl font-bold text-indigo-600",children:w.answer})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-indigo-500 rounded-full"}),""]}),v.jsx("div",{className:"text-sm text-slate-700 leading-relaxed",children:v.jsx(kt,{content:w.analysis})})]}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full"}),""]}),v.jsx("div",{className:"text-xs text-slate-600 bg-white p-3 rounded-lg border border-slate-100 italic",children:v.jsx(kt,{content:w.learningGuide})})]}),v.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:w.knowledgePoints.map((_,R)=>v.jsxs("span",{className:"text-[9px] px-2 py-0.5 bg-slate-200 text-slate-600 rounded-full font-bold",children:["#",_]},R))})]})]},w.id))})]}),v.jsxs("div",{className:"mt-auto p-12 text-center text-xs text-slate-400 border-t border-slate-50 print:hidden",children:[v.jsx("p",{children:" 2024 E-Bu  -  Gemini AI "}),v.jsx("p",{className:"mt-1",children:""})]})]})})]}):v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-xl rounded-3xl shadow-2xl p-8 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:""})]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-300 hover:text-slate-500 transition-colors",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 mb-8 space-y-6 scrollbar-hide",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 flex justify-between items-center",children:["",v.jsxs("span",{className:"bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded-full lowercase",children:[" ",i.length," "]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.map(w=>v.jsx("button",{onClick:()=>p(w),className:`px-3 py-1.5 rounded-xl text-sm font-semibold transition-all border ${i.includes(w)?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100":"bg-white text-slate-600 border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30"}`,children:w},w)),m.length===0&&v.jsx("div",{className:"w-full py-8 text-center bg-slate-50 rounded-2xl border border-dashed border-slate-200 text-slate-400 text-sm",children:""})]})]}),v.jsx("section",{className:"bg-indigo-50 rounded-2xl p-5 border border-indigo-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-indigo-900 font-bold",children:""}),v.jsx("p",{className:"text-indigo-600 text-xs mt-0.5",children:""})]}),v.jsxs("div",{className:"text-3xl font-black text-indigo-600",children:[x.length," ",v.jsx("span",{className:"text-sm font-bold text-indigo-400",children:""})]})]})}),v.jsx("section",{className:"space-y-3",children:v.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 p-3 rounded-xl text-xs",children:[v.jsx("svg",{className:"w-4 h-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("span",{children:""})]})})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:e,className:"flex-1 py-3.5 px-6 rounded-2xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:""}),v.jsxs("button",{disabled:x.length===0,onClick:()=>o(!0),className:"flex-1 py-3.5 px-6 rounded-2xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-100 transition-all disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["",v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})})},lT=()=>v.jsxs("div",{className:"binding-line print:flex hidden",children:[v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{children:"       "})]}),aT=({questions:t,onClose:e})=>{const[i,l]=me.useState(!0),[a,o]=me.useState(""),c=()=>{window.print()};return v.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto flex flex-col print:bg-white print:block",children:[v.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center print:hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col border-r border-slate-200 pr-6 mr-2",children:[v.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:""}),v.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),className:"text-lg font-bold text-slate-800 border-b border-transparent focus:border-indigo-500 hover:border-slate-300 bg-transparent outline-none transition-all w-80 placeholder:text-slate-300"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("p",{className:"text-sm text-slate-500 font-medium bg-slate-100 px-3 py-1 rounded-full",children:[" ",t.length," "]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors text-sm font-medium text-slate-600",children:[v.jsx("input",{type:"checkbox",checked:i,onChange:f=>l(f.target.checked),className:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-slate-300"}),v.jsx("span",{children:""})]})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:c,className:"px-6 py-2 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})," /  PDF"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"flex-1 flex justify-center p-8 print:p-0 print:block",children:v.jsxs("div",{className:"bg-white max-w-[210mm] w-full min-h-[297mm] paper-shadow print:shadow-none print:max-w-none relative print-container",children:[v.jsx(lT,{}),v.jsxs("div",{className:"pt-12 pb-6 px-12 print:px-4 text-center",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold tracking-widest text-slate-900",children:a}),v.jsxs("div",{className:"flex justify-center gap-6 mt-6 text-xs text-slate-500 border-b pb-8",children:[v.jsxs("span",{children:["",new Date().toLocaleDateString()]}),v.jsxs("span",{children:["",t.length," "]}),v.jsx("span",{children:""})]})]}),v.jsx("div",{className:"flex flex-col",children:t.map((f,m)=>v.jsxs("div",{className:"workbook-row border-b border-slate-100 flex flex-row",children:[v.jsx("div",{className:"workbook-question w-1/2 p-8 border-r border-slate-100 bg-slate-50/20",children:v.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[v.jsx("span",{className:"shrink-0 w-6 h-6 flex items-center justify-center bg-slate-200 text-slate-700 rounded text-xs font-bold",children:m+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx(kt,{content:f.content,className:"text-sm leading-relaxed text-slate-800"}),f.options&&f.options.length>0&&v.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2",children:f.options.map((p,x)=>v.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-600",children:[v.jsxs("span",{className:"font-bold",children:[String.fromCharCode(65+x),"."]}),v.jsx(kt,{content:p})]},x))}),f.croppedDiagram&&v.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-[9px] text-slate-400 mb-1 uppercase tracking-widest font-bold",children:""}),v.jsx("div",{className:"border border-indigo-100 p-2 rounded-lg bg-white shadow-sm",children:v.jsx("img",{src:f.croppedDiagram,alt:"Diagram Legend",className:"max-h-56 object-contain"})})]}),i&&f.image&&v.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-[9px] text-slate-400 mb-1 uppercase tracking-widest font-bold opacity-50",children:""}),v.jsx("div",{className:"border border-slate-100 p-2 rounded-lg bg-white/50",children:v.jsx("img",{src:f.image,alt:"Original Capture",className:"max-h-48 object-contain opacity-80"})})]}),v.jsx("div",{className:"mt-6 flex flex-wrap gap-1",children:f.knowledgePoints.map((p,x)=>v.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-white text-slate-400 rounded-full border",children:["#",p]},x))})]})]})}),v.jsx("div",{className:"workbook-space w-1/2 p-8 workbook-grid relative",children:v.jsx("div",{className:"absolute top-4 right-4 text-[10px] text-slate-300 font-bold uppercase tracking-widest",children:" / Rework Area"})})]},f.id))}),v.jsx("div",{className:"p-12 text-center text-slate-300 text-[10px] print:hidden",children:"---  ---"})]})})]})},sT=({onClose:t,onDataChanged:e})=>{const[i,l]=me.useState("GUIDE"),a=me.useRef(null),[o,c]=me.useState(!1),f=()=>{const S=ct.exportBackup(),w=new Blob([S],{type:"application/json"}),E=URL.createObjectURL(w),_=document.createElement("a");_.href=E,_.download=`E-Bu_Backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(E)},m=()=>{var S;(S=a.current)==null||S.click()},p=async S=>{var _;const w=(_=S.target.files)==null?void 0:_[0];if(!w||!window.confirm(""))return;c(!0);const E=new FileReader;E.onload=async R=>{var k;try{const U=(k=R.target)==null?void 0:k.result;await ct.importBackup(U),alert(""),e==null||e()}catch(U){alert(": "+U.message)}finally{c(!1),a.current&&(a.current.value="")}},E.readAsText(w)},x=({method:S,path:w,desc:E,params:_,payload:R,response:k})=>v.jsxs("div",{className:"mb-12 border border-slate-200 rounded-2xl overflow-hidden bg-white shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 bg-slate-50 border-b border-slate-200",children:[v.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded-md ${S==="GET"?"bg-blue-600 text-white":S==="POST"?"bg-emerald-600 text-white":S==="PATCH"?"bg-amber-500 text-white":"bg-red-600 text-white"}`,children:S}),v.jsx("code",{className:"text-sm text-slate-800 font-mono font-bold",children:w})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsx("p",{className:"text-sm text-slate-600 font-medium",children:E}),_&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Query Parameters"}),v.jsx("pre",{className:"bg-slate-50 p-4 rounded-xl text-xs text-slate-700 border border-slate-100 italic",children:_})]}),R&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Request Body (JSON)"}),v.jsx("div",{className:"relative group",children:v.jsx("pre",{className:"bg-slate-900 p-4 rounded-xl text-xs text-emerald-400 font-mono overflow-x-auto",children:R})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Response Object"}),v.jsx("pre",{className:"bg-slate-900 p-4 rounded-xl text-xs text-indigo-300 font-mono overflow-x-auto",children:k})]})]})]});return v.jsxs("div",{className:"fixed inset-0 z-[100] bg-white flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[v.jsxs("div",{className:"h-16 border-b border-slate-100 flex items-center justify-between px-8 bg-white shrink-0",children:[v.jsx("div",{className:"flex items-center gap-4",children:v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:t,children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h1",{className:"text-xl font-bold text-slate-900 leading-tight",children:"E-Bu"}),v.jsx("div",{className:"px-2 py-0.5 bg-slate-100 border border-slate-200 rounded text-[9px] font-bold text-slate-500 flex items-center gap-1",children:"DEVHUB"})]}),v.jsx("p",{className:"text-xs text-slate-500 font-medium",children:""})]})]})}),v.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[v.jsx("button",{onClick:()=>l("GUIDE"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="GUIDE"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),v.jsx("button",{onClick:()=>l("DATA"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="DATA"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),v.jsx("button",{onClick:()=>l("API"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="API"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:" API"})]}),v.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[v.jsx("div",{className:"w-64 border-r border-slate-100 bg-slate-50/50 p-6 overflow-y-auto hidden md:block",children:v.jsxs("nav",{className:"space-y-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:""}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("GUIDE"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("GUIDE"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:"LaTeX "})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:""}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("DATA"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("DATA"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"API "}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("API"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("API"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:"AI "})]})]})]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-10 bg-slate-50/30",children:v.jsx("div",{className:"max-w-4xl mx-auto",children:i==="GUIDE"?v.jsxs("div",{className:"prose prose-slate max-w-none",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-6",children:""}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[v.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100",children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-600 text-white rounded-xl flex items-center justify-center font-bold mb-4",children:"1"}),v.jsx("h3",{className:"text-lg font-bold text-indigo-900 mb-2",children:""}),v.jsx("p",{className:"text-sm text-indigo-700/80 leading-relaxed",children:"AI  OCR "})]}),v.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100",children:[v.jsx("div",{className:"w-10 h-10 bg-emerald-600 text-white rounded-xl flex items-center justify-center font-bold mb-4",children:"2"}),v.jsx("h3",{className:"text-lg font-bold text-emerald-900 mb-2",children:""}),v.jsx("p",{className:"text-sm text-emerald-700/80 leading-relaxed",children:'""'})]})]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"AI "}),v.jsx("p",{className:"text-sm text-slate-600 mb-4",children:" AI "}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-blue-500 to-indigo-600"}),v.jsx("h4",{className:"font-bold text-slate-800",children:"Google Gemini"})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" JSON gemini-2.0-flash"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-orange-500 to-red-500"}),v.jsx("h4",{className:"font-bold text-slate-800",children:""})]}),v.jsx("p",{className:"text-xs text-slate-500",children:"qwen-vl-max"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-purple-500 to-pink-500"}),v.jsx("h4",{className:"font-bold text-slate-800",children:""})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" Ark  ID (ep-xxx)"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-emerald-500 to-teal-600"}),v.jsx("h4",{className:"font-bold text-slate-800",children:"OpenAI / "})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" API OpenAI gpt-4o"})]})]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"LaTeX "}),v.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl text-emerald-400 font-mono text-sm leading-relaxed mb-12",children:[v.jsx("p",{className:"text-slate-500 mb-2",children:"//  JSON "}),`"content": " $f(x) = \\\\sqrt{{x^2 + 1}}$ $f'(x)$"`]})]}):i==="DATA"?v.jsxs("div",{className:"space-y-10",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-4",children:""}),v.jsx("p",{className:"text-slate-500",children:""})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm flex flex-col",children:[v.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mb-6",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-8 flex-1",children:" JSON "}),v.jsx("button",{onClick:f,className:"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]}),v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm flex flex-col",children:[v.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-600 rounded-2xl flex items-center justify-center mb-6",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})]})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-8 flex-1",children:""}),v.jsx("button",{onClick:m,className:"w-full py-3 border-2 border-amber-200 text-amber-600 font-bold rounded-xl hover:bg-amber-50 transition-all",children:o?"...":""}),v.jsx("input",{type:"file",ref:a,className:"hidden",accept:".json",onChange:p})]})]}),v.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 text-slate-300",children:[v.jsxs("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5 text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM5.884 6.607a1 1 0 010-1.414l.707-.707a1 1 0 111.414 1.414l-.707.707a1 1 0 01-1.414 0zm11.314 2.828a1 1 0 11-1.414 0 1 1 0 011.414 0zm-2.828 4.243a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zm-4.243 2.828a1 1 0 100-2v-1a1 1 0 10-2 0v1a1 1 0 100 2zM4.47 14.25a1 1 0 000 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 0zM4 10a1 1 0 110-2 1 1 0 010 2z",clipRule:"evenodd"})}),""]}),v.jsxs("p",{className:"text-sm leading-relaxed opacity-80 mb-2",children:[v.jsx("strong",{className:"text-indigo-300",children:""}),v.jsx("br",{}),"Local-FirstLocalStorage"]}),v.jsxs("p",{className:"text-sm leading-relaxed opacity-80",children:[v.jsx("strong",{className:"text-indigo-300",children:""}),v.jsx("br",{})," JSON "]})]})]}):v.jsxs("div",{className:"space-y-8 pb-20",children:[v.jsxs("div",{className:"mb-10",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-4",children:" API "}),v.jsxs("p",{className:"text-slate-500",children:[" ",v.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"Content-Type: application/json"}),""]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-3",children:[v.jsx("span",{className:"w-12 h-[1px] bg-slate-200"}),"",v.jsx("span",{className:"flex-1 h-[1px] bg-slate-200"})]}),v.jsx(x,{method:"GET",path:"/api/questions",desc:"",params:"?subject=&query=&limit=20&offset=0",response:`[
  {
    "id": "uuid-string",
    "subject": "",
    "content": "...",
    "difficulty": 3,
    "createdAt": 1700000000000,
    "knowledgePoints": ["", ""],
    "image": "url_or_base64"
  },
  ...
]`}),v.jsx(x,{method:"POST",path:"/api/questions",desc:"image ",payload:`{
  "subject": "",
  "content": " $m$ ...",
  "options": ["$A. 10N$", "$B. 20N$"],
  "answer": "A",
  "analysis": "...",
  "knowledgePoints": ["", ""],
  "difficulty": 4,
  "image": "data:image/jpeg;base64,..."
}`,response:`{
  "id": "new-uuid",
  "createdAt": 1709253400000,
  "status": "success"
}`})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-3",children:[v.jsx("span",{className:"w-12 h-[1px] bg-slate-200"}),"",v.jsx("span",{className:"flex-1 h-[1px] bg-slate-200"})]}),v.jsx(x,{method:"POST",path:"/api/backup/import",desc:" JSON ",payload:`{
  "version": "1.2.0",
  "data": [ /*  */ ]
}`,response:'{ "importedCount": 150, "status": "ok" }'})]})]})})})]}),v.jsx("div",{className:"h-12 border-t border-slate-100 flex items-center justify-center bg-slate-50 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"E-Bu DevHub   v1.3.0"})]})},r2=["from-pink-500 to-rose-500","from-cyan-500 to-blue-500","from-amber-500 to-orange-500","from-violet-500 to-purple-500","from-lime-500 to-green-500","from-red-500 to-pink-500","from-teal-500 to-cyan-500","from-fuchsia-500 to-pink-500"],oT=({onClose:t,onConfigSaved:e})=>{var ue,ve,Re;const[i,l]=me.useState("AI"),[a,o]=me.useState({activeProvider:Qe.GEMINI,providers:{},customProviders:[],enableLatexAutoFix:!0}),[c,f]=me.useState(Qe.GEMINI),[m,p]=me.useState(!1),[x,S]=me.useState(null),[w,E]=me.useState(null),[_,R]=me.useState(!1),[k,U]=me.useState(""),[O,J]=me.useState(null),[W,ne]=me.useState(!1),[ee,q]=me.useState(!1);me.useEffect(()=>{if(w){const Q=setTimeout(()=>E(null),3e3);return()=>clearTimeout(Q)}},[w]),me.useEffect(()=>{(async()=>{try{const se=await ct.getAIConfig();o({enableLatexAutoFix:!0,...se}),f(se.activeProvider)}catch(se){console.error("Failed to load config",se),E({type:"error",message:""})}})()},[]),me.useEffect(()=>{i==="DB"&&!O&&!W&&de()},[i]);const de=async()=>{try{ne(!0);const Q=await ct.getMigrationStatus();J(Q)}catch(Q){console.error("Failed to load migration status",Q);const se=Q instanceof Error?Q.message:"";E({type:"error",message:se})}finally{ne(!1)}},le=async()=>{try{q(!0);const Q=await ct.migrateToLatest();E({type:"success",message:` ${Q.count||0} `}),await de()}catch(Q){console.error("Migration failed",Q);const se=Q instanceof Error?Q.message:"";E({type:"error",message:se})}finally{q(!1)}},be=Q=>!Object.values(Qe).includes(Q),we=()=>{var Q;if(be(c)){const se=(Q=a.customProviders)==null?void 0:Q.find(Oe=>Oe.id===c);return(se==null?void 0:se.config)||{}}return a.providers[c]||{}},ae=Q=>{be(c)?o(se=>({...se,customProviders:se.customProviders.map(Oe=>Oe.id===c?{...Oe,config:{...Oe.config,...Q}}:Oe)})):o(se=>({...se,providers:{...se.providers,[c]:{...se.providers[c],...Q}}}))},ge=Q=>{f(Q),S(null)},Ce=()=>{o(Q=>({...Q,activeProvider:c}))},Te=()=>{if(!k.trim())return;const Q={id:`custom-${Date.now()}`,name:k.trim(),color:r2[a.customProviders.length%r2.length],config:{}};o(se=>({...se,customProviders:[...se.customProviders,Q]})),U(""),R(!1),f(Q.id)},P=Q=>{window.confirm("")&&(o(se=>({...se,customProviders:se.customProviders.filter(Oe=>Oe.id!==Q),activeProvider:se.activeProvider===Q?Qe.GEMINI:se.activeProvider})),c===Q&&f(Qe.GEMINI))},$=async()=>{try{p(!0),S(null),E(null);let Q;if(be(a.activeProvider)){const se=a.customProviders.find(Oe=>Oe.id===a.activeProvider);Q={type:a.activeProvider,apiKey:se==null?void 0:se.config.apiKey,baseUrl:se==null?void 0:se.config.baseUrl,modelName:se==null?void 0:se.config.modelName,systemPrompt:a.systemPrompt}}else{const se=a.providers[a.activeProvider]||{};Q={type:a.activeProvider,apiKey:se.apiKey,baseUrl:se.baseUrl,modelName:se.modelName,systemPrompt:a.systemPrompt}}await T4(Q),ct.saveAIConfig(a),e==null||e(a),E({type:"success",message:""}),S({success:!0,message:""}),i==="AI"&&setTimeout(()=>{t()},1500)}catch(Q){const se=Q instanceof Error?Q.message:"";S({success:!1,message:se}),E({type:"error",message:`: ${se}`})}finally{p(!1)}},fe=async()=>{try{p(!0),S(null);let Q;if(be(c)){const se=a.customProviders.find(Oe=>Oe.id===c);Q={type:c,apiKey:se==null?void 0:se.config.apiKey,baseUrl:se==null?void 0:se.config.baseUrl,modelName:se==null?void 0:se.config.modelName,systemPrompt:a.systemPrompt}}else{const se=a.providers[c]||{};Q={type:c,apiKey:se.apiKey,baseUrl:se.baseUrl,modelName:se.modelName,systemPrompt:a.systemPrompt}}await T4(Q),S({success:!0,message:""})}catch(Q){const se=Q instanceof Error?Q.message:"";S({success:!1,message:se})}finally{p(!1)}},Ae=()=>{window.confirm("")&&o({...a,systemPrompt:Io})},Me=[{id:Qe.GEMINI,name:"Google Gemini",desc:" ()",color:"from-blue-500 to-indigo-600"},{id:Qe.QWEN,name:"",desc:"VL",color:"from-orange-500 to-red-500"},{id:Qe.DOUBAO,name:"",desc:"",color:"from-purple-500 to-pink-500"},{id:Qe.OPENAI,name:"OpenAI / ",desc:" API ",color:"from-emerald-500 to-teal-600"}],L=we(),X=(ue=a.customProviders)==null?void 0:ue.find(Q=>Q.id===c);return v.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row h-[700px]",children:[v.jsxs("div",{className:"w-full md:w-48 bg-slate-50 border-r border-slate-100 p-6 flex flex-col",children:[v.jsx("h2",{className:"text-xl font-black text-slate-800 mb-8 px-2",children:""}),v.jsxs("nav",{className:"space-y-2 flex-1",children:[v.jsx("button",{onClick:()=>l("AI"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="AI"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:"AI "}),v.jsx("button",{onClick:()=>l("PROMPT"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="PROMPT"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""}),v.jsx("button",{onClick:()=>l("DB"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="DB"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""}),v.jsx("button",{onClick:()=>l("ABOUT"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${i==="ABOUT"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""})]}),v.jsx("button",{onClick:t,className:"mt-auto px-4 py-2 text-sm font-bold text-slate-400 hover:text-slate-800 transition-colors",children:""})]}),v.jsxs("div",{className:"flex-1 flex flex-col p-8 overflow-y-auto bg-white",children:[w&&v.jsxs("div",{className:`mb-4 p-4 rounded-2xl border flex items-center gap-3 animate-in slide-in-from-top-2 duration-300 ${w.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[w.type==="success"?v.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):v.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),v.jsx("span",{className:"font-bold text-sm",children:w.message}),v.jsx("button",{onClick:()=>E(null),className:"ml-auto text-current opacity-50 hover:opacity-100 transition-opacity",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i==="AI"?v.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500",children:" AI "})]}),v.jsx("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-black text-slate-800",children:"LaTeX "}),v.jsxs("div",{className:"text-xs text-slate-500 leading-relaxed mt-1",children:["/ ",v.jsx("span",{className:"font-mono",children:"$...$"}),"  ",v.jsx("span",{className:"font-mono",children:"\\\\sqrt"})," / ",v.jsx("span",{className:"font-mono",children:"\\\\frac"}),""]})]}),v.jsx("button",{type:"button",onClick:()=>{o(Q=>({...Q,enableLatexAutoFix:!Q.enableLatexAutoFix}));try{localStorage.setItem("latexAutofixEnabled",String(!a.enableLatexAutoFix))}catch{}},className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${a.enableLatexAutoFix?"bg-emerald-500":"bg-slate-300"}`,"aria-label":"toggle-latex-autofix",children:v.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.enableLatexAutoFix?"translate-x-6":"translate-x-1"}`})})]})}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:Me.map(Q=>v.jsxs("button",{onClick:()=>ge(Q.id),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${c===Q.id?"border-indigo-600 bg-indigo-50/50 shadow-sm":"border-slate-100 hover:border-slate-200"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${Q.color} flex items-center justify-center text-white text-xs`,children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:Q.name}),v.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:Q.desc})]}),a.activeProvider===Q.id&&v.jsx("div",{className:"text-indigo-600 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},Q.id))}),a.customProviders&&a.customProviders.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:""}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.customProviders.map(Q=>v.jsxs("button",{onClick:()=>ge(Q.id),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${c===Q.id?"border-indigo-600 bg-indigo-50/50 shadow-sm":"border-slate-100 hover:border-slate-200"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${Q.color} flex items-center justify-center text-white text-xs font-bold`,children:Q.name.charAt(0).toUpperCase()}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:Q.name}),v.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:Q.description||" OpenAI "})]}),a.activeProvider===Q.id&&v.jsx("div",{className:"text-indigo-600 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},Q.id))})]}),_?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:k,onChange:Q=>U(Q.target.value),placeholder:"",className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",autoFocus:!0,onKeyDown:Q=>Q.key==="Enter"&&Te()}),v.jsx("button",{onClick:Te,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700",children:""}),v.jsx("button",{onClick:()=>{R(!1),U("")},className:"px-4 py-2 border border-slate-200 text-slate-500 rounded-xl font-bold text-sm hover:bg-slate-50",children:""})]}):v.jsxs("button",{onClick:()=>R(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 text-slate-500 rounded-xl font-bold text-sm hover:border-indigo-300 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]}),x&&v.jsx("div",{className:`p-4 rounded-2xl border ${x.success?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:v.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[x.success?v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),x.message]})}),v.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h4",{className:"font-bold text-slate-700",children:[be(c)?X==null?void 0:X.name:(ve=Me.find(Q=>Q.id===c))==null?void 0:ve.name," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[be(c)&&v.jsx("button",{onClick:()=>P(c),className:"text-xs bg-rose-100 text-rose-600 px-3 py-1 rounded-full font-bold hover:bg-rose-200 transition-colors",children:""}),a.activeProvider===c?v.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-bold",children:""}):v.jsx("button",{onClick:Ce,className:"text-xs bg-slate-200 text-slate-600 px-3 py-1 rounded-full font-bold hover:bg-indigo-100 hover:text-indigo-700 transition-colors",children:""})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (API Key)"}),v.jsx("input",{type:"password",value:L.apiKey||"",onChange:Q=>ae({apiKey:Q.target.value}),placeholder:c===Qe.GEMINI?"Google AI API Key":c===Qe.QWEN?"API Key":c===Qe.DOUBAO?"API Key":"sk-...",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]}),c!==Qe.GEMINI&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Base URL)"}),v.jsx("input",{type:"text",value:L.baseUrl||"",onChange:Q=>ae({baseUrl:Q.target.value}),placeholder:c===Qe.QWEN?"https://dashscope.aliyuncs.com/compatible-mode/v1":c===Qe.DOUBAO?"https://ark.cn-beijing.volces.com/api/v3":"https://api.openai.com/v1",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Model ID)"}),v.jsx("input",{type:"text",value:L.modelName||"",onChange:Q=>ae({modelName:Q.target.value}),placeholder:c===Qe.GEMINI?"gemini-2.0-flash":c===Qe.QWEN?"qwen-vl-max":c===Qe.DOUBAO?"ep-xxxxxxxxxx (ID)":"gpt-4o",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:fe,disabled:m,className:"flex-1 py-4 bg-emerald-600 text-white font-black rounded-2xl hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"...":""}),v.jsx("button",{onClick:$,disabled:m,className:"flex-1 py-4 bg-indigo-600 text-white font-black rounded-2xl hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"...":""})]})]}):i==="DB"?v.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500",children:" Docker / "})]}),v.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"DB PATH"}),v.jsx("div",{className:"text-sm font-bold text-slate-700 break-all",children:(O==null?void 0:O.dbPath)||"-"})]}),v.jsx("button",{onClick:de,disabled:W,className:"px-4 py-2 rounded-xl text-sm font-black border-2 border-slate-200 text-slate-600 hover:bg-white transition-all disabled:opacity-50",children:W?"...":""})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CURRENT"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(O==null?void 0:O.current)??"-"})]}),v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"LATEST"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(O==null?void 0:O.latest)??"-"})]}),v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"PENDING"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(O==null?void 0:O.pendingCount)??"-"})]})]}),((Re=O==null?void 0:O.pending)==null?void 0:Re.length)>0?v.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-3 rounded-xl",children:[v.jsx("div",{className:"text-xs font-bold text-amber-700 mb-2",children:""}),v.jsx("div",{className:"space-y-1",children:O.pending.map(Q=>v.jsxs("div",{className:"text-[11px] text-amber-800 font-mono",children:["v",Q.version," - ",Q.name]},Q.version))})]}):v.jsx("div",{className:"bg-emerald-50 border border-emerald-100 p-3 rounded-xl",children:v.jsx("div",{className:"text-xs font-bold text-emerald-700",children:""})}),v.jsx("button",{onClick:le,disabled:ee,className:"w-full py-3 bg-indigo-600 text-white font-black rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:ee?"...":""}),v.jsx("div",{className:"text-[10px] text-slate-400 leading-relaxed",children:" `schema_migrations` "})]})]}):i==="PROMPT"?v.jsxs("div",{className:"flex flex-col h-full animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"AI "}),v.jsx("p",{className:"text-sm text-slate-500",children:" AI  System Prompt "})]}),v.jsxs("div",{className:"flex-1 min-h-0 flex flex-col gap-4",children:[v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("textarea",{value:a.systemPrompt||Io,onChange:Q=>o({...a,systemPrompt:Q.target.value}),className:"w-full h-full p-4 bg-slate-900 text-emerald-400 font-mono text-xs rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 outline-none leading-relaxed resize-none shadow-inner",placeholder:"..."}),v.jsx("div",{className:"absolute top-4 right-4 text-[10px] font-bold text-slate-700 bg-slate-800 px-2 py-1 rounded",children:"SYSTEM_PROMPT"})]}),v.jsx("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:v.jsx("p",{className:"text-[10px] text-amber-700 font-bold leading-relaxed",children:"  AI  JSON  content, analysis "})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:Ae,className:"px-6 py-3 border-2 border-slate-200 text-slate-500 font-bold rounded-xl hover:bg-slate-50 transition-all",children:""}),v.jsx("button",{onClick:$,className:"flex-1 py-3 bg-indigo-600 text-white font-black rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]})]})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 animate-in zoom-in-95 duration-300",children:[v.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-3xl flex items-center justify-center text-indigo-600 mb-4 shadow-sm",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"E-Bu v1.3.0"}),v.jsx("p",{className:"text-slate-500 text-sm max-w-xs leading-relaxed",children:" AI GeminiOpenAI"}),v.jsxs("div",{className:"pt-8 flex gap-6",children:[v.jsx("a",{href:"#",className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors underline decoration-2 underline-offset-4",children:""}),v.jsx("a",{href:"#",className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors underline decoration-2 underline-offset-4",children:""})]})]})]})]})})},uT=(t,e)=>{const[i,l]=me.useState(t);return me.useEffect(()=>{const a=window.setTimeout(()=>l(t),e);return()=>window.clearTimeout(a)},[t,e]),i},cT=()=>{const[t,e]=me.useState([]),[i,l]=me.useState([]),[a,o]=me.useState("LIBRARY"),[c,f]=me.useState(!0),[m,p]=me.useState("ALL"),[x,S]=me.useState(null),[w,E]=me.useState(null),[_,R]=me.useState(!1),[k,U]=me.useState(!1),[O,J]=me.useState(!1),[W,ne]=me.useState(!1),[ee,q]=me.useState(!1),[de,le]=me.useState(""),be=uT(de,300),[we,ae]=me.useState("CARD"),[ge,Ce]=me.useState(null),[Te,P]=me.useState(1),[$,fe]=me.useState(()=>{const re=window.localStorage.getItem("pageSize"),ze=re?Number(re):20;return[10,20,50,100].includes(ze)?ze:20}),[Ae,Me]=me.useState(0),[L,X]=me.useState(0),[ue,ve]=me.useState(new Set),[Re,Q]=me.useState(null);me.useEffect(()=>{ct.syncRemoteConfig(),ct.getAIConfig().then(Q).catch(()=>Q(null))},[]),me.useEffect(()=>{se()},[a,Te,ge,$,be,m]),me.useEffect(()=>{P(1)},[a]),me.useEffect(()=>{window.localStorage.setItem("pageSize",String($))},[$]),me.useEffect(()=>{P(1)},[ge,be,m,$]);const se=async()=>{f(!0);try{if(a==="LIBRARY"){const re=await ct.fetchTrash({page:1,pageSize:1});Array.isArray(re)?X(re.length):X(re.total);const ze=await ct.fetchQuestions({page:Te,pageSize:$,tag:ge||void 0,q:be||void 0,subject:m==="ALL"?void 0:m});Array.isArray(ze)?(e(ze),Me(ze.length)):(e(ze.items),Me(ze.total))}else{const re=await ct.fetchTrash({page:Te,pageSize:$,tag:ge||void 0,q:be||void 0,subject:m==="ALL"?void 0:m});Array.isArray(re)?(l(re),Me(re.length),X(re.length)):(l(re.items),Me(re.total),X(re.total))}ve(new Set)}catch(re){console.error("Failed to load questions",re)}finally{f(!1)}},Oe=async re=>{if(window.confirm(""))try{await ct.deleteQuestion(re),e(Ue=>Ue.filter(st=>st.id!==re));const ze=t.find(Ue=>Ue.id===re);ze&&(l(Ue=>[{...ze,deletedAt:Date.now()},...Ue]),X(Ue=>Ue+1)),(x==null?void 0:x.id)===re&&S(null),jn(re)}catch{alert("")}},tt=async re=>{try{await ct.restoreQuestion(re);const ze=i.find(Ue=>Ue.id===re);l(Ue=>Ue.filter(st=>st.id!==re)),X(Ue=>Math.max(0,Ue-1)),ze&&e(Ue=>[ze,...Ue]),jn(re)}catch{alert("")}},cn=async re=>{if(window.confirm(""))try{await ct.hardDeleteQuestion(re),l(ze=>ze.filter(Ue=>Ue.id!==re)),X(ze=>Math.max(0,ze-1)),jn(re)}catch{alert("")}},jn=re=>{ve(ze=>{const Ue=new Set(ze);return Ue.delete(re),Ue})},ri=async(re,ze)=>{try{const Ue=await ct.updateQuestion(re,{difficulty:ze});Qt(re,Ue)}catch(Ue){console.error(Ue)}},Hr=(re,ze,Ue)=>{const st=Ot=>Ot.id===re?{...Ot,[ze]:Ue}:Ot;e(Ot=>Ot.map(st)),l(Ot=>Ot.map(st)),(x==null?void 0:x.id)===re&&S(Ot=>Ot?{...Ot,[ze]:Ue}:null)},Qt=(re,ze)=>{a==="LIBRARY"?e(Ue=>Ue.map(st=>st.id===re?ze:st)):l(Ue=>Ue.map(st=>st.id===re?ze:st)),(x==null?void 0:x.id)===re&&S(ze)},Zt=(a==="LIBRARY"?t:i).filter(re=>{const ze=m==="ALL"||re.subject===m,Ue=!be||re.content.toLowerCase().includes(be.toLowerCase())||re.analysis.toLowerCase().includes(be.toLowerCase())||re.learningGuide.toLowerCase().includes(be.toLowerCase())||(re.answer||"").toLowerCase().includes(be.toLowerCase())||(re.diagramDescription||"").toLowerCase().includes(be.toLowerCase())||(re.options||[]).some(Ot=>Ot.toLowerCase().includes(be.toLowerCase()))||re.knowledgePoints.some(Ot=>Ot.toLowerCase().includes(be.toLowerCase())),st=!ge||re.knowledgePoints.includes(ge);return ze&&Ue&&st}),mr=()=>t.filter(re=>ue.has(re.id)),Yn=re=>{ve(ze=>{const Ue=new Set(ze);return Ue.has(re)?Ue.delete(re):Ue.add(re),Ue})},Jn=()=>{const re=Zt.map(st=>st.id),ze=re.every(st=>ue.has(st)),Ue=new Set(ue);ze?re.forEach(st=>Ue.delete(st)):re.forEach(st=>Ue.add(st)),ve(Ue)},Bl=async()=>{if(window.confirm(` ${ue.size} `))try{await Promise.all(Array.from(ue).map(re=>ct.deleteQuestion(re))),se()}catch{alert("")}},Hl=async()=>{if(window.confirm(` ${ue.size} `))try{await Promise.all(Array.from(ue).map(re=>ct.hardDeleteQuestion(re))),se()}catch{alert("")}},Wo=async()=>{try{await Promise.all(Array.from(ue).map(re=>ct.restoreQuestion(re))),se()}catch{alert("")}},e0=async re=>{try{const ze=await ct.createQuestion(re);e(Ue=>[ze,...Ue])}catch(ze){throw console.error("Batch save failed",ze),new Error(ze.message||"")}},Dt=Zt.length>0&&Zt.every(re=>ue.has(re.id));return v.jsxs("div",{className:"min-h-screen flex flex-col",children:[v.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-30 px-4 py-3 md:px-6 md:py-4",children:v.jsxs("div",{className:"max-w-7xl mx-auto flex flex-wrap md:flex-nowrap items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer shrink-0 order-1",onClick:()=>o("LIBRARY"),children:[v.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:v.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h1",{className:"text-lg md:text-xl font-bold text-slate-900 leading-tight",children:"E-Bu"}),v.jsxs("div",{className:"px-1.5 py-0.5 md:px-2 bg-slate-100 border border-slate-200 rounded text-[9px] font-bold text-slate-500 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full animate-pulse"}),"AI Enhanced"]})]}),v.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mt-0.5",children:""})]})]}),v.jsxs("div",{className:"w-full md:w-auto md:flex-1 max-w-xl relative order-3 md:order-2",children:[v.jsx("input",{type:"text",placeholder:`${a==="LIBRARY"?"":""}...`,value:de,onChange:re=>le(re.target.value),className:`w-full pl-9 md:pl-10 ${de?"pr-10":"pr-4"} py-2 bg-slate-100 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 transition-all text-sm`}),de&&v.jsx("button",{type:"button",onClick:()=>le(""),className:"absolute right-3 top-1/2 -translate-y-1/2 w-6 h-6 flex items-center justify-center rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-200/60 transition",title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),v.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),v.jsxs("div",{className:"flex gap-2 md:gap-3 items-center order-2 md:order-3 ml-auto md:ml-0",children:[v.jsxs("div",{className:"hidden min-[400px]:flex items-center gap-0.5 md:gap-1 mr-1 border-r border-slate-200 pr-2 md:pr-3",children:[v.jsx("a",{href:"https://github.com/aymwoo/E-Bu",target:"_blank",rel:"noreferrer",className:"p-2 rounded-xl text-slate-400 hover:text-slate-900 hover:bg-slate-100 transition-all",title:"GitHub Repository",children:v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:v.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),v.jsx("a",{href:"https://gitee.com/aymwoo/E-Bu",target:"_blank",rel:"noreferrer",className:"p-2 rounded-xl hover:bg-red-50 transition-all group",title:"Gitee Repository",children:v.jsx("img",{src:"/gitee.ico",alt:"Gitee",className:"w-6 h-6 object-contain opacity-50 group-hover:opacity-100 transition-opacity"})})]}),v.jsx("button",{onClick:()=>q(!0),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsxs("button",{onClick:()=>o(a==="LIBRARY"?"TRASH":"LIBRARY"),className:`relative p-2 rounded-xl border transition-all ${a==="TRASH"?"bg-amber-50 border-amber-200 text-amber-600":"bg-white border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,title:a==="LIBRARY"?"":"",children:[v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a==="LIBRARY"&&L>0&&v.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] flex items-center justify-center rounded-full font-bold",children:L})]}),v.jsx("button",{onClick:()=>U(!0),className:"hidden sm:block px-4 py-2 text-indigo-600 font-semibold text-sm hover:bg-indigo-50 rounded-xl transition-colors border border-indigo-100",children:""}),v.jsxs("button",{onClick:()=>R(!0),className:"px-3 md:px-4 py-2 bg-indigo-600 text-white font-semibold text-sm rounded-xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}),v.jsxs("main",{className:"flex-1 max-w-7xl w-full mx-auto p-6",children:[v.jsx("div",{className:"mb-8 flex items-center justify-between",children:v.jsx("div",{children:v.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[a==="LIBRARY"?"":"",ge&&v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"text-slate-300 font-light",children:"/"}),v.jsxs("span",{className:"text-sm font-black text-indigo-600",children:["#",ge]}),v.jsx("button",{onClick:()=>{Ce(null),P(1)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 bg-white border border-slate-200 rounded-full px-2 py-1",title:"",children:""})]}),v.jsx("span",{className:"text-slate-300 font-light",children:"/"}),v.jsxs("span",{className:"text-sm font-bold text-slate-400",children:[Ae>0?Ae:Zt.length," "]})]})})}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[v.jsx("div",{className:"flex items-center gap-4 overflow-x-auto pb-2 scrollbar-hide",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>{p("ALL"),P(1)},className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${m==="ALL"?"bg-indigo-600 text-white":"bg-white text-slate-500"}`,children:""}),Object.values(Ho).map(re=>v.jsx("button",{onClick:()=>{p(re),P(1)},className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${m===re?"bg-indigo-600 text-white":"bg-white text-slate-500"}`,children:re},re))]})}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-xl overflow-hidden",children:[v.jsx("button",{onClick:()=>ae("CARD"),className:`px-3 py-2 text-sm font-bold transition-colors ${we==="CARD"?"bg-indigo-600 text-white":"text-slate-500 hover:bg-slate-50"}`,title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h7v7H4V6zm9 0h7v7h-7V6zM4 15h7v3H4v-3zm9 0h7v3h-7v-3z"})})}),v.jsx("button",{onClick:()=>ae("LIST"),className:`px-3 py-2 text-sm font-bold transition-colors ${we==="LIST"?"bg-indigo-600 text-white":"text-slate-500 hover:bg-slate-50"}`,title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})})})]}),v.jsxs("button",{onClick:Jn,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold border transition-all ${Dt?"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200":"bg-white text-slate-600 border-slate-300 hover:bg-slate-50"}`,children:[v.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${Dt?"border-white/30 bg-white/20":"border-slate-400 bg-transparent"}`,children:Dt&&v.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),Dt?"":""]})]})]}),c?v.jsx("div",{className:"flex items-center justify-center py-24",children:"Loading..."}):Zt.length>0?we==="CARD"?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 pb-24",children:Zt.map(re=>v.jsx(Ww,{question:re,isSelected:ue.has(re.id),onToggleSelect:()=>Yn(re.id),onDelete:a==="TRASH"?cn:Oe,onRestore:tt,onView:S,onEdit:E,onUpdateDifficulty:ri,onSelectKnowledgePoint:ze=>{Ce(ze),P(1),o("LIBRARY")},isTrashMode:a==="TRASH"},re.id))}):v.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase tracking-widest",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-4 text-center",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4 text-right",children:""})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:Zt.map(re=>v.jsx(eT,{question:re,isSelected:ue.has(re.id),onToggleSelect:()=>Yn(re.id),onDelete:a==="TRASH"?cn:Oe,onRestore:tt,onView:S,onEdit:E,onUpdateDifficulty:ri,onSelectKnowledgePoint:ze=>{Ce(ze),P(1),o("LIBRARY")},isTrashMode:a==="TRASH"},re.id))})]})})}):v.jsx("div",{className:"text-center py-24",children:""}),!c&&v.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6 pb-6",children:[v.jsxs("div",{className:"flex items-center gap-3 text-xs font-bold text-slate-400",children:[v.jsxs("span",{children:[" ",Te," / ",Math.max(1,Math.ceil(Ae/$)),"  ",Ae," "]}),v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("span",{children:""}),v.jsx("select",{value:$,onChange:re=>fe(Number(re.target.value)||20),className:"px-2 py-1 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600",children:[10,20,50,100].map(re=>v.jsx("option",{value:re,children:re},re))})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>P(re=>Math.max(1,re-1)),disabled:Te<=1||Ae<=$,className:`px-4 py-2 rounded-xl text-sm font-bold border transition-all ${Te<=1?"bg-slate-50 text-slate-300 border-slate-200 cursor-not-allowed":"bg-white text-slate-600 border-slate-300 hover:bg-slate-50"}`,children:""}),v.jsx("button",{onClick:()=>P(re=>Math.min(Math.max(1,Math.ceil(Ae/$)),re+1)),disabled:Te>=Math.max(1,Math.ceil(Ae/$))||Ae<=$,className:`px-4 py-2 rounded-xl text-sm font-bold border transition-all ${Te>=Math.max(1,Math.ceil(Ae/$))?"bg-slate-50 text-slate-300 border-slate-200 cursor-not-allowed":"bg-white text-slate-600 border-slate-300 hover:bg-slate-50"}`,children:""})]})]})]}),ue.size>0&&v.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-40 bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-6 animate-in slide-in-from-bottom-10 fade-in duration-300",children:[v.jsxs("span",{className:"text-sm font-bold",children:[" ",ue.size," "]}),a==="LIBRARY"?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20",children:""}),v.jsx("button",{onClick:Bl,className:"px-4 py-2 text-sm font-bold text-slate-300 hover:text-white hover:bg-white/10 rounded-xl transition-colors",children:""})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:Wo,className:"px-4 py-2 bg-indigo-600 rounded-xl text-sm font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-900/20",children:""}),v.jsx("button",{onClick:Hl,className:"px-4 py-2 text-sm font-bold text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded-xl transition-colors",children:""})]})]}),_&&v.jsx(nT,{onQuestionSaved:e0,onCancel:()=>{R(!1),se()}}),x&&v.jsx(tT,{question:x,onClose:()=>S(null),onUpdateDifficulty:ri,onUpdateField:Hr}),w&&v.jsx(Qg,{question:w,onClose:()=>E(null),onSaved:re=>{Qt(re.id,re),(x==null?void 0:x.id)===re.id&&S(re)}}),k&&v.jsx(rT,{questions:t,onClose:()=>U(!1)}),O&&v.jsx(aT,{questions:mr(),onClose:()=>J(!1)}),W&&v.jsx(sT,{onClose:()=>ne(!1),onDataChanged:se}),ee&&v.jsx(oT,{onClose:()=>q(!1),onConfigSaved:re=>Q(re)})]})},Zg=document.getElementById("root");if(!Zg)throw new Error("Could not find root element to mount to");const dT=M3.createRoot(Zg);dT.render(v.jsx(b3.StrictMode,{children:v.jsx(cT,{})}));
