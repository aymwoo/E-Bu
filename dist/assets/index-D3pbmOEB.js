(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();function e2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lc={exports:{}},wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function m3(){if(Mm)return wa;Mm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:t,type:l,key:c,ref:a!==void 0?a:null,props:o}}return wa.Fragment=e,wa.jsx=i,wa.jsxs=i,wa}var _m;function p3(){return _m||(_m=1,lc.exports=m3()),lc.exports}var v=p3(),ac={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function g3(){if(Rm)return ze;Rm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function U(L,$,ce){this.props=L,this.context=$,this.refs=k,this.updater=ce||_}U.prototype.isReactComponent={},U.prototype.setState=function(L,$){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,$,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function J(L,$,ce){this.props=L,this.context=$,this.refs=k,this.updater=ce||_}var ie=J.prototype=new Q;ie.constructor=J,R(ie,U.prototype),ie.isPureReactComponent=!0;var te=Array.isArray;function V(){}var q={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function W(L,$,ce){var ye=ce.ref;return{$$typeof:t,type:L,key:$,ref:ye!==void 0?ye:null,props:ce}}function be(L,$){return W(L.type,$,L.props)}function me(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function de(L){var $={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return $[ce]})}var Te=/\/+/g;function we(L,$){return typeof L=="object"&&L!==null&&L.key!=null?de(""+L.key):$.toString(36)}function Le(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(V,V):(L.status="pending",L.then(function($){L.status==="pending"&&(L.status="fulfilled",L.value=$)},function($){L.status==="pending"&&(L.status="rejected",L.reason=$)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,$,ce,ye,K){var re=typeof L;(re==="undefined"||re==="boolean")&&(L=null);var Ne=!1;if(L===null)Ne=!0;else switch(re){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(L.$$typeof){case t:case e:Ne=!0;break;case x:return Ne=L._init,Y(Ne(L._payload),$,ce,ye,K)}}if(Ne)return K=K(L),Ne=ye===""?"."+we(L,0):ye,te(K)?(ce="",Ne!=null&&(ce=Ne.replace(Te,"$&/")+"/"),Y(K,$,ce,"",function(bn){return bn})):K!=null&&(me(K)&&(K=be(K,ce+(K.key==null||L&&L.key===K.key?"":(""+K.key).replace(Te,"$&/")+"/")+Ne)),$.push(K)),1;Ne=0;var ft=ye===""?".":ye+":";if(te(L))for(var it=0;it<L.length;it++)ye=L[it],re=ft+we(ye,it),Ne+=Y(ye,$,ce,re,K);else if(it=E(L),typeof it=="function")for(L=it.call(L),it=0;!(ye=L.next()).done;)ye=ye.value,re=ft+we(ye,it++),Ne+=Y(ye,$,ce,re,K);else if(re==="object"){if(typeof L.then=="function")return Y(Le(L),$,ce,ye,K);throw $=String(L),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function se(L,$,ce){if(L==null)return L;var ye=[],K=0;return Y(L,ye,"","",function(re){return $.call(ce,re,K++)}),ye}function Ae(L){if(L._status===-1){var $=L._result;$=$(),$.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=$)}if(L._status===1)return L._result.default;throw L._result}var qe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ue={map:se,forEach:function(L,$,ce){se(L,function(){$.apply(this,arguments)},ce)},count:function(L){var $=0;return se(L,function(){$++}),$},toArray:function(L){return se(L,function($){return $})||[]},only:function(L){if(!me(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ze.Activity=S,ze.Children=Ue,ze.Component=U,ze.Fragment=i,ze.Profiler=a,ze.PureComponent=J,ze.StrictMode=l,ze.Suspense=m,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ze.__COMPILER_RUNTIME={__proto__:null,c:function(L){return q.H.useMemoCache(L)}},ze.cache=function(L){return function(){return L.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(L,$,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ye=R({},L.props),K=L.key;if($!=null)for(re in $.key!==void 0&&(K=""+$.key),$)!ae.call($,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&$.ref===void 0||(ye[re]=$[re]);var re=arguments.length-2;if(re===1)ye.children=ce;else if(1<re){for(var Ne=Array(re),ft=0;ft<re;ft++)Ne[ft]=arguments[ft+2];ye.children=Ne}return W(L.type,K,ye)},ze.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},ze.createElement=function(L,$,ce){var ye,K={},re=null;if($!=null)for(ye in $.key!==void 0&&(re=""+$.key),$)ae.call($,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(K[ye]=$[ye]);var Ne=arguments.length-2;if(Ne===1)K.children=ce;else if(1<Ne){for(var ft=Array(Ne),it=0;it<Ne;it++)ft[it]=arguments[it+2];K.children=ft}if(L&&L.defaultProps)for(ye in Ne=L.defaultProps,Ne)K[ye]===void 0&&(K[ye]=Ne[ye]);return W(L,re,K)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(L){return{$$typeof:f,render:L}},ze.isValidElement=me,ze.lazy=function(L){return{$$typeof:x,_payload:{_status:-1,_result:L},_init:Ae}},ze.memo=function(L,$){return{$$typeof:p,type:L,compare:$===void 0?null:$}},ze.startTransition=function(L){var $=q.T,ce={};q.T=ce;try{var ye=L(),K=q.S;K!==null&&K(ce,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(V,qe)}catch(re){qe(re)}finally{$!==null&&ce.types!==null&&($.types=ce.types),q.T=$}},ze.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ze.use=function(L){return q.H.use(L)},ze.useActionState=function(L,$,ce){return q.H.useActionState(L,$,ce)},ze.useCallback=function(L,$){return q.H.useCallback(L,$)},ze.useContext=function(L){return q.H.useContext(L)},ze.useDebugValue=function(){},ze.useDeferredValue=function(L,$){return q.H.useDeferredValue(L,$)},ze.useEffect=function(L,$){return q.H.useEffect(L,$)},ze.useEffectEvent=function(L){return q.H.useEffectEvent(L)},ze.useId=function(){return q.H.useId()},ze.useImperativeHandle=function(L,$,ce){return q.H.useImperativeHandle(L,$,ce)},ze.useInsertionEffect=function(L,$){return q.H.useInsertionEffect(L,$)},ze.useLayoutEffect=function(L,$){return q.H.useLayoutEffect(L,$)},ze.useMemo=function(L,$){return q.H.useMemo(L,$)},ze.useOptimistic=function(L,$){return q.H.useOptimistic(L,$)},ze.useReducer=function(L,$,ce){return q.H.useReducer(L,$,ce)},ze.useRef=function(L){return q.H.useRef(L)},ze.useState=function(L){return q.H.useState(L)},ze.useSyncExternalStore=function(L,$,ce){return q.H.useSyncExternalStore(L,$,ce)},ze.useTransition=function(){return q.H.useTransition()},ze.version="19.2.3",ze}var km;function $c(){return km||(km=1,ac.exports=g3()),ac.exports}var ve=$c();const v3=e2(ve);var sc={exports:{}},Aa={},oc={exports:{}},uc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function y3(){return Im||(Im=1,(function(t){function e(Y,se){var Ae=Y.length;Y.push(se);e:for(;0<Ae;){var qe=Ae-1>>>1,Ue=Y[qe];if(0<a(Ue,se))Y[qe]=se,Y[Ae]=Ue,Ae=qe;else break e}}function i(Y){return Y.length===0?null:Y[0]}function l(Y){if(Y.length===0)return null;var se=Y[0],Ae=Y.pop();if(Ae!==se){Y[0]=Ae;e:for(var qe=0,Ue=Y.length,L=Ue>>>1;qe<L;){var $=2*(qe+1)-1,ce=Y[$],ye=$+1,K=Y[ye];if(0>a(ce,Ae))ye<Ue&&0>a(K,ce)?(Y[qe]=K,Y[ye]=Ae,qe=ye):(Y[qe]=ce,Y[$]=Ae,qe=$);else if(ye<Ue&&0>a(K,Ae))Y[qe]=K,Y[ye]=Ae,qe=ye;else break e}}return se}function a(Y,se){var Ae=Y.sortIndex-se.sortIndex;return Ae!==0?Ae:Y.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],x=1,S=null,T=3,E=!1,_=!1,R=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ie(Y){for(var se=i(p);se!==null;){if(se.callback===null)l(p);else if(se.startTime<=Y)l(p),se.sortIndex=se.expirationTime,e(m,se);else break;se=i(p)}}function te(Y){if(R=!1,ie(Y),!_)if(i(m)!==null)_=!0,V||(V=!0,de());else{var se=i(p);se!==null&&Le(te,se.startTime-Y)}}var V=!1,q=-1,ae=5,W=-1;function be(){return k?!0:!(t.unstable_now()-W<ae)}function me(){if(k=!1,V){var Y=t.unstable_now();W=Y;var se=!0;try{e:{_=!1,R&&(R=!1,Q(q),q=-1),E=!0;var Ae=T;try{t:{for(ie(Y),S=i(m);S!==null&&!(S.expirationTime>Y&&be());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,T=S.priorityLevel;var Ue=qe(S.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ue=="function"){S.callback=Ue,ie(Y),se=!0;break t}S===i(m)&&l(m),ie(Y)}else l(m);S=i(m)}if(S!==null)se=!0;else{var L=i(p);L!==null&&Le(te,L.startTime-Y),se=!1}}break e}finally{S=null,T=Ae,E=!1}se=void 0}}finally{se?de():V=!1}}}var de;if(typeof J=="function")de=function(){J(me)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,we=Te.port2;Te.port1.onmessage=me,de=function(){we.postMessage(null)}}else de=function(){U(me,0)};function Le(Y,se){q=U(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var Ae=T;T=se;try{return Y()}finally{T=Ae}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Ae=T;T=Y;try{return se()}finally{T=Ae}},t.unstable_scheduleCallback=function(Y,se,Ae){var qe=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?qe+Ae:qe):Ae=qe,Y){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=Ae+Ue,Y={id:x++,callback:se,priorityLevel:Y,startTime:Ae,expirationTime:Ue,sortIndex:-1},Ae>qe?(Y.sortIndex=Ae,e(p,Y),i(m)===null&&Y===i(p)&&(R?(Q(q),q=-1):R=!0,Le(te,Ae-qe))):(Y.sortIndex=Ue,e(m,Y),_||E||(_=!0,V||(V=!0,de()))),Y},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(Y){var se=T;return function(){var Ae=T;T=se;try{return Y.apply(this,arguments)}finally{T=Ae}}}})(uc)),uc}var Dm;function x3(){return Dm||(Dm=1,oc.exports=y3()),oc.exports}var cc={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function b3(){if(zm)return Ot;zm=1;var t=$c();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,p,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:m,containerInfo:p,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ot.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,x)},Ot.flushSync=function(m){var p=c.T,x=l.p;try{if(c.T=null,l.p=2,m)return m()}finally{c.T=p,l.p=x,l.d.f()}},Ot.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},Ot.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},Ot.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,S=f(x,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:E}):x==="script"&&l.d.X(m,{crossOrigin:S,integrity:T,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ot.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},Ot.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,S=f(x,p.crossOrigin);l.d.L(m,x,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ot.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},Ot.requestFormReset=function(m){l.d.r(m)},Ot.unstable_batchedUpdates=function(m,p){return m(p)},Ot.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},Ot.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ot.version="19.2.3",Ot}var Lm;function S3(){if(Lm)return cc.exports;Lm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cc.exports=b3(),cc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function T3(){if(Um)return Aa;Um=1;var t=x3(),e=$c(),i=S3();function l(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(o(n)!==n)throw Error(l(188))}function p(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(l(188));return r!==n?null:n}for(var s=n,u=r;;){var g=s.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){s=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===s)return m(g),n;if(y===u)return m(g),r;y=y.sibling}throw Error(l(188))}if(s.return!==u.return)s=g,u=y;else{for(var A=!1,N=g.child;N;){if(N===s){A=!0,s=g,u=y;break}if(N===u){A=!0,u=g,s=y;break}N=N.sibling}if(!A){for(N=y.child;N;){if(N===s){A=!0,s=y,u=g;break}if(N===u){A=!0,u=y,s=g;break}N=N.sibling}if(!A)throw Error(l(189))}}if(s.alternate!==u)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?n:r}function x(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=x(n),r!==null)return r;n=n.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=me&&n[me]||n["@@iterator"],typeof n=="function"?n:null)}var Te=Symbol.for("react.client.reference");function we(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Te?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case V:return"SuspenseList";case W:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case J:return n.displayName||"Context";case Q:return(n._context.displayName||"Context")+".Consumer";case ie:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return r=n.displayName||null,r!==null?r:we(n.type)||"Memo";case ae:r=n._payload,n=n._init;try{return we(n(r))}catch{}}return null}var Le=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},qe=[],Ue=-1;function L(n){return{current:n}}function $(n){0>Ue||(n.current=qe[Ue],qe[Ue]=null,Ue--)}function ce(n,r){Ue++,qe[Ue]=n.current,n.current=r}var ye=L(null),K=L(null),re=L(null),Ne=L(null);function ft(n,r){switch(ce(re,r),ce(K,n),ce(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?$1(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=$1(r),n=Z1(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(ye),ce(ye,n)}function it(){$(ye),$(K),$(re)}function bn(n){n.memoizedState!==null&&ce(Ne,n);var r=ye.current,s=Z1(r,n.type);r!==s&&(ce(K,n),ce(ye,s))}function Un(n){K.current===n&&($(ye),$(K)),Ne.current===n&&($(Ne),xa._currentValue=Ae)}var fe,Pe;function Me(n){if(fe===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);fe=r&&r[1]||"",Pe=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+n+Pe}var et=!1;function Ut(n,r){if(!n||et)return"";et=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var j=X}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(X){j=X}n.call(ne.prototype)}}else{try{throw Error()}catch(X){j=X}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&j&&typeof X.stack=="string")return[X.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),A=y[0],N=y[1];if(A&&N){var z=A.split(`
`),F=N.split(`
`);for(g=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===z.length||g===F.length)for(u=z.length-1,g=F.length-1;1<=u&&0<=g&&z[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(z[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||z[u]!==F[g]){var Z=`
`+z[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=g);break}}}finally{et=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Me(s):""}function Rl(n,r){switch(n.tag){case 26:case 27:case 5:return Me(n.type);case 16:return Me("Lazy");case 13:return n.child!==r&&r!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Ut(n.type,!1);case 11:return Ut(n.type.render,!1);case 1:return Ut(n.type,!0);case 31:return Me("Activity");default:return""}}function ur(n){try{var r="",s=null;do r+=Rl(n,s),s=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var _i=Object.prototype.hasOwnProperty,Yo=t.unstable_scheduleCallback,jo=t.unstable_cancelCallback,jg=t.unstable_shouldYield,Jg=t.unstable_requestPaint,sn=t.unstable_now,Xg=t.unstable_getCurrentPriorityLevel,Md=t.unstable_ImmediatePriority,_d=t.unstable_UserBlockingPriority,La=t.unstable_NormalPriority,Kg=t.unstable_LowPriority,Rd=t.unstable_IdlePriority,Qg=t.log,$g=t.unstable_setDisableYieldValue,kl=null,on=null;function Ri(n){if(typeof Qg=="function"&&$g(n),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(kl,n)}catch{}}var un=Math.clz32?Math.clz32:ev,Zg=Math.log,Wg=Math.LN2;function ev(n){return n>>>=0,n===0?32:31-(Zg(n)/Wg|0)|0}var Ua=256,Ba=262144,Ha=4194304;function cr(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ga(n,r,s){var u=n.pendingLanes;if(u===0)return 0;var g=0,y=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var N=u&134217727;return N!==0?(u=N&~y,u!==0?g=cr(u):(A&=N,A!==0?g=cr(A):s||(s=N&~n,s!==0&&(g=cr(s))))):(N=u&~y,N!==0?g=cr(N):A!==0?g=cr(A):s||(s=u&~n,s!==0&&(g=cr(s)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,s=r&-r,y>=s||y===32&&(s&4194048)!==0)?r:g}function Il(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function tv(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kd(){var n=Ha;return Ha<<=1,(Ha&62914560)===0&&(Ha=4194304),n}function Jo(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Dl(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function nv(n,r,s,u,g,y){var A=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var N=n.entanglements,z=n.expirationTimes,F=n.hiddenUpdates;for(s=A&~s;0<s;){var Z=31-un(s),ne=1<<Z;N[Z]=0,z[Z]=-1;var j=F[Z];if(j!==null)for(F[Z]=null,Z=0;Z<j.length;Z++){var X=j[Z];X!==null&&(X.lane&=-536870913)}s&=~ne}u!==0&&Id(n,u,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(A&~r))}function Id(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-un(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function Dd(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var u=31-un(s),g=1<<u;g&r|n[u]&r&&(n[u]|=r),s&=~g}}function zd(n,r){var s=r&-r;return s=(s&42)!==0?1:Xo(s),(s&(n.suspendedLanes|r))!==0?0:s}function Xo(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ko(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ld(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:Sm(n.type))}function Ud(n,r){var s=se.p;try{return se.p=n,r()}finally{se.p=s}}var ki=Math.random().toString(36).slice(2),Bt="__reactFiber$"+ki,Qt="__reactProps$"+ki,Dr="__reactContainer$"+ki,Qo="__reactEvents$"+ki,iv="__reactListeners$"+ki,rv="__reactHandles$"+ki,Bd="__reactResources$"+ki,zl="__reactMarker$"+ki;function $o(n){delete n[Bt],delete n[Qt],delete n[Qo],delete n[iv],delete n[rv]}function zr(n){var r=n[Bt];if(r)return r;for(var s=n.parentNode;s;){if(r=s[Dr]||s[Bt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=lm(n);n!==null;){if(s=n[Bt])return s;n=lm(n)}return r}n=s,s=n.parentNode}return null}function Lr(n){if(n=n[Bt]||n[Dr]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Ll(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(l(33))}function Ur(n){var r=n[Bd];return r||(r=n[Bd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(n){n[zl]=!0}var Hd=new Set,Gd={};function dr(n,r){Br(n,r),Br(n+"Capture",r)}function Br(n,r){for(Gd[n]=r,n=0;n<r.length;n++)Hd.add(r[n])}var lv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},Pd={};function av(n){return _i.call(Pd,n)?!0:_i.call(qd,n)?!1:lv.test(n)?Pd[n]=!0:(qd[n]=!0,!1)}function qa(n,r,s){if(av(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function Pa(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function ei(n,r,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+u)}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Od(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sv(n,r,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(A){s=""+A,y.call(this,A)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(A){s=""+A},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Zo(n){if(!n._valueTracker){var r=Od(n)?"checked":"value";n._valueTracker=sv(n,r,""+n[r])}}function Vd(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return n&&(u=Od(n)?n.checked?"true":"false":n.value),n=u,n!==s?(r.setValue(n),!0):!1}function Oa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ov=/[\n"\\]/g;function Tn(n){return n.replace(ov,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Wo(n,r,s,u,g,y,A,N){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),r!=null?A==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Sn(r)):n.value!==""+Sn(r)&&(n.value=""+Sn(r)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),r!=null?e0(n,A,Sn(r)):s!=null?e0(n,A,Sn(s)):u!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+Sn(N):n.removeAttribute("name")}function Fd(n,r,s,u,g,y,A,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),r!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Zo(n);return}s=s!=null?""+Sn(s):"",r=r!=null?""+Sn(r):s,N||r===n.value||(n.value=r),n.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=N?n.checked:!!u,n.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),Zo(n)}function e0(n,r,s){r==="number"&&Oa(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Hr(n,r,s,u){if(n=n.options,r){r={};for(var g=0;g<s.length;g++)r["$"+s[g]]=!0;for(s=0;s<n.length;s++)g=r.hasOwnProperty("$"+n[s].value),n[s].selected!==g&&(n[s].selected=g),g&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Sn(s),r=null,g=0;g<n.length;g++){if(n[g].value===s){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function Yd(n,r,s){if(r!=null&&(r=""+Sn(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Sn(s):""}function jd(n,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(l(92));if(Le(u)){if(1<u.length)throw Error(l(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=Sn(r),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),Zo(n)}function Gr(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var uv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jd(n,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,s):typeof s!="number"||s===0||uv.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function Xd(n,r,s){if(r!=null&&typeof r!="object")throw Error(l(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&s[g]!==u&&Jd(n,g,u)}else for(var y in r)r.hasOwnProperty(y)&&Jd(n,y,r[y])}function t0(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(n){return dv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ti(){}var n0=null;function i0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qr=null,Pr=null;function Kd(n){var r=Lr(n);if(r&&(n=r.stateNode)){var s=n[Qt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Wo(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==n&&u.form===n.form){var g=u[Qt]||null;if(!g)throw Error(l(90));Wo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===n.form&&Vd(u)}break e;case"textarea":Yd(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Hr(n,!!s.multiple,r,!1)}}}var r0=!1;function Qd(n,r,s){if(r0)return n(r,s);r0=!0;try{var u=n(r);return u}finally{if(r0=!1,(qr!==null||Pr!==null)&&(Rs(),qr&&(r=qr,n=Pr,Pr=qr=null,Kd(r),n)))for(r=0;r<n.length;r++)Kd(n[r])}}function Ul(n,r){var s=n.stateNode;if(s===null)return null;var u=s[Qt]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(l(231,r,typeof s));return s}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l0=!1;if(ni)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){l0=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{l0=!1}var Ii=null,a0=null,Fa=null;function $d(){if(Fa)return Fa;var n,r=a0,s=r.length,u,g="value"in Ii?Ii.value:Ii.textContent,y=g.length;for(n=0;n<s&&r[n]===g[n];n++);var A=s-n;for(u=1;u<=A&&r[s-u]===g[y-u];u++);return Fa=g.slice(n,1<u?1-u:void 0)}function Ya(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ja(){return!0}function Zd(){return!1}function $t(n){function r(s,u,g,y,A){this._reactName=s,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(s=n[N],this[N]=s?s(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ja:Zd,this.isPropagationStopped=Zd,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),r}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=$t(fr),Hl=S({},fr,{view:0,detail:0}),fv=$t(Hl),s0,o0,Gl,Xa=S({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gl&&(Gl&&n.type==="mousemove"?(s0=n.screenX-Gl.screenX,o0=n.screenY-Gl.screenY):o0=s0=0,Gl=n),s0)},movementY:function(n){return"movementY"in n?n.movementY:o0}}),Wd=$t(Xa),hv=S({},Xa,{dataTransfer:0}),mv=$t(hv),pv=S({},Hl,{relatedTarget:0}),u0=$t(pv),gv=S({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),vv=$t(gv),yv=S({},fr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xv=$t(yv),bv=S({},fr,{data:0}),ef=$t(bv),Sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Av(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=wv[n])?!!r[n]:!1}function c0(){return Av}var Ev=S({},Hl,{key:function(n){if(n.key){var r=Sv[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ya(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(n){return n.type==="keypress"?Ya(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ya(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Cv=$t(Ev),Nv=S({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=$t(Nv),Mv=S({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),_v=$t(Mv),Rv=S({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=$t(Rv),Iv=S({},Xa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=$t(Iv),zv=S({},fr,{newState:0,oldState:0}),Lv=$t(zv),Uv=[9,13,27,32],d0=ni&&"CompositionEvent"in window,ql=null;ni&&"documentMode"in document&&(ql=document.documentMode);var Bv=ni&&"TextEvent"in window&&!ql,nf=ni&&(!d0||ql&&8<ql&&11>=ql),rf=" ",lf=!1;function af(n,r){switch(n){case"keyup":return Uv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Or=!1;function Hv(n,r){switch(n){case"compositionend":return sf(r);case"keypress":return r.which!==32?null:(lf=!0,rf);case"textInput":return n=r.data,n===rf&&lf?null:n;default:return null}}function Gv(n,r){if(Or)return n==="compositionend"||!d0&&af(n,r)?(n=$d(),Fa=a0=Ii=null,Or=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return nf&&r.locale!=="ko"?null:r.data;default:return null}}var qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!qv[n.type]:r==="textarea"}function uf(n,r,s,u){qr?Pr?Pr.push(u):Pr=[u]:qr=u,r=Bs(r,"onChange"),0<r.length&&(s=new Ja("onChange","change",null,s,u),n.push({event:s,listeners:r}))}var Pl=null,Ol=null;function Pv(n){Y1(n,0)}function Ka(n){var r=Ll(n);if(Vd(r))return n}function cf(n,r){if(n==="change")return r}var df=!1;if(ni){var f0;if(ni){var h0="oninput"in document;if(!h0){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),h0=typeof ff.oninput=="function"}f0=h0}else f0=!1;df=f0&&(!document.documentMode||9<document.documentMode)}function hf(){Pl&&(Pl.detachEvent("onpropertychange",mf),Ol=Pl=null)}function mf(n){if(n.propertyName==="value"&&Ka(Ol)){var r=[];uf(r,Ol,n,i0(n)),Qd(Pv,r)}}function Ov(n,r,s){n==="focusin"?(hf(),Pl=r,Ol=s,Pl.attachEvent("onpropertychange",mf)):n==="focusout"&&hf()}function Vv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ka(Ol)}function Fv(n,r){if(n==="click")return Ka(r)}function Yv(n,r){if(n==="input"||n==="change")return Ka(r)}function jv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var cn=typeof Object.is=="function"?Object.is:jv;function Vl(n,r){if(cn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var g=s[u];if(!_i.call(r,g)||!cn(n[g],r[g]))return!1}return!0}function pf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gf(n,r){var s=pf(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=r&&u>=r)return{node:s,offset:r-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pf(s)}}function vf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?vf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function yf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Oa(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Oa(n.document)}return r}function m0(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Jv=ni&&"documentMode"in document&&11>=document.documentMode,Vr=null,p0=null,Fl=null,g0=!1;function xf(n,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;g0||Vr==null||Vr!==Oa(u)||(u=Vr,"selectionStart"in u&&m0(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fl&&Vl(Fl,u)||(Fl=u,u=Bs(p0,"onSelect"),0<u.length&&(r=new Ja("onSelect","select",null,r,s),n.push({event:r,listeners:u}),r.target=Vr)))}function hr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Fr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},v0={},bf={};ni&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function mr(n){if(v0[n])return v0[n];if(!Fr[n])return n;var r=Fr[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in bf)return v0[n]=r[s];return n}var Sf=mr("animationend"),Tf=mr("animationiteration"),wf=mr("animationstart"),Xv=mr("transitionrun"),Kv=mr("transitionstart"),Qv=mr("transitioncancel"),Af=mr("transitionend"),Ef=new Map,y0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");y0.push("scrollEnd");function Bn(n,r){Ef.set(n,r),dr(r,[n])}var Qa=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},wn=[],Yr=0,x0=0;function $a(){for(var n=Yr,r=x0=Yr=0;r<n;){var s=wn[r];wn[r++]=null;var u=wn[r];wn[r++]=null;var g=wn[r];wn[r++]=null;var y=wn[r];if(wn[r++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}y!==0&&Cf(s,g,y)}}function Za(n,r,s,u){wn[Yr++]=n,wn[Yr++]=r,wn[Yr++]=s,wn[Yr++]=u,x0|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function b0(n,r,s,u){return Za(n,r,s,u),Wa(n)}function pr(n,r){return Za(n,null,null,r),Wa(n)}function Cf(n,r,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var g=!1,y=n.return;y!==null;)y.childLanes|=s,u=y.alternate,u!==null&&(u.childLanes|=s),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&r!==null&&(g=31-un(s),n=y.hiddenUpdates,u=n[g],u===null?n[g]=[r]:u.push(r),r.lane=s|536870912),y):null}function Wa(n){if(50<fa)throw fa=0,_u=null,Error(l(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var jr={};function $v(n,r,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(n,r,s,u){return new $v(n,r,s,u)}function S0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ii(n,r){var s=n.alternate;return s===null?(s=dn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Nf(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function es(n,r,s,u,g,y){var A=0;if(u=n,typeof n=="function")S0(n)&&(A=1);else if(typeof n=="string")A=n3(n,s,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case W:return n=dn(31,s,r,g),n.elementType=W,n.lanes=y,n;case R:return gr(s.children,g,y,r);case k:A=8,g|=24;break;case U:return n=dn(12,s,r,g|2),n.elementType=U,n.lanes=y,n;case te:return n=dn(13,s,r,g),n.elementType=te,n.lanes=y,n;case V:return n=dn(19,s,r,g),n.elementType=V,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:A=10;break e;case Q:A=9;break e;case ie:A=11;break e;case q:A=14;break e;case ae:A=16,u=null;break e}A=29,s=Error(l(130,n===null?"null":typeof n,"")),u=null}return r=dn(A,s,r,g),r.elementType=n,r.type=u,r.lanes=y,r}function gr(n,r,s,u){return n=dn(7,n,u,r),n.lanes=s,n}function T0(n,r,s){return n=dn(6,n,null,r),n.lanes=s,n}function Mf(n){var r=dn(18,null,null,0);return r.stateNode=n,r}function w0(n,r,s){return r=dn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var _f=new WeakMap;function An(n,r){if(typeof n=="object"&&n!==null){var s=_f.get(n);return s!==void 0?s:(r={value:n,source:r,stack:ur(r)},_f.set(n,r),r)}return{value:n,source:r,stack:ur(r)}}var Jr=[],Xr=0,ts=null,Yl=0,En=[],Cn=0,Di=null,Fn=1,Yn="";function ri(n,r){Jr[Xr++]=Yl,Jr[Xr++]=ts,ts=n,Yl=r}function Rf(n,r,s){En[Cn++]=Fn,En[Cn++]=Yn,En[Cn++]=Di,Di=n;var u=Fn;n=Yn;var g=32-un(u)-1;u&=~(1<<g),s+=1;var y=32-un(r)+g;if(30<y){var A=g-g%5;y=(u&(1<<A)-1).toString(32),u>>=A,g-=A,Fn=1<<32-un(r)+g|s<<g|u,Yn=y+n}else Fn=1<<y|s<<g|u,Yn=n}function A0(n){n.return!==null&&(ri(n,1),Rf(n,1,0))}function E0(n){for(;n===ts;)ts=Jr[--Xr],Jr[Xr]=null,Yl=Jr[--Xr],Jr[Xr]=null;for(;n===Di;)Di=En[--Cn],En[Cn]=null,Yn=En[--Cn],En[Cn]=null,Fn=En[--Cn],En[Cn]=null}function kf(n,r){En[Cn++]=Fn,En[Cn++]=Yn,En[Cn++]=Di,Fn=r.id,Yn=r.overflow,Di=n}var Ht=null,ct=null,je=!1,zi=null,Nn=!1,C0=Error(l(519));function Li(n){var r=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(An(r,n)),C0}function If(n){var r=n.stateNode,s=n.type,u=n.memoizedProps;switch(r[Bt]=n,r[Qt]=u,s){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<ma.length;s++)Ve(ma[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),Fd(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),jd(r,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||K1(r.textContent,s)?(u.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),u.onScroll!=null&&Ve("scroll",r),u.onScrollEnd!=null&&Ve("scrollend",r),u.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Li(n,!0)}function Df(n){for(Ht=n.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Ht=Ht.return}}function Kr(n){if(n!==Ht)return!1;if(!je)return Df(n),je=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Fu(n.type,n.memoizedProps)),s=!s),s&&ct&&Li(n),Df(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));ct=rm(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));ct=rm(n)}else r===27?(r=ct,Ki(n.type)?(n=Ku,Ku=null,ct=n):ct=r):ct=Ht?_n(n.stateNode.nextSibling):null;return!0}function vr(){ct=Ht=null,je=!1}function N0(){var n=zi;return n!==null&&(tn===null?tn=n:tn.push.apply(tn,n),zi=null),n}function jl(n){zi===null?zi=[n]:zi.push(n)}var M0=L(null),yr=null,li=null;function Ui(n,r,s){ce(M0,r._currentValue),r._currentValue=s}function ai(n){n._currentValue=M0.current,$(M0)}function _0(n,r,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===s)break;n=n.return}}function R0(n,r,s,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=g;for(var z=0;z<r.length;z++)if(N.context===r[z]){y.lanes|=s,N=y.alternate,N!==null&&(N.lanes|=s),_0(y.return,s,n),u||(A=null);break e}y=N.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(l(341));A.lanes|=s,y=A.alternate,y!==null&&(y.lanes|=s),_0(A,s,n),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===n){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Qr(n,r,s,u){n=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(l(387));if(A=A.memoizedProps,A!==null){var N=g.type;cn(g.pendingProps.value,A.value)||(n!==null?n.push(N):n=[N])}}else if(g===Ne.current){if(A=g.alternate,A===null)throw Error(l(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(xa):n=[xa])}g=g.return}n!==null&&R0(r,n,s,u),r.flags|=262144}function ns(n){for(n=n.firstContext;n!==null;){if(!cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xr(n){yr=n,li=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Gt(n){return zf(yr,n)}function is(n,r){return yr===null&&xr(n),zf(n,r)}function zf(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},li===null){if(n===null)throw Error(l(308));li=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else li=li.next=r;return s}var Zv=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},Wv=t.unstable_scheduleCallback,e5=t.unstable_NormalPriority,At={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function k0(){return{controller:new Zv,data:new Map,refCount:0}}function Jl(n){n.refCount--,n.refCount===0&&Wv(e5,function(){n.controller.abort()})}var Xl=null,I0=0,$r=0,Zr=null;function t5(n,r){if(Xl===null){var s=Xl=[];I0=0,$r=Lu(),Zr={status:"pending",value:void 0,then:function(u){s.push(u)}}}return I0++,r.then(Lf,Lf),r}function Lf(){if(--I0===0&&Xl!==null){Zr!==null&&(Zr.status="fulfilled");var n=Xl;Xl=null,$r=0,Zr=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function n5(n,r){var s=[],u={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<s.length;g++)(0,s[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),u}var Uf=Y.S;Y.S=function(n,r){x1=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&t5(n,r),Uf!==null&&Uf(n,r)};var br=L(null);function D0(){var n=br.current;return n!==null?n:st.pooledCache}function rs(n,r){r===null?ce(br,br.current):ce(br,r.pool)}function Bf(){var n=D0();return n===null?null:{parent:At._currentValue,pool:n}}var Wr=Error(l(460)),z0=Error(l(474)),ls=Error(l(542)),as={then:function(){}};function Hf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gf(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(ti,ti),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Pf(n),n;default:if(typeof r.status=="string")r.then(ti,ti);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Pf(n),n}throw Tr=r,Wr}}function Sr(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Tr=s,Wr):s}}var Tr=null;function qf(){if(Tr===null)throw Error(l(459));var n=Tr;return Tr=null,n}function Pf(n){if(n===Wr||n===ls)throw Error(l(483))}var el=null,Kl=0;function ss(n){var r=Kl;return Kl+=1,el===null&&(el=[]),Gf(el,n,r)}function Ql(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function os(n,r){throw r.$$typeof===T?Error(l(525)):(n=Object.prototype.toString.call(r),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Of(n){function r(G,B){if(n){var P=G.deletions;P===null?(G.deletions=[B],G.flags|=16):P.push(B)}}function s(G,B){if(!n)return null;for(;B!==null;)r(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function g(G,B){return G=ii(G,B),G.index=0,G.sibling=null,G}function y(G,B,P){return G.index=P,n?(P=G.alternate,P!==null?(P=P.index,P<B?(G.flags|=67108866,B):P):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function A(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function N(G,B,P,ee){return B===null||B.tag!==6?(B=T0(P,G.mode,ee),B.return=G,B):(B=g(B,P),B.return=G,B)}function z(G,B,P,ee){var Ce=P.type;return Ce===R?Z(G,B,P.props.children,ee,P.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ae&&Sr(Ce)===B.type)?(B=g(B,P.props),Ql(B,P),B.return=G,B):(B=es(P.type,P.key,P.props,null,G.mode,ee),Ql(B,P),B.return=G,B)}function F(G,B,P,ee){return B===null||B.tag!==4||B.stateNode.containerInfo!==P.containerInfo||B.stateNode.implementation!==P.implementation?(B=w0(P,G.mode,ee),B.return=G,B):(B=g(B,P.children||[]),B.return=G,B)}function Z(G,B,P,ee,Ce){return B===null||B.tag!==7?(B=gr(P,G.mode,ee,Ce),B.return=G,B):(B=g(B,P),B.return=G,B)}function ne(G,B,P){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=T0(""+B,G.mode,P),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return P=es(B.type,B.key,B.props,null,G.mode,P),Ql(P,B),P.return=G,P;case _:return B=w0(B,G.mode,P),B.return=G,B;case ae:return B=Sr(B),ne(G,B,P)}if(Le(B)||de(B))return B=gr(B,G.mode,P,null),B.return=G,B;if(typeof B.then=="function")return ne(G,ss(B),P);if(B.$$typeof===J)return ne(G,is(G,B),P);os(G,B)}return null}function j(G,B,P,ee){var Ce=B!==null?B.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Ce!==null?null:N(G,B,""+P,ee);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return P.key===Ce?z(G,B,P,ee):null;case _:return P.key===Ce?F(G,B,P,ee):null;case ae:return P=Sr(P),j(G,B,P,ee)}if(Le(P)||de(P))return Ce!==null?null:Z(G,B,P,ee,null);if(typeof P.then=="function")return j(G,B,ss(P),ee);if(P.$$typeof===J)return j(G,B,is(G,P),ee);os(G,P)}return null}function X(G,B,P,ee,Ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return G=G.get(P)||null,N(B,G,""+ee,Ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return G=G.get(ee.key===null?P:ee.key)||null,z(B,G,ee,Ce);case _:return G=G.get(ee.key===null?P:ee.key)||null,F(B,G,ee,Ce);case ae:return ee=Sr(ee),X(G,B,P,ee,Ce)}if(Le(ee)||de(ee))return G=G.get(P)||null,Z(B,G,ee,Ce,null);if(typeof ee.then=="function")return X(G,B,P,ss(ee),Ce);if(ee.$$typeof===J)return X(G,B,P,is(B,ee),Ce);os(B,ee)}return null}function Se(G,B,P,ee){for(var Ce=null,Xe=null,Ee=B,He=B=0,Ye=null;Ee!==null&&He<P.length;He++){Ee.index>He?(Ye=Ee,Ee=null):Ye=Ee.sibling;var Ke=j(G,Ee,P[He],ee);if(Ke===null){Ee===null&&(Ee=Ye);break}n&&Ee&&Ke.alternate===null&&r(G,Ee),B=y(Ke,B,He),Xe===null?Ce=Ke:Xe.sibling=Ke,Xe=Ke,Ee=Ye}if(He===P.length)return s(G,Ee),je&&ri(G,He),Ce;if(Ee===null){for(;He<P.length;He++)Ee=ne(G,P[He],ee),Ee!==null&&(B=y(Ee,B,He),Xe===null?Ce=Ee:Xe.sibling=Ee,Xe=Ee);return je&&ri(G,He),Ce}for(Ee=u(Ee);He<P.length;He++)Ye=X(Ee,G,He,P[He],ee),Ye!==null&&(n&&Ye.alternate!==null&&Ee.delete(Ye.key===null?He:Ye.key),B=y(Ye,B,He),Xe===null?Ce=Ye:Xe.sibling=Ye,Xe=Ye);return n&&Ee.forEach(function(er){return r(G,er)}),je&&ri(G,He),Ce}function ke(G,B,P,ee){if(P==null)throw Error(l(151));for(var Ce=null,Xe=null,Ee=B,He=B=0,Ye=null,Ke=P.next();Ee!==null&&!Ke.done;He++,Ke=P.next()){Ee.index>He?(Ye=Ee,Ee=null):Ye=Ee.sibling;var er=j(G,Ee,Ke.value,ee);if(er===null){Ee===null&&(Ee=Ye);break}n&&Ee&&er.alternate===null&&r(G,Ee),B=y(er,B,He),Xe===null?Ce=er:Xe.sibling=er,Xe=er,Ee=Ye}if(Ke.done)return s(G,Ee),je&&ri(G,He),Ce;if(Ee===null){for(;!Ke.done;He++,Ke=P.next())Ke=ne(G,Ke.value,ee),Ke!==null&&(B=y(Ke,B,He),Xe===null?Ce=Ke:Xe.sibling=Ke,Xe=Ke);return je&&ri(G,He),Ce}for(Ee=u(Ee);!Ke.done;He++,Ke=P.next())Ke=X(Ee,G,He,Ke.value,ee),Ke!==null&&(n&&Ke.alternate!==null&&Ee.delete(Ke.key===null?He:Ke.key),B=y(Ke,B,He),Xe===null?Ce=Ke:Xe.sibling=Ke,Xe=Ke);return n&&Ee.forEach(function(h3){return r(G,h3)}),je&&ri(G,He),Ce}function at(G,B,P,ee){if(typeof P=="object"&&P!==null&&P.type===R&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case E:e:{for(var Ce=P.key;B!==null;){if(B.key===Ce){if(Ce=P.type,Ce===R){if(B.tag===7){s(G,B.sibling),ee=g(B,P.props.children),ee.return=G,G=ee;break e}}else if(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ae&&Sr(Ce)===B.type){s(G,B.sibling),ee=g(B,P.props),Ql(ee,P),ee.return=G,G=ee;break e}s(G,B);break}else r(G,B);B=B.sibling}P.type===R?(ee=gr(P.props.children,G.mode,ee,P.key),ee.return=G,G=ee):(ee=es(P.type,P.key,P.props,null,G.mode,ee),Ql(ee,P),ee.return=G,G=ee)}return A(G);case _:e:{for(Ce=P.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===P.containerInfo&&B.stateNode.implementation===P.implementation){s(G,B.sibling),ee=g(B,P.children||[]),ee.return=G,G=ee;break e}else{s(G,B);break}else r(G,B);B=B.sibling}ee=w0(P,G.mode,ee),ee.return=G,G=ee}return A(G);case ae:return P=Sr(P),at(G,B,P,ee)}if(Le(P))return Se(G,B,P,ee);if(de(P)){if(Ce=de(P),typeof Ce!="function")throw Error(l(150));return P=Ce.call(P),ke(G,B,P,ee)}if(typeof P.then=="function")return at(G,B,ss(P),ee);if(P.$$typeof===J)return at(G,B,is(G,P),ee);os(G,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,B!==null&&B.tag===6?(s(G,B.sibling),ee=g(B,P),ee.return=G,G=ee):(s(G,B),ee=T0(P,G.mode,ee),ee.return=G,G=ee),A(G)):s(G,B)}return function(G,B,P,ee){try{Kl=0;var Ce=at(G,B,P,ee);return el=null,Ce}catch(Ee){if(Ee===Wr||Ee===ls)throw Ee;var Xe=dn(29,Ee,null,G.mode);return Xe.lanes=ee,Xe.return=G,Xe}finally{}}}var wr=Of(!0),Vf=Of(!1),Bi=!1;function L0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function U0(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gi(n,r,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Wa(n),Cf(n,null,s),r}return Za(n,u,r,s),Wa(n)}function $l(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Dd(n,s)}}function B0(n,r){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var g=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,s=s.next}while(s!==null);y===null?g=y=r:y=y.next=r}else g=y=r;s={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var H0=!1;function Zl(){if(H0){var n=Zr;if(n!==null)throw n}}function Wl(n,r,s,u){H0=!1;var g=n.updateQueue;Bi=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var z=N,F=z.next;z.next=null,A===null?y=F:A.next=F,A=z;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,N=Z.lastBaseUpdate,N!==A&&(N===null?Z.firstBaseUpdate=F:N.next=F,Z.lastBaseUpdate=z))}if(y!==null){var ne=g.baseState;A=0,Z=F=z=null,N=y;do{var j=N.lane&-536870913,X=j!==N.lane;if(X?(Fe&j)===j:(u&j)===j){j!==0&&j===$r&&(H0=!0),Z!==null&&(Z=Z.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Se=n,ke=N;j=r;var at=s;switch(ke.tag){case 1:if(Se=ke.payload,typeof Se=="function"){ne=Se.call(at,ne,j);break e}ne=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ke.payload,j=typeof Se=="function"?Se.call(at,ne,j):Se,j==null)break e;ne=S({},ne,j);break e;case 2:Bi=!0}}j=N.callback,j!==null&&(n.flags|=64,X&&(n.flags|=8192),X=g.callbacks,X===null?g.callbacks=[j]:X.push(j))}else X={lane:j,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Z===null?(F=Z=X,z=ne):Z=Z.next=X,A|=j;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;X=N,N=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);Z===null&&(z=ne),g.baseState=z,g.firstBaseUpdate=F,g.lastBaseUpdate=Z,y===null&&(g.shared.lanes=0),Fi|=A,n.lanes=A,n.memoizedState=ne}}function Ff(n,r){if(typeof n!="function")throw Error(l(191,n));n.call(r)}function Yf(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Ff(s[n],r)}var tl=L(null),us=L(0);function jf(n,r){n=pi,ce(us,n),ce(tl,r),pi=n|r.baseLanes}function G0(){ce(us,pi),ce(tl,tl.current)}function q0(){pi=us.current,$(tl),$(us)}var fn=L(null),Mn=null;function qi(n){var r=n.alternate;ce(St,St.current&1),ce(fn,n),Mn===null&&(r===null||tl.current!==null||r.memoizedState!==null)&&(Mn=n)}function P0(n){ce(St,St.current),ce(fn,n),Mn===null&&(Mn=n)}function Jf(n){n.tag===22?(ce(St,St.current),ce(fn,n),Mn===null&&(Mn=n)):Pi()}function Pi(){ce(St,St.current),ce(fn,fn.current)}function hn(n){$(fn),Mn===n&&(Mn=null),$(St)}var St=L(0);function cs(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ju(s)||Xu(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var si=0,Be=null,rt=null,Et=null,ds=!1,nl=!1,Ar=!1,fs=0,ea=0,il=null,i5=0;function yt(){throw Error(l(321))}function O0(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!cn(n[s],r[s]))return!1;return!0}function V0(n,r,s,u,g,y){return si=y,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?Rh:ru,Ar=!1,y=s(u,g),Ar=!1,nl&&(y=Kf(r,s,u,g)),Xf(n),y}function Xf(n){Y.H=ia;var r=rt!==null&&rt.next!==null;if(si=0,Et=rt=Be=null,ds=!1,ea=0,il=null,r)throw Error(l(300));n===null||Ct||(n=n.dependencies,n!==null&&ns(n)&&(Ct=!0))}function Kf(n,r,s,u){Be=n;var g=0;do{if(nl&&(il=null),ea=0,nl=!1,25<=g)throw Error(l(301));if(g+=1,Et=rt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=kh,y=r(s,u)}while(nl);return y}function r5(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?ta(r):r,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(Be.flags|=1024),r}function F0(){var n=fs!==0;return fs=0,n}function Y0(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function j0(n){if(ds){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}ds=!1}si=0,Et=rt=Be=null,nl=!1,ea=fs=0,il=null}function Ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Be.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(rt===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var r=Et===null?Be.memoizedState:Et.next;if(r!==null)Et=r,rt=n;else{if(n===null)throw Be.alternate===null?Error(l(467)):Error(l(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Et===null?Be.memoizedState=Et=n:Et=Et.next=n}return Et}function hs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ta(n){var r=ea;return ea+=1,il===null&&(il=[]),n=Gf(il,n,r),r=Be,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Rh:ru),n}function ms(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ta(n);if(n.$$typeof===J)return Gt(n)}throw Error(l(438,String(n)))}function J0(n){var r=null,s=Be.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=Be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=hs(),Be.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),u=0;u<n;u++)s[u]=be;return r.index++,s}function oi(n,r){return typeof r=="function"?r(n):r}function ps(n){var r=Tt();return X0(r,rt,n)}function X0(n,r,s){var u=n.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=s;var g=n.baseQueue,y=u.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}r.baseQueue=g=y,u.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{r=g.next;var N=A=null,z=null,F=r,Z=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Fe&ne)===ne:(si&ne)===ne){var j=F.revertLane;if(j===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===$r&&(Z=!0);else if((si&j)===j){F=F.next,j===$r&&(Z=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},z===null?(N=z=ne,A=y):z=z.next=ne,Be.lanes|=j,Fi|=j;ne=F.action,Ar&&s(y,ne),y=F.hasEagerState?F.eagerState:s(y,ne)}else j={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},z===null?(N=z=j,A=y):z=z.next=j,Be.lanes|=ne,Fi|=ne;F=F.next}while(F!==null&&F!==r);if(z===null?A=y:z.next=N,!cn(y,n.memoizedState)&&(Ct=!0,Z&&(s=Zr,s!==null)))throw s;n.memoizedState=y,n.baseState=A,n.baseQueue=z,u.lastRenderedState=y}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function K0(n){var r=Tt(),s=r.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var u=s.dispatch,g=s.pending,y=r.memoizedState;if(g!==null){s.pending=null;var A=g=g.next;do y=n(y,A.action),A=A.next;while(A!==g);cn(y,r.memoizedState)||(Ct=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),s.lastRenderedState=y}return[y,u]}function Qf(n,r,s){var u=Be,g=Tt(),y=je;if(y){if(s===void 0)throw Error(l(407));s=s()}else s=r();var A=!cn((rt||g).memoizedState,s);if(A&&(g.memoizedState=s,Ct=!0),g=g.queue,Z0(Wf.bind(null,u,g,n),[n]),g.getSnapshot!==r||A||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,rl(9,{destroy:void 0},Zf.bind(null,u,g,s,r),null),st===null)throw Error(l(349));y||(si&127)!==0||$f(u,r,s)}return s}function $f(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Be.updateQueue,r===null?(r=hs(),Be.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function Zf(n,r,s,u){r.value=s,r.getSnapshot=u,eh(r)&&th(n)}function Wf(n,r,s){return s(function(){eh(r)&&th(n)})}function eh(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!cn(n,s)}catch{return!0}}function th(n){var r=pr(n,2);r!==null&&nn(r,n,2)}function Q0(n){var r=Ft();if(typeof n=="function"){var s=n;if(n=s(),Ar){Ri(!0);try{s()}finally{Ri(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},r}function nh(n,r,s,u){return n.baseState=s,X0(n,rt,typeof u=="function"?u:oi)}function l5(n,r,s,u,g){if(ys(n))throw Error(l(485));if(n=r.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};Y.T!==null?s(!0):y.isTransition=!1,u(y),s=r.pending,s===null?(y.next=r.pending=y,ih(r,y)):(y.next=s.next,r.pending=s.next=y)}}function ih(n,r){var s=r.action,u=r.payload,g=n.state;if(r.isTransition){var y=Y.T,A={};Y.T=A;try{var N=s(g,u),z=Y.S;z!==null&&z(A,N),rh(n,r,N)}catch(F){$0(n,r,F)}finally{y!==null&&A.types!==null&&(y.types=A.types),Y.T=y}}else try{y=s(g,u),rh(n,r,y)}catch(F){$0(n,r,F)}}function rh(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){lh(n,r,u)},function(u){return $0(n,r,u)}):lh(n,r,s)}function lh(n,r,s){r.status="fulfilled",r.value=s,ah(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,ih(n,s)))}function $0(n,r,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,ah(r),r=r.next;while(r!==u)}n.action=null}function ah(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function sh(n,r){return r}function oh(n,r){if(je){var s=st.formState;if(s!==null){e:{var u=Be;if(je){if(ct){t:{for(var g=ct,y=Nn;g.nodeType!==8;){if(!y){g=null;break t}if(g=_n(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ct=_n(g.nextSibling),u=g.data==="F!";break e}}Li(u)}u=!1}u&&(r=s[0])}}return s=Ft(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:r},s.queue=u,s=Nh.bind(null,Be,u),u.dispatch=s,u=Q0(!1),y=iu.bind(null,Be,!1,u.queue),u=Ft(),g={state:r,dispatch:null,action:n,pending:null},u.queue=g,s=l5.bind(null,Be,g,y,s),g.dispatch=s,u.memoizedState=n,[r,s,!1]}function uh(n){var r=Tt();return ch(r,rt,n)}function ch(n,r,s){if(r=X0(n,r,sh)[0],n=ps(oi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ta(r)}catch(A){throw A===Wr?ls:A}else u=r;r=Tt();var g=r.queue,y=g.dispatch;return s!==r.memoizedState&&(Be.flags|=2048,rl(9,{destroy:void 0},a5.bind(null,g,s),null)),[u,y,n]}function a5(n,r){n.action=r}function dh(n){var r=Tt(),s=rt;if(s!==null)return ch(r,s,n);Tt(),r=r.memoizedState,s=Tt();var u=s.queue.dispatch;return s.memoizedState=n,[r,u,!1]}function rl(n,r,s,u){return n={tag:n,create:s,deps:u,inst:r,next:null},r=Be.updateQueue,r===null&&(r=hs(),Be.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,r.lastEffect=n),n}function fh(){return Tt().memoizedState}function gs(n,r,s,u){var g=Ft();Be.flags|=n,g.memoizedState=rl(1|r,{destroy:void 0},s,u===void 0?null:u)}function vs(n,r,s,u){var g=Tt();u=u===void 0?null:u;var y=g.memoizedState.inst;rt!==null&&u!==null&&O0(u,rt.memoizedState.deps)?g.memoizedState=rl(r,y,s,u):(Be.flags|=n,g.memoizedState=rl(1|r,y,s,u))}function hh(n,r){gs(8390656,8,n,r)}function Z0(n,r){vs(2048,8,n,r)}function s5(n){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=hs(),Be.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function mh(n){var r=Tt().memoizedState;return s5({ref:r,nextImpl:n}),function(){if((We&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}function ph(n,r){return vs(4,2,n,r)}function gh(n,r){return vs(4,4,n,r)}function vh(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function yh(n,r,s){s=s!=null?s.concat([n]):null,vs(4,4,vh.bind(null,r,n),s)}function W0(){}function xh(n,r){var s=Tt();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&O0(r,u[1])?u[0]:(s.memoizedState=[n,r],n)}function bh(n,r){var s=Tt();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&O0(r,u[1]))return u[0];if(u=n(),Ar){Ri(!0);try{n()}finally{Ri(!1)}}return s.memoizedState=[u,r],u}function eu(n,r,s){return s===void 0||(si&1073741824)!==0&&(Fe&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=S1(),Be.lanes|=n,Fi|=n,s)}function Sh(n,r,s,u){return cn(s,r)?s:tl.current!==null?(n=eu(n,s,u),cn(n,r)||(Ct=!0),n):(si&42)===0||(si&1073741824)!==0&&(Fe&261930)===0?(Ct=!0,n.memoizedState=s):(n=S1(),Be.lanes|=n,Fi|=n,r)}function Th(n,r,s,u,g){var y=se.p;se.p=y!==0&&8>y?y:8;var A=Y.T,N={};Y.T=N,iu(n,!1,r,s);try{var z=g(),F=Y.S;if(F!==null&&F(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=n5(z,u);na(n,r,Z,gn(n))}else na(n,r,u,gn(n))}catch(ne){na(n,r,{then:function(){},status:"rejected",reason:ne},gn())}finally{se.p=y,A!==null&&N.types!==null&&(A.types=N.types),Y.T=A}}function o5(){}function tu(n,r,s,u){if(n.tag!==5)throw Error(l(476));var g=wh(n).queue;Th(n,g,r,Ae,s===null?o5:function(){return Ah(n),s(u)})}function wh(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:Ae},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Ah(n){var r=wh(n);r.next===null&&(r=n.alternate.memoizedState),na(n,r.next.queue,{},gn())}function nu(){return Gt(xa)}function Eh(){return Tt().memoizedState}function Ch(){return Tt().memoizedState}function u5(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=gn();n=Hi(s);var u=Gi(r,n,s);u!==null&&(nn(u,r,s),$l(u,r,s)),r={cache:k0()},n.payload=r;return}r=r.return}}function c5(n,r,s){var u=gn();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ys(n)?Mh(r,s):(s=b0(n,r,s,u),s!==null&&(nn(s,n,u),_h(s,r,u)))}function Nh(n,r,s){var u=gn();na(n,r,s,u)}function na(n,r,s,u){var g={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ys(n))Mh(r,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var A=r.lastRenderedState,N=y(A,s);if(g.hasEagerState=!0,g.eagerState=N,cn(N,A))return Za(n,r,g,0),st===null&&$a(),!1}catch{}finally{}if(s=b0(n,r,g,u),s!==null)return nn(s,n,u),_h(s,r,u),!0}return!1}function iu(n,r,s,u){if(u={lane:2,revertLane:Lu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ys(n)){if(r)throw Error(l(479))}else r=b0(n,s,u,2),r!==null&&nn(r,n,2)}function ys(n){var r=n.alternate;return n===Be||r!==null&&r===Be}function Mh(n,r){nl=ds=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function _h(n,r,s){if((s&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Dd(n,s)}}var ia={readContext:Gt,use:ms,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};ia.useEffectEvent=yt;var Rh={readContext:Gt,use:ms,useCallback:function(n,r){return Ft().memoizedState=[n,r===void 0?null:r],n},useContext:Gt,useEffect:hh,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,gs(4194308,4,vh.bind(null,r,n),s)},useLayoutEffect:function(n,r){return gs(4194308,4,n,r)},useInsertionEffect:function(n,r){gs(4,2,n,r)},useMemo:function(n,r){var s=Ft();r=r===void 0?null:r;var u=n();if(Ar){Ri(!0);try{n()}finally{Ri(!1)}}return s.memoizedState=[u,r],u},useReducer:function(n,r,s){var u=Ft();if(s!==void 0){var g=s(r);if(Ar){Ri(!0);try{s(r)}finally{Ri(!1)}}}else g=r;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=c5.bind(null,Be,n),[u.memoizedState,n]},useRef:function(n){var r=Ft();return n={current:n},r.memoizedState=n},useState:function(n){n=Q0(n);var r=n.queue,s=Nh.bind(null,Be,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:W0,useDeferredValue:function(n,r){var s=Ft();return eu(s,n,r)},useTransition:function(){var n=Q0(!1);return n=Th.bind(null,Be,n.queue,!0,!1),Ft().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var u=Be,g=Ft();if(je){if(s===void 0)throw Error(l(407));s=s()}else{if(s=r(),st===null)throw Error(l(349));(Fe&127)!==0||$f(u,r,s)}g.memoizedState=s;var y={value:s,getSnapshot:r};return g.queue=y,hh(Wf.bind(null,u,y,n),[n]),u.flags|=2048,rl(9,{destroy:void 0},Zf.bind(null,u,y,s,r),null),s},useId:function(){var n=Ft(),r=st.identifierPrefix;if(je){var s=Yn,u=Fn;s=(u&~(1<<32-un(u)-1)).toString(32)+s,r="_"+r+"R_"+s,s=fs++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=i5++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:nu,useFormState:oh,useActionState:oh,useOptimistic:function(n){var r=Ft();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=iu.bind(null,Be,!0,s),s.dispatch=r,[n,r]},useMemoCache:J0,useCacheRefresh:function(){return Ft().memoizedState=u5.bind(null,Be)},useEffectEvent:function(n){var r=Ft(),s={impl:n};return r.memoizedState=s,function(){if((We&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},ru={readContext:Gt,use:ms,useCallback:xh,useContext:Gt,useEffect:Z0,useImperativeHandle:yh,useInsertionEffect:ph,useLayoutEffect:gh,useMemo:bh,useReducer:ps,useRef:fh,useState:function(){return ps(oi)},useDebugValue:W0,useDeferredValue:function(n,r){var s=Tt();return Sh(s,rt.memoizedState,n,r)},useTransition:function(){var n=ps(oi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:ta(n),r]},useSyncExternalStore:Qf,useId:Eh,useHostTransitionStatus:nu,useFormState:uh,useActionState:uh,useOptimistic:function(n,r){var s=Tt();return nh(s,rt,n,r)},useMemoCache:J0,useCacheRefresh:Ch};ru.useEffectEvent=mh;var kh={readContext:Gt,use:ms,useCallback:xh,useContext:Gt,useEffect:Z0,useImperativeHandle:yh,useInsertionEffect:ph,useLayoutEffect:gh,useMemo:bh,useReducer:K0,useRef:fh,useState:function(){return K0(oi)},useDebugValue:W0,useDeferredValue:function(n,r){var s=Tt();return rt===null?eu(s,n,r):Sh(s,rt.memoizedState,n,r)},useTransition:function(){var n=K0(oi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:ta(n),r]},useSyncExternalStore:Qf,useId:Eh,useHostTransitionStatus:nu,useFormState:dh,useActionState:dh,useOptimistic:function(n,r){var s=Tt();return rt!==null?nh(s,rt,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:J0,useCacheRefresh:Ch};kh.useEffectEvent=mh;function lu(n,r,s,u){r=n.memoizedState,s=s(u,r),s=s==null?r:S({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var au={enqueueSetState:function(n,r,s){n=n._reactInternals;var u=gn(),g=Hi(u);g.payload=r,s!=null&&(g.callback=s),r=Gi(n,g,u),r!==null&&(nn(r,n,u),$l(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var u=gn(),g=Hi(u);g.tag=1,g.payload=r,s!=null&&(g.callback=s),r=Gi(n,g,u),r!==null&&(nn(r,n,u),$l(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=gn(),u=Hi(s);u.tag=2,r!=null&&(u.callback=r),r=Gi(n,u,s),r!==null&&(nn(r,n,s),$l(r,n,s))}};function Ih(n,r,s,u,g,y,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,A):r.prototype&&r.prototype.isPureReactComponent?!Vl(s,u)||!Vl(g,y):!0}function Dh(n,r,s,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==n&&au.enqueueReplaceState(r,r.state,null)}function Er(n,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(n=n.defaultProps){s===r&&(s=S({},s));for(var g in n)s[g]===void 0&&(s[g]=n[g])}return s}function zh(n){Qa(n)}function Lh(n){console.error(n)}function Uh(n){Qa(n)}function xs(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Bh(n,r,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function su(n,r,s){return s=Hi(s),s.tag=3,s.payload={element:null},s.callback=function(){xs(n,r)},s}function Hh(n){return n=Hi(n),n.tag=3,n}function Gh(n,r,s,u){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;n.payload=function(){return g(y)},n.callback=function(){Bh(r,s,u)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Bh(r,s,u),typeof g!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function d5(n,r,s,u,g){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&Qr(r,s,g,!0),s=fn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?ks():s.alternate===null&&xt===0&&(xt=3),s.flags&=-257,s.flags|=65536,s.lanes=g,u===as?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),Iu(n,u,g)),!1;case 22:return s.flags|=65536,u===as?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),Iu(n,u,g)),!1}throw Error(l(435,s.tag))}return Iu(n,u,g),ks(),!1}if(je)return r=fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==C0&&(n=Error(l(422),{cause:u}),jl(An(n,s)))):(u!==C0&&(r=Error(l(423),{cause:u}),jl(An(r,s))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=An(u,s),g=su(n.stateNode,u,g),B0(n,g),xt!==4&&(xt=2)),!1;var y=Error(l(520),{cause:u});if(y=An(y,s),da===null?da=[y]:da.push(y),xt!==4&&(xt=2),r===null)return!0;u=An(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=g&-g,s.lanes|=n,n=su(s.stateNode,u,n),B0(s,n),!1;case 1:if(r=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yi===null||!Yi.has(y))))return s.flags|=65536,g&=-g,s.lanes|=g,g=Hh(g),Gh(g,n,s,u),B0(s,g),!1}s=s.return}while(s!==null);return!1}var ou=Error(l(461)),Ct=!1;function qt(n,r,s,u){r.child=n===null?Vf(r,null,s,u):wr(r,n.child,s,u)}function qh(n,r,s,u,g){s=s.render;var y=r.ref;if("ref"in u){var A={};for(var N in u)N!=="ref"&&(A[N]=u[N])}else A=u;return xr(r),u=V0(n,r,s,A,y,g),N=F0(),n!==null&&!Ct?(Y0(n,r,g),ui(n,r,g)):(je&&N&&A0(r),r.flags|=1,qt(n,r,u,g),r.child)}function Ph(n,r,s,u,g){if(n===null){var y=s.type;return typeof y=="function"&&!S0(y)&&y.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=y,Oh(n,r,y,u,g)):(n=es(s.type,null,u,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,!gu(n,g)){var A=y.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(A,u)&&n.ref===r.ref)return ui(n,r,g)}return r.flags|=1,n=ii(y,u),n.ref=r.ref,n.return=r,r.child=n}function Oh(n,r,s,u,g){if(n!==null){var y=n.memoizedProps;if(Vl(y,u)&&n.ref===r.ref)if(Ct=!1,r.pendingProps=u=y,gu(n,g))(n.flags&131072)!==0&&(Ct=!0);else return r.lanes=n.lanes,ui(n,r,g)}return uu(n,r,s,u,g)}function Vh(n,r,s,u){var g=u.children,y=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,n!==null){for(u=r.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,r.child=null;return Fh(n,r,y,s,u)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&rs(r,y!==null?y.cachePool:null),y!==null?jf(r,y):G0(),Jf(r);else return u=r.lanes=536870912,Fh(n,r,y!==null?y.baseLanes|s:s,s,u)}else y!==null?(rs(r,y.cachePool),jf(r,y),Pi(),r.memoizedState=null):(n!==null&&rs(r,null),G0(),Pi());return qt(n,r,g,s),r.child}function ra(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Fh(n,r,s,u,g){var y=D0();return y=y===null?null:{parent:At._currentValue,pool:y},r.memoizedState={baseLanes:s,cachePool:y},n!==null&&rs(r,null),G0(),Jf(r),n!==null&&Qr(n,r,u,!0),r.childLanes=g,null}function bs(n,r){return r=Ts({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Yh(n,r,s){return wr(r,n.child,null,s),n=bs(r,r.pendingProps),n.flags|=2,hn(r),r.memoizedState=null,n}function f5(n,r,s){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(je){if(u.mode==="hidden")return n=bs(r,u),r.lanes=536870912,ra(null,n);if(P0(r),(n=ct)?(n=im(n,Nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Di!==null?{id:Fn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},s=Mf(n),s.return=r,r.child=s,Ht=r,ct=null)):n=null,n===null)throw Li(r);return r.lanes=536870912,null}return bs(r,u)}var y=n.memoizedState;if(y!==null){var A=y.dehydrated;if(P0(r),g)if(r.flags&256)r.flags&=-257,r=Yh(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(l(558));else if(Ct||Qr(n,r,s,!1),g=(s&n.childLanes)!==0,Ct||g){if(u=st,u!==null&&(A=zd(u,s),A!==0&&A!==y.retryLane))throw y.retryLane=A,pr(n,A),nn(u,n,A),ou;ks(),r=Yh(n,r,s)}else n=y.treeContext,ct=_n(A.nextSibling),Ht=r,je=!0,zi=null,Nn=!1,n!==null&&kf(r,n),r=bs(r,u),r.flags|=4096;return r}return n=ii(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Ss(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function uu(n,r,s,u,g){return xr(r),s=V0(n,r,s,u,void 0,g),u=F0(),n!==null&&!Ct?(Y0(n,r,g),ui(n,r,g)):(je&&u&&A0(r),r.flags|=1,qt(n,r,s,g),r.child)}function jh(n,r,s,u,g,y){return xr(r),r.updateQueue=null,s=Kf(r,u,s,g),Xf(n),u=F0(),n!==null&&!Ct?(Y0(n,r,y),ui(n,r,y)):(je&&u&&A0(r),r.flags|=1,qt(n,r,s,y),r.child)}function Jh(n,r,s,u,g){if(xr(r),r.stateNode===null){var y=jr,A=s.contextType;typeof A=="object"&&A!==null&&(y=Gt(A)),y=new s(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=au,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},L0(r),A=s.contextType,y.context=typeof A=="object"&&A!==null?Gt(A):jr,y.state=r.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(lu(r,s,A,u),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&au.enqueueReplaceState(y,y.state,null),Wl(r,u,y,g),Zl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){y=r.stateNode;var N=r.memoizedProps,z=Er(s,N);y.props=z;var F=y.context,Z=s.contextType;A=jr,typeof Z=="object"&&Z!==null&&(A=Gt(Z));var ne=s.getDerivedStateFromProps;Z=typeof ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||F!==A)&&Dh(r,y,u,A),Bi=!1;var j=r.memoizedState;y.state=j,Wl(r,u,y,g),Zl(),F=r.memoizedState,N||j!==F||Bi?(typeof ne=="function"&&(lu(r,s,ne,u),F=r.memoizedState),(z=Bi||Ih(r,s,z,u,j,F,A))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),y.props=u,y.state=F,y.context=A,u=z):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,U0(n,r),A=r.memoizedProps,Z=Er(s,A),y.props=Z,ne=r.pendingProps,j=y.context,F=s.contextType,z=jr,typeof F=="object"&&F!==null&&(z=Gt(F)),N=s.getDerivedStateFromProps,(F=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==ne||j!==z)&&Dh(r,y,u,z),Bi=!1,j=r.memoizedState,y.state=j,Wl(r,u,y,g),Zl();var X=r.memoizedState;A!==ne||j!==X||Bi||n!==null&&n.dependencies!==null&&ns(n.dependencies)?(typeof N=="function"&&(lu(r,s,N,u),X=r.memoizedState),(Z=Bi||Ih(r,s,Z,u,j,X,z)||n!==null&&n.dependencies!==null&&ns(n.dependencies))?(F||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,z)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),y.props=u,y.state=X,y.context=z,u=Z):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),u=!1)}return y=u,Ss(n,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,n!==null&&u?(r.child=wr(r,n.child,null,g),r.child=wr(r,null,s,g)):qt(n,r,s,g),r.memoizedState=y.state,n=r.child):n=ui(n,r,g),n}function Xh(n,r,s,u){return vr(),r.flags|=256,qt(n,r,s,u),r.child}var cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function du(n){return{baseLanes:n,cachePool:Bf()}}function fu(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=pn),n}function Kh(n,r,s){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,A;if((A=y)||(A=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),A&&(g=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,n===null){if(je){if(g?qi(r):Pi(),(n=ct)?(n=im(n,Nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Di!==null?{id:Fn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},s=Mf(n),s.return=r,r.child=s,Ht=r,ct=null)):n=null,n===null)throw Li(r);return Xu(n)?r.lanes=32:r.lanes=536870912,null}var N=u.children;return u=u.fallback,g?(Pi(),g=r.mode,N=Ts({mode:"hidden",children:N},g),u=gr(u,g,s,null),N.return=r,u.return=r,N.sibling=u,r.child=N,u=r.child,u.memoizedState=du(s),u.childLanes=fu(n,A,s),r.memoizedState=cu,ra(null,u)):(qi(r),hu(r,N))}var z=n.memoizedState;if(z!==null&&(N=z.dehydrated,N!==null)){if(y)r.flags&256?(qi(r),r.flags&=-257,r=mu(n,r,s)):r.memoizedState!==null?(Pi(),r.child=n.child,r.flags|=128,r=null):(Pi(),N=u.fallback,g=r.mode,u=Ts({mode:"visible",children:u.children},g),N=gr(N,g,s,null),N.flags|=2,u.return=r,N.return=r,u.sibling=N,r.child=u,wr(r,n.child,null,s),u=r.child,u.memoizedState=du(s),u.childLanes=fu(n,A,s),r.memoizedState=cu,r=ra(null,u));else if(qi(r),Xu(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var F=A.dgst;A=F,u=Error(l(419)),u.stack="",u.digest=A,jl({value:u,source:null,stack:null}),r=mu(n,r,s)}else if(Ct||Qr(n,r,s,!1),A=(s&n.childLanes)!==0,Ct||A){if(A=st,A!==null&&(u=zd(A,s),u!==0&&u!==z.retryLane))throw z.retryLane=u,pr(n,u),nn(A,n,u),ou;Ju(N)||ks(),r=mu(n,r,s)}else Ju(N)?(r.flags|=192,r.child=n.child,r=null):(n=z.treeContext,ct=_n(N.nextSibling),Ht=r,je=!0,zi=null,Nn=!1,n!==null&&kf(r,n),r=hu(r,u.children),r.flags|=4096);return r}return g?(Pi(),N=u.fallback,g=r.mode,z=n.child,F=z.sibling,u=ii(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,F!==null?N=ii(F,N):(N=gr(N,g,s,null),N.flags|=2),N.return=r,u.return=r,u.sibling=N,r.child=u,ra(null,u),u=r.child,N=n.child.memoizedState,N===null?N=du(s):(g=N.cachePool,g!==null?(z=At._currentValue,g=g.parent!==z?{parent:z,pool:z}:g):g=Bf(),N={baseLanes:N.baseLanes|s,cachePool:g}),u.memoizedState=N,u.childLanes=fu(n,A,s),r.memoizedState=cu,ra(n.child,u)):(qi(r),s=n.child,n=s.sibling,s=ii(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,n!==null&&(A=r.deletions,A===null?(r.deletions=[n],r.flags|=16):A.push(n)),r.child=s,r.memoizedState=null,s)}function hu(n,r){return r=Ts({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ts(n,r){return n=dn(22,n,null,r),n.lanes=0,n}function mu(n,r,s){return wr(r,n.child,null,s),n=hu(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Qh(n,r,s){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),_0(n.return,r,s)}function pu(n,r,s,u,g,y){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:g,treeForkCount:y}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=s,A.tailMode=g,A.treeForkCount=y)}function $h(n,r,s){var u=r.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var A=St.current,N=(A&2)!==0;if(N?(A=A&1|2,r.flags|=128):A&=1,ce(St,A),qt(n,r,u,s),u=je?Yl:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qh(n,s,r);else if(n.tag===19)Qh(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(s=r.child,g=null;s!==null;)n=s.alternate,n!==null&&cs(n)===null&&(g=s),s=s.sibling;s=g,s===null?(g=r.child,r.child=null):(g=s.sibling,s.sibling=null),pu(r,!1,g,s,y,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&cs(n)===null){r.child=g;break}n=g.sibling,g.sibling=s,s=g,g=n}pu(r,!0,s,null,y,u);break;case"together":pu(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ui(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Fi|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(Qr(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(l(153));if(r.child!==null){for(n=r.child,s=ii(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=ii(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function gu(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&ns(n)))}function h5(n,r,s){switch(r.tag){case 3:ft(r,r.stateNode.containerInfo),Ui(r,At,n.memoizedState.cache),vr();break;case 27:case 5:bn(r);break;case 4:ft(r,r.stateNode.containerInfo);break;case 10:Ui(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,P0(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(qi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Kh(n,r,s):(qi(r),n=ui(n,r,s),n!==null?n.sibling:null);qi(r);break;case 19:var g=(n.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(Qr(n,r,s,!1),u=(s&r.childLanes)!==0),g){if(u)return $h(n,r,s);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ce(St,St.current),u)break;return null;case 22:return r.lanes=0,Vh(n,r,s,r.pendingProps);case 24:Ui(r,At,n.memoizedState.cache)}return ui(n,r,s)}function Zh(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ct=!0;else{if(!gu(n,s)&&(r.flags&128)===0)return Ct=!1,h5(n,r,s);Ct=(n.flags&131072)!==0}else Ct=!1,je&&(r.flags&1048576)!==0&&Rf(r,Yl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Sr(r.elementType),r.type=n,typeof n=="function")S0(n)?(u=Er(n,u),r.tag=1,r=Jh(null,r,n,u,s)):(r.tag=0,r=uu(null,r,n,u,s));else{if(n!=null){var g=n.$$typeof;if(g===ie){r.tag=11,r=qh(null,r,n,u,s);break e}else if(g===q){r.tag=14,r=Ph(null,r,n,u,s);break e}}throw r=we(n)||n,Error(l(306,r,""))}}return r;case 0:return uu(n,r,r.type,r.pendingProps,s);case 1:return u=r.type,g=Er(u,r.pendingProps),Jh(n,r,u,g,s);case 3:e:{if(ft(r,r.stateNode.containerInfo),n===null)throw Error(l(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,U0(n,r),Wl(r,u,null,s);var A=r.memoizedState;if(u=A.cache,Ui(r,At,u),u!==y.cache&&R0(r,[At],s,!0),Zl(),u=A.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Xh(n,r,u,s);break e}else if(u!==g){g=An(Error(l(424)),r),jl(g),r=Xh(n,r,u,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=_n(n.firstChild),Ht=r,je=!0,zi=null,Nn=!0,s=Vf(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vr(),u===g){r=ui(n,r,s);break e}qt(n,r,u,s)}r=r.child}return r;case 26:return Ss(n,r),n===null?(s=um(r.type,null,r.pendingProps,null))?r.memoizedState=s:je||(s=r.type,n=r.pendingProps,u=Hs(re.current).createElement(s),u[Bt]=r,u[Qt]=n,Pt(u,s,n),It(u),r.stateNode=u):r.memoizedState=um(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return bn(r),n===null&&je&&(u=r.stateNode=am(r.type,r.pendingProps,re.current),Ht=r,Nn=!0,g=ct,Ki(r.type)?(Ku=g,ct=_n(u.firstChild)):ct=g),qt(n,r,r.pendingProps.children,s),Ss(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&je&&((g=u=ct)&&(u=V5(u,r.type,r.pendingProps,Nn),u!==null?(r.stateNode=u,Ht=r,ct=_n(u.firstChild),Nn=!1,g=!0):g=!1),g||Li(r)),bn(r),g=r.type,y=r.pendingProps,A=n!==null?n.memoizedProps:null,u=y.children,Fu(g,y)?u=null:A!==null&&Fu(g,A)&&(r.flags|=32),r.memoizedState!==null&&(g=V0(n,r,r5,null,null,s),xa._currentValue=g),Ss(n,r),qt(n,r,u,s),r.child;case 6:return n===null&&je&&((n=s=ct)&&(s=F5(s,r.pendingProps,Nn),s!==null?(r.stateNode=s,Ht=r,ct=null,n=!0):n=!1),n||Li(r)),null;case 13:return Kh(n,r,s);case 4:return ft(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=wr(r,null,u,s):qt(n,r,u,s),r.child;case 11:return qh(n,r,r.type,r.pendingProps,s);case 7:return qt(n,r,r.pendingProps,s),r.child;case 8:return qt(n,r,r.pendingProps.children,s),r.child;case 12:return qt(n,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Ui(r,r.type,u.value),qt(n,r,u.children,s),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,xr(r),g=Gt(g),u=u(g),r.flags|=1,qt(n,r,u,s),r.child;case 14:return Ph(n,r,r.type,r.pendingProps,s);case 15:return Oh(n,r,r.type,r.pendingProps,s);case 19:return $h(n,r,s);case 31:return f5(n,r,s);case 22:return Vh(n,r,s,r.pendingProps);case 24:return xr(r),u=Gt(At),n===null?(g=D0(),g===null&&(g=st,y=k0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=s),g=y),r.memoizedState={parent:u,cache:g},L0(r),Ui(r,At,g)):((n.lanes&s)!==0&&(U0(n,r),Wl(r,null,null,s),Zl()),g=n.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ui(r,At,u)):(u=y.cache,Ui(r,At,u),u!==g.cache&&R0(r,[At],s,!0))),qt(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(l(156,r.tag))}function ci(n){n.flags|=4}function vu(n,r,s,u,g){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(E1())n.flags|=8192;else throw Tr=as,z0}else n.flags&=-16777217}function Wh(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!mm(r))if(E1())n.flags|=8192;else throw Tr=as,z0}function ws(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?kd():536870912,n.lanes|=r,ol|=r)}function la(n,r){if(!je)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function dt(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(r)for(var g=n.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=s,r}function m5(n,r,s){var u=r.pendingProps;switch(E0(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return s=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ai(At),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Kr(r)?ci(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,N0())),dt(r),null;case 26:var g=r.type,y=r.memoizedState;return n===null?(ci(r),y!==null?(dt(r),Wh(r,y)):(dt(r),vu(r,g,null,u,s))):y?y!==n.memoizedState?(ci(r),dt(r),Wh(r,y)):(dt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&ci(r),dt(r),vu(r,g,n,u,s)),null;case 27:if(Un(r),s=re.current,g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ci(r);else{if(!u){if(r.stateNode===null)throw Error(l(166));return dt(r),null}n=ye.current,Kr(r)?If(r):(n=am(g,u,s),r.stateNode=n,ci(r))}return dt(r),null;case 5:if(Un(r),g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ci(r);else{if(!u){if(r.stateNode===null)throw Error(l(166));return dt(r),null}if(y=ye.current,Kr(r))If(r);else{var A=Hs(re.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?A.createElement(g,{is:u.is}):A.createElement(g)}}y[Bt]=r,y[Qt]=u;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=y;e:switch(Pt(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ci(r)}}return dt(r),vu(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ci(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(l(166));if(n=re.current,Kr(r)){if(n=r.stateNode,s=r.memoizedProps,u=null,g=Ht,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Bt]=r,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||K1(n.nodeValue,s)),n||Li(r,!0)}else n=Hs(n).createTextNode(u),n[Bt]=r,r.stateNode=n}return dt(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(u=Kr(r),s!==null){if(n===null){if(!u)throw Error(l(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(557));n[Bt]=r}else vr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),n=!1}else s=N0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(hn(r),r):(hn(r),null);if((r.flags&128)!==0)throw Error(l(558))}return dt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Kr(r),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(l(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(l(317));g[Bt]=r}else vr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),g=!1}else g=N0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(hn(r),r):(hn(r),null)}return hn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),ws(r,r.updateQueue),dt(r),null);case 4:return it(),n===null&&Gu(r.stateNode.containerInfo),dt(r),null;case 10:return ai(r.type),dt(r),null;case 19:if($(St),u=r.memoizedState,u===null)return dt(r),null;if(g=(r.flags&128)!==0,y=u.rendering,y===null)if(g)la(u,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=cs(n),y!==null){for(r.flags|=128,la(u,!1),n=y.updateQueue,r.updateQueue=n,ws(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)Nf(s,n),s=s.sibling;return ce(St,St.current&1|2),je&&ri(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&sn()>Ms&&(r.flags|=128,g=!0,la(u,!1),r.lanes=4194304)}else{if(!g)if(n=cs(y),n!==null){if(r.flags|=128,g=!0,n=n.updateQueue,r.updateQueue=n,ws(r,n),la(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!je)return dt(r),null}else 2*sn()-u.renderingStartTime>Ms&&s!==536870912&&(r.flags|=128,g=!0,la(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(n=u.last,n!==null?n.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=sn(),n.sibling=null,s=St.current,ce(St,g?s&1|2:s&1),je&&ri(r,u.treeForkCount),n):(dt(r),null);case 22:case 23:return hn(r),q0(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),s=r.updateQueue,s!==null&&ws(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),n!==null&&$(br),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),ai(At),dt(r),null;case 25:return null;case 30:return null}throw Error(l(156,r.tag))}function p5(n,r){switch(E0(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ai(At),it(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Un(r),null;case 31:if(r.memoizedState!==null){if(hn(r),r.alternate===null)throw Error(l(340));vr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(hn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(l(340));vr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return $(St),null;case 4:return it(),null;case 10:return ai(r.type),null;case 22:case 23:return hn(r),q0(),n!==null&&$(br),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ai(At),null;case 25:return null;default:return null}}function e1(n,r){switch(E0(r),r.tag){case 3:ai(At),it();break;case 26:case 27:case 5:Un(r);break;case 4:it();break;case 31:r.memoizedState!==null&&hn(r);break;case 13:hn(r);break;case 19:$(St);break;case 10:ai(r.type);break;case 22:case 23:hn(r),q0(),n!==null&&$(br);break;case 24:ai(At)}}function aa(n,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var g=u.next;s=g;do{if((s.tag&n)===n){u=void 0;var y=s.create,A=s.inst;u=y(),A.destroy=u}s=s.next}while(s!==g)}}catch(N){nt(r,r.return,N)}}function Oi(n,r,s){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&n)===n){var A=u.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,g=r;var z=s,F=N;try{F()}catch(Z){nt(g,z,Z)}}}u=u.next}while(u!==y)}}catch(Z){nt(r,r.return,Z)}}function t1(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{Yf(r,s)}catch(u){nt(n,n.return,u)}}}function n1(n,r,s){s.props=Er(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){nt(n,r,u)}}function sa(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(g){nt(n,r,g)}}function jn(n,r){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(g){nt(n,r,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){nt(n,r,g)}else s.current=null}function i1(n){var r=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(g){nt(n,n.return,g)}}function yu(n,r,s){try{var u=n.stateNode;B5(u,n.type,s,r),u[Qt]=r}catch(g){nt(n,n.return,g)}}function r1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ki(n.type)||n.tag===4}function xu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||r1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ki(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bu(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ti));else if(u!==4&&(u===27&&Ki(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(bu(n,r,s),n=n.sibling;n!==null;)bu(n,r,s),n=n.sibling}function As(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(u!==4&&(u===27&&Ki(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(As(n,r,s),n=n.sibling;n!==null;)As(n,r,s),n=n.sibling}function l1(n){var r=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Pt(r,u,s),r[Bt]=n,r[Qt]=s}catch(y){nt(n,n.return,y)}}var di=!1,Nt=!1,Su=!1,a1=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function g5(n,r){if(n=n.containerInfo,Ou=Ys,n=yf(n),m0(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var A=0,N=-1,z=-1,F=0,Z=0,ne=n,j=null;t:for(;;){for(var X;ne!==s||g!==0&&ne.nodeType!==3||(N=A+g),ne!==y||u!==0&&ne.nodeType!==3||(z=A+u),ne.nodeType===3&&(A+=ne.nodeValue.length),(X=ne.firstChild)!==null;)j=ne,ne=X;for(;;){if(ne===n)break t;if(j===s&&++F===g&&(N=A),j===y&&++Z===u&&(z=A),(X=ne.nextSibling)!==null)break;ne=j,j=ne.parentNode}ne=X}s=N===-1||z===-1?null:{start:N,end:z}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vu={focusedElem:n,selectionRange:s},Ys=!1,Dt=r;Dt!==null;)if(r=Dt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Dt=n;else for(;Dt!==null;){switch(r=Dt,y=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)g=n[s],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,s=r,g=y.memoizedProps,y=y.memoizedState,u=s.stateNode;try{var Se=Er(s.type,g);n=u.getSnapshotBeforeUpdate(Se,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(ke){nt(s,s.return,ke)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)ju(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ju(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=r.sibling,n!==null){n.return=r.return,Dt=n;break}Dt=r.return}}function s1(n,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:hi(n,s),u&4&&aa(5,s);break;case 1:if(hi(n,s),u&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(A){nt(s,s.return,A)}else{var g=Er(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(g,r,n.__reactInternalSnapshotBeforeUpdate)}catch(A){nt(s,s.return,A)}}u&64&&t1(s),u&512&&sa(s,s.return);break;case 3:if(hi(n,s),u&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Yf(n,r)}catch(A){nt(s,s.return,A)}}break;case 27:r===null&&u&4&&l1(s);case 26:case 5:hi(n,s),r===null&&u&4&&i1(s),u&512&&sa(s,s.return);break;case 12:hi(n,s);break;case 31:hi(n,s),u&4&&c1(n,s);break;case 13:hi(n,s),u&4&&d1(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=E5.bind(null,s),Y5(n,s))));break;case 22:if(u=s.memoizedState!==null||di,!u){r=r!==null&&r.memoizedState!==null||Nt,g=di;var y=Nt;di=u,(Nt=r)&&!y?mi(n,s,(s.subtreeFlags&8772)!==0):hi(n,s),di=g,Nt=y}break;case 30:break;default:hi(n,s)}}function o1(n){var r=n.alternate;r!==null&&(n.alternate=null,o1(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&$o(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ht=null,Zt=!1;function fi(n,r,s){for(s=s.child;s!==null;)u1(n,r,s),s=s.sibling}function u1(n,r,s){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(kl,s)}catch{}switch(s.tag){case 26:Nt||jn(s,r),fi(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||jn(s,r);var u=ht,g=Zt;Ki(s.type)&&(ht=s.stateNode,Zt=!1),fi(n,r,s),ga(s.stateNode),ht=u,Zt=g;break;case 5:Nt||jn(s,r);case 6:if(u=ht,g=Zt,ht=null,fi(n,r,s),ht=u,Zt=g,ht!==null)if(Zt)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(s.stateNode)}catch(y){nt(s,r,y)}else try{ht.removeChild(s.stateNode)}catch(y){nt(s,r,y)}break;case 18:ht!==null&&(Zt?(n=ht,tm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),gl(n)):tm(ht,s.stateNode));break;case 4:u=ht,g=Zt,ht=s.stateNode.containerInfo,Zt=!0,fi(n,r,s),ht=u,Zt=g;break;case 0:case 11:case 14:case 15:Oi(2,s,r),Nt||Oi(4,s,r),fi(n,r,s);break;case 1:Nt||(jn(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&n1(s,r,u)),fi(n,r,s);break;case 21:fi(n,r,s);break;case 22:Nt=(u=Nt)||s.memoizedState!==null,fi(n,r,s),Nt=u;break;default:fi(n,r,s)}}function c1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{gl(n)}catch(s){nt(r,r.return,s)}}}function d1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{gl(n)}catch(s){nt(r,r.return,s)}}function v5(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new a1),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new a1),r;default:throw Error(l(435,n.tag))}}function Es(n,r){var s=v5(n);r.forEach(function(u){if(!s.has(u)){s.add(u);var g=C5.bind(null,n,u);u.then(g,g)}})}function Wt(n,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var g=s[u],y=n,A=r,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(Ki(N.type)){ht=N.stateNode,Zt=!1;break e}break;case 5:ht=N.stateNode,Zt=!1;break e;case 3:case 4:ht=N.stateNode.containerInfo,Zt=!0;break e}N=N.return}if(ht===null)throw Error(l(160));u1(y,A,g),ht=null,Zt=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)f1(r,n),r=r.sibling}var Hn=null;function f1(n,r){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wt(r,n),en(n),u&4&&(Oi(3,n,n.return),aa(3,n),Oi(5,n,n.return));break;case 1:Wt(r,n),en(n),u&512&&(Nt||s===null||jn(s,s.return)),u&64&&di&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var g=Hn;if(Wt(r,n),en(n),u&512&&(Nt||s===null||jn(s,s.return)),u&4){var y=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[zl]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Pt(y,u,s),y[Bt]=n,It(y),u=y;break e;case"link":var A=fm("link","href",g).get(u+(s.href||""));if(A){for(var N=0;N<A.length;N++)if(y=A[N],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(N,1);break t}}y=g.createElement(u),Pt(y,u,s),g.head.appendChild(y);break;case"meta":if(A=fm("meta","content",g).get(u+(s.content||""))){for(N=0;N<A.length;N++)if(y=A[N],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(N,1);break t}}y=g.createElement(u),Pt(y,u,s),g.head.appendChild(y);break;default:throw Error(l(468,u))}y[Bt]=n,It(y),u=y}n.stateNode=u}else hm(g,n.type,n.stateNode);else n.stateNode=dm(g,u,n.memoizedProps);else y!==u?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,u===null?hm(g,n.type,n.stateNode):dm(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&yu(n,n.memoizedProps,s.memoizedProps)}break;case 27:Wt(r,n),en(n),u&512&&(Nt||s===null||jn(s,s.return)),s!==null&&u&4&&yu(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Wt(r,n),en(n),u&512&&(Nt||s===null||jn(s,s.return)),n.flags&32){g=n.stateNode;try{Gr(g,"")}catch(Se){nt(n,n.return,Se)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,yu(n,g,s!==null?s.memoizedProps:g)),u&1024&&(Su=!0);break;case 6:if(Wt(r,n),en(n),u&4){if(n.stateNode===null)throw Error(l(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(Se){nt(n,n.return,Se)}}break;case 3:if(Ps=null,g=Hn,Hn=Gs(r.containerInfo),Wt(r,n),Hn=g,en(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{gl(r.containerInfo)}catch(Se){nt(n,n.return,Se)}Su&&(Su=!1,h1(n));break;case 4:u=Hn,Hn=Gs(n.stateNode.containerInfo),Wt(r,n),en(n),Hn=u;break;case 12:Wt(r,n),en(n);break;case 31:Wt(r,n),en(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Es(n,u)));break;case 13:Wt(r,n),en(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ns=sn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Es(n,u)));break;case 22:g=n.memoizedState!==null;var z=s!==null&&s.memoizedState!==null,F=di,Z=Nt;if(di=F||g,Nt=Z||z,Wt(r,n),Nt=Z,di=F,en(n),u&8192)e:for(r=n.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(s===null||z||di||Nt||Cr(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){z=s=r;try{if(y=z.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=z.stateNode;var ne=z.memoizedProps.style,j=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;N.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(Se){nt(z,z.return,Se)}}}else if(r.tag===6){if(s===null){z=r;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(Se){nt(z,z.return,Se)}}}else if(r.tag===18){if(s===null){z=r;try{var X=z.stateNode;g?nm(X,!0):nm(z.stateNode,!1)}catch(Se){nt(z,z.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Es(n,s))));break;case 19:Wt(r,n),en(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Es(n,u)));break;case 30:break;case 21:break;default:Wt(r,n),en(n)}}function en(n){var r=n.flags;if(r&2){try{for(var s,u=n.return;u!==null;){if(r1(u)){s=u;break}u=u.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var g=s.stateNode,y=xu(n);As(n,y,g);break;case 5:var A=s.stateNode;s.flags&32&&(Gr(A,""),s.flags&=-33);var N=xu(n);As(n,N,A);break;case 3:case 4:var z=s.stateNode.containerInfo,F=xu(n);bu(n,F,z);break;default:throw Error(l(161))}}catch(Z){nt(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function h1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;h1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function hi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)s1(n,r.alternate,r),r=r.sibling}function Cr(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Oi(4,r,r.return),Cr(r);break;case 1:jn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&n1(r,r.return,s),Cr(r);break;case 27:ga(r.stateNode);case 26:case 5:jn(r,r.return),Cr(r);break;case 22:r.memoizedState===null&&Cr(r);break;case 30:Cr(r);break;default:Cr(r)}n=n.sibling}}function mi(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=n,y=r,A=y.flags;switch(y.tag){case 0:case 11:case 15:mi(g,y,s),aa(4,y);break;case 1:if(mi(g,y,s),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){nt(u,u.return,F)}if(u=y,g=u.updateQueue,g!==null){var N=u.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)Ff(z[g],N)}catch(F){nt(u,u.return,F)}}s&&A&64&&t1(y),sa(y,y.return);break;case 27:l1(y);case 26:case 5:mi(g,y,s),s&&u===null&&A&4&&i1(y),sa(y,y.return);break;case 12:mi(g,y,s);break;case 31:mi(g,y,s),s&&A&4&&c1(g,y);break;case 13:mi(g,y,s),s&&A&4&&d1(g,y);break;case 22:y.memoizedState===null&&mi(g,y,s),sa(y,y.return);break;case 30:break;default:mi(g,y,s)}r=r.sibling}}function Tu(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Jl(s))}function wu(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Jl(n))}function Gn(n,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m1(n,r,s,u),r=r.sibling}function m1(n,r,s,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(n,r,s,u),g&2048&&aa(9,r);break;case 1:Gn(n,r,s,u);break;case 3:Gn(n,r,s,u),g&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Jl(n)));break;case 12:if(g&2048){Gn(n,r,s,u),n=r.stateNode;try{var y=r.memoizedProps,A=y.id,N=y.onPostCommit;typeof N=="function"&&N(A,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(z){nt(r,r.return,z)}}else Gn(n,r,s,u);break;case 31:Gn(n,r,s,u);break;case 13:Gn(n,r,s,u);break;case 23:break;case 22:y=r.stateNode,A=r.alternate,r.memoizedState!==null?y._visibility&2?Gn(n,r,s,u):oa(n,r):y._visibility&2?Gn(n,r,s,u):(y._visibility|=2,ll(n,r,s,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Tu(A,r);break;case 24:Gn(n,r,s,u),g&2048&&wu(r.alternate,r);break;default:Gn(n,r,s,u)}}function ll(n,r,s,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=n,A=r,N=s,z=u,F=A.flags;switch(A.tag){case 0:case 11:case 15:ll(y,A,N,z,g),aa(8,A);break;case 23:break;case 22:var Z=A.stateNode;A.memoizedState!==null?Z._visibility&2?ll(y,A,N,z,g):oa(y,A):(Z._visibility|=2,ll(y,A,N,z,g)),g&&F&2048&&Tu(A.alternate,A);break;case 24:ll(y,A,N,z,g),g&&F&2048&&wu(A.alternate,A);break;default:ll(y,A,N,z,g)}r=r.sibling}}function oa(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,u=r,g=u.flags;switch(u.tag){case 22:oa(s,u),g&2048&&Tu(u.alternate,u);break;case 24:oa(s,u),g&2048&&wu(u.alternate,u);break;default:oa(s,u)}r=r.sibling}}var ua=8192;function al(n,r,s){if(n.subtreeFlags&ua)for(n=n.child;n!==null;)p1(n,r,s),n=n.sibling}function p1(n,r,s){switch(n.tag){case 26:al(n,r,s),n.flags&ua&&n.memoizedState!==null&&i3(s,Hn,n.memoizedState,n.memoizedProps);break;case 5:al(n,r,s);break;case 3:case 4:var u=Hn;Hn=Gs(n.stateNode.containerInfo),al(n,r,s),Hn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=ua,ua=16777216,al(n,r,s),ua=u):al(n,r,s));break;default:al(n,r,s)}}function g1(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ca(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Dt=u,y1(u,n)}g1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)v1(n),n=n.sibling}function v1(n){switch(n.tag){case 0:case 11:case 15:ca(n),n.flags&2048&&Oi(9,n,n.return);break;case 3:ca(n);break;case 12:ca(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Cs(n)):ca(n);break;default:ca(n)}}function Cs(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];Dt=u,y1(u,n)}g1(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Oi(8,r,r.return),Cs(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Cs(r));break;default:Cs(r)}n=n.sibling}}function y1(n,r){for(;Dt!==null;){var s=Dt;switch(s.tag){case 0:case 11:case 15:Oi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Jl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Dt=u;else e:for(s=n;Dt!==null;){u=Dt;var g=u.sibling,y=u.return;if(o1(u),u===s){Dt=null;break e}if(g!==null){g.return=y,Dt=g;break e}Dt=y}}}var y5={getCacheForType:function(n){var r=Gt(At),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return Gt(At).controller.signal}},x5=typeof WeakMap=="function"?WeakMap:Map,We=0,st=null,Oe=null,Fe=0,tt=0,mn=null,Vi=!1,sl=!1,Au=!1,pi=0,xt=0,Fi=0,Nr=0,Eu=0,pn=0,ol=0,da=null,tn=null,Cu=!1,Ns=0,x1=0,Ms=1/0,_s=null,Yi=null,Rt=0,ji=null,ul=null,gi=0,Nu=0,Mu=null,b1=null,fa=0,_u=null;function gn(){return(We&2)!==0&&Fe!==0?Fe&-Fe:Y.T!==null?Lu():Ld()}function S1(){if(pn===0)if((Fe&536870912)===0||je){var n=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),pn=n}else pn=536870912;return n=fn.current,n!==null&&(n.flags|=32),pn}function nn(n,r,s){(n===st&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(cl(n,0),Ji(n,Fe,pn,!1)),Dl(n,s),((We&2)===0||n!==st)&&(n===st&&((We&2)===0&&(Nr|=s),xt===4&&Ji(n,Fe,pn,!1)),Jn(n))}function T1(n,r,s){if((We&6)!==0)throw Error(l(327));var u=!s&&(r&127)===0&&(r&n.expiredLanes)===0||Il(n,r),g=u?T5(n,r):ku(n,r,!0),y=u;do{if(g===0){sl&&!u&&Ji(n,r,0,!1);break}else{if(s=n.current.alternate,y&&!b5(s)){g=ku(n,r,!1),y=!1;continue}if(g===2){if(y=r,n.errorRecoveryDisabledLanes&y)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var N=n;g=da;var z=N.current.memoizedState.isDehydrated;if(z&&(cl(N,A).flags|=256),A=ku(N,A,!1),A!==2){if(Au&&!z){N.errorRecoveryDisabledLanes|=y,Nr|=y,g=4;break e}y=tn,tn=g,y!==null&&(tn===null?tn=y:tn.push.apply(tn,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){cl(n,0),Ji(n,r,0,!0);break}e:{switch(u=n,y=g,y){case 0:case 1:throw Error(l(345));case 4:if((r&4194048)!==r)break;case 6:Ji(u,r,pn,!Vi);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((r&62914560)===r&&(g=Ns+300-sn(),10<g)){if(Ji(u,r,pn,!Vi),Ga(u,0,!0)!==0)break e;gi=r,u.timeoutHandle=W1(w1.bind(null,u,s,tn,_s,Cu,r,pn,Nr,ol,Vi,y,"Throttled",-0,0),g);break e}w1(u,s,tn,_s,Cu,r,pn,Nr,ol,Vi,y,null,-0,0)}}break}while(!0);Jn(n)}function w1(n,r,s,u,g,y,A,N,z,F,Z,ne,j,X){if(n.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},p1(r,y,ne);var Se=(y&62914560)===y?Ns-sn():(y&4194048)===y?x1-sn():0;if(Se=r3(ne,Se),Se!==null){gi=y,n.cancelPendingCommit=Se(k1.bind(null,n,r,y,s,u,g,A,N,z,Z,ne,null,j,X)),Ji(n,y,A,!F);return}}k1(n,r,y,s,u,g,A,N,z)}function b5(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var g=s[u],y=g.getSnapshot;g=g.value;try{if(!cn(y(),g))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ji(n,r,s,u){r&=~Eu,r&=~Nr,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var g=r;0<g;){var y=31-un(g),A=1<<y;u[y]=-1,g&=~A}s!==0&&Id(n,s,r)}function Rs(){return(We&6)===0?(ha(0),!1):!0}function Ru(){if(Oe!==null){if(tt===0)var n=Oe.return;else n=Oe,li=yr=null,j0(n),el=null,Kl=0,n=Oe;for(;n!==null;)e1(n.alternate,n),n=n.return;Oe=null}}function cl(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,q5(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),gi=0,Ru(),st=n,Oe=s=ii(n.current,null),Fe=r,tt=0,mn=null,Vi=!1,sl=Il(n,r),Au=!1,ol=pn=Eu=Nr=Fi=xt=0,tn=da=null,Cu=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var g=31-un(u),y=1<<g;r|=n[g],u&=~y}return pi=r,$a(),s}function A1(n,r){Be=null,Y.H=ia,r===Wr||r===ls?(r=qf(),tt=3):r===z0?(r=qf(),tt=4):tt=r===ou?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mn=r,Oe===null&&(xt=1,xs(n,An(r,n.current)))}function E1(){var n=fn.current;return n===null?!0:(Fe&4194048)===Fe?Mn===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?n===Mn:!1}function C1(){var n=Y.H;return Y.H=ia,n===null?ia:n}function N1(){var n=Y.A;return Y.A=y5,n}function ks(){xt=4,Vi||(Fe&4194048)!==Fe&&fn.current!==null||(sl=!0),(Fi&134217727)===0&&(Nr&134217727)===0||st===null||Ji(st,Fe,pn,!1)}function ku(n,r,s){var u=We;We|=2;var g=C1(),y=N1();(st!==n||Fe!==r)&&(_s=null,cl(n,r)),r=!1;var A=xt;e:do try{if(tt!==0&&Oe!==null){var N=Oe,z=mn;switch(tt){case 8:Ru(),A=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(r=!0);var F=tt;if(tt=0,mn=null,dl(n,N,z,F),s&&sl){A=0;break e}break;default:F=tt,tt=0,mn=null,dl(n,N,z,F)}}S5(),A=xt;break}catch(Z){A1(n,Z)}while(!0);return r&&n.shellSuspendCounter++,li=yr=null,We=u,Y.H=g,Y.A=y,Oe===null&&(st=null,Fe=0,$a()),A}function S5(){for(;Oe!==null;)M1(Oe)}function T5(n,r){var s=We;We|=2;var u=C1(),g=N1();st!==n||Fe!==r?(_s=null,Ms=sn()+500,cl(n,r)):sl=Il(n,r);e:do try{if(tt!==0&&Oe!==null){r=Oe;var y=mn;t:switch(tt){case 1:tt=0,mn=null,dl(n,r,y,1);break;case 2:case 9:if(Hf(y)){tt=0,mn=null,_1(r);break}r=function(){tt!==2&&tt!==9||st!==n||(tt=7),Jn(n)},y.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Hf(y)?(tt=0,mn=null,_1(r)):(tt=0,mn=null,dl(n,r,y,7));break;case 5:var A=null;switch(Oe.tag){case 26:A=Oe.memoizedState;case 5:case 27:var N=Oe;if(A?mm(A):N.stateNode.complete){tt=0,mn=null;var z=N.sibling;if(z!==null)Oe=z;else{var F=N.return;F!==null?(Oe=F,Is(F)):Oe=null}break t}}tt=0,mn=null,dl(n,r,y,5);break;case 6:tt=0,mn=null,dl(n,r,y,6);break;case 8:Ru(),xt=6;break e;default:throw Error(l(462))}}w5();break}catch(Z){A1(n,Z)}while(!0);return li=yr=null,Y.H=u,Y.A=g,We=s,Oe!==null?0:(st=null,Fe=0,$a(),xt)}function w5(){for(;Oe!==null&&!jg();)M1(Oe)}function M1(n){var r=Zh(n.alternate,n,pi);n.memoizedProps=n.pendingProps,r===null?Is(n):Oe=r}function _1(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=jh(s,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=jh(s,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:j0(r);default:e1(s,r),r=Oe=Nf(r,pi),r=Zh(s,r,pi)}n.memoizedProps=n.pendingProps,r===null?Is(n):Oe=r}function dl(n,r,s,u){li=yr=null,j0(r),el=null,Kl=0;var g=r.return;try{if(d5(n,g,r,s,Fe)){xt=1,xs(n,An(s,n.current)),Oe=null;return}}catch(y){if(g!==null)throw Oe=g,y;xt=1,xs(n,An(s,n.current)),Oe=null;return}r.flags&32768?(je||u===1?n=!0:sl||(Fe&536870912)!==0?n=!1:(Vi=n=!0,(u===2||u===9||u===3||u===6)&&(u=fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),R1(r,n)):Is(r)}function Is(n){var r=n;do{if((r.flags&32768)!==0){R1(r,Vi);return}n=r.return;var s=m5(r.alternate,r,pi);if(s!==null){Oe=s;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);xt===0&&(xt=5)}function R1(n,r){do{var s=p5(n.alternate,n);if(s!==null){s.flags&=32767,Oe=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=s}while(n!==null);xt=6,Oe=null}function k1(n,r,s,u,g,y,A,N,z){n.cancelPendingCommit=null;do Ds();while(Rt!==0);if((We&6)!==0)throw Error(l(327));if(r!==null){if(r===n.current)throw Error(l(177));if(y=r.lanes|r.childLanes,y|=x0,nv(n,s,y,A,N,z),n===st&&(Oe=st=null,Fe=0),ul=r,ji=n,gi=s,Nu=y,Mu=g,b1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,N5(La,function(){return U1(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,g=se.p,se.p=2,A=We,We|=4;try{g5(n,r,s)}finally{We=A,se.p=g,Y.T=u}}Rt=1,I1(),D1(),z1()}}function I1(){if(Rt===1){Rt=0;var n=ji,r=ul,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var u=se.p;se.p=2;var g=We;We|=4;try{f1(r,n);var y=Vu,A=yf(n.containerInfo),N=y.focusedElem,z=y.selectionRange;if(A!==N&&N&&N.ownerDocument&&vf(N.ownerDocument.documentElement,N)){if(z!==null&&m0(N)){var F=z.start,Z=z.end;if(Z===void 0&&(Z=F),"selectionStart"in N)N.selectionStart=F,N.selectionEnd=Math.min(Z,N.value.length);else{var ne=N.ownerDocument||document,j=ne&&ne.defaultView||window;if(j.getSelection){var X=j.getSelection(),Se=N.textContent.length,ke=Math.min(z.start,Se),at=z.end===void 0?ke:Math.min(z.end,Se);!X.extend&&ke>at&&(A=at,at=ke,ke=A);var G=gf(N,ke),B=gf(N,at);if(G&&B&&(X.rangeCount!==1||X.anchorNode!==G.node||X.anchorOffset!==G.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var P=ne.createRange();P.setStart(G.node,G.offset),X.removeAllRanges(),ke>at?(X.addRange(P),X.extend(B.node,B.offset)):(P.setEnd(B.node,B.offset),X.addRange(P))}}}}for(ne=[],X=N;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ne.length;N++){var ee=ne[N];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Ys=!!Ou,Vu=Ou=null}finally{We=g,se.p=u,Y.T=s}}n.current=r,Rt=2}}function D1(){if(Rt===2){Rt=0;var n=ji,r=ul,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var u=se.p;se.p=2;var g=We;We|=4;try{s1(n,r.alternate,r)}finally{We=g,se.p=u,Y.T=s}}Rt=3}}function z1(){if(Rt===4||Rt===3){Rt=0,Jg();var n=ji,r=ul,s=gi,u=b1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rt=5:(Rt=0,ul=ji=null,L1(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Yi=null),Ko(s),r=r.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(kl,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,g=se.p,se.p=2,Y.T=null;try{for(var y=n.onRecoverableError,A=0;A<u.length;A++){var N=u[A];y(N.value,{componentStack:N.stack})}}finally{Y.T=r,se.p=g}}(gi&3)!==0&&Ds(),Jn(n),g=n.pendingLanes,(s&261930)!==0&&(g&42)!==0?n===_u?fa++:(fa=0,_u=n):fa=0,ha(0)}}function L1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Jl(r)))}function Ds(){return I1(),D1(),z1(),U1()}function U1(){if(Rt!==5)return!1;var n=ji,r=Nu;Nu=0;var s=Ko(gi),u=Y.T,g=se.p;try{se.p=32>s?32:s,Y.T=null,s=Mu,Mu=null;var y=ji,A=gi;if(Rt=0,ul=ji=null,gi=0,(We&6)!==0)throw Error(l(331));var N=We;if(We|=4,v1(y.current),m1(y,y.current,A,s),We=N,ha(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(kl,y)}catch{}return!0}finally{se.p=g,Y.T=u,L1(n,r)}}function B1(n,r,s){r=An(s,r),r=su(n.stateNode,r,2),n=Gi(n,r,2),n!==null&&(Dl(n,2),Jn(n))}function nt(n,r,s){if(n.tag===3)B1(n,n,s);else for(;r!==null;){if(r.tag===3){B1(r,n,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yi===null||!Yi.has(u))){n=An(s,n),s=Hh(2),u=Gi(r,s,2),u!==null&&(Gh(s,u,r,n),Dl(u,2),Jn(u));break}}r=r.return}}function Iu(n,r,s){var u=n.pingCache;if(u===null){u=n.pingCache=new x5;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(s)||(Au=!0,g.add(s),n=A5.bind(null,n,r,s),r.then(n,n))}function A5(n,r,s){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,st===n&&(Fe&s)===s&&(xt===4||xt===3&&(Fe&62914560)===Fe&&300>sn()-Ns?(We&2)===0&&cl(n,0):Eu|=s,ol===Fe&&(ol=0)),Jn(n)}function H1(n,r){r===0&&(r=kd()),n=pr(n,r),n!==null&&(Dl(n,r),Jn(n))}function E5(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),H1(n,s)}function C5(n,r){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(s=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(r),H1(n,s)}function N5(n,r){return Yo(n,r)}var zs=null,fl=null,Du=!1,Ls=!1,zu=!1,Xi=0;function Jn(n){n!==fl&&n.next===null&&(fl===null?zs=fl=n:fl=fl.next=n),Ls=!0,Du||(Du=!0,_5())}function ha(n,r){if(!zu&&Ls){zu=!0;do for(var s=!1,u=zs;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var A=u.suspendedLanes,N=u.pingedLanes;y=(1<<31-un(42|n)+1)-1,y&=g&~(A&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,O1(u,y))}else y=Fe,y=Ga(u,u===st?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Il(u,y)||(s=!0,O1(u,y));u=u.next}while(s);zu=!1}}function M5(){G1()}function G1(){Ls=Du=!1;var n=0;Xi!==0&&G5()&&(n=Xi);for(var r=sn(),s=null,u=zs;u!==null;){var g=u.next,y=q1(u,r);y===0?(u.next=null,s===null?zs=g:s.next=g,g===null&&(fl=s)):(s=u,(n!==0||(y&3)!==0)&&(Ls=!0)),u=g}Rt!==0&&Rt!==5||ha(n),Xi!==0&&(Xi=0)}function q1(n,r){for(var s=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var A=31-un(y),N=1<<A,z=g[A];z===-1?((N&s)===0||(N&u)!==0)&&(g[A]=tv(N,r)):z<=r&&(n.expiredLanes|=N),y&=~N}if(r=st,s=Fe,s=Ga(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===r&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&jo(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Il(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(u!==null&&jo(u),Ko(s)){case 2:case 8:s=_d;break;case 32:s=La;break;case 268435456:s=Rd;break;default:s=La}return u=P1.bind(null,n),s=Yo(s,u),n.callbackPriority=r,n.callbackNode=s,r}return u!==null&&u!==null&&jo(u),n.callbackPriority=2,n.callbackNode=null,2}function P1(n,r){if(Rt!==0&&Rt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Ds()&&n.callbackNode!==s)return null;var u=Fe;return u=Ga(n,n===st?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(T1(n,u,r),q1(n,sn()),n.callbackNode!=null&&n.callbackNode===s?P1.bind(null,n):null)}function O1(n,r){if(Ds())return null;T1(n,r,!0)}function _5(){P5(function(){(We&6)!==0?Yo(Md,M5):G1()})}function Lu(){if(Xi===0){var n=$r;n===0&&(n=Ua,Ua<<=1,(Ua&261888)===0&&(Ua=256)),Xi=n}return Xi}function V1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Va(""+n)}function F1(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function R5(n,r,s,u,g){if(r==="submit"&&s&&s.stateNode===g){var y=V1((g[Qt]||null).action),A=u.submitter;A&&(r=(r=A[Qt]||null)?V1(r.formAction):A.getAttribute("formAction"),r!==null&&(y=r,A=null));var N=new Ja("action","action",null,u,g);n.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Xi!==0){var z=A?F1(g,A):new FormData(g);tu(s,{pending:!0,data:z,method:g.method,action:y},null,z)}}else typeof y=="function"&&(N.preventDefault(),z=A?F1(g,A):new FormData(g),tu(s,{pending:!0,data:z,method:g.method,action:y},y,z))},currentTarget:g}]})}}for(var Uu=0;Uu<y0.length;Uu++){var Bu=y0[Uu],k5=Bu.toLowerCase(),I5=Bu[0].toUpperCase()+Bu.slice(1);Bn(k5,"on"+I5)}Bn(Sf,"onAnimationEnd"),Bn(Tf,"onAnimationIteration"),Bn(wf,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Xv,"onTransitionRun"),Bn(Kv,"onTransitionStart"),Bn(Qv,"onTransitionCancel"),Bn(Af,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ma));function Y1(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var A=u.length-1;0<=A;A--){var N=u[A],z=N.instance,F=N.currentTarget;if(N=N.listener,z!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=F;try{y(g)}catch(Z){Qa(Z)}g.currentTarget=null,y=z}else for(A=0;A<u.length;A++){if(N=u[A],z=N.instance,F=N.currentTarget,N=N.listener,z!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=F;try{y(g)}catch(Z){Qa(Z)}g.currentTarget=null,y=z}}}}function Ve(n,r){var s=r[Qo];s===void 0&&(s=r[Qo]=new Set);var u=n+"__bubble";s.has(u)||(j1(r,n,2,!1),s.add(u))}function Hu(n,r,s){var u=0;r&&(u|=4),j1(s,n,u,r)}var Us="_reactListening"+Math.random().toString(36).slice(2);function Gu(n){if(!n[Us]){n[Us]=!0,Hd.forEach(function(s){s!=="selectionchange"&&(D5.has(s)||Hu(s,!1,n),Hu(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Us]||(r[Us]=!0,Hu("selectionchange",!1,r))}}function j1(n,r,s,u){switch(Sm(r)){case 2:var g=s3;break;case 8:g=o3;break;default:g=ec}s=g.bind(null,r,s,n),g=void 0,!l0||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(r,s,{capture:!0,passive:g}):n.addEventListener(r,s,!0):g!==void 0?n.addEventListener(r,s,{passive:g}):n.addEventListener(r,s,!1)}function qu(n,r,s,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var N=u.stateNode.containerInfo;if(N===g)break;if(A===4)for(A=u.return;A!==null;){var z=A.tag;if((z===3||z===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;N!==null;){if(A=zr(N),A===null)return;if(z=A.tag,z===5||z===6||z===26||z===27){u=y=A;continue e}N=N.parentNode}}u=u.return}Qd(function(){var F=y,Z=i0(s),ne=[];e:{var j=Ef.get(n);if(j!==void 0){var X=Ja,Se=n;switch(n){case"keypress":if(Ya(s)===0)break e;case"keydown":case"keyup":X=Cv;break;case"focusin":Se="focus",X=u0;break;case"focusout":Se="blur",X=u0;break;case"beforeblur":case"afterblur":X=u0;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_v;break;case Sf:case Tf:case wf:X=vv;break;case Af:X=kv;break;case"scroll":case"scrollend":X=fv;break;case"wheel":X=Dv;break;case"copy":case"cut":case"paste":X=xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=tf;break;case"toggle":case"beforetoggle":X=Lv}var ke=(r&4)!==0,at=!ke&&(n==="scroll"||n==="scrollend"),G=ke?j!==null?j+"Capture":null:j;ke=[];for(var B=F,P;B!==null;){var ee=B;if(P=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||P===null||G===null||(ee=Ul(B,G),ee!=null&&ke.push(pa(B,ee,P))),at)break;B=B.return}0<ke.length&&(j=new X(j,Se,null,s,Z),ne.push({event:j,listeners:ke}))}}if((r&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",j&&s!==n0&&(Se=s.relatedTarget||s.fromElement)&&(zr(Se)||Se[Dr]))break e;if((X||j)&&(j=Z.window===Z?Z:(j=Z.ownerDocument)?j.defaultView||j.parentWindow:window,X?(Se=s.relatedTarget||s.toElement,X=F,Se=Se?zr(Se):null,Se!==null&&(at=o(Se),ke=Se.tag,Se!==at||ke!==5&&ke!==27&&ke!==6)&&(Se=null)):(X=null,Se=F),X!==Se)){if(ke=Wd,ee="onMouseLeave",G="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(ke=tf,ee="onPointerLeave",G="onPointerEnter",B="pointer"),at=X==null?j:Ll(X),P=Se==null?j:Ll(Se),j=new ke(ee,B+"leave",X,s,Z),j.target=at,j.relatedTarget=P,ee=null,zr(Z)===F&&(ke=new ke(G,B+"enter",Se,s,Z),ke.target=P,ke.relatedTarget=at,ee=ke),at=ee,X&&Se)t:{for(ke=z5,G=X,B=Se,P=0,ee=G;ee;ee=ke(ee))P++;ee=0;for(var Ce=B;Ce;Ce=ke(Ce))ee++;for(;0<P-ee;)G=ke(G),P--;for(;0<ee-P;)B=ke(B),ee--;for(;P--;){if(G===B||B!==null&&G===B.alternate){ke=G;break t}G=ke(G),B=ke(B)}ke=null}else ke=null;X!==null&&J1(ne,j,X,ke,!1),Se!==null&&at!==null&&J1(ne,at,Se,ke,!0)}}e:{if(j=F?Ll(F):window,X=j.nodeName&&j.nodeName.toLowerCase(),X==="select"||X==="input"&&j.type==="file")var Xe=cf;else if(of(j))if(df)Xe=Yv;else{Xe=Vv;var Ee=Ov}else X=j.nodeName,!X||X.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?F&&t0(F.elementType)&&(Xe=cf):Xe=Fv;if(Xe&&(Xe=Xe(n,F))){uf(ne,Xe,s,Z);break e}Ee&&Ee(n,j,F),n==="focusout"&&F&&j.type==="number"&&F.memoizedProps.value!=null&&e0(j,"number",j.value)}switch(Ee=F?Ll(F):window,n){case"focusin":(of(Ee)||Ee.contentEditable==="true")&&(Vr=Ee,p0=F,Fl=null);break;case"focusout":Fl=p0=Vr=null;break;case"mousedown":g0=!0;break;case"contextmenu":case"mouseup":case"dragend":g0=!1,xf(ne,s,Z);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":xf(ne,s,Z)}var He;if(d0)e:{switch(n){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Or?af(n,s)&&(Ye="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ye="onCompositionStart");Ye&&(nf&&s.locale!=="ko"&&(Or||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Or&&(He=$d()):(Ii=Z,a0="value"in Ii?Ii.value:Ii.textContent,Or=!0)),Ee=Bs(F,Ye),0<Ee.length&&(Ye=new ef(Ye,n,null,s,Z),ne.push({event:Ye,listeners:Ee}),He?Ye.data=He:(He=sf(s),He!==null&&(Ye.data=He)))),(He=Bv?Hv(n,s):Gv(n,s))&&(Ye=Bs(F,"onBeforeInput"),0<Ye.length&&(Ee=new ef("onBeforeInput","beforeinput",null,s,Z),ne.push({event:Ee,listeners:Ye}),Ee.data=He)),R5(ne,n,F,s,Z)}Y1(ne,r)})}function pa(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Bs(n,r){for(var s=r+"Capture",u=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Ul(n,s),g!=null&&u.unshift(pa(n,g,y)),g=Ul(n,r),g!=null&&u.push(pa(n,g,y))),n.tag===3)return u;n=n.return}return[]}function z5(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function J1(n,r,s,u,g){for(var y=r._reactName,A=[];s!==null&&s!==u;){var N=s,z=N.alternate,F=N.stateNode;if(N=N.tag,z!==null&&z===u)break;N!==5&&N!==26&&N!==27||F===null||(z=F,g?(F=Ul(s,y),F!=null&&A.unshift(pa(s,F,z))):g||(F=Ul(s,y),F!=null&&A.push(pa(s,F,z)))),s=s.return}A.length!==0&&n.push({event:r,listeners:A})}var L5=/\r\n?/g,U5=/\u0000|\uFFFD/g;function X1(n){return(typeof n=="string"?n:""+n).replace(L5,`
`).replace(U5,"")}function K1(n,r){return r=X1(r),X1(n)===r}function lt(n,r,s,u,g,y){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Gr(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Gr(n,""+u);break;case"className":Pa(n,"class",u);break;case"tabIndex":Pa(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pa(n,s,u);break;case"style":Xd(n,u,y);break;case"data":if(r!=="object"){Pa(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Va(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(r!=="input"&&lt(n,r,"name",g.name,g,null),lt(n,r,"formEncType",g.formEncType,g,null),lt(n,r,"formMethod",g.formMethod,g,null),lt(n,r,"formTarget",g.formTarget,g,null)):(lt(n,r,"encType",g.encType,g,null),lt(n,r,"method",g.method,g,null),lt(n,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Va(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=ti);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Va(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),qa(n,"popover",u);break;case"xlinkActuate":ei(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ei(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ei(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ei(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ei(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ei(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ei(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ei(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ei(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":qa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cv.get(s)||s,qa(n,s,u))}}function Pu(n,r,s,u,g,y){switch(s){case"style":Xd(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"children":typeof u=="string"?Gr(n,u):(typeof u=="number"||typeof u=="bigint")&&Gr(n,""+u);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),r=s.slice(2,g?s.length-7:void 0),y=n[Qt]||null,y=y!=null?y[s]:null,typeof y=="function"&&n.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,u,g);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):qa(n,s,u)}}}function Pt(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var u=!1,g=!1,y;for(y in s)if(s.hasOwnProperty(y)){var A=s[y];if(A!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:lt(n,r,y,A,s,null)}}g&&lt(n,r,"srcSet",s.srcSet,s,null),u&&lt(n,r,"src",s.src,s,null);return;case"input":Ve("invalid",n);var N=y=A=g=null,z=null,F=null;for(u in s)if(s.hasOwnProperty(u)){var Z=s[u];if(Z!=null)switch(u){case"name":g=Z;break;case"type":A=Z;break;case"checked":z=Z;break;case"defaultChecked":F=Z;break;case"value":y=Z;break;case"defaultValue":N=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,r));break;default:lt(n,r,u,Z,s,null)}}Fd(n,y,N,z,F,A,g,!1);return;case"select":Ve("invalid",n),u=A=y=null;for(g in s)if(s.hasOwnProperty(g)&&(N=s[g],N!=null))switch(g){case"value":y=N;break;case"defaultValue":A=N;break;case"multiple":u=N;default:lt(n,r,g,N,s,null)}r=y,s=A,n.multiple=!!u,r!=null?Hr(n,!!u,r,!1):s!=null&&Hr(n,!!u,s,!0);return;case"textarea":Ve("invalid",n),y=g=u=null;for(A in s)if(s.hasOwnProperty(A)&&(N=s[A],N!=null))switch(A){case"value":u=N;break;case"defaultValue":g=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(91));break;default:lt(n,r,A,N,s,null)}jd(n,u,g,y);return;case"option":for(z in s)if(s.hasOwnProperty(z)&&(u=s[z],u!=null))switch(z){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(n,r,z,u,s,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(u=0;u<ma.length;u++)Ve(ma[u],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(u=s[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:lt(n,r,F,u,s,null)}return;default:if(t0(r)){for(Z in s)s.hasOwnProperty(Z)&&(u=s[Z],u!==void 0&&Pu(n,r,Z,u,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(u=s[N],u!=null&&lt(n,r,N,u,s,null))}function B5(n,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,N=null,z=null,F=null,Z=null;for(X in s){var ne=s[X];if(s.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":z=ne;default:u.hasOwnProperty(X)||lt(n,r,X,null,u,ne)}}for(var j in u){var X=u[j];if(ne=s[j],u.hasOwnProperty(j)&&(X!=null||ne!=null))switch(j){case"type":y=X;break;case"name":g=X;break;case"checked":F=X;break;case"defaultChecked":Z=X;break;case"value":A=X;break;case"defaultValue":N=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,r));break;default:X!==ne&&lt(n,r,j,X,u,ne)}}Wo(n,A,N,z,F,Z,y,g);return;case"select":X=A=N=j=null;for(y in s)if(z=s[y],s.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":X=z;default:u.hasOwnProperty(y)||lt(n,r,y,null,u,z)}for(g in u)if(y=u[g],z=s[g],u.hasOwnProperty(g)&&(y!=null||z!=null))switch(g){case"value":j=y;break;case"defaultValue":N=y;break;case"multiple":A=y;default:y!==z&&lt(n,r,g,y,u,z)}r=N,s=A,u=X,j!=null?Hr(n,!!s,j,!1):!!u!=!!s&&(r!=null?Hr(n,!!s,r,!0):Hr(n,!!s,s?[]:"",!1));return;case"textarea":X=j=null;for(N in s)if(g=s[N],s.hasOwnProperty(N)&&g!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:lt(n,r,N,null,u,g)}for(A in u)if(g=u[A],y=s[A],u.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":j=g;break;case"defaultValue":X=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(l(91));break;default:g!==y&&lt(n,r,A,g,u,y)}Yd(n,j,X);return;case"option":for(var Se in s)if(j=s[Se],s.hasOwnProperty(Se)&&j!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:lt(n,r,Se,null,u,j)}for(z in u)if(j=u[z],X=s[z],u.hasOwnProperty(z)&&j!==X&&(j!=null||X!=null))switch(z){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:lt(n,r,z,j,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in s)j=s[ke],s.hasOwnProperty(ke)&&j!=null&&!u.hasOwnProperty(ke)&&lt(n,r,ke,null,u,j);for(F in u)if(j=u[F],X=s[F],u.hasOwnProperty(F)&&j!==X&&(j!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,r));break;default:lt(n,r,F,j,u,X)}return;default:if(t0(r)){for(var at in s)j=s[at],s.hasOwnProperty(at)&&j!==void 0&&!u.hasOwnProperty(at)&&Pu(n,r,at,void 0,u,j);for(Z in u)j=u[Z],X=s[Z],!u.hasOwnProperty(Z)||j===X||j===void 0&&X===void 0||Pu(n,r,Z,j,u,X);return}}for(var G in s)j=s[G],s.hasOwnProperty(G)&&j!=null&&!u.hasOwnProperty(G)&&lt(n,r,G,null,u,j);for(ne in u)j=u[ne],X=s[ne],!u.hasOwnProperty(ne)||j===X||j==null&&X==null||lt(n,r,ne,j,u,X)}function Q1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H5(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var g=s[u],y=g.transferSize,A=g.initiatorType,N=g.duration;if(y&&N&&Q1(A)){for(A=0,N=g.responseEnd,u+=1;u<s.length;u++){var z=s[u],F=z.startTime;if(F>N)break;var Z=z.transferSize,ne=z.initiatorType;Z&&Q1(ne)&&(z=z.responseEnd,A+=Z*(z<N?1:(N-F)/(z-F)))}if(--u,r+=8*(y+A)/(g.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ou=null,Vu=null;function Hs(n){return n.nodeType===9?n:n.ownerDocument}function $1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z1(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Fu(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yu=null;function G5(){var n=window.event;return n&&n.type==="popstate"?n===Yu?!1:(Yu=n,!0):(Yu=null,!1)}var W1=typeof setTimeout=="function"?setTimeout:void 0,q5=typeof clearTimeout=="function"?clearTimeout:void 0,em=typeof Promise=="function"?Promise:void 0,P5=typeof queueMicrotask=="function"?queueMicrotask:typeof em<"u"?function(n){return em.resolve(null).then(n).catch(O5)}:W1;function O5(n){setTimeout(function(){throw n})}function Ki(n){return n==="head"}function tm(n,r){var s=r,u=0;do{var g=s.nextSibling;if(n.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(g),gl(r);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")ga(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,ga(s);for(var y=s.firstChild;y;){var A=y.nextSibling,N=y.nodeName;y[zl]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=A}}else s==="body"&&ga(n.ownerDocument.body);s=g}while(s);gl(r)}function nm(n,r){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function ju(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ju(s),$o(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function V5(n,r,s,u){for(;n.nodeType===1;){var g=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[zl])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=_n(n.nextSibling),n===null)break}return null}function F5(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=_n(n.nextSibling),n===null))return null;return n}function im(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=_n(n.nextSibling),n===null))return null;return n}function Ju(n){return n.data==="$?"||n.data==="$~"}function Xu(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Y5(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function _n(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Ku=null;function rm(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return _n(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function lm(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function am(n,r,s){switch(r=Hs(s),n){case"html":if(n=r.documentElement,!n)throw Error(l(452));return n;case"head":if(n=r.head,!n)throw Error(l(453));return n;case"body":if(n=r.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function ga(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);$o(n)}var Rn=new Map,sm=new Set;function Gs(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var vi=se.d;se.d={f:j5,r:J5,D:X5,C:K5,L:Q5,m:$5,X:W5,S:Z5,M:e3};function j5(){var n=vi.f(),r=Rs();return n||r}function J5(n){var r=Lr(n);r!==null&&r.tag===5&&r.type==="form"?Ah(r):vi.r(n)}var hl=typeof document>"u"?null:document;function om(n,r,s){var u=hl;if(u&&typeof r=="string"&&r){var g=Tn(r);g='link[rel="'+n+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),sm.has(g)||(sm.add(g),n={rel:n,crossOrigin:s,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),Pt(r,"link",n),It(r),u.head.appendChild(r)))}}function X5(n){vi.D(n),om("dns-prefetch",n,null)}function K5(n,r){vi.C(n,r),om("preconnect",n,r)}function Q5(n,r,s){vi.L(n,r,s);var u=hl;if(u&&n&&r){var g='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+Tn(s.imageSizes)+'"]')):g+='[href="'+Tn(n)+'"]';var y=g;switch(r){case"style":y=ml(n);break;case"script":y=pl(n)}Rn.has(y)||(n=S({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Rn.set(y,n),u.querySelector(g)!==null||r==="style"&&u.querySelector(va(y))||r==="script"&&u.querySelector(ya(y))||(r=u.createElement("link"),Pt(r,"link",n),It(r),u.head.appendChild(r)))}}function $5(n,r){vi.m(n,r);var s=hl;if(s&&n){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Tn(u)+'"][href="'+Tn(n)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pl(n)}if(!Rn.has(y)&&(n=S({rel:"modulepreload",href:n},r),Rn.set(y,n),s.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ya(y)))return}u=s.createElement("link"),Pt(u,"link",n),It(u),s.head.appendChild(u)}}}function Z5(n,r,s){vi.S(n,r,s);var u=hl;if(u&&n){var g=Ur(u).hoistableStyles,y=ml(n);r=r||"default";var A=g.get(y);if(!A){var N={loading:0,preload:null};if(A=u.querySelector(va(y)))N.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Rn.get(y))&&Qu(n,s);var z=A=u.createElement("link");It(z),Pt(z,"link",n),z._p=new Promise(function(F,Z){z.onload=F,z.onerror=Z}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,qs(A,r,u)}A={type:"stylesheet",instance:A,count:1,state:N},g.set(y,A)}}}function W5(n,r){vi.X(n,r);var s=hl;if(s&&n){var u=Ur(s).hoistableScripts,g=pl(n),y=u.get(g);y||(y=s.querySelector(ya(g)),y||(n=S({src:n,async:!0},r),(r=Rn.get(g))&&$u(n,r),y=s.createElement("script"),It(y),Pt(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function e3(n,r){vi.M(n,r);var s=hl;if(s&&n){var u=Ur(s).hoistableScripts,g=pl(n),y=u.get(g);y||(y=s.querySelector(ya(g)),y||(n=S({src:n,async:!0,type:"module"},r),(r=Rn.get(g))&&$u(n,r),y=s.createElement("script"),It(y),Pt(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function um(n,r,s,u){var g=(g=re.current)?Gs(g):null;if(!g)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=ml(s.href),s=Ur(g).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=ml(s.href);var y=Ur(g).hoistableStyles,A=y.get(n);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,A),(y=g.querySelector(va(n)))&&!y._p&&(A.instance=y,A.state.loading=5),Rn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Rn.set(n,s),y||t3(g,n,s,A.state))),r&&u===null)throw Error(l(528,""));return A}if(r&&u!==null)throw Error(l(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=pl(s),s=Ur(g).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function ml(n){return'href="'+Tn(n)+'"'}function va(n){return'link[rel="stylesheet"]['+n+"]"}function cm(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function t3(n,r,s,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Pt(r,"link",s),It(r),n.head.appendChild(r))}function pl(n){return'[src="'+Tn(n)+'"]'}function ya(n){return"script[async]"+n}function dm(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(u)return r.instance=u,It(u),u;var g=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),It(u),Pt(u,"style",g),qs(u,s.precedence,n),r.instance=u;case"stylesheet":g=ml(s.href);var y=n.querySelector(va(g));if(y)return r.state.loading|=4,r.instance=y,It(y),y;u=cm(s),(g=Rn.get(g))&&Qu(u,g),y=(n.ownerDocument||n).createElement("link"),It(y);var A=y;return A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),Pt(y,"link",u),r.state.loading|=4,qs(y,s.precedence,n),r.instance=y;case"script":return y=pl(s.src),(g=n.querySelector(ya(y)))?(r.instance=g,It(g),g):(u=s,(g=Rn.get(y))&&(u=S({},s),$u(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),It(g),Pt(g,"link",u),n.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(l(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,qs(u,s.precedence,n));return r.instance}function qs(n,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,A=0;A<u.length;A++){var N=u[A];if(N.dataset.precedence===r)y=N;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Qu(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function $u(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Ps=null;function fm(n,r,s){if(Ps===null){var u=new Map,g=Ps=new Map;g.set(s,u)}else g=Ps,u=g.get(s),u||(u=new Map,g.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),g=0;g<s.length;g++){var y=s[g];if(!(y[zl]||y[Bt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(r)||"";A=n+A;var N=u.get(A);N?N.push(y):u.set(A,[y])}}return u}function hm(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function n3(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function i3(n,r,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=ml(u.href),y=r.querySelector(va(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Os.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=y,It(y);return}y=r.ownerDocument||r,u=cm(u),(g=Rn.get(g))&&Qu(u,g),y=y.createElement("link"),It(y);var A=y;A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),Pt(y,"link",u),s.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Os.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var Zu=0;function r3(n,r){return n.stylesheets&&n.count===0&&Fs(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&Fs(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+r);0<n.imgBytes&&Zu===0&&(Zu=62500*H5());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Fs(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Zu?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Os(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fs(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Vs=null;function Fs(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Vs=new Map,r.forEach(l3,n),Vs=null,Os.call(n))}function l3(n,r){if(!(r.state.loading&4)){var s=Vs.get(n);if(s)var u=s.get(null);else{s=new Map,Vs.set(n,s);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),u=A)}u&&s.set(null,u)}g=r.instance,A=g.getAttribute("data-precedence"),y=s.get(A)||u,y===u&&s.set(null,g),s.set(A,g),this.count++,u=Os.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),r.state.loading|=4}}var xa={$$typeof:J,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function a3(n,r,s,u,g,y,A,N,z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.hiddenUpdates=Jo(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function pm(n,r,s,u,g,y,A,N,z,F,Z,ne){return n=new a3(n,r,s,A,z,F,Z,ne,N),r=1,y===!0&&(r|=24),y=dn(3,null,null,r),n.current=y,y.stateNode=n,r=k0(),r.refCount++,n.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:s,cache:r},L0(y),n}function gm(n){return n?(n=jr,n):jr}function vm(n,r,s,u,g,y){g=gm(g),u.context===null?u.context=g:u.pendingContext=g,u=Hi(r),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=Gi(n,u,r),s!==null&&(nn(s,n,r),$l(s,n,r))}function ym(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Wu(n,r){ym(n,r),(n=n.alternate)&&ym(n,r)}function xm(n){if(n.tag===13||n.tag===31){var r=pr(n,67108864);r!==null&&nn(r,n,67108864),Wu(n,67108864)}}function bm(n){if(n.tag===13||n.tag===31){var r=gn();r=Xo(r);var s=pr(n,r);s!==null&&nn(s,n,r),Wu(n,r)}}var Ys=!0;function s3(n,r,s,u){var g=Y.T;Y.T=null;var y=se.p;try{se.p=2,ec(n,r,s,u)}finally{se.p=y,Y.T=g}}function o3(n,r,s,u){var g=Y.T;Y.T=null;var y=se.p;try{se.p=8,ec(n,r,s,u)}finally{se.p=y,Y.T=g}}function ec(n,r,s,u){if(Ys){var g=tc(u);if(g===null)qu(n,r,u,js,s),Tm(n,u);else if(c3(g,n,r,s,u))u.stopPropagation();else if(Tm(n,u),r&4&&-1<u3.indexOf(n)){for(;g!==null;){var y=Lr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=cr(y.pendingLanes);if(A!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var z=1<<31-un(A);N.entanglements[1]|=z,A&=~z}Jn(y),(We&6)===0&&(Ms=sn()+500,ha(0))}}break;case 31:case 13:N=pr(y,2),N!==null&&nn(N,y,2),Rs(),Wu(y,2)}if(y=tc(u),y===null&&qu(n,r,u,js,s),y===g)break;g=y}g!==null&&u.stopPropagation()}else qu(n,r,u,null,s)}}function tc(n){return n=i0(n),nc(n)}var js=null;function nc(n){if(js=null,n=zr(n),n!==null){var r=o(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return js=n,null}function Sm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xg()){case Md:return 2;case _d:return 8;case La:case Kg:return 32;case Rd:return 268435456;default:return 32}default:return 32}}var ic=!1,Qi=null,$i=null,Zi=null,ba=new Map,Sa=new Map,Wi=[],u3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tm(n,r){switch(n){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":ba.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(r.pointerId)}}function Ta(n,r,s,u,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=Lr(r),r!==null&&xm(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function c3(n,r,s,u,g){switch(r){case"focusin":return Qi=Ta(Qi,n,r,s,u,g),!0;case"dragenter":return $i=Ta($i,n,r,s,u,g),!0;case"mouseover":return Zi=Ta(Zi,n,r,s,u,g),!0;case"pointerover":var y=g.pointerId;return ba.set(y,Ta(ba.get(y)||null,n,r,s,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Sa.set(y,Ta(Sa.get(y)||null,n,r,s,u,g)),!0}return!1}function wm(n){var r=zr(n.target);if(r!==null){var s=o(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,Ud(n.priority,function(){bm(s)});return}}else if(r===31){if(r=f(s),r!==null){n.blockedOn=r,Ud(n.priority,function(){bm(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Js(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=tc(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);n0=u,s.target.dispatchEvent(u),n0=null}else return r=Lr(s),r!==null&&xm(r),n.blockedOn=s,!1;r.shift()}return!0}function Am(n,r,s){Js(n)&&s.delete(r)}function d3(){ic=!1,Qi!==null&&Js(Qi)&&(Qi=null),$i!==null&&Js($i)&&($i=null),Zi!==null&&Js(Zi)&&(Zi=null),ba.forEach(Am),Sa.forEach(Am)}function Xs(n,r){n.blockedOn===r&&(n.blockedOn=null,ic||(ic=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,d3)))}var Ks=null;function Em(n){Ks!==n&&(Ks=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ks===n&&(Ks=null);for(var r=0;r<n.length;r+=3){var s=n[r],u=n[r+1],g=n[r+2];if(typeof u!="function"){if(nc(u||s)===null)continue;break}var y=Lr(s);y!==null&&(n.splice(r,3),r-=3,tu(y,{pending:!0,data:g,method:s.method,action:u},u,g))}}))}function gl(n){function r(z){return Xs(z,n)}Qi!==null&&Xs(Qi,n),$i!==null&&Xs($i,n),Zi!==null&&Xs(Zi,n),ba.forEach(r),Sa.forEach(r);for(var s=0;s<Wi.length;s++){var u=Wi[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Wi.length&&(s=Wi[0],s.blockedOn===null);)wm(s),s.blockedOn===null&&Wi.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var g=s[u],y=s[u+1],A=g[Qt]||null;if(typeof y=="function")A||Em(s);else if(A){var N=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[Qt]||null)N=A.formAction;else if(nc(g)!==null)continue}else N=A.action;typeof N=="function"?s[u+1]=N:(s.splice(u,3),u-=3),Em(s)}}}function Cm(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function rc(n){this._internalRoot=n}Qs.prototype.render=rc.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(l(409));var s=r.current,u=gn();vm(s,u,n,r,null,null)},Qs.prototype.unmount=rc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;vm(n.current,2,null,n,null,null),Rs(),r[Dr]=null}};function Qs(n){this._internalRoot=n}Qs.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ld();n={blockedOn:null,target:n,priority:r};for(var s=0;s<Wi.length&&r!==0&&r<Wi[s].priority;s++);Wi.splice(s,0,n),s===0&&wm(n)}};var Nm=e.version;if(Nm!=="19.2.3")throw Error(l(527,Nm,"19.2.3"));se.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=p(r),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var f3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{kl=$s.inject(f3),on=$s}catch{}}return Aa.createRoot=function(n,r){if(!a(n))throw Error(l(299));var s=!1,u="",g=zh,y=Lh,A=Uh;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=pm(n,1,!1,null,null,s,u,null,g,y,A,Cm),n[Dr]=r.current,Gu(n),new rc(r)},Aa.hydrateRoot=function(n,r,s){if(!a(n))throw Error(l(299));var u=!1,g="",y=zh,A=Lh,N=Uh,z=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.formState!==void 0&&(z=s.formState)),r=pm(n,1,!0,r,s??null,u,g,z,y,A,N,Cm),r.context=gm(null),s=r.current,u=gn(),u=Xo(u),g=Hi(u),g.callback=null,Gi(s,g,u),s=u,r.current.lanes=s,Dl(r,s),Jn(r),n[Dr]=r.current,Gu(n),new Qs(r)},Aa.version="19.2.3",Aa}var Bm;function w3(){if(Bm)return sc.exports;Bm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sc.exports=T3(),sc.exports}var A3=w3();const E3=e2(A3);var Ro=(t=>(t.MATH="",t.PHYSICS="",t.CHEMISTRY="",t.BIOLOGY="",t.ENGLISH="",t.CHINESE="",t.OTHER="",t))(Ro||{}),Qe=(t=>(t.GEMINI="GEMINI",t.QWEN="QWEN",t.DOUBAO="DOUBAO",t.OPENAI="OPENAI",t))(Qe||{}),C3={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let N3,M3;function _3(){return{geminiUrl:N3,vertexUrl:M3}}function R3(t,e,i,l){var a,o;if(!(t!=null&&t.baseUrl)){const c=_3();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(o=c.geminiUrl)!==null&&o!==void 0?o:l}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ci{}function pe(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(l,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const o=e[a];return o!=null?String(o):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function h(t,e,i){for(let o=0;o<e.length-1;o++){const c=e[o];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(i))t[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const m=t[f];if(Array.isArray(i))for(let p=0;p<m.length;p++){const x=m[p];h(x,e.slice(o+1),i[p])}else for(const p of m)h(p,e.slice(o+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const m=t[f];h(m[0],e.slice(o+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const l=e[e.length-1],a=t[l];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[l]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let l=0;l<e.length;l++){if(typeof t!="object"||t===null)return i;const a=e[l];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in t){const c=t[o];return Array.isArray(c)?c.map(f=>d(f,e.slice(l+1),i)):i}else return i}else t=t[a]}return t}catch(l){if(l instanceof TypeError)return i;throw l}}function k3(t,e){for(const[i,l]of Object.entries(e)){const a=i.split("."),o=l.split("."),c=new Set;let f=-1;for(let m=0;m<a.length;m++)if(a[m]==="*"){f=m;break}if(f!==-1&&o.length>f)for(let m=f;m<o.length;m++){const p=o[m];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Mc(t,a,o,0,c)}}function Mc(t,e,i,l,a){if(l>=e.length||typeof t!="object"||t===null)return;const o=e[l];if(o.endsWith("[]")){const c=o.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const m of f[c])Mc(m,e,i,l+1,a)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),m={};for(const p of f)m[p]=c[p];for(const[p,x]of Object.entries(m)){const S=[];for(const T of i.slice(l))T==="*"?S.push(p):S.push(T);h(c,S,x)}for(const p of f)delete c[p]}}else{const c=t;o in c&&Mc(c[o],e,i,l+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I3(t){const e={},i=d(t,["operationName"]);i!=null&&h(e,["operationName"],i);const l=d(t,["resourceName"]);return l!=null&&h(e,["_url","resourceName"],l),e}function D3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],L3(c)),e}function z3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],U3(c)),e}function L3(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>B3(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function U3(t){const e={},i=d(t,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>H3(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function B3(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],F3(i)),e}function H3(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],Y3(i)),e}function G3(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function q3(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function P3(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],O3(c)),e}function O3(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function t2(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],V3(c)),e}function V3(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function F3(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["encodedVideo"]);l!=null&&h(e,["videoBytes"],Zc(l));const a=d(t,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function Y3(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["videoBytes"],Zc(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hm||(Hm={}));var Gm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Gm||(Gm={}));var qm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qm||(qm={}));var Mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mt||(Mt={}));var Pm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Pm||(Pm={}));var Om;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Om||(Om={}));var Vm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Vm||(Vm={}));var Fm;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fm||(Fm={}));var Ym;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ym||(Ym={}));var jm;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(jm||(jm={}));var Jm;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jm||(Jm={}));var Xm;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Xm||(Xm={}));var Km;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Km||(Km={}));var Qm;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Qm||(Qm={}));var $m;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($m||($m={}));var Zm;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Zm||(Zm={}));var Wm;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wm||(Wm={}));var ep;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ep||(ep={}));var tp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tp||(tp={}));var yo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(yo||(yo={}));var np;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(np||(np={}));var ip;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ip||(ip={}));var rp;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rp||(rp={}));var _c;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_c||(_c={}));var lp;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lp||(lp={}));var ap;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ap||(ap={}));var sp;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(sp||(sp={}));var op;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(op||(op={}));var up;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(up||(up={}));var cp;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(cp||(cp={}));var dp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(dp||(dp={}));var fp;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(fp||(fp={}));var hp;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(hp||(hp={}));var mp;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(mp||(mp={}));var pp;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pp||(pp={}));var gp;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gp||(gp={}));var vp;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vp||(vp={}));var yp;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yp||(yp={}));var xp;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(xp||(xp={}));var bp;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(bp||(bp={}));var Sp;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Sp||(Sp={}));var Tp;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Tp||(Tp={}));var wp;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(wp||(wp={}));var Ap;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ap||(Ap={}));var Ep;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ep||(Ep={}));var Cp;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Cp||(Cp={}));var Np;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Np||(Np={}));var Mp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Mp||(Mp={}));var _p;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(_p||(_p={}));var Rp;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rp||(Rp={}));var kp;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kp||(kp={}));var Ip;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Ip||(Ip={}));var Dp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Dp||(Dp={}));var zp;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zp||(zp={}));var Lp;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Lp||(Lp={}));var xl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(xl||(xl={}));class Rc{constructor(e){const i={};for(const l of e.headers.entries())i[l[0]]=l[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ea{get text(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const S=[];for(const T of(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[E,_]of Object.entries(T))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(_!==null||_!==void 0)&&S.push(E);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;x=!0,p+=T.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const S of(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[T,E]of Object.entries(S))T!=="inlineData"&&(E!==null||E!==void 0)&&x.push(T);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,l,a,o,c,f,m;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,l,a,o,c,f,m,p;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,l,a,o,c,f,m,p;if(((a=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(m=(f=(c=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class Up{}class Bp{}class j3{}class J3{}class X3{}class K3{}class Hp{}class Gp{}class qp{}class Q3{}class xo{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new xo;let a;const o=e;return i?a=z3(o):a=D3(o),Object.assign(l,a),l}}class Pp{}class Op{}class Vp{}class Fp{}class $3{}class Z3{}class W3{}class Wc{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new Wc,o=P3(e);return Object.assign(l,o),l}}class e6{}class t6{}class n6{}class Yp{}class i6{get text(){var e,i,l;let a="",o=!1;const c=[];for(const f of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[m,p]of Object.entries(f))m!=="text"&&m!=="thought"&&p!==null&&c.push(m);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;o=!0,a+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?a:void 0}get data(){var e,i,l;let a="";const o=[];for(const c of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[f,m]of Object.entries(c))f!=="inlineData"&&m!==null&&o.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class r6{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ed{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new ed,o=t2(e);return Object.assign(l,o),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function n2(t,e){const i=Ze(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function i2(t){return Array.isArray(t)?t.map(e=>bo(e)):[bo(t)]}function bo(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function r2(t){const e=bo(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function l2(t){const e=bo(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function a2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jp(e)):[jp(t)]}function kc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Jp(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Xp(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Vt(t){if(t==null)throw new Error("ContentUnion is required");return kc(t)?t:{role:"user",parts:a2(t)}}function td(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const l=Vt(i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(t.isVertexAI()){const i=Vt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Vt(i)):[Vt(e)]}function In(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Jp(t)||Xp(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vt(t)]}const e=[],i=[],l=kc(t[0]);for(const a of t){const o=kc(a);if(o!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(a);else{if(Jp(a)||Xp(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return l||e.push({role:"user",parts:a2(i)}),e}function l6(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(l=>l!=="null");if(i.length===1)e.type=Object.values(Mt).includes(i[0].toUpperCase())?i[0].toUpperCase():Mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of i)e.anyOf.push({type:Object.values(Mt).includes(l.toUpperCase())?l.toUpperCase():Mt.TYPE_UNSPECIFIED})}}function Sl(t){const e={},i=["items"],l=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&l6(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Mt).includes(f.toUpperCase())?f.toUpperCase():Mt.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Sl(f);else if(l.includes(c)){const m=[];for(const p of f){if(p.type=="null"){e.nullable=!0;continue}m.push(Sl(p))}e[c]=m}else if(a.includes(c)){const m={};for(const[p,x]of Object.entries(f))m[p]=Sl(x);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=f}return e}function nd(t){return Sl(t)}function id(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function rd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function El(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Sl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Sl(e.response));return t}function Cl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function a6(t,e,i,l=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===l;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return a6(t,e,"cachedContents")}function s2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function sr(t){return Zc(t)}function s6(t){return t!=null&&typeof t=="object"&&"name"in t}function o6(t){return t!=null&&typeof t=="object"&&"video"in t}function u6(t){return t!=null&&typeof t=="object"&&"uri"in t}function o2(t){var e;let i;if(s6(t)&&(i=t.name),!(u6(t)&&(i=t.uri,i===void 0))&&!(o6(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function u2(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function c2(t){for(const e of["models","tunedModels","publisherModels"])if(c6(t,e))return t[e];return[]}function c6(t,e){return t!==null&&typeof t=="object"&&e in t}function d6(t,e={}){const i=t,l={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(l.responseJsonSchema=i.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function f6(t,e={}){const i=[],l=new Set;for(const a of t){const o=a.name;if(l.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);l.add(o);const c=d6(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function d2(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const l=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function h6(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function f2(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let o=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Nl(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function h2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m6(t){const e={},i=d(t,["responsesFile"]);i!=null&&h(e,["fileName"],i);const l=d(t,["inlinedResponses","inlinedResponses"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>X6(c))),h(e,["inlinedResponses"],o)}const a=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["inlinedEmbedContentResponses"],o)}return e}function p6(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&h(e,["format"],i);const l=d(t,["gcsDestination","outputUriPrefix"]);l!=null&&h(e,["gcsUri"],l);const a=d(t,["bigqueryDestination","outputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function g6(t){const e={},i=d(t,["format"]);i!=null&&h(e,["predictionsFormat"],i);const l=d(t,["gcsUri"]);l!=null&&h(e,["gcsDestination","outputUriPrefix"],l);const a=d(t,["bigqueryUri"]);if(a!=null&&h(e,["bigqueryDestination","outputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function mo(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata","displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["metadata","state"]);a!=null&&h(e,["state"],h2(a));const o=d(t,["metadata","createTime"]);o!=null&&h(e,["createTime"],o);const c=d(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&h(e,["updateTime"],f);const m=d(t,["metadata","model"]);m!=null&&h(e,["model"],m);const p=d(t,["metadata","output"]);return p!=null&&h(e,["dest"],m6(f2(p))),e}function Ic(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["state"]);a!=null&&h(e,["state"],h2(a));const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["createTime"]);c!=null&&h(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(e,["startTime"],f);const m=d(t,["endTime"]);m!=null&&h(e,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(e,["updateTime"],p);const x=d(t,["model"]);x!=null&&h(e,["model"],x);const S=d(t,["inputConfig"]);S!=null&&h(e,["src"],v6(S));const T=d(t,["outputConfig"]);T!=null&&h(e,["dest"],p6(f2(T)));const E=d(t,["completionStats"]);return E!=null&&h(e,["completionStats"],E),e}function v6(t){const e={},i=d(t,["instancesFormat"]);i!=null&&h(e,["format"],i);const l=d(t,["gcsSource","uris"]);l!=null&&h(e,["gcsUri"],l);const a=d(t,["bigquerySource","inputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function y6(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=d(e,["fileName"]);l!=null&&h(i,["fileName"],l);const a=d(e,["inlinedRequests"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>J6(t,c))),h(i,["requests","requests"],o)}return i}function x6(t){const e={},i=d(t,["format"]);i!=null&&h(e,["instancesFormat"],i);const l=d(t,["gcsUri"]);l!=null&&h(e,["gcsSource","uris"],l);const a=d(t,["bigqueryUri"]);if(a!=null&&h(e,["bigquerySource","inputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function b6(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function S6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Nl(t,l)),i}function T6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Nl(t,l)),i}function w6(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const l=d(t,["citationMetadata"]);l!=null&&h(e,["citationMetadata"],A6(l));const a=d(t,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const o=d(t,["finishReason"]);o!=null&&h(e,["finishReason"],o);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(t,["index"]);m!=null&&h(e,["index"],m);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const x=d(t,["safetyRatings"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["safetyRatings"],T)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function A6(t){const e={},i=d(t,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["citations"],l)}return e}function m2(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>t7(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function E6(t,e){const i={},l=d(t,["displayName"]);if(e!==void 0&&l!=null&&h(e,["batch","displayName"],l),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function C6(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["dest"]);return e!==void 0&&a!=null&&h(e,["outputConfig"],g6(h6(a))),i}function Kp(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["src"]);a!=null&&h(i,["batch","inputConfig"],y6(t,d2(t,a)));const o=d(e,["config"]);return o!=null&&E6(o,i),i}function N6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],Ze(t,l));const a=d(e,["src"]);a!=null&&h(i,["inputConfig"],x6(d2(t,a)));const o=d(e,["config"]);return o!=null&&C6(o,i),i}function M6(t,e){const i={},l=d(t,["displayName"]);return e!==void 0&&l!=null&&h(e,["batch","displayName"],l),i}function _6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["src"]);a!=null&&h(i,["batch","inputConfig"],U6(t,a));const o=d(e,["config"]);return o!=null&&M6(o,i),i}function R6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Nl(t,l)),i}function k6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Nl(t,l)),i}function I6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function D6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function z6(t,e){const i={},l=d(e,["contents"]);if(l!=null){let o=td(t,l);Array.isArray(o)&&(o=o.map(c=>c)),h(i,["requests[]","request","content"],o)}const a=d(e,["config"]);return a!=null&&(h(i,["_self"],L6(a,i)),k3(i,{"requests[].*":"requests[].request.*"})),i}function L6(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["requests[]","taskType"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&h(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function U6(t,e){const i={},l=d(e,["fileName"]);l!=null&&h(i,["file_name"],l);const a=d(e,["inlinedRequests"]);return a!=null&&h(i,["requests"],z6(t,a)),i}function B6(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function H6(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function G6(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function q6(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],m2(Vt(a)));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const T=d(e,["logprobs"]);T!=null&&h(l,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],nd(U));const Q=d(e,["responseJsonSchema"]);if(Q!=null&&h(l,["responseJsonSchema"],Q),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=d(e,["safetySettings"]);if(i!==void 0&&J!=null){let Te=J;Array.isArray(Te)&&(Te=Te.map(we=>n7(we))),h(i,["safetySettings"],Te)}const ie=d(e,["tools"]);if(i!==void 0&&ie!=null){let Te=Cl(ie);Array.isArray(Te)&&(Te=Te.map(we=>r7(El(we)))),h(i,["tools"],Te)}const te=d(e,["toolConfig"]);if(i!==void 0&&te!=null&&h(i,["toolConfig"],i7(te)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=d(e,["cachedContent"]);i!==void 0&&V!=null&&h(i,["cachedContent"],Ni(t,V));const q=d(e,["responseModalities"]);q!=null&&h(l,["responseModalities"],q);const ae=d(e,["mediaResolution"]);ae!=null&&h(l,["mediaResolution"],ae);const W=d(e,["speechConfig"]);if(W!=null&&h(l,["speechConfig"],id(W)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const be=d(e,["thinkingConfig"]);be!=null&&h(l,["thinkingConfig"],be);const me=d(e,["imageConfig"]);me!=null&&h(l,["imageConfig"],j6(me));const de=d(e,["enableEnhancedCivicAnswers"]);return de!=null&&h(l,["enableEnhancedCivicAnswers"],de),l}function P6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>w6(p))),h(e,["candidates"],m)}const a=d(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function O6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Nl(t,l)),i}function V6(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Nl(t,l)),i}function F6(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function Y6(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function j6(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);if(l!=null&&h(e,["imageSize"],l),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function J6(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["request","model"],Ze(t,l));const a=d(e,["contents"]);if(a!=null){let f=In(a);Array.isArray(f)&&(f=f.map(m=>m2(m))),h(i,["request","contents"],f)}const o=d(e,["metadata"]);o!=null&&h(i,["metadata"],o);const c=d(e,["config"]);return c!=null&&h(i,["request","generationConfig"],q6(t,c,d(i,["request"],{}))),i}function X6(t){const e={},i=d(t,["response"]);i!=null&&h(e,["response"],P6(i));const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function K6(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);if(e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function Q6(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&h(e,["_query","pageToken"],a);const o=d(t,["filter"]);return e!==void 0&&o!=null&&h(e,["_query","filter"],o),i}function $6(t){const e={},i=d(t,["config"]);return i!=null&&K6(i,e),e}function Z6(t){const e={},i=d(t,["config"]);return i!=null&&Q6(i,e),e}function W6(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["operations"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>mo(c))),h(e,["batchJobs"],o)}return e}function e7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["batchPredictionJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>Ic(c))),h(e,["batchJobs"],o)}return e}function t7(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],B6(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],H6(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],b6(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function n7(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=d(t,["threshold"]);return l!=null&&h(e,["threshold"],l),e}function i7(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],G6(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function r7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],F6(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],Y6(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ti;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ti||(Ti={}));class kr{constructor(e,i,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,l,a)}init(e,i,l){var a,o;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!l||Object.keys(l).length===0?c={config:{}}:typeof l=="object"?c=Object.assign({},l):c=l,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(o=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l7 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new kr(Ti.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Kp(this.apiClient,e),l=i._url,a=pe("{model}:batchGenerateContent",l),f=i.batch.inputConfig.requests,m=f.requests,p=[];for(const x of m){const S=Object.assign({},x);if(S.systemInstruction){const T=S.systemInstruction;delete S.systemInstruction;const E=S.request;E.systemInstruction=T,S.request=E}p.push(S)}return f.requests=p,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const l=i?Object.assign({},i):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const o=this.getGcsUri(e),c=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?l.dest=`${o.slice(0,-6)}/dest`:l.dest=`${o}_dest_${a}`;else if(c)l.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=N6(this.apiClient,e);return f=pe("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Ic(x))}else{const p=Kp(this.apiClient,e);return f=pe("{model}:batchGenerateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>mo(x))}}async createEmbeddingsInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_6(this.apiClient,e);return o=pe("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>mo(m))}}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=V6(this.apiClient,e);return f=pe("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Ic(x))}else{const p=O6(this.apiClient,e);return f=pe("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>mo(x))}}async cancel(e){var i,l,a,o;let c="",f={};if(this.apiClient.isVertexAI()){const m=T6(this.apiClient,e);c=pe("batchPredictionJobs/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const m=S6(this.apiClient,e);c=pe("batches/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Z6(e);return f=pe("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=e7(x),T=new Yp;return Object.assign(T,S),T})}else{const p=$6(e);return f=pe("batches",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=W6(x),T=new Yp;return Object.assign(T,S),T})}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=k6(this.apiClient,e);return f=pe("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>D6(x))}else{const p=R6(this.apiClient,e);return f=pe("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>I6(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a7(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function Qp(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>_7(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function s7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let x=In(c);Array.isArray(x)&&(x=x.map(S=>Qp(S))),h(e,["contents"],x)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Qp(Vt(f)));const m=d(t,["tools"]);if(e!==void 0&&m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>k7(S))),h(e,["tools"],x)}const p=d(t,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],R7(p)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function o7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let S=In(c);Array.isArray(S)&&(S=S.map(T=>T)),h(e,["contents"],S)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Vt(f));const m=d(t,["tools"]);if(e!==void 0&&m!=null){let S=m;Array.isArray(S)&&(S=S.map(T=>I7(T))),h(e,["tools"],S)}const p=d(t,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const x=d(t,["kmsKeyName"]);return e!==void 0&&x!=null&&h(e,["encryption_spec","kmsKeyName"],x),i}function u7(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],n2(t,l));const a=d(e,["config"]);return a!=null&&s7(a,i),i}function c7(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],n2(t,l));const a=d(e,["config"]);return a!=null&&o7(a,i),i}function d7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Ni(t,l)),i}function f7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Ni(t,l)),i}function h7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function m7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function p7(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function g7(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function v7(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function y7(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function x7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Ni(t,l)),i}function b7(t,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Ni(t,l)),i}function S7(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function T7(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function w7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function A7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function E7(t){const e={},i=d(t,["config"]);return i!=null&&w7(i,e),e}function C7(t){const e={},i=d(t,["config"]);return i!=null&&A7(i,e),e}function N7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["cachedContents"],o)}return e}function M7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["cachedContents"],o)}return e}function _7(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],p7(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],g7(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],a7(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function R7(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],v7(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function k7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],S7(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],T7(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function I7(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(T=>y7(T))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function D7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),i}function z7(t,e){const i={},l=d(t,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),i}function L7(t,e){const i={},l=d(e,["name"]);l!=null&&h(i,["_url","name"],Ni(t,l));const a=d(e,["config"]);return a!=null&&D7(a,i),i}function U7(t,e){const i={},l=d(e,["name"]);l!=null&&h(i,["_url","name"],Ni(t,l));const a=d(e,["config"]);return a!=null&&z7(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B7 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new kr(Ti.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(i),i)}async create(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=c7(this.apiClient,e);return f=pe("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=u7(this.apiClient,e);return f=pe("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=b7(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=x7(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=f7(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=m7(x),T=new Vp;return Object.assign(T,S),T})}else{const p=d7(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=h7(x),T=new Vp;return Object.assign(T,S),T})}}async update(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=U7(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=L7(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=C7(e);return f=pe("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=M7(x),T=new Fp;return Object.assign(T,S),T})}else{const p=E7(e);return f=pe("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=N7(x),T=new Fp;return Object.assign(T,S),T})}}}function So(t,e){var i={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(i[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(i[l[a]]=t[l[a]]);return i}function $p(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],l=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(t){return this instanceof De?(this.v=t,this):new De(t)}function Pn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(_){return Promise.resolve(_).then(E,S)}}function f(E,_){l[E]&&(a[E]=function(R){return new Promise(function(k,U){o.push([E,R,k,U])>1||m(E,R)})},_&&(a[E]=_(a[E])))}function m(E,_){try{p(l[E](_))}catch(R){T(o[0][3],R)}}function p(E){E.value instanceof De?Promise.resolve(E.value.v).then(x,S):T(o[0][2],E)}function x(E){m("next",E)}function S(E){m("throw",E)}function T(E,_){E(_),o.shift(),o.length&&m(o[0][0],o[0][1])}}function On(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof $p=="function"?$p(t):t[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(o){i[o]=t[o]&&function(c){return new Promise(function(f,m){c=t[o](c),a(f,m,c.done,c.value)})}}function a(o,c,f,m){Promise.resolve(m).then(function(p){o({value:p,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H7(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:p2(i)}function p2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function G7(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Zp(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let l=0;for(;l<i;)if(t[l].role==="user")e.push(t[l]),l++;else{const a=[];let o=!0;for(;l<i&&t[l].role==="model";)a.push(t[l]),o&&!p2(t[l])&&(o=!1),l++;o?e.push(...a):e.pop()}return e}class q7{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new P7(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class P7{constructor(e,i,l,a={},o=[]){this.apiClient=e,this.modelsModule=i,this.model=l,this.config=a,this.history=o,this.sendPromise=Promise.resolve(),G7(o)}async sendMessage(e){var i;await this.sendPromise;const l=Vt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var o,c,f;const m=await a,p=(c=(o=m.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content,x=m.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let T=[];x!=null&&(T=(f=x.slice(S))!==null&&f!==void 0?f:[]);const E=p?[p]:[];this.recordHistory(l,E,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const l=Vt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const o=await a;return this.processStreamResponse(o,l)}getHistory(e=!1){const i=e?Zp(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Pn(this,arguments,function*(){var a,o,c,f,m,p;const x=[];try{for(var S=!0,T=On(e),E;E=yield De(T.next()),a=E.done,!a;S=!0){f=E.value,S=!1;const _=f;if(H7(_)){const R=(p=(m=_.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content;R!==void 0&&x.push(R)}yield yield De(_)}}catch(_){o={error:_}}finally{try{!S&&!a&&(c=T.return)&&(yield De(c.call(T)))}finally{if(o)throw o.error}}this.recordHistory(i,x)})}recordHistory(e,i,l){let a=[];i.length>0&&i.every(o=>o.role!==void 0)?a=i:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Zp(l)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ko extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ko.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O7(t){const e={},i=d(t,["file"]);return i!=null&&h(e,["file"],i),e}function V7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function F7(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],o2(i)),e}function Y7(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function j7(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],o2(i)),e}function J7(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function X7(t){const e={},i=d(t,["config"]);return i!=null&&J7(i,e),e}function K7(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["files"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q7 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new kr(Ti.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=X7(e);return o=pe("files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=K7(m),x=new e6;return Object.assign(x,p),x})}}async createInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=O7(e);return o=pe("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=V7(m),x=new t6;return Object.assign(x,p),x})}}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=j7(e);return o=pe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=F7(e);return o=pe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=Y7(m),x=new n6;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function po(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function $7(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>hy(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function Z7(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function W7(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ey(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function ty(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const l=d(t,["responseJsonSchema"]);l!=null&&h(e,["responseJsonSchema"],l);const a=d(t,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const o=d(t,["candidateCount"]);o!=null&&h(e,["candidateCount"],o);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const x=d(t,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const T=d(t,["responseLogprobs"]);T!=null&&h(e,["responseLogprobs"],T);const E=d(t,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const _=d(t,["responseModalities"]);_!=null&&h(e,["responseModalities"],_);const R=d(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const U=d(t,["seed"]);U!=null&&h(e,["seed"],U);const Q=d(t,["speechConfig"]);Q!=null&&h(e,["speechConfig"],Q);const J=d(t,["stopSequences"]);J!=null&&h(e,["stopSequences"],J);const ie=d(t,["temperature"]);ie!=null&&h(e,["temperature"],ie);const te=d(t,["thinkingConfig"]);te!=null&&h(e,["thinkingConfig"],te);const V=d(t,["topK"]);V!=null&&h(e,["topK"],V);const q=d(t,["topP"]);if(q!=null&&h(e,["topP"],q),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ny(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function iy(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function ry(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],l);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],rd(S));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],$7(Vt(_)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let V=Cl(R);Array.isArray(V)&&(V=V.map(q=>py(El(q)))),h(e,["setup","tools"],V)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],my(k));const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const Q=d(t,["outputAudioTranscription"]);e!==void 0&&Q!=null&&h(e,["setup","outputAudioTranscription"],Q);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const ie=d(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&h(e,["setup","contextWindowCompression"],ie);const te=d(t,["proactivity"]);if(e!==void 0&&te!=null&&h(e,["setup","proactivity"],te),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function ly(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],ty(l));const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],rd(S));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],Vt(_));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let q=Cl(R);Array.isArray(q)&&(q=q.map(ae=>gy(El(ae)))),h(e,["setup","tools"],q)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],k);const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const Q=d(t,["outputAudioTranscription"]);e!==void 0&&Q!=null&&h(e,["setup","outputAudioTranscription"],Q);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const ie=d(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&h(e,["setup","contextWindowCompression"],ie);const te=d(t,["proactivity"]);e!==void 0&&te!=null&&h(e,["setup","proactivity"],te);const V=d(t,["explicitVadSignal"]);return e!==void 0&&V!=null&&h(e,["setup","explicitVadSignal"],V),i}function ay(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],Ze(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],ry(a,i)),i}function sy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],Ze(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],ly(a,i)),i}function oy(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],i),e}function uy(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["weightedPrompts"],l)}return e}function cy(t){const e={},i=d(t,["media"]);if(i!=null){let p=i2(i);Array.isArray(p)&&(p=p.map(x=>po(x))),h(e,["mediaChunks"],p)}const l=d(t,["audio"]);l!=null&&h(e,["audio"],po(l2(l)));const a=d(t,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const o=d(t,["video"]);o!=null&&h(e,["video"],po(r2(o)));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function dy(t){const e={},i=d(t,["media"]);if(i!=null){let p=i2(i);Array.isArray(p)&&(p=p.map(x=>x)),h(e,["mediaChunks"],p)}const l=d(t,["audio"]);l!=null&&h(e,["audio"],l2(l));const a=d(t,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const o=d(t,["video"]);o!=null&&h(e,["video"],r2(o));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function fy(t){const e={},i=d(t,["setupComplete"]);i!=null&&h(e,["setupComplete"],i);const l=d(t,["serverContent"]);l!=null&&h(e,["serverContent"],l);const a=d(t,["toolCall"]);a!=null&&h(e,["toolCall"],a);const o=d(t,["toolCallCancellation"]);o!=null&&h(e,["toolCallCancellation"],o);const c=d(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],vy(c));const f=d(t,["goAway"]);f!=null&&h(e,["goAway"],f);const m=d(t,["sessionResumptionUpdate"]);m!=null&&h(e,["sessionResumptionUpdate"],m);const p=d(t,["voiceActivityDetectionSignal"]);return p!=null&&h(e,["voiceActivityDetectionSignal"],p),e}function hy(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],Z7(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],W7(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],po(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function my(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function py(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],ny(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],iy(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function gy(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(T=>ey(T))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function vy(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&h(e,["promptTokenCount"],i);const l=d(t,["cachedContentTokenCount"]);l!=null&&h(e,["cachedContentTokenCount"],l);const a=d(t,["candidatesTokenCount"]);a!=null&&h(e,["responseTokenCount"],a);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&h(e,["toolUsePromptTokenCount"],o);const c=d(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&h(e,["totalTokenCount"],f);const m=d(t,["promptTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["promptTokensDetails"],E)}const p=d(t,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["cacheTokensDetails"],E)}const x=d(t,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["responseTokensDetails"],E)}const S=d(t,["toolUsePromptTokensDetails"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>_)),h(e,["toolUsePromptTokensDetails"],E)}const T=d(t,["trafficType"]);return T!=null&&h(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yy(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function xy(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const l=d(t,["citationMetadata"]);l!=null&&h(e,["citationMetadata"],by(l));const a=d(t,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const o=d(t,["finishReason"]);o!=null&&h(e,["finishReason"],o);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(t,["index"]);m!=null&&h(e,["index"],m);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const x=d(t,["safetyRatings"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["safetyRatings"],T)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function by(t){const e={},i=d(t,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),h(e,["citations"],l)}return e}function Sy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["contents"]);if(a!=null){let o=In(a);Array.isArray(o)&&(o=o.map(c=>c)),h(i,["contents"],o)}return i}function Ty(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["tokensInfo"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["tokensInfo"],a)}return e}function wy(t){const e={},i=d(t,["values"]);i!=null&&h(e,["values"],i);const l=d(t,["statistics"]);return l!=null&&h(e,["statistics"],Ay(l)),e}function Ay(t){const e={},i=d(t,["truncated"]);i!=null&&h(e,["truncated"],i);const l=d(t,["token_count"]);return l!=null&&h(e,["tokenCount"],l),e}function Io(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>D8(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function Ey(t){const e={},i=d(t,["controlType"]);i!=null&&h(e,["controlType"],i);const l=d(t,["enableControlImageComputation"]);return l!=null&&h(e,["computeControl"],l),e}function Cy(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ny(t,e){const i={},l=d(t,["systemInstruction"]);e!==void 0&&l!=null&&h(e,["systemInstruction"],Vt(l));const a=d(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>x2(f))),h(e,["tools"],c)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&h(e,["generationConfig"],y8(o)),i}function My(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["contents"]);if(a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(f=>Io(f))),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&Cy(o),i}function _y(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["contents"]);if(a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&Ny(o,i),i}function Ry(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["totalTokens"]);l!=null&&h(e,["totalTokens"],l);const a=d(t,["cachedContentTokenCount"]);return a!=null&&h(e,["cachedContentTokenCount"],a),e}function ky(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["totalTokens"]);return l!=null&&h(e,["totalTokens"],l),e}function Iy(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],Ze(t,l)),i}function Dy(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],Ze(t,l)),i}function zy(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Ly(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Uy(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const T=d(t,["includeRaiReason"]);e!==void 0&&T!=null&&h(e,["parameters","includeRaiReason"],T);const E=d(t,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const U=d(t,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const Q=d(t,["editMode"]);e!==void 0&&Q!=null&&h(e,["parameters","editMode"],Q);const J=d(t,["baseSteps"]);return e!==void 0&&J!=null&&h(e,["parameters","editConfig","baseSteps"],J),i}function By(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>G8(m))),h(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&Uy(c,i),i}function Hy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>Do(o))),h(e,["generatedImages"],a)}return e}function Gy(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["requests[]","taskType"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&h(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function qy(t,e){const i={},l=d(t,["taskType"]);e!==void 0&&l!=null&&h(e,["instances[]","task_type"],l);const a=d(t,["title"]);e!==void 0&&a!=null&&h(e,["instances[]","title"],a);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&h(e,["parameters","outputDimensionality"],o);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&h(e,["parameters","autoTruncate"],f),i}function Py(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["contents"]);if(a!=null){let f=td(t,a);Array.isArray(f)&&(f=f.map(m=>m)),h(i,["requests[]","content"],f)}const o=d(e,["config"]);o!=null&&Gy(o,i);const c=d(e,["model"]);return c!==void 0&&h(i,["requests[]","model"],Ze(t,c)),i}function Oy(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["contents"]);if(a!=null){let c=td(t,a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["instances[]","content"],c)}const o=d(e,["config"]);return o!=null&&qy(o,i),i}function Vy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["embeddings"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["embeddings"],o)}const a=d(t,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function Fy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions[]","embeddings"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>wy(c))),h(e,["embeddings"],o)}const a=d(t,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function Yy(t){const e={},i=d(t,["endpoint"]);i!=null&&h(e,["name"],i);const l=d(t,["deployedModelId"]);return l!=null&&h(e,["deployedModelId"],l),e}function jy(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function Jy(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xy(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const l=d(t,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ky(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const l=d(t,["name"]);l!=null&&h(e,["name"],l);const a=d(t,["parameters"]);a!=null&&h(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&h(e,["parametersJsonSchema"],o);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function Qy(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],Io(Vt(a)));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const T=d(e,["logprobs"]);T!=null&&h(l,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],nd(U));const Q=d(e,["responseJsonSchema"]);if(Q!=null&&h(l,["responseJsonSchema"],Q),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=d(e,["safetySettings"]);if(i!==void 0&&J!=null){let Te=J;Array.isArray(Te)&&(Te=Te.map(we=>q8(we))),h(i,["safetySettings"],Te)}const ie=d(e,["tools"]);if(i!==void 0&&ie!=null){let Te=Cl(ie);Array.isArray(Te)&&(Te=Te.map(we=>J8(El(we)))),h(i,["tools"],Te)}const te=d(e,["toolConfig"]);if(i!==void 0&&te!=null&&h(i,["toolConfig"],j8(te)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=d(e,["cachedContent"]);i!==void 0&&V!=null&&h(i,["cachedContent"],Ni(t,V));const q=d(e,["responseModalities"]);q!=null&&h(l,["responseModalities"],q);const ae=d(e,["mediaResolution"]);ae!=null&&h(l,["mediaResolution"],ae);const W=d(e,["speechConfig"]);if(W!=null&&h(l,["speechConfig"],id(W)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const be=d(e,["thinkingConfig"]);be!=null&&h(l,["thinkingConfig"],be);const me=d(e,["imageConfig"]);me!=null&&h(l,["imageConfig"],w8(me));const de=d(e,["enableEnhancedCivicAnswers"]);return de!=null&&h(l,["enableEnhancedCivicAnswers"],de),l}function $y(t,e,i){const l={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&h(i,["systemInstruction"],Vt(a));const o=d(e,["temperature"]);o!=null&&h(l,["temperature"],o);const c=d(e,["topP"]);c!=null&&h(l,["topP"],c);const f=d(e,["topK"]);f!=null&&h(l,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(l,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(l,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(l,["stopSequences"],x);const S=d(e,["responseLogprobs"]);S!=null&&h(l,["responseLogprobs"],S);const T=d(e,["logprobs"]);T!=null&&h(l,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&h(l,["presencePenalty"],E);const _=d(e,["frequencyPenalty"]);_!=null&&h(l,["frequencyPenalty"],_);const R=d(e,["seed"]);R!=null&&h(l,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&h(l,["responseMimeType"],k);const U=d(e,["responseSchema"]);U!=null&&h(l,["responseSchema"],nd(U));const Q=d(e,["responseJsonSchema"]);Q!=null&&h(l,["responseJsonSchema"],Q);const J=d(e,["routingConfig"]);J!=null&&h(l,["routingConfig"],J);const ie=d(e,["modelSelectionConfig"]);ie!=null&&h(l,["modelConfig"],ie);const te=d(e,["safetySettings"]);if(i!==void 0&&te!=null){let Y=te;Array.isArray(Y)&&(Y=Y.map(se=>se)),h(i,["safetySettings"],Y)}const V=d(e,["tools"]);if(i!==void 0&&V!=null){let Y=Cl(V);Array.isArray(Y)&&(Y=Y.map(se=>x2(El(se)))),h(i,["tools"],Y)}const q=d(e,["toolConfig"]);i!==void 0&&q!=null&&h(i,["toolConfig"],q);const ae=d(e,["labels"]);i!==void 0&&ae!=null&&h(i,["labels"],ae);const W=d(e,["cachedContent"]);i!==void 0&&W!=null&&h(i,["cachedContent"],Ni(t,W));const be=d(e,["responseModalities"]);be!=null&&h(l,["responseModalities"],be);const me=d(e,["mediaResolution"]);me!=null&&h(l,["mediaResolution"],me);const de=d(e,["speechConfig"]);de!=null&&h(l,["speechConfig"],id(de));const Te=d(e,["audioTimestamp"]);Te!=null&&h(l,["audioTimestamp"],Te);const we=d(e,["thinkingConfig"]);we!=null&&h(l,["thinkingConfig"],we);const Le=d(e,["imageConfig"]);if(Le!=null&&h(l,["imageConfig"],A8(Le)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function Wp(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["contents"]);if(a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(f=>Io(f))),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&h(i,["generationConfig"],Qy(t,o,i)),i}function e4(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["contents"]);if(a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const o=d(e,["config"]);return o!=null&&h(i,["generationConfig"],$y(t,o,i)),i}function t4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>xy(p))),h(e,["candidates"],m)}const a=d(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&h(e,["promptFeedback"],o);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function n4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(x=>x)),h(e,["candidates"],p)}const a=d(t,["createTime"]);a!=null&&h(e,["createTime"],a);const o=d(t,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const c=d(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&h(e,["responseId"],f);const m=d(t,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function Zy(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&h(e,["parameters","aspectRatio"],a);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&h(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f);const m=d(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&h(e,["parameters","includeSafetyAttributes"],m);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const x=d(t,["language"]);e!==void 0&&x!=null&&h(e,["parameters","language"],x);const S=d(t,["outputMimeType"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","mimeType"],S);const T=d(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&h(e,["parameters","outputOptions","compressionQuality"],T),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(t,["imageSize"]);if(e!==void 0&&E!=null&&h(e,["parameters","sampleImageSize"],E),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Wy(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const T=d(t,["includeRaiReason"]);e!==void 0&&T!=null&&h(e,["parameters","includeRaiReason"],T);const E=d(t,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&h(e,["parameters","addWatermark"],k);const U=d(t,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const Q=d(t,["imageSize"]);e!==void 0&&Q!=null&&h(e,["parameters","sampleImageSize"],Q);const J=d(t,["enhancePrompt"]);return e!==void 0&&J!=null&&h(e,["parameters","enhancePrompt"],J),i}function e8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["config"]);return o!=null&&Zy(o,i),i}function t8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["config"]);return o!=null&&Wy(o,i),i}function n8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>m8(c))),h(e,["generatedImages"],o)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],v2(a)),e}function i8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Do(c))),h(e,["generatedImages"],o)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],y2(a)),e}function r8(t,e){const i={},l=d(t,["numberOfVideos"]);if(e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(t,["durationSeconds"]);if(e!==void 0&&a!=null&&h(e,["parameters","durationSeconds"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const c=d(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=d(t,["negativePrompt"]);e!==void 0&&m!=null&&h(e,["parameters","negativePrompt"],m);const p=d(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&h(e,["instances[0]","lastFrame"],zo(x));const S=d(t,["referenceImages"]);if(e!==void 0&&S!=null){let T=S;Array.isArray(T)&&(T=T.map(E=>ax(E))),h(e,["instances[0]","referenceImages"],T)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function l8(t,e){const i={},l=d(t,["numberOfVideos"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const o=d(t,["fps"]);e!==void 0&&o!=null&&h(e,["parameters","fps"],o);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const m=d(t,["aspectRatio"]);e!==void 0&&m!=null&&h(e,["parameters","aspectRatio"],m);const p=d(t,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const S=d(t,["pubsubTopic"]);e!==void 0&&S!=null&&h(e,["parameters","pubsubTopic"],S);const T=d(t,["negativePrompt"]);e!==void 0&&T!=null&&h(e,["parameters","negativePrompt"],T);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&h(e,["parameters","enhancePrompt"],E);const _=d(t,["generateAudio"]);e!==void 0&&_!=null&&h(e,["parameters","generateAudio"],_);const R=d(t,["lastFrame"]);e!==void 0&&R!=null&&h(e,["instances[0]","lastFrame"],Vn(R));const k=d(t,["referenceImages"]);if(e!==void 0&&k!=null){let J=k;Array.isArray(J)&&(J=J.map(ie=>sx(ie))),h(e,["instances[0]","referenceImages"],J)}const U=d(t,["mask"]);e!==void 0&&U!=null&&h(e,["instances[0]","mask"],lx(U));const Q=d(t,["compressionQuality"]);return e!==void 0&&Q!=null&&h(e,["parameters","compressionQuality"],Q),i}function a8(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],c8(c)),e}function s8(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],d8(c)),e}function o8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],zo(o));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],b2(c));const f=d(e,["source"]);f!=null&&f8(f,i);const m=d(e,["config"]);return m!=null&&r8(m,i),i}function u8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["prompt"]);a!=null&&h(i,["instances[0]","prompt"],a);const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],Vn(o));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],S2(c));const f=d(e,["source"]);f!=null&&h8(f,i);const m=d(e,["config"]);return m!=null&&l8(m,i),i}function c8(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>g8(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function d8(t){const e={},i=d(t,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>v8(c))),h(e,["generatedVideos"],o)}const l=d(t,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function f8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],zo(a));const o=d(t,["video"]);return e!==void 0&&o!=null&&h(e,["instances[0]","video"],b2(o)),i}function h8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],Vn(a));const o=d(t,["video"]);return e!==void 0&&o!=null&&h(e,["instances[0]","video"],S2(o)),i}function m8(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],E8(i));const l=d(t,["raiFilteredReason"]);l!=null&&h(e,["raiFilteredReason"],l);const a=d(t,["_self"]);return a!=null&&h(e,["safetyAttributes"],v2(a)),e}function Do(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],g2(i));const l=d(t,["raiFilteredReason"]);l!=null&&h(e,["raiFilteredReason"],l);const a=d(t,["_self"]);a!=null&&h(e,["safetyAttributes"],y2(a));const o=d(t,["prompt"]);return o!=null&&h(e,["enhancedPrompt"],o),e}function p8(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["mask"],g2(i));const l=d(t,["labels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["labels"],a)}return e}function g8(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],ix(i)),e}function v8(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],rx(i)),e}function y8(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const l=d(t,["responseJsonSchema"]);l!=null&&h(e,["responseJsonSchema"],l);const a=d(t,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const o=d(t,["candidateCount"]);o!=null&&h(e,["candidateCount"],o);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const x=d(t,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const T=d(t,["responseLogprobs"]);T!=null&&h(e,["responseLogprobs"],T);const E=d(t,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const _=d(t,["responseModalities"]);_!=null&&h(e,["responseModalities"],_);const R=d(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&h(e,["routingConfig"],k);const U=d(t,["seed"]);U!=null&&h(e,["seed"],U);const Q=d(t,["speechConfig"]);Q!=null&&h(e,["speechConfig"],Q);const J=d(t,["stopSequences"]);J!=null&&h(e,["stopSequences"],J);const ie=d(t,["temperature"]);ie!=null&&h(e,["temperature"],ie);const te=d(t,["thinkingConfig"]);te!=null&&h(e,["thinkingConfig"],te);const V=d(t,["topK"]);V!=null&&h(e,["topK"],V);const q=d(t,["topP"]);if(q!=null&&h(e,["topP"],q),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function x8(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],Ze(t,l)),i}function b8(t,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],Ze(t,l)),i}function S8(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function T8(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function w8(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);if(l!=null&&h(e,["imageSize"],l),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function A8(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(t,["imageSize"]);l!=null&&h(e,["imageSize"],l);const a=d(t,["outputMimeType"]);a!=null&&h(e,["imageOutputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);return o!=null&&h(e,["imageOutputOptions","compressionQuality"],o),e}function E8(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],sr(i));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function g2(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["imageBytes"],sr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function zo(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],sr(i));const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function Vn(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["imageBytes"]);l!=null&&h(e,["bytesBase64Encoded"],sr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function C8(t,e,i){const l={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&h(i,["_query","pageSize"],a);const o=d(e,["pageToken"]);i!==void 0&&o!=null&&h(i,["_query","pageToken"],o);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],u2(t,f)),l}function N8(t,e,i){const l={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&h(i,["_query","pageSize"],a);const o=d(e,["pageToken"]);i!==void 0&&o!=null&&h(i,["_query","pageToken"],o);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],u2(t,f)),l}function M8(t,e){const i={},l=d(e,["config"]);return l!=null&&C8(t,l,i),i}function _8(t,e){const i={},l=d(e,["config"]);return l!=null&&N8(t,l,i),i}function R8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["_self"]);if(a!=null){let o=c2(a);Array.isArray(o)&&(o=o.map(c=>Dc(c))),h(e,["models"],o)}return e}function k8(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["_self"]);if(a!=null){let o=c2(a);Array.isArray(o)&&(o=o.map(c=>zc(c))),h(e,["models"],o)}return e}function I8(t){const e={},i=d(t,["maskMode"]);i!=null&&h(e,["maskMode"],i);const l=d(t,["segmentationClasses"]);l!=null&&h(e,["maskClasses"],l);const a=d(t,["maskDilation"]);return a!=null&&h(e,["dilation"],a),e}function Dc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);a!=null&&h(e,["description"],a);const o=d(t,["version"]);o!=null&&h(e,["version"],o);const c=d(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],X8(c));const f=d(t,["inputTokenLimit"]);f!=null&&h(e,["inputTokenLimit"],f);const m=d(t,["outputTokenLimit"]);m!=null&&h(e,["outputTokenLimit"],m);const p=d(t,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const x=d(t,["temperature"]);x!=null&&h(e,["temperature"],x);const S=d(t,["maxTemperature"]);S!=null&&h(e,["maxTemperature"],S);const T=d(t,["topP"]);T!=null&&h(e,["topP"],T);const E=d(t,["topK"]);E!=null&&h(e,["topK"],E);const _=d(t,["thinking"]);return _!=null&&h(e,["thinking"],_),e}function zc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["displayName"]);l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);a!=null&&h(e,["description"],a);const o=d(t,["versionId"]);o!=null&&h(e,["version"],o);const c=d(t,["deployedModels"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(T=>Yy(T))),h(e,["endpoints"],S)}const f=d(t,["labels"]);f!=null&&h(e,["labels"],f);const m=d(t,["_self"]);m!=null&&h(e,["tunedModelInfo"],K8(m));const p=d(t,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const x=d(t,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(T=>T)),h(e,["checkpoints"],S)}return e}function D8(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],jy(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],Jy(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],yy(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function z8(t){const e={},i=d(t,["productImage"]);return i!=null&&h(e,["image"],Vn(i)),e}function L8(t,e){const i={},l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const a=d(t,["baseSteps"]);e!==void 0&&a!=null&&h(e,["parameters","baseSteps"],a);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const m=d(t,["personGeneration"]);e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m);const p=d(t,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","mimeType"],x);const S=d(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S);const T=d(t,["enhancePrompt"]);e!==void 0&&T!=null&&h(e,["parameters","enhancePrompt"],T);const E=d(t,["labels"]);return e!==void 0&&E!=null&&h(e,["labels"],E),i}function U8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["source"]);a!=null&&H8(a,i);const o=d(e,["config"]);return o!=null&&L8(o,i),i}function B8(t){const e={},i=d(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>Do(a))),h(e,["generatedImages"],l)}return e}function H8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["personImage"]);e!==void 0&&a!=null&&h(e,["instances[0]","personImage","image"],Vn(a));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>z8(f))),h(e,["instances[0]","productImages"],c)}return i}function G8(t){const e={},i=d(t,["referenceImage"]);i!=null&&h(e,["referenceImage"],Vn(i));const l=d(t,["referenceId"]);l!=null&&h(e,["referenceId"],l);const a=d(t,["referenceType"]);a!=null&&h(e,["referenceType"],a);const o=d(t,["maskImageConfig"]);o!=null&&h(e,["maskImageConfig"],I8(o));const c=d(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],Ey(c));const f=d(t,["styleImageConfig"]);f!=null&&h(e,["styleImageConfig"],f);const m=d(t,["subjectImageConfig"]);return m!=null&&h(e,["subjectImageConfig"],m),e}function v2(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const l=d(t,["safetyAttributes","scores"]);l!=null&&h(e,["scores"],l);const a=d(t,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function y2(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const l=d(t,["safetyAttributes","scores"]);l!=null&&h(e,["scores"],l);const a=d(t,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function q8(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=d(t,["threshold"]);return l!=null&&h(e,["threshold"],l),e}function P8(t){const e={},i=d(t,["image"]);return i!=null&&h(e,["image"],Vn(i)),e}function O8(t,e){const i={},l=d(t,["mode"]);e!==void 0&&l!=null&&h(e,["parameters","mode"],l);const a=d(t,["maxPredictions"]);e!==void 0&&a!=null&&h(e,["parameters","maxPredictions"],a);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&h(e,["parameters","confidenceThreshold"],o);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&h(e,["parameters","binaryColorThreshold"],f);const m=d(t,["labels"]);return e!==void 0&&m!=null&&h(e,["labels"],m),i}function V8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["source"]);a!=null&&Y8(a,i);const o=d(e,["config"]);return o!=null&&O8(o,i),i}function F8(t){const e={},i=d(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>p8(a))),h(e,["generatedMasks"],l)}return e}function Y8(t,e){const i={},l=d(t,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const a=d(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],Vn(a));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&h(e,["instances[0]","scribble"],P8(o)),i}function j8(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],Xy(i));const l=d(t,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function J8(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],S8(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],T8(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function x2(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(T=>Ky(T))),h(e,["functionDeclarations"],S)}const l=d(t,["retrieval"]);l!=null&&h(e,["retrieval"],l);const a=d(t,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(t,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function X8(t){const e={},i=d(t,["baseModel"]);i!=null&&h(e,["baseModel"],i);const l=d(t,["createTime"]);l!=null&&h(e,["createTime"],l);const a=d(t,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function K8(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(e,["baseModel"],i);const l=d(t,["createTime"]);l!=null&&h(e,["createTime"],l);const a=d(t,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function Q8(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&h(e,["defaultCheckpointId"],o),i}function $8(t,e){const i={},l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const a=d(t,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&h(e,["defaultCheckpointId"],o),i}function Z8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","name"],Ze(t,l));const a=d(e,["config"]);return a!=null&&Q8(a,i),i}function W8(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["config"]);return a!=null&&$8(a,i),i}function ex(t,e){const i={},l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&h(e,["parameters","safetySetting"],a);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&h(e,["parameters","personGeneration"],o);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const m=d(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&h(e,["parameters","outputOptions","compressionQuality"],m);const p=d(t,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const x=d(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const T=d(t,["numberOfImages"]);e!==void 0&&T!=null&&h(e,["parameters","sampleCount"],T);const E=d(t,["mode"]);return e!==void 0&&E!=null&&h(e,["parameters","mode"],E),i}function tx(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Ze(t,l));const a=d(e,["image"]);a!=null&&h(i,["instances[0]","image"],Vn(a));const o=d(e,["upscaleFactor"]);o!=null&&h(i,["parameters","upscaleConfig","upscaleFactor"],o);const c=d(e,["config"]);return c!=null&&ex(c,i),i}function nx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>Do(o))),h(e,["generatedImages"],a)}return e}function ix(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["encodedVideo"]);l!=null&&h(e,["videoBytes"],sr(l));const a=d(t,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function rx(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const l=d(t,["bytesBase64Encoded"]);l!=null&&h(e,["videoBytes"],sr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function lx(t){const e={},i=d(t,["image"]);i!=null&&h(e,["_self"],Vn(i));const l=d(t,["maskMode"]);return l!=null&&h(e,["maskMode"],l),e}function ax(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],zo(i));const l=d(t,["referenceType"]);return l!=null&&h(e,["referenceType"],l),e}function sx(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],Vn(i));const l=d(t,["referenceType"]);return l!=null&&h(e,["referenceType"],l),e}function b2(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const l=d(t,["videoBytes"]);l!=null&&h(e,["encodedVideo"],sr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["encoding"],a),e}function S2(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["gcsUri"],i);const l=d(t,["videoBytes"]);l!=null&&h(e,["bytesBase64Encoded"],sr(l));const a=d(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ox(t,e){const i={},l=d(t,["displayName"]);return e!==void 0&&l!=null&&h(e,["displayName"],l),i}function ux(t){const e={},i=d(t,["config"]);return i!=null&&ox(i,e),e}function cx(t,e){const i={},l=d(t,["force"]);return e!==void 0&&l!=null&&h(e,["_query","force"],l),i}function dx(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const l=d(t,["config"]);return l!=null&&cx(l,e),e}function fx(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function hx(t,e){const i={},l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["customMetadata"],o)}const a=d(t,["chunkingConfig"]);return e!==void 0&&a!=null&&h(e,["chunkingConfig"],a),i}function mx(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const l=d(t,["metadata"]);l!=null&&h(e,["metadata"],l);const a=d(t,["done"]);a!=null&&h(e,["done"],a);const o=d(t,["error"]);o!=null&&h(e,["error"],o);const c=d(t,["response"]);return c!=null&&h(e,["response"],gx(c)),e}function px(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const l=d(t,["fileName"]);l!=null&&h(e,["fileName"],l);const a=d(t,["config"]);return a!=null&&hx(a,e),e}function gx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["parent"]);l!=null&&h(e,["parent"],l);const a=d(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function vx(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function yx(t){const e={},i=d(t,["config"]);return i!=null&&vx(i,e),e}function xx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["fileSearchStores"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["fileSearchStores"],o)}return e}function T2(t,e){const i={},l=d(t,["mimeType"]);e!==void 0&&l!=null&&h(e,["mimeType"],l);const a=d(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),h(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),i}function bx(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const l=d(t,["config"]);return l!=null&&T2(l,e),e}function Sx(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tx="Content-Type",wx="X-Server-Timeout",Ax="User-Agent",Lc="x-goog-api-client",Ex="1.34.0",Cx=`google-genai-sdk/${Ex}`,Nx="v1beta1",Mx="v1beta";class _x{constructor(e){var i,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Nx,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Mx,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,l){const a=[this.getRequestUrlInternal(i)];return l&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,l);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))a.searchParams.append(c,String(f));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,i,a.toString(),e.abortSignal),this.unaryApiCall(a,o,e.httpMethod)}patchHttpOptions(e,i){const l=JSON.parse(JSON.stringify(e));for(const[a,o]of Object.entries(i))typeof o=="object"?l[a]=Object.assign(Object.assign({},l[a]),o):o!==void 0&&(l[a]=o);return l}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,i,a.toString(),e.abortSignal),this.streamApiCall(a,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,l,a){if(i&&i.timeout||a){const o=new AbortController,c=o.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>o.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}a&&a.addEventListener("abort",()=>{o.abort()}),e.signal=c}return i&&i.extraBody!==null&&Rx(e,i.extraBody),e.headers=await this.getHeadersInternal(i,l),e}async unaryApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async a=>(await i4(a),new Rc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async a=>(await i4(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Pn(this,arguments,function*(){var l;const a=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),o=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const f="data:",m=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:x}=yield De(a.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=o.decode(x,{stream:!0});try{const _=JSON.parse(S);if("error"in _){const R=JSON.parse(JSON.stringify(_.error)),k=R.status,U=R.code,Q=`got status: ${k}. ${JSON.stringify(_)}`;if(U>=400&&U<600)throw new ko({message:Q,status:U})}}catch(_){if(_.name==="ApiError")throw _}c+=S;let T=-1,E=0;for(;;){T=-1,E=0;for(const k of m){const U=c.indexOf(k);U!==-1&&(T===-1||U<T)&&(T=U,E=k.length)}if(T===-1)break;const _=c.substring(0,T);c=c.substring(T+E);const R=_.trim();if(R.startsWith(f)){const k=R.substring(f.length).trim();try{const U=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield De(new Rc(U))}catch(U){throw new Error(`exception parsing stream chunk ${k}. ${U}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},i=Cx+" "+this.clientOptions.userAgentExtra;return e[Ax]=i,e[Lc]=i,e[Tx]="application/json",e}async getHeadersInternal(e,i){const l=new Headers;if(e&&e.headers){for(const[a,o]of Object.entries(e.headers))l.append(a,o);e.timeout&&e.timeout>0&&l.append(wx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,i),l}getFileName(e){var i;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(i=l.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),l}async uploadFile(e,i){var l;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const o=this.clientOptions.uploader,c=await o.stat(e);a.sizeBytes=String(c.size);const f=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=f;const m={file:a},p=this.getFileName(e),x=pe("upload/v1beta/files",m._url),S=await this.fetchUploadUrl(x,a.sizeBytes,a.mimeType,p,m,i==null?void 0:i.httpOptions);return o.upload(e,S,this)}async uploadFileToFileSearchStore(e,i,l){var a;const o=this.clientOptions.uploader,c=await o.stat(i),f=String(c.size),m=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(i),S={};l!=null&&T2(l,S);const T=await this.fetchUploadUrl(p,f,m,x,S,l==null?void 0:l.httpOptions);return o.uploadToFileSearchStore(i,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,l,a,o,c){var f;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:m});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(f=p==null?void 0:p.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function i4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let l;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await t.json():l={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(l);throw i>=400&&i<600?new ko({message:a,status:i}):new Error(a)}}function Rx(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))i=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(o,c){const f=Object.assign({},o);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const p=c[m],x=f[m];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?f[m]=l(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),f[m]=p)}return f}const a=l(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kx="mcp_used/unknown";let Ix=!1;function w2(t){for(const e of t)if(Dx(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Ix}function A2(t){var e;const i=(e=t[Lc])!==null&&e!==void 0?e:"";t[Lc]=(i+` ${kx}`).trimStart()}function Dx(t){return t!==null&&typeof t=="object"&&t instanceof ld}function zx(t){return Pn(this,arguments,function*(i,l=100){let a,o=0;for(;o<l;){const c=yield De(i.listTools({cursor:a}));for(const f of c.tools)yield yield De(f),o++;if(!c.nextCursor)break;a=c.nextCursor}})}class ld{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new ld(e,i)}async initialize(){var e,i,l,a;if(this.mcpTools.length>0)return;const o={},c=[];for(const x of this.mcpClients)try{for(var f=!0,m=(i=void 0,On(zx(x))),p;p=await m.next(),e=p.done,!e;f=!0){a=p.value,f=!1;const S=a;c.push(S);const T=S.name;if(o[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);o[T]=x}}catch(S){i={error:S}}finally{try{!f&&!e&&(l=m.return)&&await l.call(m)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),f6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const c=await a.callTool({name:l.name,arguments:l.args},void 0,o);i.push({functionResponse:{name:l.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Lx(t,e,i){const l=new r6;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(l,a),e(l)}class Ux{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l}async connect(e){var i,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),c=Gx(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),m=`${a}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${f}`;let p=()=>{};const x=new Promise(J=>{p=J}),S=e.callbacks,T=function(){p({})},E=this.apiClient,_={onopen:T,onmessage:J=>{Lx(E,S.onmessage,J)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(J){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(J){}},R=this.webSocketFactory.create(m,Hx(c),_);R.connect(),await x;const Q={setup:{model:Ze(this.apiClient,e.model)}};return R.send(JSON.stringify(Q)),new Bx(R,this.apiClient)}}class Bx{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=uy(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=oy(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(xl.PLAY)}pause(){this.sendPlaybackControl(xl.PAUSE)}stop(){this.sendPlaybackControl(xl.STOP)}resetContext(){this.sendPlaybackControl(xl.RESET_CONTEXT)}close(){this.conn.close()}}function Hx(t){const e={};return t.forEach((i,l)=>{e[l]=i}),e}function Gx(t){const e=new Headers;for(const[i,l]of Object.entries(t))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Px(t,e,i){const l=new i6;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const o=JSON.parse(a);if(t.isVertexAI()){const c=fy(o);Object.assign(l,c)}else Object.assign(l,o);e(l)}class Ox{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l,this.music=new Ux(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,l,a,o,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&w2(e.config.tools)&&A2(S);const T=jx(S);if(this.apiClient.isVertexAI())x=`${m}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,x);else{const W=this.apiClient.getApiKey();let be="BidiGenerateContent",me="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),be="BidiGenerateContentConstrained",me="access_token"),x=`${m}/ws/google.ai.generativelanguage.${p}.GenerativeService.${be}?${me}=${W}`}let E=()=>{};const _=new Promise(W=>{E=W}),R=e.callbacks,k=function(){var W;(W=R==null?void 0:R.onopen)===null||W===void 0||W.call(R),E({})},U=this.apiClient,Q={onopen:k,onmessage:W=>{Px(U,R.onmessage,W)},onerror:(i=R==null?void 0:R.onerror)!==null&&i!==void 0?i:function(W){},onclose:(l=R==null?void 0:R.onclose)!==null&&l!==void 0?l:function(W){}},J=this.webSocketFactory.create(x,Yx(T),Q);J.connect(),await _;let ie=Ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ie.startsWith("publishers/")){const W=this.apiClient.getProject(),be=this.apiClient.getLocation();ie=`projects/${W}/locations/${be}/`+ie}let te={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[yo.AUDIO]}:e.config.responseModalities=[yo.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],q=[];for(const W of V)if(this.isCallableTool(W)){const be=W;q.push(await be.tool())}else q.push(W);q.length>0&&(e.config.tools=q);const ae={model:ie,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?te=sy(this.apiClient,ae):te=ay(this.apiClient,ae),delete te.config,J.send(JSON.stringify(te)),new Fx(J,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Vx={turnComplete:!0};class Fx{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let l=[];try{l=In(i.turns),e.isVertexAI()||(l=l.map(a=>Io(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:l,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let l=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?l=i.functionResponses:l=[i.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const o of l){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(qx)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Vx),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:dy(e)}:i={realtimeInput:cy(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Yx(t){const e={};return t.forEach((i,l)=>{e[l]=i}),e}function jx(t){const e=new Headers;for(const[i,l]of Object.entries(t))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r4=10;function l4(t){var e,i,l;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Tl(c)){a=!0;break}if(!a)return!0;const o=(l=t==null?void 0:t.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Tl(t){return"callTool"in t&&typeof t.callTool=="function"}function Jx(t){var e,i,l;return(l=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Tl(a)))!==null&&l!==void 0?l:!1}function a4(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((l,a)=>{if(Tl(l))return;const o=l;o.functionDeclarations&&o.functionDeclarations.length>0&&i.push(a)}),i}function s4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xx extends Ci{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var l,a,o,c,f;const m=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Jx(i)||l4(i.config))return await this.generateContentInternal(m);const p=a4(i);if(p.length>0){const R=p.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let x,S;const T=In(m.contents),E=(o=(a=(l=m.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&o!==void 0?o:r4;let _=0;for(;_<E&&(x=await this.generateContentInternal(m),!(!x.functionCalls||x.functionCalls.length===0));){const R=x.candidates[0].content,k=[];for(const U of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(Tl(U)){const J=await U.callTool(x.functionCalls);k.push(...J)}_++,S={role:"user",parts:k},m.contents=In(m.contents),m.contents.push(R),m.contents.push(S),s4(m.config)&&(T.push(R),T.push(S))}return s4(m.config)&&(x.automaticFunctionCallingHistory=T),x},this.generateContentStream=async i=>{var l,a,o,c,f;if(this.maybeMoveToResponseJsonSchem(i),l4(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const m=a4(i);if(m.length>0){const S=m.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(o=(a=(l=i==null?void 0:i.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,x=(f=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(p&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(l=>{var a;let o;const c=[];if(l!=null&&l.generatedImages)for(const m of l.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((a=m==null?void 0:m.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?o=m==null?void 0:m.safetyAttributes:c.push(m);let f;return o?f={generatedImages:c,positivePromptSafetyAttributes:o,sdkHttpResponse:l.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:l.sdkHttpResponse},f}),this.list=async i=>{var l;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((l=c.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new kr(Ti.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const l={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(l.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async i=>{let l={numberOfImages:1,mode:"upscale"};i.config&&(l=Object.assign(Object.assign({},l),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var l,a,o,c,f,m;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=i.video)===null||l===void 0)&&l.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(o=i.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.uri&&(!((m=(f=i.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,l,a;const o=(i=e.config)===null||i===void 0?void 0:i.tools;if(!o)return e;const c=await Promise.all(o.map(async m=>Tl(m)?await m.tool():m)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&w2(e.config.tools)){const m=(a=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},m);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),A2(p),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return f}async initAfcToolsMap(e){var i,l,a;const o=new Map;for(const c of(l=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&l!==void 0?l:[])if(Tl(c)){const f=c,m=await f.tool();for(const p of(a=m.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(o.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);o.set(p.name,f)}}return o}async processAfcStream(e){var i,l,a;const o=(a=(l=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:r4;let c=!1,f=0;const m=await this.initAfcToolsMap(e);return(function(p,x,S){return Pn(this,arguments,function*(){for(var T,E,_,R,k,U;f<o;){c&&(f++,c=!1);const te=yield De(p.processParamsMaybeAddMcpUsage(S)),V=yield De(p.generateContentStreamInternal(te)),q=[],ae=[];try{for(var Q=!0,J=(E=void 0,On(V)),ie;ie=yield De(J.next()),T=ie.done,!T;Q=!0){R=ie.value,Q=!1;const W=R;if(yield yield De(W),W.candidates&&(!((k=W.candidates[0])===null||k===void 0)&&k.content)){ae.push(W.candidates[0].content);for(const be of(U=W.candidates[0].content.parts)!==null&&U!==void 0?U:[])if(f<o&&be.functionCall){if(!be.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(be.functionCall.name)){const me=yield De(x.get(be.functionCall.name).callTool([be.functionCall]));q.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${be.functionCall.name}`)}}}}catch(W){E={error:W}}finally{try{!Q&&!T&&(_=J.return)&&(yield De(_.call(J)))}finally{if(E)throw E.error}}if(q.length>0){c=!0;const W=new Ea;W.candidates=[{content:{role:"user",parts:q}}],yield yield De(W);const be=[];be.push(...ae),be.push({role:"user",parts:q});const me=In(S.contents).concat(be);S.contents=me}else break}})})(this,m,e)}async generateContentInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=e4(this.apiClient,e);return f=pe("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=n4(x),T=new Ea;return Object.assign(T,S),T})}else{const p=Wp(this.apiClient,e);return f=pe("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=t4(x),T=new Ea;return Object.assign(T,S),T})}}async generateContentStreamInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=e4(this.apiClient,e);return f=pe("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(S){return Pn(this,arguments,function*(){var T,E,_,R;try{for(var k=!0,U=On(S),Q;Q=yield De(U.next()),T=Q.done,!T;k=!0){R=Q.value,k=!1;const J=R,ie=n4(yield De(J.json()));ie.sdkHttpResponse={headers:J.headers};const te=new Ea;Object.assign(te,ie),yield yield De(te)}}catch(J){E={error:J}}finally{try{!k&&!T&&(_=U.return)&&(yield De(_.call(U)))}finally{if(E)throw E.error}}})})}else{const p=Wp(this.apiClient,e);return f=pe("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(S){return Pn(this,arguments,function*(){var T,E,_,R;try{for(var k=!0,U=On(S),Q;Q=yield De(U.next()),T=Q.done,!T;k=!0){R=Q.value,k=!1;const J=R,ie=t4(yield De(J.json()));ie.sdkHttpResponse={headers:J.headers};const te=new Ea;Object.assign(te,ie),yield yield De(te)}}catch(J){E={error:J}}finally{try{!k&&!T&&(_=U.return)&&(yield De(_.call(U)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Oy(this.apiClient,e);return f=pe("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=Fy(x),T=new Up;return Object.assign(T,S),T})}else{const p=Py(this.apiClient,e);return f=pe("{model}:batchEmbedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=Vy(x),T=new Up;return Object.assign(T,S),T})}}async generateImagesInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=t8(this.apiClient,e);return f=pe("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=i8(x),T=new Bp;return Object.assign(T,S),T})}else{const p=e8(this.apiClient,e);return f=pe("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=n8(x),T=new Bp;return Object.assign(T,S),T})}}async editImageInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=By(this.apiClient,e);return o=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=Hy(m),x=new j3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=tx(this.apiClient,e);return o=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=nx(m),x=new J3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=U8(this.apiClient,e);return o=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=B8(m),x=new X3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=V8(this.apiClient,e);return o=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=F8(m),x=new K3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=b8(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>zc(x))}else{const p=x8(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>Dc(x))}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=_8(this.apiClient,e);return f=pe("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=k8(x),T=new Hp;return Object.assign(T,S),T})}else{const p=M8(this.apiClient,e);return f=pe("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=R8(x),T=new Hp;return Object.assign(T,S),T})}}async update(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=W8(this.apiClient,e);return f=pe("{model}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>zc(x))}else{const p=Z8(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>Dc(x))}}async delete(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=Dy(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=Ly(x),T=new Gp;return Object.assign(T,S),T})}else{const p=Iy(this.apiClient,e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=zy(x),T=new Gp;return Object.assign(T,S),T})}}async countTokens(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=_y(this.apiClient,e);return f=pe("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=ky(x),T=new qp;return Object.assign(T,S),T})}else{const p=My(this.apiClient,e);return f=pe("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=Ry(x),T=new qp;return Object.assign(T,S),T})}}async computeTokens(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Sy(this.apiClient,e);return o=pe("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>{const p=Ty(m),x=new Q3;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=u8(this.apiClient,e);return f=pe("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const S=s8(x),T=new xo;return Object.assign(T,S),T})}else{const p=o8(this.apiClient,e);return f=pe("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>{const S=a8(x),T=new xo;return Object.assign(T,S),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kx extends Ci{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let o;l&&"httpOptions"in l&&(o=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:o}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let o;l&&"httpOptions"in l&&(o=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:o}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=q3(e);return f=pe("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c}else{const p=G3(e);return f=pe("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=I3(e);return o=pe("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function $x(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>a9(o))),h(e,["parts"],a)}const l=d(t,["role"]);return l!=null&&h(e,["role"],l),e}function Zx(t,e,i){const l={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&h(i,["expireTime"],a);const o=d(e,["newSessionExpireTime"]);i!==void 0&&o!=null&&h(i,["newSessionExpireTime"],o);const c=d(e,["uses"]);i!==void 0&&c!=null&&h(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&h(i,["bidiGenerateContentSetup"],l9(t,f));const m=d(e,["lockAdditionalFields"]);return i!==void 0&&m!=null&&h(i,["fieldMask"],m),l}function Wx(t,e){const i={},l=d(e,["config"]);return l!=null&&h(i,["config"],Zx(t,l,i)),i}function e9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(t,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function t9(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const l=d(t,["args"]);l!=null&&h(e,["args"],l);const a=d(t,["name"]);if(a!=null&&h(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function n9(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function i9(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function r9(t,e){const i={},l=d(t,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],l);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const o=d(t,["temperature"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","temperature"],o);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],rd(S));const T=d(t,["thinkingConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","thinkingConfig"],T);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&h(e,["setup","systemInstruction"],$x(Vt(_)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let V=Cl(R);Array.isArray(V)&&(V=V.map(q=>o9(El(q)))),h(e,["setup","tools"],V)}const k=d(t,["sessionResumption"]);e!==void 0&&k!=null&&h(e,["setup","sessionResumption"],s9(k));const U=d(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const Q=d(t,["outputAudioTranscription"]);e!==void 0&&Q!=null&&h(e,["setup","outputAudioTranscription"],Q);const J=d(t,["realtimeInputConfig"]);e!==void 0&&J!=null&&h(e,["setup","realtimeInputConfig"],J);const ie=d(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&h(e,["setup","contextWindowCompression"],ie);const te=d(t,["proactivity"]);if(e!==void 0&&te!=null&&h(e,["setup","proactivity"],te),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function l9(t,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],Ze(t,l));const a=d(e,["config"]);return a!=null&&h(i,["config"],r9(a,i)),i}function a9(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(t,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const a=d(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const o=d(t,["fileData"]);o!=null&&h(e,["fileData"],e9(o));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],t9(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],Qx(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const x=d(t,["thought"]);x!=null&&h(e,["thought"],x);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const T=d(t,["videoMetadata"]);return T!=null&&h(e,["videoMetadata"],T),e}function s9(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function o9(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const a=d(t,["computerUse"]);a!=null&&h(e,["computerUse"],a);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],n9(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],i9(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u9(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const l=t[i];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(o=>`${i}.${o}`);e.push(...a)}else e.push(i)}return e.join(",")}function c9(t,e){let i=null;const l=t.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const o=l.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,i=o):delete t.bidiGenerateContentSetup}else l!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const o=u9(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];a.length>0&&(f=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const m=[];o&&m.push(o),f.length>0&&m.push(...f),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class d9 extends Ci{constructor(e){super(),this.apiClient=e}async create(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=Wx(this.apiClient,e);o=pe("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const m=c9(f,e.config);return a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f9(t,e){const i={},l=d(t,["force"]);return e!==void 0&&l!=null&&h(e,["_query","force"],l),i}function h9(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const l=d(t,["config"]);return l!=null&&f9(l,e),e}function m9(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function p9(t,e){const i={},l=d(t,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),i}function g9(t){const e={},i=d(t,["parent"]);i!=null&&h(e,["_url","parent"],i);const l=d(t,["config"]);return l!=null&&p9(l,e),e}function v9(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(t,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const a=d(t,["documents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),h(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y9 extends Ci{constructor(e){super(),this.apiClient=e,this.list=async i=>new kr(Ti.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:i.parent,config:l.config}),await this.listInternal(i),i)}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=m9(e);return o=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=h9(e);a=pe("{name}",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=g9(e);return o=pe("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=v9(m),x=new $3;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x9 extends Ci{constructor(e,i=new y9(e)){super(),this.apiClient=e,this.documents=i,this.list=async(l={})=>new kr(Ti.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ux(e);return o=pe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async get(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=fx(e);return o=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}async delete(e){var i,l;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=dx(e);a=pe("{name}",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=yx(e);return o=pe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=xx(m),x=new Z3;return Object.assign(x,p),x})}}async uploadToFileSearchStoreInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=bx(e);return o=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=Sx(m),x=new W3;return Object.assign(x,p),x})}}async importFile(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=px(e);return o=pe("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>{const p=mx(m),x=new Wc;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let E2=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return E2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^i()&15>>+l/4).toString(16))};const b9=()=>E2();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Bc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dn extends Error{}class Xt extends Dn{constructor(e,i,l,a){super(`${Xt.makeMessage(e,i,l)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,l){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):l;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,l,a){if(!e||!a)return new Lo({message:l,cause:Bc(i)});const o=i;return e===400?new N2(e,o,l,a):e===401?new M2(e,o,l,a):e===403?new _2(e,o,l,a):e===404?new R2(e,o,l,a):e===409?new k2(e,o,l,a):e===422?new I2(e,o,l,a):e===429?new D2(e,o,l,a):e>=500?new z2(e,o,l,a):new Xt(e,o,l,a)}}class Hc extends Xt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Lo extends Xt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class C2 extends Lo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class N2 extends Xt{}class M2 extends Xt{}class _2 extends Xt{}class R2 extends Xt{}class k2 extends Xt{}class I2 extends Xt{}class D2 extends Xt{}class z2 extends Xt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S9=/^[a-z][a-z0-9+.-]*:/i,T9=t=>S9.test(t);let Gc=t=>(Gc=Array.isArray,Gc(t));const w9=Gc;let A9=w9;const o4=A9;function E9(t){if(!t)return!0;for(const e in t)return!1;return!0}function C9(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const N9=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Dn(`${t} must be an integer`);if(e<0)throw new Dn(`${t} must be a positive integer`);return e},M9=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _9=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const k9=()=>{var t,e,i,l,a;const o=R9();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":c4(Deno.build.os),"X-Stainless-Arch":u4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":c4((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":u4((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=I9();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function I9(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const l=i.exec(navigator.userAgent);if(l){const a=l[1]||0,o=l[2]||0,c=l[3]||0;return{browser:e,version:`${a}.${o}.${c}`}}}return null}const u4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",c4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Zs;const D9=()=>Zs??(Zs=k9());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function L2(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function L9(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return L2({start(){},async pull(i){const{done:l,value:a}=await e.next();l?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function U2(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function U9(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const l=t.getReader(),a=l.cancel();l.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B9=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B2=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dc(t,e,i){return B2(),new File(t,e??"unknown_file",i)}function H9(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const G9=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",q9=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&H2(t),P9=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function O9(t,e,i){if(B2(),t=await t,q9(t))return t instanceof File?t:dc([await t.arrayBuffer()],t.name);if(P9(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),dc(await qc(a),e,i)}const l=await qc(t);if(e||(e=H9(t)),!(i!=null&&i.type)){const a=l.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return dc(l,e,i)}async function qc(t){var e,i,l,a,o;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(H2(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(G9(t))try{for(var f=!0,m=On(t),p;p=await m.next(),e=p.done,!e;f=!0){a=p.value,f=!1;const x=a;c.push(...await qc(x))}}catch(x){i={error:x}}finally{try{!f&&!e&&(l=m.return)&&await l.call(m)}finally{if(i)throw i.error}}else{const x=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${V9(t)}`)}return c}function V9(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G2{constructor(e){this._client=e}}G2._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q2(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const d4=Object.freeze(Object.create(null)),F9=(t=q2)=>(function(i,...l){if(i.length===1)return i[0];let a=!1;const o=[],c=i.reduce((x,S,T)=>{var E,_,R;/[?#]/.test(S)&&(a=!0);const k=l[T];let U=(a?encodeURIComponent:t)(""+k);return T!==l.length&&(k==null||typeof k=="object"&&k.toString===((R=Object.getPrototypeOf((_=Object.getPrototypeOf((E=k.hasOwnProperty)!==null&&E!==void 0?E:d4))!==null&&_!==void 0?_:d4))===null||R===void 0?void 0:R.toString))&&(U=k+"",o.push({start:x.length+S.length,length:U.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),x+S+(T===l.length?"":U)},""),f=c.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=m.exec(f))!==null;)o.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(o.sort((x,S)=>x.start-S.start),o.length>0){let x=0;const S=o.reduce((T,E)=>{const _=" ".repeat(E.start-x),R="^".repeat(E.length);return x=E.start+E.length,T+_+R},"");throw new Dn(`Path parameters result in path with invalid segments:
${o.map(T=>T.error).join(`
`)}
${c}
${S}`)}return c}),Ws=F9(q2);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P2 extends G2{create(e,i){var l;const{api_version:a=this._client.apiVersion}=e,o=So(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Dn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Dn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ws`/${a}/interactions`,Object.assign(Object.assign({body:o},i),{stream:(l=e.stream)!==null&&l!==void 0?l:!1}))}delete(e,i={},l){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Ws`/${a}/interactions/${e}`,l)}cancel(e,i={},l){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Ws`/${a}/interactions/${e}/cancel`,l)}get(e,i={},l){var a;const o=i??{},{api_version:c=this._client.apiVersion}=o,f=So(o,["api_version"]);return this._client.get(Ws`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},l),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}P2._key=Object.freeze(["interactions"]);class O2 extends P2{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y9(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let l=0;for(const a of t)i.set(a,l),l+=a.length;return i}let eo;function ad(t){let e;return(eo??(e=new globalThis.TextEncoder,eo=e.encode.bind(e)))(t)}let to;function f4(t){let e;return(to??(e=new globalThis.TextDecoder,to=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uo{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ad(e):e;this.buffer=Y9([this.buffer,i]);const l=[];let a;for(;(a=j9(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){l.push(f4(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=f4(this.buffer.subarray(0,o));l.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Uo.NEWLINE_CHARS=new Set([`
`,"\r"]);Uo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function j9(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function J9(t){for(let l=0;l<t.length-1;l++){if(t[l]===10&&t[l+1]===10||t[l]===13&&t[l+1]===13)return l+2;if(t[l]===13&&t[l+1]===10&&l+3<t.length&&t[l+2]===13&&t[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const To={off:0,error:200,warn:300,info:400,debug:500},h4=(t,e,i)=>{if(t){if(C9(To,t))return t;jt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(To))}`)}};function Na(){}function no(t,e,i){return!e||To[t]>To[i]?Na:e[t].bind(e)}const X9={error:Na,warn:Na,info:Na,debug:Na};let m4=new WeakMap;function jt(t){var e;const i=t.logger,l=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return X9;const a=m4.get(i);if(a&&a[0]===l)return a[1];const o={error:no("error",i,l),warn:no("warn",i,l),info:no("info",i,l),debug:no("debug",i,l)};return m4.set(i,[l,o]),o}const Rr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bl{constructor(e,i,l){this.iterator=e,this.controller=i,this.client=l}static fromSSEResponse(e,i,l){let a=!1;const o=l?jt(l):console;function c(){return Pn(this,arguments,function*(){var m,p,x,S;if(a)throw new Dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var E=!0,_=On(K9(e,i)),R;R=yield De(_.next()),m=R.done,!m;E=!0){S=R.value,E=!1;const k=S;if(!T)if(k.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield De(JSON.parse(k.data))}catch(U){throw o.error("Could not parse message into JSON:",k.data),o.error("From chunk:",k.raw),U}}}catch(k){p={error:k}}finally{try{!E&&!m&&(x=_.return)&&(yield De(x.call(_)))}finally{if(p)throw p.error}}T=!0}catch(k){if(Uc(k))return yield De(void 0);throw k}finally{T||i.abort()}})}return new bl(c,i,l)}static fromReadableStream(e,i,l){let a=!1;function o(){return Pn(this,arguments,function*(){var m,p,x,S;const T=new Uo,E=U2(e);try{for(var _=!0,R=On(E),k;k=yield De(R.next()),m=k.done,!m;_=!0){S=k.value,_=!1;const U=S;for(const Q of T.decode(U))yield yield De(Q)}}catch(U){p={error:U}}finally{try{!_&&!m&&(x=R.return)&&(yield De(x.call(R)))}finally{if(p)throw p.error}}for(const U of T.flush())yield yield De(U)})}function c(){return Pn(this,arguments,function*(){var m,p,x,S;if(a)throw new Dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var E=!0,_=On(o()),R;R=yield De(_.next()),m=R.done,!m;E=!0){S=R.value,E=!1;const k=S;T||k&&(yield yield De(JSON.parse(k)))}}catch(k){p={error:k}}finally{try{!E&&!m&&(x=_.return)&&(yield De(x.call(_)))}finally{if(p)throw p.error}}T=!0}catch(k){if(Uc(k))return yield De(void 0);throw k}finally{T||i.abort()}})}return new bl(c,i,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],l=this.iterator(),a=o=>({next:()=>{if(o.length===0){const c=l.next();e.push(c),i.push(c)}return o.shift()}});return[new bl(()=>a(e),this.controller,this.client),new bl(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return L2({async start(){i=e[Symbol.asyncIterator]()},async pull(l){try{const{value:a,done:o}=await i.next();if(o)return l.close();const c=ad(JSON.stringify(a)+`
`);l.enqueue(c)}catch(a){l.error(a)}},async cancel(){var l;await((l=i.return)===null||l===void 0?void 0:l.call(i))}})}}function K9(t,e){return Pn(this,arguments,function*(){var l,a,o,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Dn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Dn("Attempted to iterate over a response with no body");const f=new $9,m=new Uo,p=U2(t.body);try{for(var x=!0,S=On(Q9(p)),T;T=yield De(S.next()),l=T.done,!l;x=!0){c=T.value,x=!1;const E=c;for(const _ of m.decode(E)){const R=f.decode(_);R&&(yield yield De(R))}}}catch(E){a={error:E}}finally{try{!x&&!l&&(o=S.return)&&(yield De(o.call(S)))}finally{if(a)throw a.error}}for(const E of m.flush()){const _=f.decode(E);_&&(yield yield De(_))}})}function Q9(t){return Pn(this,arguments,function*(){var i,l,a,o;let c=new Uint8Array;try{for(var f=!0,m=On(t),p;p=yield De(m.next()),i=p.done,!i;f=!0){o=p.value,f=!1;const x=o;if(x==null)continue;const S=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?ad(x):x;let T=new Uint8Array(c.length+S.length);T.set(c),T.set(S,c.length),c=T;let E;for(;(E=J9(c))!==-1;)yield yield De(c.slice(0,E)),c=c.slice(E)}}catch(x){l={error:x}}finally{try{!f&&!i&&(a=m.return)&&(yield De(a.call(m)))}finally{if(l)throw l.error}}c.length>0&&(yield yield De(c))})}class $9{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,l,a]=Z9(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function Z9(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function W9(t,e){const{response:i,requestLogID:l,retryOfRequestLogID:a,startTime:o}=e,c=await(async()=>{var f;if(e.options.stream)return jt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):bl.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const m=i.headers.get("content-type"),p=(f=m==null?void 0:m.split(";")[0])===null||f===void 0?void 0:f.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?await i.json():await i.text()})();return jt(t).debug(`[${l}] response parsed`,Rr({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-o})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sd extends Promise{constructor(e,i,l=W9){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=l,this.client=e}_thenUnwrap(e){return new sd(this.client,this.responsePromise,async(i,l)=>e(await this.parseResponse(i,l),l))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V2=Symbol("brand.privateNullableHeaders");function*eb(t){if(!t)return;if(V2 in t){const{values:l,nulls:a}=t;yield*l.entries();for(const o of a)yield[o,null];return}let e=!1,i;t instanceof Headers?i=t.entries():o4(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let l of i){const a=l[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const o=o4(l[1])?l[1]:[l[1]];let c=!1;for(const f of o)f!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,f])}}const Ca=t=>{const e=new Headers,i=new Set;for(const l of t){const a=new Set;for(const[o,c]of eb(l)){const f=o.toLowerCase();a.has(f)||(e.delete(o),a.add(f)),c===null?(e.delete(o),i.add(f)):(e.append(o,c),i.delete(f))}}return{[V2]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fc=t=>{var e,i,l,a,o,c;if(typeof globalThis.process<"u")return(l=(i=(e=C3)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(c=(o=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||o===void 0?void 0:o.call(a,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var F2;class Bo{constructor(e){var i,l,a,o,c,f,m,{baseURL:p=fc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(i=fc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=e,T=So(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:S},T),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(l=E.timeout)!==null&&l!==void 0?l:Bo.DEFAULT_TIMEOUT,this.logger=(a=E.logger)!==null&&a!==void 0?a:console;const _="warn";this.logLevel=_,this.logLevel=(c=(o=h4(E.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:h4(fc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:_,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(m=E.fetch)!==null&&m!==void 0?m:z9(),this.encoder=B9,this._options=E,this.apiKey=x,this.apiVersion=S,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Ca([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Ca([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ca([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,l])=>typeof l<"u").map(([i,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(i)}=`;throw new Dn(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${yl}`}defaultIdempotencyKey(){return`stainless-node-retry-${b9()}`}makeStatusError(e,i,l,a){return Xt.generate(e,i,l,a)}buildURL(e,i,l){const a=!this.baseURLOverridden()&&l||this.baseURL,o=T9(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return E9(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(o.search=this.stringifyQuery(i)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:l}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,l){return this.request(Promise.resolve(l).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new sd(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,l){var a,o,c;const f=await e,m=(a=f.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=m),await this.prepareOptions(f);const{req:p,url:x,timeout:S}=await this.buildRequest(f,{retryCount:m-i});await this.prepareRequest(p,{url:x,options:f});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=l===void 0?"":`, retryOf: ${l}`,_=Date.now();if(jt(this).debug(`[${T}] sending request`,Rr({retryOfRequestLogID:l,method:f.method,url:x,options:f,headers:p.headers})),!((o=f.signal)===null||o===void 0)&&o.aborted)throw new Hc;const R=new AbortController,k=await this.fetchWithTimeout(x,p,S,R).catch(Bc),U=Date.now();if(k instanceof globalThis.Error){const J=`retrying, ${i} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new Hc;const ie=Uc(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(i)return jt(this).info(`[${T}] connection ${ie?"timed out":"failed"} - ${J}`),jt(this).debug(`[${T}] connection ${ie?"timed out":"failed"} (${J})`,Rr({retryOfRequestLogID:l,url:x,durationMs:U-_,message:k.message})),this.retryRequest(f,i,l??T);throw jt(this).info(`[${T}] connection ${ie?"timed out":"failed"} - error; no more retries left`),jt(this).debug(`[${T}] connection ${ie?"timed out":"failed"} (error; no more retries left)`,Rr({retryOfRequestLogID:l,url:x,durationMs:U-_,message:k.message})),ie?new C2:new Lo({cause:k})}const Q=`[${T}${E}] ${p.method} ${x} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${U-_}ms`;if(!k.ok){const J=await this.shouldRetry(k);if(i&&J){const W=`retrying, ${i} attempts remaining`;return await U9(k.body),jt(this).info(`${Q} - ${W}`),jt(this).debug(`[${T}] response error (${W})`,Rr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,durationMs:U-_})),this.retryRequest(f,i,l??T,k.headers)}const ie=J?"error; no more retries left":"error; not retryable";jt(this).info(`${Q} - ${ie}`);const te=await k.text().catch(W=>Bc(W).message),V=M9(te),q=V?void 0:te;throw jt(this).debug(`[${T}] response error (${ie})`,Rr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,message:q,durationMs:Date.now()-_})),this.makeStatusError(k.status,V,q,k.headers)}return jt(this).info(Q),jt(this).debug(`[${T}] response start`,Rr({retryOfRequestLogID:l,url:k.url,status:k.status,headers:k.headers,durationMs:U-_})),{response:k,options:f,controller:R,requestLogID:T,retryOfRequestLogID:l,startTime:_}}async fetchWithTimeout(e,i,l,a){const o=i||{},{signal:c,method:f}=o,m=So(o,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const p=setTimeout(()=>a.abort(),l),x=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,S=Object.assign(Object.assign(Object.assign({signal:a.signal},x?{duplex:"half"}:{}),{method:"GET"}),m);f&&(S.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(p)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,l,a){var o;let c;const f=a==null?void 0:a.get("retry-after-ms");if(f){const p=parseFloat(f);Number.isNaN(p)||(c=p)}const m=a==null?void 0:a.get("retry-after");if(m&&!c){const p=parseFloat(m);Number.isNaN(p)?c=Date.parse(m)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,p)}return await _9(c),this.makeRequest(e,i-1,l)}calculateDefaultRetryTimeoutMillis(e,i){const o=i-e,c=Math.min(.5*Math.pow(2,o),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:i=0}={}){var l,a,o;const c=Object.assign({},e),{method:f,path:m,query:p,defaultBaseURL:x}=c,S=this.buildURL(m,p,x);"timeout"in c&&N9("timeout",c.timeout),c.timeout=(l=c.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:T,body:E}=this.buildBody({options:c}),_=await this.buildHeaders({options:e,method:f,bodyHeaders:T,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:_},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(o=c.fetchOptions)!==null&&o!==void 0?o:{}),url:S,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:a}){let o={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let f=Ca([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),D9()),this._options.defaultHeaders,l,e.headers,c]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const l=Ca([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&l.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:L9(e)}:this.encoder({body:e,headers:l})}}Bo.DEFAULT_TIMEOUT=6e4;class Lt extends Bo{constructor(){super(...arguments),this.interactions=new O2(this)}}F2=Lt;Lt.GeminiNextGenAPIClient=F2;Lt.GeminiNextGenAPIClientError=Dn;Lt.APIError=Xt;Lt.APIConnectionError=Lo;Lt.APIConnectionTimeoutError=C2;Lt.APIUserAbortError=Hc;Lt.NotFoundError=R2;Lt.ConflictError=k2;Lt.RateLimitError=D2;Lt.BadRequestError=N2;Lt.AuthenticationError=M2;Lt.InternalServerError=z2;Lt.PermissionDeniedError=_2;Lt.UnprocessableEntityError=I2;Lt.toFile=O9;Lt.Interactions=O2;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function nb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function ib(t,e){const i={},l=d(t,["sdkHttpResponse"]);return l!=null&&h(i,["sdkHttpResponse"],l),i}function rb(t,e){const i={},l=d(t,["sdkHttpResponse"]);return l!=null&&h(i,["sdkHttpResponse"],l),i}function lb(t,e,i){const l={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&h(e,["displayName"],a),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&h(e,["tuningTask","hyperparameters","epochCount"],o);const c=d(t,["learningRateMultiplier"]);if(c!=null&&h(l,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&h(e,["tuningTask","hyperparameters","batchSize"],f);const m=d(t,["learningRate"]);if(e!==void 0&&m!=null&&h(e,["tuningTask","hyperparameters","learningRate"],m),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function ab(t,e,i){const l={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec"],p4(E))}else if(a==="PREFERENCE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec"],p4(E))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&h(e,["tunedModelDisplayName"],o);const c=d(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let f=d(i,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(f==="PREFERENCE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(m==="PREFERENCE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(p==="PREFERENCE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const T=d(t,["beta"]);return e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),l}function sb(t,e){const i={},l=d(t,["baseModel"]);l!=null&&h(i,["baseModel"],l);const a=d(t,["preTunedModel"]);a!=null&&h(i,["preTunedModel"],a);const o=d(t,["trainingDataset"]);o!=null&&yb(o);const c=d(t,["config"]);return c!=null&&lb(c,i),i}function ob(t,e){const i={},l=d(t,["baseModel"]);l!=null&&h(i,["baseModel"],l);const a=d(t,["preTunedModel"]);a!=null&&h(i,["preTunedModel"],a);const o=d(t,["trainingDataset"]);o!=null&&xb(o,i,e);const c=d(t,["config"]);return c!=null&&ab(c,i,e),i}function ub(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function cb(t,e){const i={},l=d(t,["name"]);return l!=null&&h(i,["_url","name"],l),i}function db(t,e,i){const l={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),l}function fb(t,e,i){const l={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),l}function hb(t,e){const i={},l=d(t,["config"]);return l!=null&&db(l,i),i}function mb(t,e){const i={},l=d(t,["config"]);return l!=null&&fb(l,i),i}function pb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["nextPageToken"]);a!=null&&h(i,["nextPageToken"],a);const o=d(t,["tunedModels"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Y2(f))),h(i,["tuningJobs"],c)}return i}function gb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["nextPageToken"]);a!=null&&h(i,["nextPageToken"],a);const o=d(t,["tuningJobs"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Pc(f))),h(i,["tuningJobs"],c)}return i}function vb(t,e){const i={},l=d(t,["name"]);l!=null&&h(i,["model"],l);const a=d(t,["name"]);return a!=null&&h(i,["endpoint"],a),i}function yb(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=d(t,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),h(i,["examples","examples"],a)}return i}function xb(t,e,i){const l={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function Y2(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["state"]);o!=null&&h(i,["state"],s2(o));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&h(i,["startTime"],f);const m=d(t,["tuningTask","completeTime"]);m!=null&&h(i,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(i,["updateTime"],p);const x=d(t,["description"]);x!=null&&h(i,["description"],x);const S=d(t,["baseModel"]);S!=null&&h(i,["baseModel"],S);const T=d(t,["_self"]);return T!=null&&h(i,["tunedModel"],vb(T)),i}function Pc(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["state"]);o!=null&&h(i,["state"],s2(o));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(i,["startTime"],f);const m=d(t,["endTime"]);m!=null&&h(i,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(i,["updateTime"],p);const x=d(t,["error"]);x!=null&&h(i,["error"],x);const S=d(t,["description"]);S!=null&&h(i,["description"],S);const T=d(t,["baseModel"]);T!=null&&h(i,["baseModel"],T);const E=d(t,["tunedModel"]);E!=null&&h(i,["tunedModel"],E);const _=d(t,["preTunedModel"]);_!=null&&h(i,["preTunedModel"],_);const R=d(t,["supervisedTuningSpec"]);R!=null&&h(i,["supervisedTuningSpec"],R);const k=d(t,["preferenceOptimizationSpec"]);k!=null&&h(i,["preferenceOptimizationSpec"],k);const U=d(t,["tuningDataStats"]);U!=null&&h(i,["tuningDataStats"],U);const Q=d(t,["encryptionSpec"]);Q!=null&&h(i,["encryptionSpec"],Q);const J=d(t,["partnerModelTuningSpec"]);J!=null&&h(i,["partnerModelTuningSpec"],J);const ie=d(t,["customBaseModel"]);ie!=null&&h(i,["customBaseModel"],ie);const te=d(t,["experiment"]);te!=null&&h(i,["experiment"],te);const V=d(t,["labels"]);V!=null&&h(i,["labels"],V);const q=d(t,["outputUri"]);q!=null&&h(i,["outputUri"],q);const ae=d(t,["pipelineJob"]);ae!=null&&h(i,["pipelineJob"],ae);const W=d(t,["serviceAccount"]);W!=null&&h(i,["serviceAccount"],W);const be=d(t,["tunedModelDisplayName"]);be!=null&&h(i,["tunedModelDisplayName"],be);const me=d(t,["veoTuningSpec"]);return me!=null&&h(i,["veoTuningSpec"],me),i}function bb(t,e){const i={},l=d(t,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const a=d(t,["name"]);a!=null&&h(i,["name"],a);const o=d(t,["metadata"]);o!=null&&h(i,["metadata"],o);const c=d(t,["done"]);c!=null&&h(i,["done"],c);const f=d(t,["error"]);return f!=null&&h(i,["error"],f),i}function p4(t,e){const i={},l=d(t,["gcsUri"]);l!=null&&h(i,["validationDatasetUri"],l);const a=d(t,["vertexDatasetResource"]);return a!=null&&h(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sb extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new kr(Ti.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var l;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((l=i.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},i),{preTunedModel:a});return o.baseModel=void 0,await this.tuneInternal(o)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),o=await this.tuneMldevInternal(a);let c="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?c=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(c=o.name.split("/operations/")[0]),{name:c,state:_c.JOB_STATE_QUEUED}}}}async getInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=cb(e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>Pc(x))}else{const p=ub(e);return f=pe("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>Y2(x))}}async listInternal(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=mb(e);return f=pe("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=gb(x),T=new Pp;return Object.assign(T,S),T})}else{const p=hb(e);return f=pe("tunedModels",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=pb(x),T=new Pp;return Object.assign(T,S),T})}}async cancel(e){var i,l,a,o;let c,f="",m={};if(this.apiClient.isVertexAI()){const p=nb(e);return f=pe("{name}:cancel",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=rb(x),T=new Op;return Object.assign(T,S),T})}else{const p=tb(e);return f=pe("{name}:cancel",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:x.headers},T})),c.then(x=>{const S=ib(x),T=new Op;return Object.assign(T,S),T})}}async tuneInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=ob(e,e);return o=pe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>Pc(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,l;let a,o="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=sb(e);return o=pe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:m.headers},x})),a.then(m=>bb(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tb{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wb=1024*1024*8,Ab=3,Eb=1e3,Cb=2,wo="x-goog-upload-status";async function Nb(t,e,i){var l;const a=await j2(t,e,i),o=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[wo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Mb(t,e,i){var l;const a=await j2(t,e,i),o=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[wo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=t2(o),f=new ed;return Object.assign(f,c),f}async function j2(t,e,i){var l,a;let o=0,c=0,f=new Rc(new Response),m="upload";for(o=t.size;c<o;){const p=Math.min(wb,o-c),x=t.slice(c,c+p);c+p>=o&&(m+=", finalize");let S=0,T=Eb;for(;S<Ab&&(f=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((l=f==null?void 0:f.headers)===null||l===void 0)&&l[wo]));)S++,await Rb(T),T=T*Cb;if(c+=p,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[wo])!=="active")break;if(o<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function _b(t){return{size:t.size,type:t.type}}function Rb(t){return new Promise(e=>setTimeout(e,t))}class kb{async upload(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Nb(e,i,l)}async uploadToFileSearchStore(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Mb(e,i,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _b(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ib{create(e,i,l){return new Db(e,i,l)}}class Db{constructor(e,i,l){this.url=e,this.headers=i,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g4="x-goog-api-key";class zb{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(g4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(g4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lb="gl-node/";class J2{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new Lt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const l=R3(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new zb(this.apiKey);this.apiClient=new _x({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Lb+"web",uploader:new kb,downloader:new Tb}),this.models=new Xx(this.apiClient),this.live=new Ox(this.apiClient,a,new Ib),this.batches=new l7(this.apiClient),this.chats=new q7(this.models,this.apiClient),this.caches=new B7(this.apiClient),this.files=new Q7(this.apiClient),this.operations=new Kx(this.apiClient),this.authTokens=new d9(this.apiClient),this.tunings=new Sb(this.apiClient),this.fileSearchStores=new x9(this.apiClient)}}const Ub={type:Mt.OBJECT,properties:{content:{type:Mt.STRING,description:" Markdown  LaTeX  ($...$)"},options:{type:Mt.ARRAY,items:{type:Mt.STRING},description:" LaTeX  ($...$)"},diagramDescription:{type:Mt.STRING,description:"/"},answer:{type:Mt.STRING,description:""},analysis:{type:Mt.STRING,description:" Markdown  LaTeX"},learningGuide:{type:Mt.STRING,description:""},knowledgePoints:{type:Mt.ARRAY,items:{type:Mt.STRING},description:""},subject:{type:Mt.STRING,enum:Object.values(Ro),description:""},difficulty:{type:Mt.INTEGER,description:" (1-5)"}},required:["content","analysis","knowledgePoints","subject","difficulty"]},Ao=`

1. 
2.  LaTeX  $...$  $$...$$
3.  JSON content, options, diagramDescription, answer, analysis, learningGuide, knowledgePoints, subject, difficulty
   - options  ["A. ", "B. "]
4. 
5.  JSON  ( \\\\frac  \\frac)`;function Bb(t){let e="",i=0;for(;i<t.length;)if(t[i]==="\\"&&i+1<t.length){const l=t[i+1];if(l==="\\"){e+="\\\\",i+=2;continue}if(l==='"'||l==="/"){e+="\\"+l,i+=2;continue}if(l==="u"&&i+5<t.length&&/^[0-9a-fA-F]{4}$/.test(t.substring(i+2,i+6))){e+=t.substring(i,i+6),i+=6;continue}if("bfnrt".includes(l)){const a=i+2<t.length?t[i+2]:"";if(!/[a-zA-Z]/.test(a)){e+="\\"+l,i+=2;continue}}e+="\\\\"+l,i+=2}else e+=t[i],i++;return e}const Hb=async t=>new Promise(e=>{const i=new Image;i.src=t,i.onload=()=>{const l=document.createElement("canvas");let a=i.width,o=i.height;const c=1024;(a>c||o>c)&&(a>o?(o=Math.round(o*c/a),a=c):(a=Math.round(a*c/o),o=c)),l.width=a,l.height=o;const f=l.getContext("2d");f==null||f.drawImage(i,0,0,a,o),e(l.toDataURL("image/jpeg",.8))},i.onerror=()=>e(t)});function Gb(t){let e=t.trim();e.startsWith("```json")?e=e.slice(7):e.startsWith("```")&&(e=e.slice(3)),e.endsWith("```")&&(e=e.slice(0,-3)),e=e.trim(),e=e.trim();const i=Bb(e);try{return JSON.parse(i)}catch(l){try{return JSON.parse(e)}catch{try{let o=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"");return JSON.parse(o)}catch{throw console.error("JSON parsing failed after all cleanup attempts:",t.substring(0,500)),new Error(`JSON : ${l.message}`)}}}}async function qb(t,e,i){if(!e.apiKey)throw new Error("API Key ");const l=new J2({apiKey:e.apiKey}),a=e.modelName||"gemini-2.0-flash",c=(await l.models.generateContent({model:a,contents:[{role:"user",parts:[{inlineData:{mimeType:"image/jpeg",data:t.split(",")[1]||t}},{text:i}]}],config:{responseMimeType:"application/json",responseSchema:Ub}})).text;if(!c)throw new Error("Gemini ");return JSON.parse(c.trim())}async function Pb(t,e,i){var p,x;let l=e.baseUrl,a=e.modelName||"gpt-4o";if(e.type===Qe.QWEN)l=l||"https://dashscope.aliyuncs.com/compatible-mode/v1",a=e.modelName||"qwen-vl-max";else if(e.type===Qe.DOUBAO){if(l=l||"https://ark.cn-beijing.volces.com/api/v3",!((p=e.modelName)!=null&&p.trim()))throw new Error("ID (ep-xxxxxxxxxx) Ark ");a=e.modelName.trim()}if(!e.apiKey)throw new Error("API Key ");let o;if(e.type===Qe.QWEN)o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}};else if(e.type===Qe.DOUBAO){const S=t.startsWith("data:")?t:`data:image/jpeg;base64,${t}`;o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:S}}]}]}}else o={model:a,messages:[{role:"system",content:i},{role:"user",content:[{type:"text",text:" JSON "},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}};const c=await fetch(`${l}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${e.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok){let S="AI ";try{const T=await c.json();console.error("AI API Error Response:",T);const E=((x=T.error)==null?void 0:x.message)||T.message||JSON.stringify(T);E.includes("support text")||E.includes("MultiContent")?S="/(Vision)":S=E}catch{console.error("AI API Error (Text):",await c.text()),S=`HTTP error! status: ${c.status}`}throw new Error(S)}const f=await c.json(),m=f.choices?f.choices[0].message.content:f.result.response;return Gb(m)}const v4=async t=>{var i,l,a,o;const e="''";try{if(t.type===Qe.GEMINI){if(!t.apiKey)throw new Error("API Key ");const c=new J2({apiKey:t.apiKey}),f=t.modelName||"gemini-2.0-flash";if(!(await c.models.generateContent({model:f,contents:e})).text)throw new Error("Gemini ");return!0}else{let c=t.baseUrl,f=t.modelName||"gpt-4o";if(t.type===Qe.QWEN?(c=c||"https://dashscope.aliyuncs.com/compatible-mode/v1",f=t.modelName||"qwen-vl-max"):t.type===Qe.DOUBAO&&(c=c||"https://ark.cn-beijing.volces.com/api/v3",f=t.modelName||"doubao-1-5-pro-32k-250115"),!t.apiKey)throw new Error("API Key ");let m;t.type===Qe.DOUBAO?m={model:f,messages:[{role:"user",content:[{type:"text",text:e}]}]}:m={model:f,messages:[{role:"system",content:e},{role:"user",content:e}]};const p=await fetch(`${c}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${t.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!p.ok){const T=await p.json();throw new Error(((i=T.error)==null?void 0:i.message)||"AI ")}const x=await p.json();return x.choices?!!((a=(l=x.choices[0])==null?void 0:l.message)!=null&&a.content):!!((o=x.result)!=null&&o.response)}}catch(c){throw console.error("AI Config Test Failed:",c),new Error(`AI : ${c.message}`)}},Ob=async(t,e)=>{const i=e.systemPrompt||Ao,l=e.systemPrompt||Ao;console.log("AI Config:",{...e,systemPrompt:e.systemPrompt?"Custom":"Default",usedPromptPrefix:l.slice(0,50)+"..."});const a=await Hb(t);try{return e.type===Qe.GEMINI?await qb(a,e,i):await Pb(a,e,i)}catch(o){throw console.error("AI Analysis Failed:",o),new Error(" AI ")}},io=t=>({...t,options:t.options?typeof t.options=="string"?JSON.parse(t.options):t.options:[],knowledgePoints:t.knowledgePoints?typeof t.knowledgePoints=="string"?JSON.parse(t.knowledgePoints):t.knowledgePoints:[]}),mt={async getAIConfig(){try{const t=await fetch("/api/config");if(!t.ok)throw new Error("Failed to load config");const e=await t.json();return e.configData?JSON.parse(e.configData):{...{activeProvider:Qe.GEMINI,providers:{},customProviders:[]},...e}}catch(t){return console.warn("Could not load remote config, using defaults",t),{activeProvider:Qe.GEMINI,providers:{},customProviders:[]}}},async saveAIConfig(t){try{await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({configData:JSON.stringify(t)})})}catch(e){throw console.error("Failed to save config",e),e}},async syncRemoteConfig(){try{return await this.getAIConfig()}catch{return null}},async getActiveProviderConfig(){const t=await this.getAIConfig(),e=t.activeProvider;if(Object.values(Qe).includes(e)){const l=t.providers[e]||{};return{type:e,apiKey:l.apiKey,baseUrl:l.baseUrl,modelName:l.modelName,systemPrompt:t.systemPrompt}}const i=t.customProviders.find(l=>l.id===e);return i?{type:i.id,apiKey:i.config.apiKey,baseUrl:i.config.baseUrl,modelName:i.config.modelName,systemPrompt:t.systemPrompt}:{type:Qe.GEMINI}},async fetchQuestions(){const t=await fetch("/api/questions");if(!t.ok)throw new Error("Failed to fetch questions");return(await t.json()).map(io).sort((i,l)=>new Date(l.createdAt).getTime()-new Date(i.createdAt).getTime())},async fetchTrash(){const t=await fetch("/api/trash");if(!t.ok)throw new Error("Failed to fetch trash");return(await t.json()).map(io).sort((i,l)=>new Date(l.deletedAt).getTime()-new Date(i.deletedAt).getTime())},async createQuestion(t){const e=(o,c=[])=>{if(!o)return c;if(Array.isArray(o))return o;if(typeof o=="string")try{const f=JSON.parse(o);return Array.isArray(f)?f:[o]}catch{return[o]}return c},i={...t,content:String(t.content||""),options:e(t.options),knowledgePoints:e(t.knowledgePoints,[""]),subject:String(t.subject||""),answer:Array.isArray(t.answer)?t.answer.join(", "):String(t.answer||""),analysis:String(t.analysis||""),learningGuide:String(t.learningGuide||""),difficulty:Number(t.difficulty)||3},l=await fetch("/api/questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){const o=await l.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||`Create failed: ${l.status}`)}const a=await l.json();return io(a)},async updateQuestion(t,e){const i=await fetch(`/api/questions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok){const a=await i.json().catch(()=>({error:"Unknown error"}));throw new Error(a.error||`Update failed: ${i.status}`)}const l=await i.json();return io(l)},async deleteQuestion(t){if(!(await fetch(`/api/questions/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete question")},async restoreQuestion(t){if(!(await fetch(`/api/questions/${t}/restore`,{method:"PATCH"})).ok)throw new Error("Failed to restore question")},async hardDeleteQuestion(t){if(!(await fetch(`/api/questions/${t}/hard`,{method:"DELETE"})).ok)throw new Error("Failed to hard delete question")},async getMistakeCount(){return(await this.fetchQuestions()).length},async analyzeImage(t,e){const i=await this.getActiveProviderConfig();return Ob(t,i)},async exportBackup(){window.open("/api/export","_blank")},async getMigrationStatus(){const t=await fetch("/api/db/migrations");if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`Failed to get migrations: ${t.status}`)}return t.json()},async migrateToLatest(){const t=await fetch("/api/db/migrate",{method:"POST"});if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`Failed to migrate: ${t.status}`)}return t.json()},async importBackup(t){let e;try{e=JSON.parse(t)}catch{throw new Error("Invalid JSON")}if(!(await fetch("/api/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to import backup")}};class ln{constructor(e,i,l){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=i,this.end=l}static range(e,i){return i?!e||!e.loc||!i.loc||e.loc.lexer!==i.loc.lexer?null:new ln(e.loc.lexer,e.loc.start,i.loc.end):e&&e.loc}}class yn{constructor(e,i){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=i}range(e,i){return new yn(i,ln.range(this,e))}}class ue{constructor(e,i){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var l="KaTeX parse error: "+e,a,o,c=i&&i.loc;if(c&&c.start<=c.end){var f=c.lexer.input;a=c.start,o=c.end,a===f.length?l+=" at end of input: ":l+=" at position "+(a+1)+": ";var m=f.slice(a,o).replace(/[^]/g,"$&"),p;a>15?p=""+f.slice(a-15,a):p=f.slice(0,a);var x;o+15<f.length?x=f.slice(o,o+15)+"":x=f.slice(o),l+=p+m+x}var S=new Error(l);return S.name="ParseError",S.__proto__=ue.prototype,S.position=a,a!=null&&o!=null&&(S.length=o-a),S.rawMessage=e,S}}ue.prototype.__proto__=Error.prototype;var Vb=function(e,i){return e===void 0?i:e},Fb=/([A-Z])/g,Yb=function(e){return e.replace(Fb,"-$1").toLowerCase()},jb={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Jb=/[&><"']/g;function Xb(t){return String(t).replace(Jb,e=>jb[e])}var X2=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Kb=function(e){var i=X2(e);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},Qb=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},$b=function(e){var i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"},$e={deflt:Vb,escape:Xb,hyphenate:Yb,getBaseElem:X2,isCharacterBox:Kb,protocolFromUrl:$b},go={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Zb(t){if(t.default)return t.default;var e=t.type,i=Array.isArray(e)?e[0]:e;if(typeof i!="string")return i.enum[0];switch(i){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class od{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var i in go)if(go.hasOwnProperty(i)){var l=go[i];this[i]=e[i]!==void 0?l.processor?l.processor(e[i]):e[i]:Zb(l)}}reportNonstrict(e,i,l){var a=this.strict;if(typeof a=="function"&&(a=a(e,i,l)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new ue("LaTeX-incompatible input and strict mode is set to 'error': "+(i+" ["+e+"]"),l);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+i+" ["+e+"]"))}}useStrictBehavior(e,i,l){var a=this.strict;if(typeof a=="function")try{a=a(e,i,l)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+i+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var i=$e.protocolFromUrl(e.url);if(i==null)return!1;e.protocol=i}var l=typeof this.trust=="function"?this.trust(e):this.trust;return!!l}}class tr{constructor(e,i,l){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=i,this.cramped=l}sup(){return Xn[Wb[this.id]]}sub(){return Xn[eS[this.id]]}fracNum(){return Xn[tS[this.id]]}fracDen(){return Xn[nS[this.id]]}cramp(){return Xn[iS[this.id]]}text(){return Xn[rS[this.id]]}isTight(){return this.size>=2}}var ud=0,Eo=1,wl=2,bi=3,Ra=4,kn=5,Al=6,Jt=7,Xn=[new tr(ud,0,!1),new tr(Eo,0,!0),new tr(wl,1,!1),new tr(bi,1,!0),new tr(Ra,2,!1),new tr(kn,2,!0),new tr(Al,3,!1),new tr(Jt,3,!0)],Wb=[Ra,kn,Ra,kn,Al,Jt,Al,Jt],eS=[kn,kn,kn,kn,Jt,Jt,Jt,Jt],tS=[wl,bi,Ra,kn,Al,Jt,Al,Jt],nS=[bi,bi,kn,kn,Jt,Jt,Jt,Jt],iS=[Eo,Eo,bi,bi,kn,kn,Jt,Jt],rS=[ud,Eo,wl,bi,wl,bi,wl,bi],Re={DISPLAY:Xn[ud],TEXT:Xn[wl],SCRIPT:Xn[Ra],SCRIPTSCRIPT:Xn[Al]},Oc=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function lS(t){for(var e=0;e<Oc.length;e++)for(var i=Oc[e],l=0;l<i.blocks.length;l++){var a=i.blocks[l];if(t>=a[0]&&t<=a[1])return i.name}return null}var vo=[];Oc.forEach(t=>t.blocks.forEach(e=>vo.push(...e)));function K2(t){for(var e=0;e<vo.length;e+=2)if(t>=vo[e]&&t<=vo[e+1])return!0;return!1}var vl=80,aS=function(e,i){return"M95,"+(622+e+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},sS=function(e,i){return"M263,"+(601+e+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},oS=function(e,i){return"M983 "+(10+e+i)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},uS=function(e,i){return"M424,"+(2398+e+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+i+`
h400000v`+(40+e)+"h-400000z"},cS=function(e,i){return"M473,"+(2713+e+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+i+"h400000v"+(40+e)+"H1017.7z"},dS=function(e){var i=e/2;return"M400000 "+e+" H0 L"+i+" 0 l65 45 L145 "+(e-80)+" H400000z"},fS=function(e,i,l){var a=l-54-i-e;return"M702 "+(e+i)+"H400000"+(40+e)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+e)+"H742z"},hS=function(e,i,l){i=1e3*i;var a="";switch(e){case"sqrtMain":a=aS(i,vl);break;case"sqrtSize1":a=sS(i,vl);break;case"sqrtSize2":a=oS(i,vl);break;case"sqrtSize3":a=uS(i,vl);break;case"sqrtSize4":a=cS(i,vl);break;case"sqrtTall":a=fS(i,vl,l)}return a},mS=function(e,i){switch(e){case"":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},y4={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},pS=function(e,i){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Ia{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){for(var e="",i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e}toText(){var e=i=>i.toText();return this.children.map(e).join("")}}var Kn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ro={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},x4={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function gS(t,e){Kn[t]=e}function cd(t,e,i){if(!Kn[e])throw new Error("Font metrics not found for font: "+e+".");var l=t.charCodeAt(0),a=Kn[e][l];if(!a&&t[0]in x4&&(l=x4[t[0]].charCodeAt(0),a=Kn[e][l]),!a&&i==="text"&&K2(l)&&(a=Kn[e][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var hc={};function vS(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!hc[e]){var i=hc[e]={cssEmPerMu:ro.quad[e]/18};for(var l in ro)ro.hasOwnProperty(l)&&(i[l]=ro[l][e])}return hc[e]}var yS=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],b4=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],S4=function(e,i){return i.size<2?e:yS[e-1][i.size-1]};class xi{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||xi.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=b4[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var l in e)e.hasOwnProperty(l)&&(i[l]=e[l]);return new xi(i)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:S4(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:b4[e-1]})}havingBaseStyle(e){e=e||this.style.text();var i=S4(xi.BASESIZE,e);return this.size===i&&this.textSize===xi.BASESIZE&&this.style===e?this:this.extend({style:e,size:i})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==xi.BASESIZE?["sizing","reset-size"+this.size,"size"+xi.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=vS(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}xi.BASESIZE=6;var Vc={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},xS={ex:!0,em:!0,mu:!0},Q2=function(e){return typeof e!="string"&&(e=e.unit),e in Vc||e in xS||e==="ex"},vt=function(e,i){var l;if(e.unit in Vc)l=Vc[e.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(e.unit==="mu")l=i.fontMetrics().cssEmPerMu;else{var a;if(i.style.isTight()?a=i.havingStyle(i.style.text()):a=i,e.unit==="ex")l=a.fontMetrics().xHeight;else if(e.unit==="em")l=a.fontMetrics().quad;else throw new ue("Invalid unit: '"+e.unit+"'");a!==i&&(l*=a.sizeMultiplier/i.sizeMultiplier)}return Math.min(e.number*l,i.maxSize)},he=function(e){return+e.toFixed(4)+"em"},rr=function(e){return e.filter(i=>i).join(" ")},$2=function(e,i,l){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=l||{},i){i.style.isTight()&&this.classes.push("mtight");var a=i.getColor();a&&(this.style.color=a)}},Z2=function(e){var i=document.createElement(e);i.className=rr(this.classes);for(var l in this.style)this.style.hasOwnProperty(l)&&(i.style[l]=this.style[l]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&i.setAttribute(a,this.attributes[a]);for(var o=0;o<this.children.length;o++)i.appendChild(this.children[o].toNode());return i},bS=/[\s"'>/=\x00-\x1f]/,W2=function(e){var i="<"+e;this.classes.length&&(i+=' class="'+$e.escape(rr(this.classes))+'"');var l="";for(var a in this.style)this.style.hasOwnProperty(a)&&(l+=$e.hyphenate(a)+":"+this.style[a]+";");l&&(i+=' style="'+$e.escape(l)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(bS.test(o))throw new ue("Invalid attribute name '"+o+"'");i+=" "+o+'="'+$e.escape(this.attributes[o])+'"'}i+=">";for(var c=0;c<this.children.length;c++)i+=this.children[c].toMarkup();return i+="</"+e+">",i};class Da{constructor(e,i,l,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,$2.call(this,e,l,a),this.children=i||[]}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return Z2.call(this,"span")}toMarkup(){return W2.call(this,"span")}}class dd{constructor(e,i,l,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,$2.call(this,i,a),this.children=l||[],this.setAttribute("href",e)}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return Z2.call(this,"a")}toMarkup(){return W2.call(this,"a")}}class SS{constructor(e,i,l){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=i,this.src=e,this.classes=["mord"],this.style=l}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);return e}toMarkup(){var e='<img src="'+$e.escape(this.src)+'"'+(' alt="'+$e.escape(this.alt)+'"'),i="";for(var l in this.style)this.style.hasOwnProperty(l)&&(i+=$e.hyphenate(l)+":"+this.style[l]+";");return i&&(e+=' style="'+$e.escape(i)+'"'),e+="'/>",e}}var TS={:"",:"",:"",:""};class zn{constructor(e,i,l,a,o,c,f,m){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=i||0,this.depth=l||0,this.italic=a||0,this.skew=o||0,this.width=c||0,this.classes=f||[],this.style=m||{},this.maxFontSize=0;var p=lS(this.text.charCodeAt(0));p&&this.classes.push(p+"_fallback"),/[]/.test(this.text)&&(this.text=TS[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),i=null;this.italic>0&&(i=document.createElement("span"),i.style.marginRight=he(this.italic)),this.classes.length>0&&(i=i||document.createElement("span"),i.className=rr(this.classes));for(var l in this.style)this.style.hasOwnProperty(l)&&(i=i||document.createElement("span"),i.style[l]=this.style[l]);return i?(i.appendChild(e),i):e}toMarkup(){var e=!1,i="<span";this.classes.length&&(e=!0,i+=' class="',i+=$e.escape(rr(this.classes)),i+='"');var l="";this.italic>0&&(l+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(l+=$e.hyphenate(a)+":"+this.style[a]+";");l&&(e=!0,i+=' style="'+$e.escape(l)+'"');var o=$e.escape(this.text);return e?(i+=">",i+=o,i+="</span>",i):o}}class wi{constructor(e,i){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=i||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg");for(var l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);for(var a=0;a<this.children.length;a++)i.appendChild(this.children[a].toNode());return i}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+$e.escape(this.attributes[i])+'"');e+=">";for(var l=0;l<this.children.length;l++)e+=this.children[l].toMarkup();return e+="</svg>",e}}class lr{constructor(e,i){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=i}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"path");return this.alternate?i.setAttribute("d",this.alternate):i.setAttribute("d",y4[this.pathName]),i}toMarkup(){return this.alternate?'<path d="'+$e.escape(this.alternate)+'"/>':'<path d="'+$e.escape(y4[this.pathName])+'"/>'}}class Fc{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"line");for(var l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&i.setAttribute(l,this.attributes[l]);return i}toMarkup(){var e="<line";for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+$e.escape(this.attributes[i])+'"');return e+="/>",e}}function T4(t){if(t instanceof zn)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function wS(t){if(t instanceof Da)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var AS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ES={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ut={math:{},text:{}};function b(t,e,i,l,a,o){ut[t][a]={font:e,group:i,replace:l},o&&l&&(ut[t][l]=ut[t][a])}var w="math",le="text",C="main",I="ams",pt="accent-token",xe="bin",Kt="close",Ml="inner",_e="mathord",_t="op-token",xn="open",Ho="punct",D="rel",Mi="spacing",H="textord";b(w,C,D,"","\\equiv",!0);b(w,C,D,"","\\prec",!0);b(w,C,D,"","\\succ",!0);b(w,C,D,"","\\sim",!0);b(w,C,D,"","\\perp");b(w,C,D,"","\\preceq",!0);b(w,C,D,"","\\succeq",!0);b(w,C,D,"","\\simeq",!0);b(w,C,D,"","\\mid",!0);b(w,C,D,"","\\ll",!0);b(w,C,D,"","\\gg",!0);b(w,C,D,"","\\asymp",!0);b(w,C,D,"","\\parallel");b(w,C,D,"","\\bowtie",!0);b(w,C,D,"","\\smile",!0);b(w,C,D,"","\\sqsubseteq",!0);b(w,C,D,"","\\sqsupseteq",!0);b(w,C,D,"","\\doteq",!0);b(w,C,D,"","\\frown",!0);b(w,C,D,"","\\ni",!0);b(w,C,D,"","\\propto",!0);b(w,C,D,"","\\vdash",!0);b(w,C,D,"","\\dashv",!0);b(w,C,D,"","\\owns");b(w,C,Ho,".","\\ldotp");b(w,C,Ho,"","\\cdotp");b(w,C,H,"#","\\#");b(le,C,H,"#","\\#");b(w,C,H,"&","\\&");b(le,C,H,"&","\\&");b(w,C,H,"","\\aleph",!0);b(w,C,H,"","\\forall",!0);b(w,C,H,"","\\hbar",!0);b(w,C,H,"","\\exists",!0);b(w,C,H,"","\\nabla",!0);b(w,C,H,"","\\flat",!0);b(w,C,H,"","\\ell",!0);b(w,C,H,"","\\natural",!0);b(w,C,H,"","\\clubsuit",!0);b(w,C,H,"","\\wp",!0);b(w,C,H,"","\\sharp",!0);b(w,C,H,"","\\diamondsuit",!0);b(w,C,H,"","\\Re",!0);b(w,C,H,"","\\heartsuit",!0);b(w,C,H,"","\\Im",!0);b(w,C,H,"","\\spadesuit",!0);b(w,C,H,"","\\S",!0);b(le,C,H,"","\\S");b(w,C,H,"","\\P",!0);b(le,C,H,"","\\P");b(w,C,H,"","\\dag");b(le,C,H,"","\\dag");b(le,C,H,"","\\textdagger");b(w,C,H,"","\\ddag");b(le,C,H,"","\\ddag");b(le,C,H,"","\\textdaggerdbl");b(w,C,Kt,"","\\rmoustache",!0);b(w,C,xn,"","\\lmoustache",!0);b(w,C,Kt,"","\\rgroup",!0);b(w,C,xn,"","\\lgroup",!0);b(w,C,xe,"","\\mp",!0);b(w,C,xe,"","\\ominus",!0);b(w,C,xe,"","\\uplus",!0);b(w,C,xe,"","\\sqcap",!0);b(w,C,xe,"","\\ast");b(w,C,xe,"","\\sqcup",!0);b(w,C,xe,"","\\bigcirc",!0);b(w,C,xe,"","\\bullet",!0);b(w,C,xe,"","\\ddagger");b(w,C,xe,"","\\wr",!0);b(w,C,xe,"","\\amalg");b(w,C,xe,"&","\\And");b(w,C,D,"","\\longleftarrow",!0);b(w,C,D,"","\\Leftarrow",!0);b(w,C,D,"","\\Longleftarrow",!0);b(w,C,D,"","\\longrightarrow",!0);b(w,C,D,"","\\Rightarrow",!0);b(w,C,D,"","\\Longrightarrow",!0);b(w,C,D,"","\\leftrightarrow",!0);b(w,C,D,"","\\longleftrightarrow",!0);b(w,C,D,"","\\Leftrightarrow",!0);b(w,C,D,"","\\Longleftrightarrow",!0);b(w,C,D,"","\\mapsto",!0);b(w,C,D,"","\\longmapsto",!0);b(w,C,D,"","\\nearrow",!0);b(w,C,D,"","\\hookleftarrow",!0);b(w,C,D,"","\\hookrightarrow",!0);b(w,C,D,"","\\searrow",!0);b(w,C,D,"","\\leftharpoonup",!0);b(w,C,D,"","\\rightharpoonup",!0);b(w,C,D,"","\\swarrow",!0);b(w,C,D,"","\\leftharpoondown",!0);b(w,C,D,"","\\rightharpoondown",!0);b(w,C,D,"","\\nwarrow",!0);b(w,C,D,"","\\rightleftharpoons",!0);b(w,I,D,"","\\nless",!0);b(w,I,D,"","\\@nleqslant");b(w,I,D,"","\\@nleqq");b(w,I,D,"","\\lneq",!0);b(w,I,D,"","\\lneqq",!0);b(w,I,D,"","\\@lvertneqq");b(w,I,D,"","\\lnsim",!0);b(w,I,D,"","\\lnapprox",!0);b(w,I,D,"","\\nprec",!0);b(w,I,D,"","\\npreceq",!0);b(w,I,D,"","\\precnsim",!0);b(w,I,D,"","\\precnapprox",!0);b(w,I,D,"","\\nsim",!0);b(w,I,D,"","\\@nshortmid");b(w,I,D,"","\\nmid",!0);b(w,I,D,"","\\nvdash",!0);b(w,I,D,"","\\nvDash",!0);b(w,I,D,"","\\ntriangleleft");b(w,I,D,"","\\ntrianglelefteq",!0);b(w,I,D,"","\\subsetneq",!0);b(w,I,D,"","\\@varsubsetneq");b(w,I,D,"","\\subsetneqq",!0);b(w,I,D,"","\\@varsubsetneqq");b(w,I,D,"","\\ngtr",!0);b(w,I,D,"","\\@ngeqslant");b(w,I,D,"","\\@ngeqq");b(w,I,D,"","\\gneq",!0);b(w,I,D,"","\\gneqq",!0);b(w,I,D,"","\\@gvertneqq");b(w,I,D,"","\\gnsim",!0);b(w,I,D,"","\\gnapprox",!0);b(w,I,D,"","\\nsucc",!0);b(w,I,D,"","\\nsucceq",!0);b(w,I,D,"","\\succnsim",!0);b(w,I,D,"","\\succnapprox",!0);b(w,I,D,"","\\ncong",!0);b(w,I,D,"","\\@nshortparallel");b(w,I,D,"","\\nparallel",!0);b(w,I,D,"","\\nVDash",!0);b(w,I,D,"","\\ntriangleright");b(w,I,D,"","\\ntrianglerighteq",!0);b(w,I,D,"","\\@nsupseteqq");b(w,I,D,"","\\supsetneq",!0);b(w,I,D,"","\\@varsupsetneq");b(w,I,D,"","\\supsetneqq",!0);b(w,I,D,"","\\@varsupsetneqq");b(w,I,D,"","\\nVdash",!0);b(w,I,D,"","\\precneqq",!0);b(w,I,D,"","\\succneqq",!0);b(w,I,D,"","\\@nsubseteqq");b(w,I,xe,"","\\unlhd");b(w,I,xe,"","\\unrhd");b(w,I,D,"","\\nleftarrow",!0);b(w,I,D,"","\\nrightarrow",!0);b(w,I,D,"","\\nLeftarrow",!0);b(w,I,D,"","\\nRightarrow",!0);b(w,I,D,"","\\nleftrightarrow",!0);b(w,I,D,"","\\nLeftrightarrow",!0);b(w,I,D,"","\\vartriangle");b(w,I,H,"","\\hslash");b(w,I,H,"","\\triangledown");b(w,I,H,"","\\lozenge");b(w,I,H,"","\\circledS");b(w,I,H,"","\\circledR");b(le,I,H,"","\\circledR");b(w,I,H,"","\\measuredangle",!0);b(w,I,H,"","\\nexists");b(w,I,H,"","\\mho");b(w,I,H,"","\\Finv",!0);b(w,I,H,"","\\Game",!0);b(w,I,H,"","\\backprime");b(w,I,H,"","\\blacktriangle");b(w,I,H,"","\\blacktriangledown");b(w,I,H,"","\\blacksquare");b(w,I,H,"","\\blacklozenge");b(w,I,H,"","\\bigstar");b(w,I,H,"","\\sphericalangle",!0);b(w,I,H,"","\\complement",!0);b(w,I,H,"","\\eth",!0);b(le,C,H,"","");b(w,I,H,"","\\diagup");b(w,I,H,"","\\diagdown");b(w,I,H,"","\\square");b(w,I,H,"","\\Box");b(w,I,H,"","\\Diamond");b(w,I,H,"","\\yen",!0);b(le,I,H,"","\\yen",!0);b(w,I,H,"","\\checkmark",!0);b(le,I,H,"","\\checkmark");b(w,I,H,"","\\beth",!0);b(w,I,H,"","\\daleth",!0);b(w,I,H,"","\\gimel",!0);b(w,I,H,"","\\digamma",!0);b(w,I,H,"","\\varkappa");b(w,I,xn,"","\\@ulcorner",!0);b(w,I,Kt,"","\\@urcorner",!0);b(w,I,xn,"","\\@llcorner",!0);b(w,I,Kt,"","\\@lrcorner",!0);b(w,I,D,"","\\leqq",!0);b(w,I,D,"","\\leqslant",!0);b(w,I,D,"","\\eqslantless",!0);b(w,I,D,"","\\lesssim",!0);b(w,I,D,"","\\lessapprox",!0);b(w,I,D,"","\\approxeq",!0);b(w,I,xe,"","\\lessdot");b(w,I,D,"","\\lll",!0);b(w,I,D,"","\\lessgtr",!0);b(w,I,D,"","\\lesseqgtr",!0);b(w,I,D,"","\\lesseqqgtr",!0);b(w,I,D,"","\\doteqdot");b(w,I,D,"","\\risingdotseq",!0);b(w,I,D,"","\\fallingdotseq",!0);b(w,I,D,"","\\backsim",!0);b(w,I,D,"","\\backsimeq",!0);b(w,I,D,"","\\subseteqq",!0);b(w,I,D,"","\\Subset",!0);b(w,I,D,"","\\sqsubset",!0);b(w,I,D,"","\\preccurlyeq",!0);b(w,I,D,"","\\curlyeqprec",!0);b(w,I,D,"","\\precsim",!0);b(w,I,D,"","\\precapprox",!0);b(w,I,D,"","\\vartriangleleft");b(w,I,D,"","\\trianglelefteq");b(w,I,D,"","\\vDash",!0);b(w,I,D,"","\\Vvdash",!0);b(w,I,D,"","\\smallsmile");b(w,I,D,"","\\smallfrown");b(w,I,D,"","\\bumpeq",!0);b(w,I,D,"","\\Bumpeq",!0);b(w,I,D,"","\\geqq",!0);b(w,I,D,"","\\geqslant",!0);b(w,I,D,"","\\eqslantgtr",!0);b(w,I,D,"","\\gtrsim",!0);b(w,I,D,"","\\gtrapprox",!0);b(w,I,xe,"","\\gtrdot");b(w,I,D,"","\\ggg",!0);b(w,I,D,"","\\gtrless",!0);b(w,I,D,"","\\gtreqless",!0);b(w,I,D,"","\\gtreqqless",!0);b(w,I,D,"","\\eqcirc",!0);b(w,I,D,"","\\circeq",!0);b(w,I,D,"","\\triangleq",!0);b(w,I,D,"","\\thicksim");b(w,I,D,"","\\thickapprox");b(w,I,D,"","\\supseteqq",!0);b(w,I,D,"","\\Supset",!0);b(w,I,D,"","\\sqsupset",!0);b(w,I,D,"","\\succcurlyeq",!0);b(w,I,D,"","\\curlyeqsucc",!0);b(w,I,D,"","\\succsim",!0);b(w,I,D,"","\\succapprox",!0);b(w,I,D,"","\\vartriangleright");b(w,I,D,"","\\trianglerighteq");b(w,I,D,"","\\Vdash",!0);b(w,I,D,"","\\shortmid");b(w,I,D,"","\\shortparallel");b(w,I,D,"","\\between",!0);b(w,I,D,"","\\pitchfork",!0);b(w,I,D,"","\\varpropto");b(w,I,D,"","\\blacktriangleleft");b(w,I,D,"","\\therefore",!0);b(w,I,D,"","\\backepsilon");b(w,I,D,"","\\blacktriangleright");b(w,I,D,"","\\because",!0);b(w,I,D,"","\\llless");b(w,I,D,"","\\gggtr");b(w,I,xe,"","\\lhd");b(w,I,xe,"","\\rhd");b(w,I,D,"","\\eqsim",!0);b(w,C,D,"","\\Join");b(w,I,D,"","\\Doteq",!0);b(w,I,xe,"","\\dotplus",!0);b(w,I,xe,"","\\smallsetminus");b(w,I,xe,"","\\Cap",!0);b(w,I,xe,"","\\Cup",!0);b(w,I,xe,"","\\doublebarwedge",!0);b(w,I,xe,"","\\boxminus",!0);b(w,I,xe,"","\\boxplus",!0);b(w,I,xe,"","\\divideontimes",!0);b(w,I,xe,"","\\ltimes",!0);b(w,I,xe,"","\\rtimes",!0);b(w,I,xe,"","\\leftthreetimes",!0);b(w,I,xe,"","\\rightthreetimes",!0);b(w,I,xe,"","\\curlywedge",!0);b(w,I,xe,"","\\curlyvee",!0);b(w,I,xe,"","\\circleddash",!0);b(w,I,xe,"","\\circledast",!0);b(w,I,xe,"","\\centerdot");b(w,I,xe,"","\\intercal",!0);b(w,I,xe,"","\\doublecap");b(w,I,xe,"","\\doublecup");b(w,I,xe,"","\\boxtimes",!0);b(w,I,D,"","\\dashrightarrow",!0);b(w,I,D,"","\\dashleftarrow",!0);b(w,I,D,"","\\leftleftarrows",!0);b(w,I,D,"","\\leftrightarrows",!0);b(w,I,D,"","\\Lleftarrow",!0);b(w,I,D,"","\\twoheadleftarrow",!0);b(w,I,D,"","\\leftarrowtail",!0);b(w,I,D,"","\\looparrowleft",!0);b(w,I,D,"","\\leftrightharpoons",!0);b(w,I,D,"","\\curvearrowleft",!0);b(w,I,D,"","\\circlearrowleft",!0);b(w,I,D,"","\\Lsh",!0);b(w,I,D,"","\\upuparrows",!0);b(w,I,D,"","\\upharpoonleft",!0);b(w,I,D,"","\\downharpoonleft",!0);b(w,C,D,"","\\origof",!0);b(w,C,D,"","\\imageof",!0);b(w,I,D,"","\\multimap",!0);b(w,I,D,"","\\leftrightsquigarrow",!0);b(w,I,D,"","\\rightrightarrows",!0);b(w,I,D,"","\\rightleftarrows",!0);b(w,I,D,"","\\twoheadrightarrow",!0);b(w,I,D,"","\\rightarrowtail",!0);b(w,I,D,"","\\looparrowright",!0);b(w,I,D,"","\\curvearrowright",!0);b(w,I,D,"","\\circlearrowright",!0);b(w,I,D,"","\\Rsh",!0);b(w,I,D,"","\\downdownarrows",!0);b(w,I,D,"","\\upharpoonright",!0);b(w,I,D,"","\\downharpoonright",!0);b(w,I,D,"","\\rightsquigarrow",!0);b(w,I,D,"","\\leadsto");b(w,I,D,"","\\Rrightarrow",!0);b(w,I,D,"","\\restriction");b(w,C,H,"","`");b(w,C,H,"$","\\$");b(le,C,H,"$","\\$");b(le,C,H,"$","\\textdollar");b(w,C,H,"%","\\%");b(le,C,H,"%","\\%");b(w,C,H,"_","\\_");b(le,C,H,"_","\\_");b(le,C,H,"_","\\textunderscore");b(w,C,H,"","\\angle",!0);b(w,C,H,"","\\infty",!0);b(w,C,H,"","\\prime");b(w,C,H,"","\\triangle");b(w,C,H,"","\\Gamma",!0);b(w,C,H,"","\\Delta",!0);b(w,C,H,"","\\Theta",!0);b(w,C,H,"","\\Lambda",!0);b(w,C,H,"","\\Xi",!0);b(w,C,H,"","\\Pi",!0);b(w,C,H,"","\\Sigma",!0);b(w,C,H,"","\\Upsilon",!0);b(w,C,H,"","\\Phi",!0);b(w,C,H,"","\\Psi",!0);b(w,C,H,"","\\Omega",!0);b(w,C,H,"A","");b(w,C,H,"B","");b(w,C,H,"E","");b(w,C,H,"Z","");b(w,C,H,"H","");b(w,C,H,"I","");b(w,C,H,"K","");b(w,C,H,"M","");b(w,C,H,"N","");b(w,C,H,"O","");b(w,C,H,"P","");b(w,C,H,"T","");b(w,C,H,"X","");b(w,C,H,"","\\neg",!0);b(w,C,H,"","\\lnot");b(w,C,H,"","\\top");b(w,C,H,"","\\bot");b(w,C,H,"","\\emptyset");b(w,I,H,"","\\varnothing");b(w,C,_e,"","\\alpha",!0);b(w,C,_e,"","\\beta",!0);b(w,C,_e,"","\\gamma",!0);b(w,C,_e,"","\\delta",!0);b(w,C,_e,"","\\epsilon",!0);b(w,C,_e,"","\\zeta",!0);b(w,C,_e,"","\\eta",!0);b(w,C,_e,"","\\theta",!0);b(w,C,_e,"","\\iota",!0);b(w,C,_e,"","\\kappa",!0);b(w,C,_e,"","\\lambda",!0);b(w,C,_e,"","\\mu",!0);b(w,C,_e,"","\\nu",!0);b(w,C,_e,"","\\xi",!0);b(w,C,_e,"","\\omicron",!0);b(w,C,_e,"","\\pi",!0);b(w,C,_e,"","\\rho",!0);b(w,C,_e,"","\\sigma",!0);b(w,C,_e,"","\\tau",!0);b(w,C,_e,"","\\upsilon",!0);b(w,C,_e,"","\\phi",!0);b(w,C,_e,"","\\chi",!0);b(w,C,_e,"","\\psi",!0);b(w,C,_e,"","\\omega",!0);b(w,C,_e,"","\\varepsilon",!0);b(w,C,_e,"","\\vartheta",!0);b(w,C,_e,"","\\varpi",!0);b(w,C,_e,"","\\varrho",!0);b(w,C,_e,"","\\varsigma",!0);b(w,C,_e,"","\\varphi",!0);b(w,C,xe,"","*",!0);b(w,C,xe,"+","+");b(w,C,xe,"","-",!0);b(w,C,xe,"","\\cdot",!0);b(w,C,xe,"","\\circ",!0);b(w,C,xe,"","\\div",!0);b(w,C,xe,"","\\pm",!0);b(w,C,xe,"","\\times",!0);b(w,C,xe,"","\\cap",!0);b(w,C,xe,"","\\cup",!0);b(w,C,xe,"","\\setminus",!0);b(w,C,xe,"","\\land");b(w,C,xe,"","\\lor");b(w,C,xe,"","\\wedge",!0);b(w,C,xe,"","\\vee",!0);b(w,C,H,"","\\surd");b(w,C,xn,"","\\langle",!0);b(w,C,xn,"","\\lvert");b(w,C,xn,"","\\lVert");b(w,C,Kt,"?","?");b(w,C,Kt,"!","!");b(w,C,Kt,"","\\rangle",!0);b(w,C,Kt,"","\\rvert");b(w,C,Kt,"","\\rVert");b(w,C,D,"=","=");b(w,C,D,":",":");b(w,C,D,"","\\approx",!0);b(w,C,D,"","\\cong",!0);b(w,C,D,"","\\ge");b(w,C,D,"","\\geq",!0);b(w,C,D,"","\\gets");b(w,C,D,">","\\gt",!0);b(w,C,D,"","\\in",!0);b(w,C,D,"","\\@not");b(w,C,D,"","\\subset",!0);b(w,C,D,"","\\supset",!0);b(w,C,D,"","\\subseteq",!0);b(w,C,D,"","\\supseteq",!0);b(w,I,D,"","\\nsubseteq",!0);b(w,I,D,"","\\nsupseteq",!0);b(w,C,D,"","\\models");b(w,C,D,"","\\leftarrow",!0);b(w,C,D,"","\\le");b(w,C,D,"","\\leq",!0);b(w,C,D,"<","\\lt",!0);b(w,C,D,"","\\rightarrow",!0);b(w,C,D,"","\\to");b(w,I,D,"","\\ngeq",!0);b(w,I,D,"","\\nleq",!0);b(w,C,Mi,"","\\ ");b(w,C,Mi,"","\\space");b(w,C,Mi,"","\\nobreakspace");b(le,C,Mi,"","\\ ");b(le,C,Mi,""," ");b(le,C,Mi,"","\\space");b(le,C,Mi,"","\\nobreakspace");b(w,C,Mi,null,"\\nobreak");b(w,C,Mi,null,"\\allowbreak");b(w,C,Ho,",",",");b(w,C,Ho,";",";");b(w,I,xe,"","\\barwedge",!0);b(w,I,xe,"","\\veebar",!0);b(w,C,xe,"","\\odot",!0);b(w,C,xe,"","\\oplus",!0);b(w,C,xe,"","\\otimes",!0);b(w,C,H,"","\\partial",!0);b(w,C,xe,"","\\oslash",!0);b(w,I,xe,"","\\circledcirc",!0);b(w,I,xe,"","\\boxdot",!0);b(w,C,xe,"","\\bigtriangleup");b(w,C,xe,"","\\bigtriangledown");b(w,C,xe,"","\\dagger");b(w,C,xe,"","\\diamond");b(w,C,xe,"","\\star");b(w,C,xe,"","\\triangleleft");b(w,C,xe,"","\\triangleright");b(w,C,xn,"{","\\{");b(le,C,H,"{","\\{");b(le,C,H,"{","\\textbraceleft");b(w,C,Kt,"}","\\}");b(le,C,H,"}","\\}");b(le,C,H,"}","\\textbraceright");b(w,C,xn,"{","\\lbrace");b(w,C,Kt,"}","\\rbrace");b(w,C,xn,"[","\\lbrack",!0);b(le,C,H,"[","\\lbrack",!0);b(w,C,Kt,"]","\\rbrack",!0);b(le,C,H,"]","\\rbrack",!0);b(w,C,xn,"(","\\lparen",!0);b(w,C,Kt,")","\\rparen",!0);b(le,C,H,"<","\\textless",!0);b(le,C,H,">","\\textgreater",!0);b(w,C,xn,"","\\lfloor",!0);b(w,C,Kt,"","\\rfloor",!0);b(w,C,xn,"","\\lceil",!0);b(w,C,Kt,"","\\rceil",!0);b(w,C,H,"\\","\\backslash");b(w,C,H,"","|");b(w,C,H,"","\\vert");b(le,C,H,"|","\\textbar",!0);b(w,C,H,"","\\|");b(w,C,H,"","\\Vert");b(le,C,H,"","\\textbardbl");b(le,C,H,"~","\\textasciitilde");b(le,C,H,"\\","\\textbackslash");b(le,C,H,"^","\\textasciicircum");b(w,C,D,"","\\uparrow",!0);b(w,C,D,"","\\Uparrow",!0);b(w,C,D,"","\\downarrow",!0);b(w,C,D,"","\\Downarrow",!0);b(w,C,D,"","\\updownarrow",!0);b(w,C,D,"","\\Updownarrow",!0);b(w,C,_t,"","\\coprod");b(w,C,_t,"","\\bigvee");b(w,C,_t,"","\\bigwedge");b(w,C,_t,"","\\biguplus");b(w,C,_t,"","\\bigcap");b(w,C,_t,"","\\bigcup");b(w,C,_t,"","\\int");b(w,C,_t,"","\\intop");b(w,C,_t,"","\\iint");b(w,C,_t,"","\\iiint");b(w,C,_t,"","\\prod");b(w,C,_t,"","\\sum");b(w,C,_t,"","\\bigotimes");b(w,C,_t,"","\\bigoplus");b(w,C,_t,"","\\bigodot");b(w,C,_t,"","\\oint");b(w,C,_t,"","\\oiint");b(w,C,_t,"","\\oiiint");b(w,C,_t,"","\\bigsqcup");b(w,C,_t,"","\\smallint");b(le,C,Ml,"","\\textellipsis");b(w,C,Ml,"","\\mathellipsis");b(le,C,Ml,"","\\ldots",!0);b(w,C,Ml,"","\\ldots",!0);b(w,C,Ml,"","\\@cdots",!0);b(w,C,Ml,"","\\ddots",!0);b(w,C,H,"","\\varvdots");b(le,C,H,"","\\varvdots");b(w,C,pt,"","\\acute");b(w,C,pt,"","\\grave");b(w,C,pt,"","\\ddot");b(w,C,pt,"~","\\tilde");b(w,C,pt,"","\\bar");b(w,C,pt,"","\\breve");b(w,C,pt,"","\\check");b(w,C,pt,"^","\\hat");b(w,C,pt,"","\\vec");b(w,C,pt,"","\\dot");b(w,C,pt,"","\\mathring");b(w,C,_e,"","\\@imath");b(w,C,_e,"","\\@jmath");b(w,C,H,"","");b(w,C,H,"","");b(le,C,H,"","\\i",!0);b(le,C,H,"","\\j",!0);b(le,C,H,"","\\ss",!0);b(le,C,H,"","\\ae",!0);b(le,C,H,"","\\oe",!0);b(le,C,H,"","\\o",!0);b(le,C,H,"","\\AE",!0);b(le,C,H,"","\\OE",!0);b(le,C,H,"","\\O",!0);b(le,C,pt,"","\\'");b(le,C,pt,"","\\`");b(le,C,pt,"","\\^");b(le,C,pt,"","\\~");b(le,C,pt,"","\\=");b(le,C,pt,"","\\u");b(le,C,pt,"","\\.");b(le,C,pt,"","\\c");b(le,C,pt,"","\\r");b(le,C,pt,"","\\v");b(le,C,pt,"",'\\"');b(le,C,pt,"","\\H");b(le,C,pt,"","\\textcircled");var eg={"--":!0,"---":!0,"``":!0,"''":!0};b(le,C,H,"","--",!0);b(le,C,H,"","\\textendash");b(le,C,H,"","---",!0);b(le,C,H,"","\\textemdash");b(le,C,H,"","`",!0);b(le,C,H,"","\\textquoteleft");b(le,C,H,"","'",!0);b(le,C,H,"","\\textquoteright");b(le,C,H,"","``",!0);b(le,C,H,"","\\textquotedblleft");b(le,C,H,"","''",!0);b(le,C,H,"","\\textquotedblright");b(w,C,H,"","\\degree",!0);b(le,C,H,"","\\degree");b(le,C,H,"","\\textdegree",!0);b(w,C,H,"","\\pounds");b(w,C,H,"","\\mathsterling",!0);b(le,C,H,"","\\pounds");b(le,C,H,"","\\textsterling",!0);b(w,I,H,"","\\maltese");b(le,I,H,"","\\maltese");var w4='0123456789/@."';for(var mc=0;mc<w4.length;mc++){var A4=w4.charAt(mc);b(w,C,H,A4,A4)}var E4='0123456789!@*()-=+";:?/.,';for(var pc=0;pc<E4.length;pc++){var C4=E4.charAt(pc);b(le,C,H,C4,C4)}var Co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var gc=0;gc<Co.length;gc++){var lo=Co.charAt(gc);b(w,C,_e,lo,lo),b(le,C,H,lo,lo)}b(w,I,H,"C","");b(le,I,H,"C","");b(w,I,H,"H","");b(le,I,H,"H","");b(w,I,H,"N","");b(le,I,H,"N","");b(w,I,H,"P","");b(le,I,H,"P","");b(w,I,H,"Q","");b(le,I,H,"Q","");b(w,I,H,"R","");b(le,I,H,"R","");b(w,I,H,"Z","");b(le,I,H,"Z","");b(w,C,_e,"h","");b(le,C,_e,"h","");var Ie="";for(var Yt=0;Yt<Co.length;Yt++){var bt=Co.charAt(Yt);Ie=String.fromCharCode(55349,56320+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56372+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56424+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56580+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56684+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56736+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56788+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56840+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56944+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Yt<26&&(Ie=String.fromCharCode(55349,56632+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie),Ie=String.fromCharCode(55349,56476+Yt),b(w,C,_e,bt,Ie),b(le,C,H,bt,Ie))}Ie="";b(w,C,_e,"k",Ie);b(le,C,H,"k",Ie);for(var Mr=0;Mr<10;Mr++){var nr=Mr.toString();Ie=String.fromCharCode(55349,57294+Mr),b(w,C,_e,nr,Ie),b(le,C,H,nr,Ie),Ie=String.fromCharCode(55349,57314+Mr),b(w,C,_e,nr,Ie),b(le,C,H,nr,Ie),Ie=String.fromCharCode(55349,57324+Mr),b(w,C,_e,nr,Ie),b(le,C,H,nr,Ie),Ie=String.fromCharCode(55349,57334+Mr),b(w,C,_e,nr,Ie),b(le,C,H,nr,Ie)}var Yc="";for(var vc=0;vc<Yc.length;vc++){var ao=Yc.charAt(vc);b(w,C,_e,ao,ao),b(le,C,H,ao,ao)}var so=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],N4=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],CS=function(e,i){var l=e.charCodeAt(0),a=e.charCodeAt(1),o=(l-55296)*1024+(a-56320)+65536,c=i==="math"?0:1;if(119808<=o&&o<120484){var f=Math.floor((o-119808)/26);return[so[f][2],so[f][c]]}else if(120782<=o&&o<=120831){var m=Math.floor((o-120782)/10);return[N4[m][2],N4[m][c]]}else{if(o===120485||o===120486)return[so[0][2],so[0][c]];if(120486<o&&o<120782)return["",""];throw new ue("Unsupported character: "+e)}},Go=function(e,i,l){return ut[l][e]&&ut[l][e].replace&&(e=ut[l][e].replace),{value:e,metrics:cd(e,i,l)}},qn=function(e,i,l,a,o){var c=Go(e,i,l),f=c.metrics;e=c.value;var m;if(f){var p=f.italic;(l==="text"||a&&a.font==="mathit")&&(p=0),m=new zn(e,f.height,f.depth,p,f.skew,f.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+i+"' and mode '"+l+"'")),m=new zn(e,0,0,0,0,0,o);if(a){m.maxFontSize=a.sizeMultiplier,a.style.isTight()&&m.classes.push("mtight");var x=a.getColor();x&&(m.style.color=x)}return m},NS=function(e,i,l,a){return a===void 0&&(a=[]),l.font==="boldsymbol"&&Go(e,"Main-Bold",i).metrics?qn(e,"Main-Bold",i,l,a.concat(["mathbf"])):e==="\\"||ut[i][e].font==="main"?qn(e,"Main-Regular",i,l,a):qn(e,"AMS-Regular",i,l,a.concat(["amsrm"]))},MS=function(e,i,l,a,o){return o!=="textord"&&Go(e,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},_S=function(e,i,l){var a=e.mode,o=e.text,c=["mord"],f=a==="math"||a==="text"&&i.font,m=f?i.font:i.fontFamily,p="",x="";if(o.charCodeAt(0)===55349&&([p,x]=CS(o,a)),p.length>0)return qn(o,p,a,i,c.concat(x));if(m){var S,T;if(m==="boldsymbol"){var E=MS(o,a,i,c,l);S=E.fontName,T=[E.fontClass]}else f?(S=ig[m].fontName,T=[m]):(S=oo(m,i.fontWeight,i.fontShape),T=[m,i.fontWeight,i.fontShape]);if(Go(o,S,a).metrics)return qn(o,S,a,i,c.concat(T));if(eg.hasOwnProperty(o)&&S.slice(0,10)==="Typewriter"){for(var _=[],R=0;R<o.length;R++)_.push(qn(o[R],S,a,i,c.concat(T)));return ng(_)}}if(l==="mathord")return qn(o,"Math-Italic",a,i,c.concat(["mathnormal"]));if(l==="textord"){var k=ut[a][o]&&ut[a][o].font;if(k==="ams"){var U=oo("amsrm",i.fontWeight,i.fontShape);return qn(o,U,a,i,c.concat("amsrm",i.fontWeight,i.fontShape))}else if(k==="main"||!k){var Q=oo("textrm",i.fontWeight,i.fontShape);return qn(o,Q,a,i,c.concat(i.fontWeight,i.fontShape))}else{var J=oo(k,i.fontWeight,i.fontShape);return qn(o,J,a,i,c.concat(J,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+l+" in makeOrd")},RS=(t,e)=>{if(rr(t.classes)!==rr(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var i=t.classes[0];if(i==="mbin"||i==="mord")return!1}for(var l in t.style)if(t.style.hasOwnProperty(l)&&t.style[l]!==e.style[l])return!1;for(var a in e.style)if(e.style.hasOwnProperty(a)&&t.style[a]!==e.style[a])return!1;return!0},kS=t=>{for(var e=0;e<t.length-1;e++){var i=t[e],l=t[e+1];i instanceof zn&&l instanceof zn&&RS(i,l)&&(i.text+=l.text,i.height=Math.max(i.height,l.height),i.depth=Math.max(i.depth,l.depth),i.italic=l.italic,t.splice(e+1,1),e--)}return t},fd=function(e){for(var i=0,l=0,a=0,o=0;o<e.children.length;o++){var c=e.children[o];c.height>i&&(i=c.height),c.depth>l&&(l=c.depth),c.maxFontSize>a&&(a=c.maxFontSize)}e.height=i,e.depth=l,e.maxFontSize=a},rn=function(e,i,l,a){var o=new Da(e,i,l,a);return fd(o),o},tg=(t,e,i,l)=>new Da(t,e,i,l),IS=function(e,i,l){var a=rn([e],[],i);return a.height=Math.max(l||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),a.style.borderBottomWidth=he(a.height),a.maxFontSize=1,a},DS=function(e,i,l,a){var o=new dd(e,i,l,a);return fd(o),o},ng=function(e){var i=new Ia(e);return fd(i),i},zS=function(e,i){return e instanceof Ia?rn([],[e],i):e},LS=function(e){if(e.positionType==="individualShift"){for(var i=e.children,l=[i[0]],a=-i[0].shift-i[0].elem.depth,o=a,c=1;c<i.length;c++){var f=-i[c].shift-o-i[c].elem.depth,m=f-(i[c-1].elem.height+i[c-1].elem.depth);o=o+f,l.push({type:"kern",size:m}),l.push(i[c])}return{children:l,depth:a}}var p;if(e.positionType==="top"){for(var x=e.positionData,S=0;S<e.children.length;S++){var T=e.children[S];x-=T.type==="kern"?T.size:T.elem.height+T.elem.depth}p=x}else if(e.positionType==="bottom")p=-e.positionData;else{var E=e.children[0];if(E.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")p=-E.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")p=-E.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:p}},US=function(e,i){for(var{children:l,depth:a}=LS(e),o=0,c=0;c<l.length;c++){var f=l[c];if(f.type==="elem"){var m=f.elem;o=Math.max(o,m.maxFontSize,m.height)}}o+=2;var p=rn(["pstrut"],[]);p.style.height=he(o);for(var x=[],S=a,T=a,E=a,_=0;_<l.length;_++){var R=l[_];if(R.type==="kern")E+=R.size;else{var k=R.elem,U=R.wrapperClasses||[],Q=R.wrapperStyle||{},J=rn(U,[p,k],void 0,Q);J.style.top=he(-o-E-k.depth),R.marginLeft&&(J.style.marginLeft=R.marginLeft),R.marginRight&&(J.style.marginRight=R.marginRight),x.push(J),E+=k.height+k.depth}S=Math.min(S,E),T=Math.max(T,E)}var ie=rn(["vlist"],x);ie.style.height=he(T);var te;if(S<0){var V=rn([],[]),q=rn(["vlist"],[V]);q.style.height=he(-S);var ae=rn(["vlist-s"],[new zn("")]);te=[rn(["vlist-r"],[ie,ae]),rn(["vlist-r"],[q])]}else te=[rn(["vlist-r"],[ie])];var W=rn(["vlist-t"],te);return te.length===2&&W.classes.push("vlist-t2"),W.height=T,W.depth=-S,W},BS=(t,e)=>{var i=rn(["mspace"],[],e),l=vt(t,e);return i.style.marginRight=he(l),i},oo=function(e,i,l){var a="";switch(e){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=e}var o;return i==="textbf"&&l==="textit"?o="BoldItalic":i==="textbf"?o="Bold":i==="textit"?o="Italic":o="Regular",a+"-"+o},ig={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},rg={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},HS=function(e,i){var[l,a,o]=rg[e],c=new lr(l),f=new wi([c],{width:he(a),height:he(o),style:"width:"+he(a),viewBox:"0 0 "+1e3*a+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),m=tg(["overlay"],[f],i);return m.height=o,m.style.height=he(o),m.style.width=he(a),m},O={fontMap:ig,makeSymbol:qn,mathsym:NS,makeSpan:rn,makeSvgSpan:tg,makeLineSpan:IS,makeAnchor:DS,makeFragment:ng,wrapFragment:zS,makeVList:US,makeOrd:_S,makeGlue:BS,staticSvg:HS,svgData:rg,tryCombineChars:kS},gt={number:3,unit:"mu"},_r={number:4,unit:"mu"},yi={number:5,unit:"mu"},GS={mord:{mop:gt,mbin:_r,mrel:yi,minner:gt},mop:{mord:gt,mop:gt,mrel:yi,minner:gt},mbin:{mord:_r,mop:_r,mopen:_r,minner:_r},mrel:{mord:yi,mop:yi,mopen:yi,minner:yi},mopen:{},mclose:{mop:gt,mbin:_r,mrel:yi,minner:gt},mpunct:{mord:gt,mop:gt,mrel:yi,mopen:gt,mclose:gt,mpunct:gt,minner:gt},minner:{mord:gt,mop:gt,mbin:_r,mrel:yi,mopen:gt,mpunct:gt,minner:gt}},qS={mord:{mop:gt},mop:{mord:gt,mop:gt},mbin:{},mrel:{},mopen:{},mclose:{mop:gt},mpunct:{},minner:{mop:gt}},lg={},No={},Mo={};function ge(t){for(var{type:e,names:i,props:l,handler:a,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:l.numArgs,argTypes:l.argTypes,allowedInArgument:!!l.allowedInArgument,allowedInText:!!l.allowedInText,allowedInMath:l.allowedInMath===void 0?!0:l.allowedInMath,numOptionalArgs:l.numOptionalArgs||0,infix:!!l.infix,primitive:!!l.primitive,handler:a},m=0;m<i.length;++m)lg[i[m]]=f;e&&(o&&(No[e]=o),c&&(Mo[e]=c))}function Ir(t){var{type:e,htmlBuilder:i,mathmlBuilder:l}=t;ge({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:i,mathmlBuilder:l})}var _o=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},wt=function(e){return e.type==="ordgroup"?e.body:[e]},Ai=O.makeSpan,PS=["leftmost","mbin","mopen","mrel","mop","mpunct"],OS=["rightmost","mrel","mclose","mpunct"],VS={display:Re.DISPLAY,text:Re.TEXT,script:Re.SCRIPT,scriptscript:Re.SCRIPTSCRIPT},FS={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},kt=function(e,i,l,a){a===void 0&&(a=[null,null]);for(var o=[],c=0;c<e.length;c++){var f=Je(e[c],i);if(f instanceof Ia){var m=f.children;o.push(...m)}else o.push(f)}if(O.tryCombineChars(o),!l)return o;var p=i;if(e.length===1){var x=e[0];x.type==="sizing"?p=i.havingSize(x.size):x.type==="styling"&&(p=i.havingStyle(VS[x.style]))}var S=Ai([a[0]||"leftmost"],[],i),T=Ai([a[1]||"rightmost"],[],i),E=l==="root";return M4(o,(_,R)=>{var k=R.classes[0],U=_.classes[0];k==="mbin"&&OS.includes(U)?R.classes[0]="mord":U==="mbin"&&PS.includes(k)&&(_.classes[0]="mord")},{node:S},T,E),M4(o,(_,R)=>{var k=jc(R),U=jc(_),Q=k&&U?_.hasClass("mtight")?qS[k][U]:GS[k][U]:null;if(Q)return O.makeGlue(Q,p)},{node:S},T,E),o},M4=function t(e,i,l,a,o){a&&e.push(a);for(var c=0;c<e.length;c++){var f=e[c],m=ag(f);if(m){t(m.children,i,l,null,o);continue}var p=!f.hasClass("mspace");if(p){var x=i(f,l.node);x&&(l.insertAfter?l.insertAfter(x):(e.unshift(x),c++))}p?l.node=f:o&&f.hasClass("newline")&&(l.node=Ai(["leftmost"])),l.insertAfter=(S=>T=>{e.splice(S+1,0,T),c++})(c)}a&&e.pop()},ag=function(e){return e instanceof Ia||e instanceof dd||e instanceof Da&&e.hasClass("enclosing")?e:null},YS=function t(e,i){var l=ag(e);if(l){var a=l.children;if(a.length){if(i==="right")return t(a[a.length-1],"right");if(i==="left")return t(a[0],"left")}}return e},jc=function(e,i){return e?(i&&(e=YS(e,i)),FS[e.classes[0]]||null):null},ka=function(e,i){var l=["nulldelimiter"].concat(e.baseSizingClasses());return Ai(i.concat(l))},Je=function(e,i,l){if(!e)return Ai();if(No[e.type]){var a=No[e.type](e,i);if(l&&i.size!==l.size){a=Ai(i.sizingClasses(l),[a],i);var o=i.sizeMultiplier/l.sizeMultiplier;a.height*=o,a.depth*=o}return a}else throw new ue("Got group of unknown type: '"+e.type+"'")};function uo(t,e){var i=Ai(["base"],t,e),l=Ai(["strut"]);return l.style.height=he(i.height+i.depth),i.depth&&(l.style.verticalAlign=he(-i.depth)),i.children.unshift(l),i}function Jc(t,e){var i=null;t.length===1&&t[0].type==="tag"&&(i=t[0].tag,t=t[0].body);var l=kt(t,e,"root"),a;l.length===2&&l[1].hasClass("tag")&&(a=l.pop());for(var o=[],c=[],f=0;f<l.length;f++)if(c.push(l[f]),l[f].hasClass("mbin")||l[f].hasClass("mrel")||l[f].hasClass("allowbreak")){for(var m=!1;f<l.length-1&&l[f+1].hasClass("mspace")&&!l[f+1].hasClass("newline");)f++,c.push(l[f]),l[f].hasClass("nobreak")&&(m=!0);m||(o.push(uo(c,e)),c=[])}else l[f].hasClass("newline")&&(c.pop(),c.length>0&&(o.push(uo(c,e)),c=[]),o.push(l[f]));c.length>0&&o.push(uo(c,e));var p;i?(p=uo(kt(i,e,!0)),p.classes=["tag"],o.push(p)):a&&o.push(a);var x=Ai(["katex-html"],o);if(x.setAttribute("aria-hidden","true"),p){var S=p.children[0];S.style.height=he(x.height+x.depth),x.depth&&(S.style.verticalAlign=he(-x.depth))}return x}function sg(t){return new Ia(t)}class vn{constructor(e,i,l){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=i||[],this.classes=l||[]}setAttribute(e,i){this.attributes[e]=i}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);this.classes.length>0&&(e.className=rr(this.classes));for(var l=0;l<this.children.length;l++)if(this.children[l]instanceof Qn&&this.children[l+1]instanceof Qn){for(var a=this.children[l].toText()+this.children[++l].toText();this.children[l+1]instanceof Qn;)a+=this.children[++l].toText();e.appendChild(new Qn(a).toNode())}else e.appendChild(this.children[l].toNode());return e}toMarkup(){var e="<"+this.type;for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="',e+=$e.escape(this.attributes[i]),e+='"');this.classes.length>0&&(e+=' class ="'+$e.escape(rr(this.classes))+'"'),e+=">";for(var l=0;l<this.children.length;l++)e+=this.children[l].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Qn{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return $e.escape(this.toText())}toText(){return this.text}}class jS{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",he(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+he(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var oe={MathNode:vn,TextNode:Qn,SpaceNode:jS,newDocumentFragment:sg},Ln=function(e,i,l){return ut[i][e]&&ut[i][e].replace&&e.charCodeAt(0)!==55349&&!(eg.hasOwnProperty(e)&&l&&(l.fontFamily&&l.fontFamily.slice(4,6)==="tt"||l.font&&l.font.slice(4,6)==="tt"))&&(e=ut[i][e].replace),new oe.TextNode(e)},hd=function(e){return e.length===1?e[0]:new oe.MathNode("mrow",e)},md=function(e,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";var l=i.font;if(!l||l==="mathnormal")return null;var a=e.mode;if(l==="mathit")return"italic";if(l==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(l==="mathbf")return"bold";if(l==="mathbb")return"double-struck";if(l==="mathsfit")return"sans-serif-italic";if(l==="mathfrak")return"fraktur";if(l==="mathscr"||l==="mathcal")return"script";if(l==="mathsf")return"sans-serif";if(l==="mathtt")return"monospace";var o=e.text;if(["\\imath","\\jmath"].includes(o))return null;ut[a][o]&&ut[a][o].replace&&(o=ut[a][o].replace);var c=O.fontMap[l].fontName;return cd(o,c,a)?O.fontMap[l].variant:null};function yc(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Qn&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var i=t.children[0];return i instanceof Qn&&i.text===","}else return!1}var an=function(e,i,l){if(e.length===1){var a=ot(e[0],i);return l&&a instanceof vn&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var o=[],c,f=0;f<e.length;f++){var m=ot(e[f],i);if(m instanceof vn&&c instanceof vn){if(m.type==="mtext"&&c.type==="mtext"&&m.getAttribute("mathvariant")===c.getAttribute("mathvariant")){c.children.push(...m.children);continue}else if(m.type==="mn"&&c.type==="mn"){c.children.push(...m.children);continue}else if(yc(m)&&c.type==="mn"){c.children.push(...m.children);continue}else if(m.type==="mn"&&yc(c))m.children=[...c.children,...m.children],o.pop();else if((m.type==="msup"||m.type==="msub")&&m.children.length>=1&&(c.type==="mn"||yc(c))){var p=m.children[0];p instanceof vn&&p.type==="mn"&&(p.children=[...c.children,...p.children],o.pop())}else if(c.type==="mi"&&c.children.length===1){var x=c.children[0];if(x instanceof Qn&&x.text===""&&(m.type==="mo"||m.type==="mi"||m.type==="mn")){var S=m.children[0];S instanceof Qn&&S.text.length>0&&(S.text=S.text.slice(0,1)+""+S.text.slice(1),o.pop())}}}o.push(m),c=m}return o},ar=function(e,i,l){return hd(an(e,i,l))},ot=function(e,i){if(!e)return new oe.MathNode("mrow");if(Mo[e.type]){var l=Mo[e.type](e,i);return l}else throw new ue("Got group of unknown type: '"+e.type+"'")};function _4(t,e,i,l,a){var o=an(t,i),c;o.length===1&&o[0]instanceof vn&&["mrow","mtable"].includes(o[0].type)?c=o[0]:c=new oe.MathNode("mrow",o);var f=new oe.MathNode("annotation",[new oe.TextNode(e)]);f.setAttribute("encoding","application/x-tex");var m=new oe.MathNode("semantics",[c,f]),p=new oe.MathNode("math",[m]);p.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),l&&p.setAttribute("display","block");var x=a?"katex":"katex-mathml";return O.makeSpan([x],[p])}var og=function(e){return new xi({style:e.displayMode?Re.DISPLAY:Re.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},ug=function(e,i){if(i.displayMode){var l=["katex-display"];i.leqno&&l.push("leqno"),i.fleqn&&l.push("fleqn"),e=O.makeSpan(l,[e])}return e},JS=function(e,i,l){var a=og(l),o;if(l.output==="mathml")return _4(e,i,a,l.displayMode,!0);if(l.output==="html"){var c=Jc(e,a);o=O.makeSpan(["katex"],[c])}else{var f=_4(e,i,a,l.displayMode,!1),m=Jc(e,a);o=O.makeSpan(["katex"],[f,m])}return ug(o,l)},XS=function(e,i,l){var a=og(l),o=Jc(e,a),c=O.makeSpan(["katex"],[o]);return ug(c,l)},KS={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},QS=function(e){var i=new oe.MathNode("mo",[new oe.TextNode(KS[e.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},$S={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},ZS=function(e){return e.type==="ordgroup"?e.body.length:1},WS=function(e,i){function l(){var f=4e5,m=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(m)){var p=e,x=ZS(p.base),S,T,E;if(x>5)m==="widehat"||m==="widecheck"?(S=420,f=2364,E=.42,T=m+"4"):(S=312,f=2340,E=.34,T="tilde4");else{var _=[1,1,2,2,3,3][x];m==="widehat"||m==="widecheck"?(f=[0,1062,2364,2364,2364][_],S=[0,239,300,360,420][_],E=[0,.24,.3,.3,.36,.42][_],T=m+_):(f=[0,600,1033,2339,2340][_],S=[0,260,286,306,312][_],E=[0,.26,.286,.3,.306,.34][_],T="tilde"+_)}var R=new lr(T),k=new wi([R],{width:"100%",height:he(E),viewBox:"0 0 "+f+" "+S,preserveAspectRatio:"none"});return{span:O.makeSvgSpan([],[k],i),minWidth:0,height:E}}else{var U=[],Q=$S[m],[J,ie,te]=Q,V=te/1e3,q=J.length,ae,W;if(q===1){var be=Q[3];ae=["hide-tail"],W=[be]}else if(q===2)ae=["halfarrow-left","halfarrow-right"],W=["xMinYMin","xMaxYMin"];else if(q===3)ae=["brace-left","brace-center","brace-right"],W=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+q+" children.");for(var me=0;me<q;me++){var de=new lr(J[me]),Te=new wi([de],{width:"400em",height:he(V),viewBox:"0 0 "+f+" "+te,preserveAspectRatio:W[me]+" slice"}),we=O.makeSvgSpan([ae[me]],[Te],i);if(q===1)return{span:we,minWidth:ie,height:V};we.style.height=he(V),U.push(we)}return{span:O.makeSpan(["stretchy"],U,i),minWidth:ie,height:V}}}var{span:a,minWidth:o,height:c}=l();return a.height=c,a.style.height=he(c),o>0&&(a.style.minWidth=he(o)),a},eT=function(e,i,l,a,o){var c,f=e.height+e.depth+l+a;if(/fbox|color|angl/.test(i)){if(c=O.makeSpan(["stretchy",i],[],o),i==="fbox"){var m=o.color&&o.getColor();m&&(c.style.borderColor=m)}}else{var p=[];/^[bx]cancel$/.test(i)&&p.push(new Fc({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&p.push(new Fc({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var x=new wi(p,{width:"100%",height:he(f)});c=O.makeSvgSpan([],[x],o)}return c.height=f,c.style.height=he(f),c},Ei={encloseSpan:eT,mathMLnode:QS,svgSpan:WS};function Ge(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function pd(t){var e=qo(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function qo(t){return t&&(t.type==="atom"||ES.hasOwnProperty(t.type))?t:null}var gd=(t,e)=>{var i,l,a;t&&t.type==="supsub"?(l=Ge(t.base,"accent"),i=l.base,t.base=i,a=wS(Je(t,e)),t.base=l):(l=Ge(t,"accent"),i=l.base);var o=Je(i,e.havingCrampedStyle()),c=l.isShifty&&$e.isCharacterBox(i),f=0;if(c){var m=$e.getBaseElem(i),p=Je(m,e.havingCrampedStyle());f=T4(p).skew}var x=l.label==="\\c",S=x?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),T;if(l.isStretchy)T=Ei.svgSpan(l,e),T=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:T,wrapperClasses:["svg-align"],wrapperStyle:f>0?{width:"calc(100% - "+he(2*f)+")",marginLeft:he(2*f)}:void 0}]},e);else{var E,_;l.label==="\\vec"?(E=O.staticSvg("vec",e),_=O.svgData.vec[1]):(E=O.makeOrd({mode:l.mode,text:l.label},e,"textord"),E=T4(E),E.italic=0,_=E.width,x&&(S+=E.depth)),T=O.makeSpan(["accent-body"],[E]);var R=l.label==="\\textcircled";R&&(T.classes.push("accent-full"),S=o.height);var k=f;R||(k-=_/2),T.style.left=he(k),l.label==="\\textcircled"&&(T.style.top=".2em"),T=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-S},{type:"elem",elem:T}]},e)}var U=O.makeSpan(["mord","accent"],[T],e);return a?(a.children[0]=U,a.height=Math.max(U.height,a.height),a.classes[0]="mord",a):U},cg=(t,e)=>{var i=t.isStretchy?Ei.mathMLnode(t.label):new oe.MathNode("mo",[Ln(t.label,t.mode)]),l=new oe.MathNode("mover",[ot(t.base,e),i]);return l.setAttribute("accent","true"),l},tT=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ge({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var i=_o(e[0]),l=!tT.test(t.funcName),a=!l||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:l,isShifty:a,base:i}},htmlBuilder:gd,mathmlBuilder:cg});ge({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var i=e[0],l=t.parser.mode;return l==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),l="text"),{type:"accent",mode:l,label:t.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:gd,mathmlBuilder:cg});ge({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"accentUnder",mode:i.mode,label:l,base:a}},htmlBuilder:(t,e)=>{var i=Je(t.base,e),l=Ei.svgSpan(t,e),a=t.label==="\\utilde"?.12:0,o=O.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:l,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:i}]},e);return O.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var i=Ei.mathMLnode(t.label),l=new oe.MathNode("munder",[ot(t.base,e),i]);return l.setAttribute("accentunder","true"),l}});var co=t=>{var e=new oe.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ge({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:l,funcName:a}=t;return{type:"xArrow",mode:l.mode,label:a,body:e[0],below:i[0]}},htmlBuilder(t,e){var i=e.style,l=e.havingStyle(i.sup()),a=O.wrapFragment(Je(t.body,l,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(o+"-arrow-pad");var c;t.below&&(l=e.havingStyle(i.sub()),c=O.wrapFragment(Je(t.below,l,e),e),c.classes.push(o+"-arrow-pad"));var f=Ei.svgSpan(t,e),m=-e.fontMetrics().axisHeight+.5*f.height,p=-e.fontMetrics().axisHeight-.5*f.height-.111;(a.depth>.25||t.label==="\\xleftequilibrium")&&(p-=a.depth);var x;if(c){var S=-e.fontMetrics().axisHeight+c.height+.5*f.height+.111;x=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:p},{type:"elem",elem:f,shift:m},{type:"elem",elem:c,shift:S}]},e)}else x=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:p},{type:"elem",elem:f,shift:m}]},e);return x.children[0].children[0].children[1].classes.push("svg-align"),O.makeSpan(["mrel","x-arrow"],[x],e)},mathmlBuilder(t,e){var i=Ei.mathMLnode(t.label);i.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var l;if(t.body){var a=co(ot(t.body,e));if(t.below){var o=co(ot(t.below,e));l=new oe.MathNode("munderover",[i,o,a])}else l=new oe.MathNode("mover",[i,a])}else if(t.below){var c=co(ot(t.below,e));l=new oe.MathNode("munder",[i,c])}else l=co(),l=new oe.MathNode("mover",[i,l]);return l}});var nT=O.makeSpan;function dg(t,e){var i=kt(t.body,e,!0);return nT([t.mclass],i,e)}function fg(t,e){var i,l=an(t.body,e);return t.mclass==="minner"?i=new oe.MathNode("mpadded",l):t.mclass==="mord"?t.isCharacterBox?(i=l[0],i.type="mi"):i=new oe.MathNode("mi",l):(t.isCharacterBox?(i=l[0],i.type="mo"):i=new oe.MathNode("mo",l),t.mclass==="mbin"?(i.attributes.lspace="0.22em",i.attributes.rspace="0.22em"):t.mclass==="mpunct"?(i.attributes.lspace="0em",i.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(i.attributes.lspace="0em",i.attributes.rspace="0em"):t.mclass==="minner"&&(i.attributes.lspace="0.0556em",i.attributes.width="+0.1111em")),i}ge({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"mclass",mode:i.mode,mclass:"m"+l.slice(5),body:wt(a),isCharacterBox:$e.isCharacterBox(a)}},htmlBuilder:dg,mathmlBuilder:fg});var Po=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ge({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:i}=t;return{type:"mclass",mode:i.mode,mclass:Po(e[0]),body:wt(e[1]),isCharacterBox:$e.isCharacterBox(e[1])}}});ge({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:i,funcName:l}=t,a=e[1],o=e[0],c;l!=="\\stackrel"?c=Po(a):c="mrel";var f={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:l!=="\\stackrel",body:wt(a)},m={type:"supsub",mode:o.mode,base:f,sup:l==="\\underset"?null:o,sub:l==="\\underset"?o:null};return{type:"mclass",mode:i.mode,mclass:c,body:[m],isCharacterBox:$e.isCharacterBox(m)}},htmlBuilder:dg,mathmlBuilder:fg});ge({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"pmb",mode:i.mode,mclass:Po(e[0]),body:wt(e[0])}},htmlBuilder(t,e){var i=kt(t.body,e,!0),l=O.makeSpan([t.mclass],i,e);return l.style.textShadow="0.02em 0.01em 0.04px",l},mathmlBuilder(t,e){var i=an(t.body,e),l=new oe.MathNode("mstyle",i);return l.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),l}});var iT={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},R4=()=>({type:"styling",body:[],mode:"math",style:"display"}),k4=t=>t.type==="textord"&&t.text==="@",rT=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function lT(t,e,i){var l=iT[t];switch(l){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return i.callFunction(l,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var a=i.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:l,mode:"math",family:"rel"},c=i.callFunction("\\Big",[o],[]),f=i.callFunction("\\\\cdright",[e[1]],[]),m={type:"ordgroup",mode:"math",body:[a,c,f]};return i.callFunction("\\\\cdparent",[m],[])}case"\\\\cdlongequal":return i.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var p={type:"textord",text:"\\Vert",mode:"math"};return i.callFunction("\\Big",[p],[])}default:return{type:"textord",text:" ",mode:"math"}}}function aT(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var i=t.fetch().text;if(i==="&"||i==="\\\\")t.consume();else if(i==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ue("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var l=[],a=[l],o=0;o<e.length;o++){for(var c=e[o],f=R4(),m=0;m<c.length;m++)if(!k4(c[m]))f.body.push(c[m]);else{l.push(f),m+=1;var p=pd(c[m]).text,x=new Array(2);if(x[0]={type:"ordgroup",mode:"math",body:[]},x[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(p)>-1))if("<>AV".indexOf(p)>-1)for(var S=0;S<2;S++){for(var T=!0,E=m+1;E<c.length;E++){if(rT(c[E],p)){T=!1,m=E;break}if(k4(c[E]))throw new ue("Missing a "+p+" character to complete a CD arrow.",c[E]);x[S].body.push(c[E])}if(T)throw new ue("Missing a "+p+" character to complete a CD arrow.",c[m])}else throw new ue('Expected one of "<>AV=|." after @',c[m]);var _=lT(p,x,t),R={type:"styling",body:[_],mode:"math",style:"display"};l.push(R),f=R4()}o%2===0?l.push(f):l.shift(),l=[],a.push(l)}t.gullet.endGroup(),t.gullet.endGroup();var k=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:k,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}ge({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t;return{type:"cdlabel",mode:i.mode,side:l.slice(4),label:e[0]}},htmlBuilder(t,e){var i=e.havingStyle(e.style.sup()),l=O.wrapFragment(Je(t.label,i,e),e);return l.classes.push("cd-label-"+t.side),l.style.bottom=he(.8-l.depth),l.height=0,l.depth=0,l},mathmlBuilder(t,e){var i=new oe.MathNode("mrow",[ot(t.label,e)]);return i=new oe.MathNode("mpadded",[i]),i.setAttribute("width","0"),t.side==="left"&&i.setAttribute("lspace","-1width"),i.setAttribute("voffset","0.7em"),i=new oe.MathNode("mstyle",[i]),i.setAttribute("displaystyle","false"),i.setAttribute("scriptlevel","1"),i}});ge({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:i}=t;return{type:"cdlabelparent",mode:i.mode,fragment:e[0]}},htmlBuilder(t,e){var i=O.wrapFragment(Je(t.fragment,e),e);return i.classes.push("cd-vert-arrow"),i},mathmlBuilder(t,e){return new oe.MathNode("mrow",[ot(t.fragment,e)])}});ge({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:i}=t,l=Ge(e[0],"ordgroup"),a=l.body,o="",c=0;c<a.length;c++){var f=Ge(a[c],"textord");o+=f.text}var m=parseInt(o),p;if(isNaN(m))throw new ue("\\@char has non-numeric argument "+o);if(m<0||m>=1114111)throw new ue("\\@char with invalid code point "+o);return m<=65535?p=String.fromCharCode(m):(m-=65536,p=String.fromCharCode((m>>10)+55296,(m&1023)+56320)),{type:"textord",mode:i.mode,text:p}}});var hg=(t,e)=>{var i=kt(t.body,e.withColor(t.color),!1);return O.makeFragment(i)},mg=(t,e)=>{var i=an(t.body,e.withColor(t.color)),l=new oe.MathNode("mstyle",i);return l.setAttribute("mathcolor",t.color),l};ge({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:i}=t,l=Ge(e[0],"color-token").color,a=e[1];return{type:"color",mode:i.mode,color:l,body:wt(a)}},htmlBuilder:hg,mathmlBuilder:mg});ge({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:i,breakOnTokenText:l}=t,a=Ge(e[0],"color-token").color;i.gullet.macros.set("\\current@color",a);var o=i.parseExpression(!0,l);return{type:"color",mode:i.mode,color:a,body:o}},htmlBuilder:hg,mathmlBuilder:mg});ge({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,i){var{parser:l}=t,a=l.gullet.future().text==="["?l.parseSizeGroup(!0):null,o=!l.settings.displayMode||!l.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:l.mode,newLine:o,size:a&&Ge(a,"size").value}},htmlBuilder(t,e){var i=O.makeSpan(["mspace"],[],e);return t.newLine&&(i.classes.push("newline"),t.size&&(i.style.marginTop=he(vt(t.size,e)))),i},mathmlBuilder(t,e){var i=new oe.MathNode("mspace");return t.newLine&&(i.setAttribute("linebreak","newline"),t.size&&i.setAttribute("height",he(vt(t.size,e)))),i}});var Xc={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},pg=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ue("Expected a control sequence",t);return e},sT=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},gg=(t,e,i,l)=>{var a=t.gullet.macros.get(i.text);a==null&&(i.noexpand=!0,a={tokens:[i],numArgs:0,unexpandable:!t.gullet.isExpandable(i.text)}),t.gullet.macros.set(e,a,l)};ge({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:i}=t;e.consumeSpaces();var l=e.fetch();if(Xc[l.text])return(i==="\\global"||i==="\\\\globallong")&&(l.text=Xc[l.text]),Ge(e.parseFunction(),"internal");throw new ue("Invalid token after macro prefix",l)}});ge({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=e.gullet.popToken(),a=l.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new ue("Expected a control sequence",l);for(var o=0,c,f=[[]];e.gullet.future().text!=="{";)if(l=e.gullet.popToken(),l.text==="#"){if(e.gullet.future().text==="{"){c=e.gullet.future(),f[o].push("{");break}if(l=e.gullet.popToken(),!/^[1-9]$/.test(l.text))throw new ue('Invalid argument number "'+l.text+'"');if(parseInt(l.text)!==o+1)throw new ue('Argument number "'+l.text+'" out of order');o++,f.push([])}else{if(l.text==="EOF")throw new ue("Expected a macro definition");f[o].push(l.text)}var{tokens:m}=e.gullet.consumeArg();return c&&m.unshift(c),(i==="\\edef"||i==="\\xdef")&&(m=e.gullet.expandTokens(m),m.reverse()),e.gullet.macros.set(a,{tokens:m,numArgs:o,delimiters:f},i===Xc[i]),{type:"internal",mode:e.mode}}});ge({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=pg(e.gullet.popToken());e.gullet.consumeSpaces();var a=sT(e);return gg(e,l,a,i==="\\\\globallet"),{type:"internal",mode:e.mode}}});ge({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,l=pg(e.gullet.popToken()),a=e.gullet.popToken(),o=e.gullet.popToken();return gg(e,l,o,i==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(a),{type:"internal",mode:e.mode}}});var Ma=function(e,i,l){var a=ut.math[e]&&ut.math[e].replace,o=cd(a||e,i,l);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+i+".");return o},vd=function(e,i,l,a){var o=l.havingBaseStyle(i),c=O.makeSpan(a.concat(o.sizingClasses(l)),[e],l),f=o.sizeMultiplier/l.sizeMultiplier;return c.height*=f,c.depth*=f,c.maxFontSize=o.sizeMultiplier,c},vg=function(e,i,l){var a=i.havingBaseStyle(l),o=(1-i.sizeMultiplier/a.sizeMultiplier)*i.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=he(o),e.height-=o,e.depth+=o},oT=function(e,i,l,a,o,c){var f=O.makeSymbol(e,"Main-Regular",o,a),m=vd(f,i,a,c);return l&&vg(m,a,i),m},uT=function(e,i,l,a){return O.makeSymbol(e,"Size"+i+"-Regular",l,a)},yg=function(e,i,l,a,o,c){var f=uT(e,i,o,a),m=vd(O.makeSpan(["delimsizing","size"+i],[f],a),Re.TEXT,a,c);return l&&vg(m,a,Re.TEXT),m},xc=function(e,i,l){var a;i==="Size1-Regular"?a="delim-size1":a="delim-size4";var o=O.makeSpan(["delimsizinginner",a],[O.makeSpan([],[O.makeSymbol(e,i,l)])]);return{type:"elem",elem:o}},bc=function(e,i,l){var a=Kn["Size4-Regular"][e.charCodeAt(0)]?Kn["Size4-Regular"][e.charCodeAt(0)][4]:Kn["Size1-Regular"][e.charCodeAt(0)][4],o=new lr("inner",mS(e,Math.round(1e3*i))),c=new wi([o],{width:he(a),height:he(i),style:"width:"+he(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),f=O.makeSvgSpan([],[c],l);return f.height=i,f.style.height=he(i),f.style.width=he(a),{type:"elem",elem:f}},Kc=.008,fo={type:"kern",size:-1*Kc},cT=["|","\\lvert","\\rvert","\\vert"],dT=["\\|","\\lVert","\\rVert","\\Vert"],xg=function(e,i,l,a,o,c){var f,m,p,x,S="",T=0;f=p=x=e,m=null;var E="Size1-Regular";e==="\\uparrow"?p=x="":e==="\\Uparrow"?p=x="":e==="\\downarrow"?f=p="":e==="\\Downarrow"?f=p="":e==="\\updownarrow"?(f="\\uparrow",p="",x="\\downarrow"):e==="\\Updownarrow"?(f="\\Uparrow",p="",x="\\Downarrow"):cT.includes(e)?(p="",S="vert",T=333):dT.includes(e)?(p="",S="doublevert",T=556):e==="["||e==="\\lbrack"?(f="",p="",x="",E="Size4-Regular",S="lbrack",T=667):e==="]"||e==="\\rbrack"?(f="",p="",x="",E="Size4-Regular",S="rbrack",T=667):e==="\\lfloor"||e===""?(p=f="",x="",E="Size4-Regular",S="lfloor",T=667):e==="\\lceil"||e===""?(f="",p=x="",E="Size4-Regular",S="lceil",T=667):e==="\\rfloor"||e===""?(p=f="",x="",E="Size4-Regular",S="rfloor",T=667):e==="\\rceil"||e===""?(f="",p=x="",E="Size4-Regular",S="rceil",T=667):e==="("||e==="\\lparen"?(f="",p="",x="",E="Size4-Regular",S="lparen",T=875):e===")"||e==="\\rparen"?(f="",p="",x="",E="Size4-Regular",S="rparen",T=875):e==="\\{"||e==="\\lbrace"?(f="",m="",x="",p="",E="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(f="",m="",x="",p="",E="Size4-Regular"):e==="\\lgroup"||e===""?(f="",x="",p="",E="Size4-Regular"):e==="\\rgroup"||e===""?(f="",x="",p="",E="Size4-Regular"):e==="\\lmoustache"||e===""?(f="",x="",p="",E="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(f="",x="",p="",E="Size4-Regular");var _=Ma(f,E,o),R=_.height+_.depth,k=Ma(p,E,o),U=k.height+k.depth,Q=Ma(x,E,o),J=Q.height+Q.depth,ie=0,te=1;if(m!==null){var V=Ma(m,E,o);ie=V.height+V.depth,te=2}var q=R+J+ie,ae=Math.max(0,Math.ceil((i-q)/(te*U))),W=q+ae*te*U,be=a.fontMetrics().axisHeight;l&&(be*=a.sizeMultiplier);var me=W/2-be,de=[];if(S.length>0){var Te=W-R-J,we=Math.round(W*1e3),Le=pS(S,Math.round(Te*1e3)),Y=new lr(S,Le),se=(T/1e3).toFixed(3)+"em",Ae=(we/1e3).toFixed(3)+"em",qe=new wi([Y],{width:se,height:Ae,viewBox:"0 0 "+T+" "+we}),Ue=O.makeSvgSpan([],[qe],a);Ue.height=we/1e3,Ue.style.width=se,Ue.style.height=Ae,de.push({type:"elem",elem:Ue})}else{if(de.push(xc(x,E,o)),de.push(fo),m===null){var L=W-R-J+2*Kc;de.push(bc(p,L,a))}else{var $=(W-R-J-ie)/2+2*Kc;de.push(bc(p,$,a)),de.push(fo),de.push(xc(m,E,o)),de.push(fo),de.push(bc(p,$,a))}de.push(fo),de.push(xc(f,E,o))}var ce=a.havingBaseStyle(Re.TEXT),ye=O.makeVList({positionType:"bottom",positionData:me,children:de},ce);return vd(O.makeSpan(["delimsizing","mult"],[ye],ce),Re.TEXT,a,c)},Sc=80,Tc=.08,wc=function(e,i,l,a,o){var c=hS(e,a,l),f=new lr(e,c),m=new wi([f],{width:"400em",height:he(i),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});return O.makeSvgSpan(["hide-tail"],[m],o)},fT=function(e,i){var l=i.havingBaseSizing(),a=wg("\\surd",e*l.sizeMultiplier,Tg,l),o=l.sizeMultiplier,c=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness),f,m=0,p=0,x=0,S;return a.type==="small"?(x=1e3+1e3*c+Sc,e<1?o=1:e<1.4&&(o=.7),m=(1+c+Tc)/o,p=(1+c)/o,f=wc("sqrtMain",m,x,c,i),f.style.minWidth="0.853em",S=.833/o):a.type==="large"?(x=(1e3+Sc)*_a[a.size],p=(_a[a.size]+c)/o,m=(_a[a.size]+c+Tc)/o,f=wc("sqrtSize"+a.size,m,x,c,i),f.style.minWidth="1.02em",S=1/o):(m=e+c+Tc,p=e+c,x=Math.floor(1e3*e+c)+Sc,f=wc("sqrtTall",m,x,c,i),f.style.minWidth="0.742em",S=1.056),f.height=p,f.style.height=he(m),{span:f,advanceWidth:S,ruleWidth:(i.fontMetrics().sqrtRuleThickness+c)*o}},bg=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],hT=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Sg=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],_a=[0,1.2,1.8,2.4,3],mT=function(e,i,l,a,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),bg.includes(e)||Sg.includes(e))return yg(e,i,!1,l,a,o);if(hT.includes(e))return xg(e,_a[i],!1,l,a,o);throw new ue("Illegal delimiter: '"+e+"'")},pT=[{type:"small",style:Re.SCRIPTSCRIPT},{type:"small",style:Re.SCRIPT},{type:"small",style:Re.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],gT=[{type:"small",style:Re.SCRIPTSCRIPT},{type:"small",style:Re.SCRIPT},{type:"small",style:Re.TEXT},{type:"stack"}],Tg=[{type:"small",style:Re.SCRIPTSCRIPT},{type:"small",style:Re.SCRIPT},{type:"small",style:Re.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],vT=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},wg=function(e,i,l,a){for(var o=Math.min(2,3-a.style.size),c=o;c<l.length&&l[c].type!=="stack";c++){var f=Ma(e,vT(l[c]),"math"),m=f.height+f.depth;if(l[c].type==="small"){var p=a.havingBaseStyle(l[c].style);m*=p.sizeMultiplier}if(m>i)return l[c]}return l[l.length-1]},Ag=function(e,i,l,a,o,c){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var f;Sg.includes(e)?f=pT:bg.includes(e)?f=Tg:f=gT;var m=wg(e,i,f,a);return m.type==="small"?oT(e,m.style,l,a,o,c):m.type==="large"?yg(e,m.size,l,a,o,c):xg(e,i,l,a,o,c)},yT=function(e,i,l,a,o,c){var f=a.fontMetrics().axisHeight*a.sizeMultiplier,m=901,p=5/a.fontMetrics().ptPerEm,x=Math.max(i-f,l+f),S=Math.max(x/500*m,2*x-p);return Ag(e,S,!0,a,o,c)},Si={sqrtImage:fT,sizedDelim:mT,sizeToMaxHeight:_a,customSizedDelim:Ag,leftRightDelim:yT},I4={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},xT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Oo(t,e){var i=qo(t);if(i&&xT.includes(i.text))return i;throw i?new ue("Invalid delimiter '"+i.text+"' after '"+e.funcName+"'",t):new ue("Invalid delimiter type '"+t.type+"'",t)}ge({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var i=Oo(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:I4[t.funcName].size,mclass:I4[t.funcName].mclass,delim:i.text}},htmlBuilder:(t,e)=>t.delim==="."?O.makeSpan([t.mclass]):Si.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ln(t.delim,t.mode));var i=new oe.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i.setAttribute("stretchy","true");var l=he(Si.sizeToMaxHeight[t.size]);return i.setAttribute("minsize",l),i.setAttribute("maxsize",l),i}});function D4(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ge({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=t.parser.gullet.macros.get("\\current@color");if(i&&typeof i!="string")throw new ue("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Oo(e[0],t).text,color:i}}});ge({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=Oo(e[0],t),l=t.parser;++l.leftrightDepth;var a=l.parseExpression(!1);--l.leftrightDepth,l.expect("\\right",!1);var o=Ge(l.parseFunction(),"leftright-right");return{type:"leftright",mode:l.mode,body:a,left:i.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{D4(t);for(var i=kt(t.body,e,!0,["mopen","mclose"]),l=0,a=0,o=!1,c=0;c<i.length;c++)i[c].isMiddle?o=!0:(l=Math.max(i[c].height,l),a=Math.max(i[c].depth,a));l*=e.sizeMultiplier,a*=e.sizeMultiplier;var f;if(t.left==="."?f=ka(e,["mopen"]):f=Si.leftRightDelim(t.left,l,a,e,t.mode,["mopen"]),i.unshift(f),o)for(var m=1;m<i.length;m++){var p=i[m],x=p.isMiddle;x&&(i[m]=Si.leftRightDelim(x.delim,l,a,x.options,t.mode,[]))}var S;if(t.right===".")S=ka(e,["mclose"]);else{var T=t.rightColor?e.withColor(t.rightColor):e;S=Si.leftRightDelim(t.right,l,a,T,t.mode,["mclose"])}return i.push(S),O.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{D4(t);var i=an(t.body,e);if(t.left!=="."){var l=new oe.MathNode("mo",[Ln(t.left,t.mode)]);l.setAttribute("fence","true"),i.unshift(l)}if(t.right!=="."){var a=new oe.MathNode("mo",[Ln(t.right,t.mode)]);a.setAttribute("fence","true"),t.rightColor&&a.setAttribute("mathcolor",t.rightColor),i.push(a)}return hd(i)}});ge({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=Oo(e[0],t);if(!t.parser.leftrightDepth)throw new ue("\\middle without preceding \\left",i);return{type:"middle",mode:t.parser.mode,delim:i.text}},htmlBuilder:(t,e)=>{var i;if(t.delim===".")i=ka(e,[]);else{i=Si.sizedDelim(t.delim,1,e,t.mode,[]);var l={delim:t.delim,options:e};i.isMiddle=l}return i},mathmlBuilder:(t,e)=>{var i=t.delim==="\\vert"||t.delim==="|"?Ln("|","text"):Ln(t.delim,t.mode),l=new oe.MathNode("mo",[i]);return l.setAttribute("fence","true"),l.setAttribute("lspace","0.05em"),l.setAttribute("rspace","0.05em"),l}});var yd=(t,e)=>{var i=O.wrapFragment(Je(t.body,e),e),l=t.label.slice(1),a=e.sizeMultiplier,o,c=0,f=$e.isCharacterBox(t.body);if(l==="sout")o=O.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/a,c=-.5*e.fontMetrics().xHeight;else if(l==="phase"){var m=vt({number:.6,unit:"pt"},e),p=vt({number:.35,unit:"ex"},e),x=e.havingBaseSizing();a=a/x.sizeMultiplier;var S=i.height+i.depth+m+p;i.style.paddingLeft=he(S/2+m);var T=Math.floor(1e3*S*a),E=dS(T),_=new wi([new lr("phase",E)],{width:"400em",height:he(T/1e3),viewBox:"0 0 400000 "+T,preserveAspectRatio:"xMinYMin slice"});o=O.makeSvgSpan(["hide-tail"],[_],e),o.style.height=he(S),c=i.depth+m+p}else{/cancel/.test(l)?f||i.classes.push("cancel-pad"):l==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var R=0,k=0,U=0;/box/.test(l)?(U=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),R=e.fontMetrics().fboxsep+(l==="colorbox"?0:U),k=R):l==="angl"?(U=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),R=4*U,k=Math.max(0,.25-i.depth)):(R=f?.2:0,k=R),o=Ei.encloseSpan(i,l,R,k,e),/fbox|boxed|fcolorbox/.test(l)?(o.style.borderStyle="solid",o.style.borderWidth=he(U)):l==="angl"&&U!==.049&&(o.style.borderTopWidth=he(U),o.style.borderRightWidth=he(U)),c=i.depth+k,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var Q;if(t.backgroundColor)Q=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:i,shift:0}]},e);else{var J=/cancel|phase/.test(l)?["svg-align"]:[];Q=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:o,shift:c,wrapperClasses:J}]},e)}return/cancel/.test(l)&&(Q.height=i.height,Q.depth=i.depth),/cancel/.test(l)&&!f?O.makeSpan(["mord","cancel-lap"],[Q],e):O.makeSpan(["mord"],[Q],e)},xd=(t,e)=>{var i=0,l=new oe.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ot(t.body,e)]);switch(t.label){case"\\cancel":l.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":l.setAttribute("notation","downdiagonalstrike");break;case"\\phase":l.setAttribute("notation","phasorangle");break;case"\\sout":l.setAttribute("notation","horizontalstrike");break;case"\\fbox":l.setAttribute("notation","box");break;case"\\angl":l.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(i=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,l.setAttribute("width","+"+2*i+"pt"),l.setAttribute("height","+"+2*i+"pt"),l.setAttribute("lspace",i+"pt"),l.setAttribute("voffset",i+"pt"),t.label==="\\fcolorbox"){var a=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);l.setAttribute("style","border: "+a+"em solid "+String(t.borderColor))}break;case"\\xcancel":l.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&l.setAttribute("mathbackground",t.backgroundColor),l};ge({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,i){var{parser:l,funcName:a}=t,o=Ge(e[0],"color-token").color,c=e[1];return{type:"enclose",mode:l.mode,label:a,backgroundColor:o,body:c}},htmlBuilder:yd,mathmlBuilder:xd});ge({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,i){var{parser:l,funcName:a}=t,o=Ge(e[0],"color-token").color,c=Ge(e[1],"color-token").color,f=e[2];return{type:"enclose",mode:l.mode,label:a,backgroundColor:c,borderColor:o,body:f}},htmlBuilder:yd,mathmlBuilder:xd});ge({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\fbox",body:e[0]}}});ge({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"enclose",mode:i.mode,label:l,body:a}},htmlBuilder:yd,mathmlBuilder:xd});ge({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\angl",body:e[0]}}});var Eg={};function $n(t){for(var{type:e,names:i,props:l,handler:a,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:l.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},m=0;m<i.length;++m)Eg[i[m]]=f;o&&(No[e]=o),c&&(Mo[e]=c)}var Cg={};function M(t,e){Cg[t]=e}function z4(t){var e=[];t.consumeSpaces();var i=t.fetch().text;for(i==="\\relax"&&(t.consume(),t.consumeSpaces(),i=t.fetch().text);i==="\\hline"||i==="\\hdashline";)t.consume(),e.push(i==="\\hdashline"),t.consumeSpaces(),i=t.fetch().text;return e}var Vo=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ue("{"+t.envName+"} can be used only in display mode.")};function bd(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function or(t,e,i){var{hskipBeforeAndAfter:l,addJot:a,cols:o,arraystretch:c,colSeparationType:f,autoTag:m,singleRow:p,emptySingleRow:x,maxNumCols:S,leqno:T}=e;if(t.gullet.beginGroup(),p||t.gullet.macros.set("\\cr","\\\\\\relax"),!c){var E=t.gullet.expandMacroAsText("\\arraystretch");if(E==null)c=1;else if(c=parseFloat(E),!c||c<0)throw new ue("Invalid \\arraystretch: "+E)}t.gullet.beginGroup();var _=[],R=[_],k=[],U=[],Q=m!=null?[]:void 0;function J(){m&&t.gullet.macros.set("\\@eqnsw","1",!0)}function ie(){Q&&(t.gullet.macros.get("\\df@tag")?(Q.push(t.subparse([new yn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):Q.push(!!m&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(J(),U.push(z4(t));;){var te=t.parseExpression(!1,p?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),te={type:"ordgroup",mode:t.mode,body:te},i&&(te={type:"styling",mode:t.mode,style:i,body:[te]}),_.push(te);var V=t.fetch().text;if(V==="&"){if(S&&_.length===S){if(p||f)throw new ue("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(V==="\\end"){ie(),_.length===1&&te.type==="styling"&&te.body[0].body.length===0&&(R.length>1||!x)&&R.pop(),U.length<R.length+1&&U.push([]);break}else if(V==="\\\\"){t.consume();var q=void 0;t.gullet.future().text!==" "&&(q=t.parseSizeGroup(!0)),k.push(q?q.value:null),ie(),U.push(z4(t)),_=[],R.push(_),J()}else throw new ue("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:a,arraystretch:c,body:R,cols:o,rowGaps:k,hskipBeforeAndAfter:l,hLinesBeforeRow:U,colSeparationType:f,tags:Q,leqno:T}}function Sd(t){return t.slice(0,1)==="d"?"display":"text"}var Zn=function(e,i){var l,a,o=e.body.length,c=e.hLinesBeforeRow,f=0,m=new Array(o),p=[],x=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),S=1/i.fontMetrics().ptPerEm,T=5*S;if(e.colSeparationType&&e.colSeparationType==="small"){var E=i.havingStyle(Re.SCRIPT).sizeMultiplier;T=.2778*(E/i.sizeMultiplier)}var _=e.colSeparationType==="CD"?vt({number:3,unit:"ex"},i):12*S,R=3*S,k=e.arraystretch*_,U=.7*k,Q=.3*k,J=0;function ie(ur){for(var _i=0;_i<ur.length;++_i)_i>0&&(J+=.25),p.push({pos:J,isDashed:ur[_i]})}for(ie(c[0]),l=0;l<e.body.length;++l){var te=e.body[l],V=U,q=Q;f<te.length&&(f=te.length);var ae=new Array(te.length);for(a=0;a<te.length;++a){var W=Je(te[a],i);q<W.depth&&(q=W.depth),V<W.height&&(V=W.height),ae[a]=W}var be=e.rowGaps[l],me=0;be&&(me=vt(be,i),me>0&&(me+=Q,q<me&&(q=me),me=0)),e.addJot&&(q+=R),ae.height=V,ae.depth=q,J+=V,ae.pos=J,J+=q+me,m[l]=ae,ie(c[l+1])}var de=J/2+i.fontMetrics().axisHeight,Te=e.cols||[],we=[],Le,Y,se=[];if(e.tags&&e.tags.some(ur=>ur))for(l=0;l<o;++l){var Ae=m[l],qe=Ae.pos-de,Ue=e.tags[l],L=void 0;Ue===!0?L=O.makeSpan(["eqn-num"],[],i):Ue===!1?L=O.makeSpan([],[],i):L=O.makeSpan([],kt(Ue,i,!0),i),L.depth=Ae.depth,L.height=Ae.height,se.push({type:"elem",elem:L,shift:qe})}for(a=0,Y=0;a<f||Y<Te.length;++a,++Y){for(var $=Te[Y]||{},ce=!0;$.type==="separator";){if(ce||(Le=O.makeSpan(["arraycolsep"],[]),Le.style.width=he(i.fontMetrics().doubleRuleSep),we.push(Le)),$.separator==="|"||$.separator===":"){var ye=$.separator==="|"?"solid":"dashed",K=O.makeSpan(["vertical-separator"],[],i);K.style.height=he(J),K.style.borderRightWidth=he(x),K.style.borderRightStyle=ye,K.style.margin="0 "+he(-x/2);var re=J-de;re&&(K.style.verticalAlign=he(-re)),we.push(K)}else throw new ue("Invalid separator type: "+$.separator);Y++,$=Te[Y]||{},ce=!1}if(!(a>=f)){var Ne=void 0;(a>0||e.hskipBeforeAndAfter)&&(Ne=$e.deflt($.pregap,T),Ne!==0&&(Le=O.makeSpan(["arraycolsep"],[]),Le.style.width=he(Ne),we.push(Le)));var ft=[];for(l=0;l<o;++l){var it=m[l],bn=it[a];if(bn){var Un=it.pos-de;bn.depth=it.depth,bn.height=it.height,ft.push({type:"elem",elem:bn,shift:Un})}}ft=O.makeVList({positionType:"individualShift",children:ft},i),ft=O.makeSpan(["col-align-"+($.align||"c")],[ft]),we.push(ft),(a<f-1||e.hskipBeforeAndAfter)&&(Ne=$e.deflt($.postgap,T),Ne!==0&&(Le=O.makeSpan(["arraycolsep"],[]),Le.style.width=he(Ne),we.push(Le)))}}if(m=O.makeSpan(["mtable"],we),p.length>0){for(var fe=O.makeLineSpan("hline",i,x),Pe=O.makeLineSpan("hdashline",i,x),Me=[{type:"elem",elem:m,shift:0}];p.length>0;){var et=p.pop(),Ut=et.pos-de;et.isDashed?Me.push({type:"elem",elem:Pe,shift:Ut}):Me.push({type:"elem",elem:fe,shift:Ut})}m=O.makeVList({positionType:"individualShift",children:Me},i)}if(se.length===0)return O.makeSpan(["mord"],[m],i);var Rl=O.makeVList({positionType:"individualShift",children:se},i);return Rl=O.makeSpan(["tag"],[Rl],i),O.makeFragment([m,Rl])},bT={c:"center ",l:"left ",r:"right "},Wn=function(e,i){for(var l=[],a=new oe.MathNode("mtd",[],["mtr-glue"]),o=new oe.MathNode("mtd",[],["mml-eqn-num"]),c=0;c<e.body.length;c++){for(var f=e.body[c],m=[],p=0;p<f.length;p++)m.push(new oe.MathNode("mtd",[ot(f[p],i)]));e.tags&&e.tags[c]&&(m.unshift(a),m.push(a),e.leqno?m.unshift(o):m.push(o)),l.push(new oe.MathNode("mtr",m))}var x=new oe.MathNode("mtable",l),S=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);x.setAttribute("rowspacing",he(S));var T="",E="";if(e.cols&&e.cols.length>0){var _=e.cols,R="",k=!1,U=0,Q=_.length;_[0].type==="separator"&&(T+="top ",U=1),_[_.length-1].type==="separator"&&(T+="bottom ",Q-=1);for(var J=U;J<Q;J++)_[J].type==="align"?(E+=bT[_[J].align],k&&(R+="none "),k=!0):_[J].type==="separator"&&k&&(R+=_[J].separator==="|"?"solid ":"dashed ",k=!1);x.setAttribute("columnalign",E.trim()),/[sd]/.test(R)&&x.setAttribute("columnlines",R.trim())}if(e.colSeparationType==="align"){for(var ie=e.cols||[],te="",V=1;V<ie.length;V++)te+=V%2?"0em ":"1em ";x.setAttribute("columnspacing",te.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?x.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?x.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?x.setAttribute("columnspacing","0.5em"):x.setAttribute("columnspacing","1em");var q="",ae=e.hLinesBeforeRow;T+=ae[0].length>0?"left ":"",T+=ae[ae.length-1].length>0?"right ":"";for(var W=1;W<ae.length-1;W++)q+=ae[W].length===0?"none ":ae[W][0]?"dashed ":"solid ";return/[sd]/.test(q)&&x.setAttribute("rowlines",q.trim()),T!==""&&(x=new oe.MathNode("menclose",[x]),x.setAttribute("notation",T.trim())),e.arraystretch&&e.arraystretch<1&&(x=new oe.MathNode("mstyle",[x]),x.setAttribute("scriptlevel","1")),x},Ng=function(e,i){e.envName.indexOf("ed")===-1&&Vo(e);var l=[],a=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",c=or(e.parser,{cols:l,addJot:!0,autoTag:o?void 0:bd(e.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),f,m=0,p={type:"ordgroup",mode:e.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){for(var x="",S=0;S<i[0].body.length;S++){var T=Ge(i[0].body[S],"textord");x+=T.text}f=Number(x),m=f*2}var E=!m;c.body.forEach(function(U){for(var Q=1;Q<U.length;Q+=2){var J=Ge(U[Q],"styling"),ie=Ge(J.body[0],"ordgroup");ie.body.unshift(p)}if(E)m<U.length&&(m=U.length);else{var te=U.length/2;if(f<te)throw new ue("Too many math in a row: "+("expected "+f+", but got "+te),U[0])}});for(var _=0;_<m;++_){var R="r",k=0;_%2===1?R="l":_>0&&E&&(k=1),l[_]={type:"align",align:R,pregap:k,postgap:0}}return c.colSeparationType=E?"align":"alignat",c};$n({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var i=qo(e[0]),l=i?[e[0]]:Ge(e[0],"ordgroup").body,a=l.map(function(c){var f=pd(c),m=f.text;if("lcr".indexOf(m)!==-1)return{type:"align",align:m};if(m==="|")return{type:"separator",separator:"|"};if(m===":")return{type:"separator",separator:":"};throw new ue("Unknown column alignment: "+m,c)}),o={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return or(t.parser,o,Sd(t.envName))},htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],i="c",l={hskipBeforeAndAfter:!1,cols:[{type:"align",align:i}]};if(t.envName.charAt(t.envName.length-1)==="*"){var a=t.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),i=a.fetch().text,"lcr".indexOf(i)===-1)throw new ue("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),l.cols=[{type:"align",align:i}]}}var o=or(t.parser,l,Sd(t.envName)),c=Math.max(0,...o.body.map(f=>f.length));return o.cols=new Array(c).fill({type:"align",align:i}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},i=or(t.parser,e,"script");return i.colSeparationType="small",i},htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var i=qo(e[0]),l=i?[e[0]]:Ge(e[0],"ordgroup").body,a=l.map(function(c){var f=pd(c),m=f.text;if("lc".indexOf(m)!==-1)return{type:"align",align:m};throw new ue("Unknown column alignment: "+m,c)});if(a.length>1)throw new ue("{subarray} can contain only one column");var o={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=or(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new ue("{subarray} can contain only one column");return o},htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},i=or(t.parser,e,Sd(t.envName));return{type:"leftright",mode:t.mode,body:[i],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Ng,htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Vo(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:bd(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return or(t.parser,e,"display")},htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Ng,htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Vo(t);var e={autoTag:bd(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return or(t.parser,e,"display")},htmlBuilder:Zn,mathmlBuilder:Wn});$n({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Vo(t),aT(t.parser)},htmlBuilder:Zn,mathmlBuilder:Wn});M("\\nonumber","\\gdef\\@eqnsw{0}");M("\\notag","\\nonumber");ge({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ue(t.funcName+" valid only within array environment")}});var L4=Eg;ge({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];if(a.type!=="ordgroup")throw new ue("Invalid environment name",a);for(var o="",c=0;c<a.body.length;++c)o+=Ge(a.body[c],"textord").text;if(l==="\\begin"){if(!L4.hasOwnProperty(o))throw new ue("No such environment: "+o,a);var f=L4[o],{args:m,optArgs:p}=i.parseArguments("\\begin{"+o+"}",f),x={mode:i.mode,envName:o,parser:i},S=f.handler(x,m,p);i.expect("\\end",!1);var T=i.nextToken,E=Ge(i.parseFunction(),"environment");if(E.name!==o)throw new ue("Mismatch: \\begin{"+o+"} matched by \\end{"+E.name+"}",T);return S}return{type:"environment",mode:i.mode,name:o,nameGroup:a}}});var Mg=(t,e)=>{var i=t.font,l=e.withFont(i);return Je(t.body,l)},_g=(t,e)=>{var i=t.font,l=e.withFont(i);return ot(t.body,l)},U4={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ge({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=_o(e[0]),o=l;return o in U4&&(o=U4[o]),{type:"font",mode:i.mode,font:o.slice(1),body:a}},htmlBuilder:Mg,mathmlBuilder:_g});ge({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:i}=t,l=e[0],a=$e.isCharacterBox(l);return{type:"mclass",mode:i.mode,mclass:Po(l),body:[{type:"font",mode:i.mode,font:"boldsymbol",body:l}],isCharacterBox:a}}});ge({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l,breakOnTokenText:a}=t,{mode:o}=i,c=i.parseExpression(!0,a),f="math"+l.slice(1);return{type:"font",mode:o,font:f,body:{type:"ordgroup",mode:i.mode,body:c}}},htmlBuilder:Mg,mathmlBuilder:_g});var Rg=(t,e)=>{var i=e;return t==="display"?i=i.id>=Re.SCRIPT.id?i.text():Re.DISPLAY:t==="text"&&i.size===Re.DISPLAY.size?i=Re.TEXT:t==="script"?i=Re.SCRIPT:t==="scriptscript"&&(i=Re.SCRIPTSCRIPT),i},Td=(t,e)=>{var i=Rg(t.size,e.style),l=i.fracNum(),a=i.fracDen(),o;o=e.havingStyle(l);var c=Je(t.numer,o,e);if(t.continued){var f=8.5/e.fontMetrics().ptPerEm,m=3.5/e.fontMetrics().ptPerEm;c.height=c.height<f?f:c.height,c.depth=c.depth<m?m:c.depth}o=e.havingStyle(a);var p=Je(t.denom,o,e),x,S,T;t.hasBarLine?(t.barSize?(S=vt(t.barSize,e),x=O.makeLineSpan("frac-line",e,S)):x=O.makeLineSpan("frac-line",e),S=x.height,T=x.height):(x=null,S=0,T=e.fontMetrics().defaultRuleThickness);var E,_,R;i.size===Re.DISPLAY.size||t.size==="display"?(E=e.fontMetrics().num1,S>0?_=3*T:_=7*T,R=e.fontMetrics().denom1):(S>0?(E=e.fontMetrics().num2,_=T):(E=e.fontMetrics().num3,_=3*T),R=e.fontMetrics().denom2);var k;if(x){var Q=e.fontMetrics().axisHeight;E-c.depth-(Q+.5*S)<_&&(E+=_-(E-c.depth-(Q+.5*S))),Q-.5*S-(p.height-R)<_&&(R+=_-(Q-.5*S-(p.height-R)));var J=-(Q-.5*S);k=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:R},{type:"elem",elem:x,shift:J},{type:"elem",elem:c,shift:-E}]},e)}else{var U=E-c.depth-(p.height-R);U<_&&(E+=.5*(_-U),R+=.5*(_-U)),k=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:R},{type:"elem",elem:c,shift:-E}]},e)}o=e.havingStyle(i),k.height*=o.sizeMultiplier/e.sizeMultiplier,k.depth*=o.sizeMultiplier/e.sizeMultiplier;var ie;i.size===Re.DISPLAY.size?ie=e.fontMetrics().delim1:i.size===Re.SCRIPTSCRIPT.size?ie=e.havingStyle(Re.SCRIPT).fontMetrics().delim2:ie=e.fontMetrics().delim2;var te,V;return t.leftDelim==null?te=ka(e,["mopen"]):te=Si.customSizedDelim(t.leftDelim,ie,!0,e.havingStyle(i),t.mode,["mopen"]),t.continued?V=O.makeSpan([]):t.rightDelim==null?V=ka(e,["mclose"]):V=Si.customSizedDelim(t.rightDelim,ie,!0,e.havingStyle(i),t.mode,["mclose"]),O.makeSpan(["mord"].concat(o.sizingClasses(e)),[te,O.makeSpan(["mfrac"],[k]),V],e)},wd=(t,e)=>{var i=new oe.MathNode("mfrac",[ot(t.numer,e),ot(t.denom,e)]);if(!t.hasBarLine)i.setAttribute("linethickness","0px");else if(t.barSize){var l=vt(t.barSize,e);i.setAttribute("linethickness",he(l))}var a=Rg(t.size,e.style);if(a.size!==e.style.size){i=new oe.MathNode("mstyle",[i]);var o=a.size===Re.DISPLAY.size?"true":"false";i.setAttribute("displaystyle",o),i.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var c=[];if(t.leftDelim!=null){var f=new oe.MathNode("mo",[new oe.TextNode(t.leftDelim.replace("\\",""))]);f.setAttribute("fence","true"),c.push(f)}if(c.push(i),t.rightDelim!=null){var m=new oe.MathNode("mo",[new oe.TextNode(t.rightDelim.replace("\\",""))]);m.setAttribute("fence","true"),c.push(m)}return hd(c)}return i};ge({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=e[1],c,f=null,m=null,p="auto";switch(l){case"\\dfrac":case"\\frac":case"\\tfrac":c=!0;break;case"\\\\atopfrac":c=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":c=!1,f="(",m=")";break;case"\\\\bracefrac":c=!1,f="\\{",m="\\}";break;case"\\\\brackfrac":c=!1,f="[",m="]";break;default:throw new Error("Unrecognized genfrac command")}switch(l){case"\\dfrac":case"\\dbinom":p="display";break;case"\\tfrac":case"\\tbinom":p="text";break}return{type:"genfrac",mode:i.mode,continued:!1,numer:a,denom:o,hasBarLine:c,leftDelim:f,rightDelim:m,size:p,barSize:null}},htmlBuilder:Td,mathmlBuilder:wd});ge({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=e[1];return{type:"genfrac",mode:i.mode,continued:!0,numer:a,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ge({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:i,token:l}=t,a;switch(i){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:a,token:l}}});var B4=["display","text","script","scriptscript"],H4=function(e){var i=null;return e.length>0&&(i=e,i=i==="."?null:i),i};ge({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:i}=t,l=e[4],a=e[5],o=_o(e[0]),c=o.type==="atom"&&o.family==="open"?H4(o.text):null,f=_o(e[1]),m=f.type==="atom"&&f.family==="close"?H4(f.text):null,p=Ge(e[2],"size"),x,S=null;p.isBlank?x=!0:(S=p.value,x=S.number>0);var T="auto",E=e[3];if(E.type==="ordgroup"){if(E.body.length>0){var _=Ge(E.body[0],"textord");T=B4[Number(_.text)]}}else E=Ge(E,"textord"),T=B4[Number(E.text)];return{type:"genfrac",mode:i.mode,numer:l,denom:a,continued:!1,hasBarLine:x,barSize:S,leftDelim:c,rightDelim:m,size:T}},htmlBuilder:Td,mathmlBuilder:wd});ge({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:i,funcName:l,token:a}=t;return{type:"infix",mode:i.mode,replaceWith:"\\\\abovefrac",size:Ge(e[0],"size").value,token:a}}});ge({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0],o=Qb(Ge(e[1],"infix").size),c=e[2],f=o.number>0;return{type:"genfrac",mode:i.mode,numer:a,denom:c,continued:!1,hasBarLine:f,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Td,mathmlBuilder:wd});var kg=(t,e)=>{var i=e.style,l,a;t.type==="supsub"?(l=t.sup?Je(t.sup,e.havingStyle(i.sup()),e):Je(t.sub,e.havingStyle(i.sub()),e),a=Ge(t.base,"horizBrace")):a=Ge(t,"horizBrace");var o=Je(a.base,e.havingBaseStyle(Re.DISPLAY)),c=Ei.svgSpan(a,e),f;if(a.isOver?(f=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:c}]},e),f.children[0].children[0].children[1].classes.push("svg-align")):(f=O.makeVList({positionType:"bottom",positionData:o.depth+.1+c.height,children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:o}]},e),f.children[0].children[0].children[0].classes.push("svg-align")),l){var m=O.makeSpan(["mord",a.isOver?"mover":"munder"],[f],e);a.isOver?f=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"kern",size:.2},{type:"elem",elem:l}]},e):f=O.makeVList({positionType:"bottom",positionData:m.depth+.2+l.height+l.depth,children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:m}]},e)}return O.makeSpan(["mord",a.isOver?"mover":"munder"],[f],e)},ST=(t,e)=>{var i=Ei.mathMLnode(t.label);return new oe.MathNode(t.isOver?"mover":"munder",[ot(t.base,e),i])};ge({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:l}=t;return{type:"horizBrace",mode:i.mode,label:l,isOver:/^\\over/.test(l),base:e[0]}},htmlBuilder:kg,mathmlBuilder:ST});ge({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[1],a=Ge(e[0],"url").url;return i.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:i.mode,href:a,body:wt(l)}:i.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var i=kt(t.body,e,!1);return O.makeAnchor(t.href,[],i,e)},mathmlBuilder:(t,e)=>{var i=ar(t.body,e);return i instanceof vn||(i=new vn("mrow",[i])),i.setAttribute("href",t.href),i}});ge({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=Ge(e[0],"url").url;if(!i.settings.isTrusted({command:"\\url",url:l}))return i.formatUnsupportedCmd("\\url");for(var a=[],o=0;o<l.length;o++){var c=l[o];c==="~"&&(c="\\textasciitilde"),a.push({type:"textord",mode:"text",text:c})}var f={type:"text",mode:i.mode,font:"\\texttt",body:a};return{type:"href",mode:i.mode,href:l,body:wt(f)}}});ge({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:i}=t;return{type:"hbox",mode:i.mode,body:wt(e[0])}},htmlBuilder(t,e){var i=kt(t.body,e,!1);return O.makeFragment(i)},mathmlBuilder(t,e){return new oe.MathNode("mrow",an(t.body,e))}});ge({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l,token:a}=t,o=Ge(e[0],"raw").string,c=e[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var f,m={};switch(l){case"\\htmlClass":m.class=o,f={command:"\\htmlClass",class:o};break;case"\\htmlId":m.id=o,f={command:"\\htmlId",id:o};break;case"\\htmlStyle":m.style=o,f={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var p=o.split(","),x=0;x<p.length;x++){var S=p[x],T=S.indexOf("=");if(T<0)throw new ue("\\htmlData key/value '"+S+"' missing equals sign");var E=S.slice(0,T),_=S.slice(T+1);m["data-"+E.trim()]=_}f={command:"\\htmlData",attributes:m};break}default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(f)?{type:"html",mode:i.mode,attributes:m,body:wt(c)}:i.formatUnsupportedCmd(l)},htmlBuilder:(t,e)=>{var i=kt(t.body,e,!1),l=["enclosing"];t.attributes.class&&l.push(...t.attributes.class.trim().split(/\s+/));var a=O.makeSpan(l,i,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&a.setAttribute(o,t.attributes[o]);return a},mathmlBuilder:(t,e)=>ar(t.body,e)});ge({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"htmlmathml",mode:i.mode,html:wt(e[0]),mathml:wt(e[1])}},htmlBuilder:(t,e)=>{var i=kt(t.html,e,!1);return O.makeFragment(i)},mathmlBuilder:(t,e)=>ar(t.mathml,e)});var Ac=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!i)throw new ue("Invalid size: '"+e+"' in \\includegraphics");var l={number:+(i[1]+i[2]),unit:i[3]};if(!Q2(l))throw new ue("Invalid unit: '"+l.unit+"' in \\includegraphics.");return l};ge({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,i)=>{var{parser:l}=t,a={number:0,unit:"em"},o={number:.9,unit:"em"},c={number:0,unit:"em"},f="";if(i[0])for(var m=Ge(i[0],"raw").string,p=m.split(","),x=0;x<p.length;x++){var S=p[x].split("=");if(S.length===2){var T=S[1].trim();switch(S[0].trim()){case"alt":f=T;break;case"width":a=Ac(T);break;case"height":o=Ac(T);break;case"totalheight":c=Ac(T);break;default:throw new ue("Invalid key: '"+S[0]+"' in \\includegraphics.")}}}var E=Ge(e[0],"url").url;return f===""&&(f=E,f=f.replace(/^.*[\\/]/,""),f=f.substring(0,f.lastIndexOf("."))),l.settings.isTrusted({command:"\\includegraphics",url:E})?{type:"includegraphics",mode:l.mode,alt:f,width:a,height:o,totalheight:c,src:E}:l.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var i=vt(t.height,e),l=0;t.totalheight.number>0&&(l=vt(t.totalheight,e)-i);var a=0;t.width.number>0&&(a=vt(t.width,e));var o={height:he(i+l)};a>0&&(o.width=he(a)),l>0&&(o.verticalAlign=he(-l));var c=new SS(t.src,t.alt,o);return c.height=i,c.depth=l,c},mathmlBuilder:(t,e)=>{var i=new oe.MathNode("mglyph",[]);i.setAttribute("alt",t.alt);var l=vt(t.height,e),a=0;if(t.totalheight.number>0&&(a=vt(t.totalheight,e)-l,i.setAttribute("valign",he(-a))),i.setAttribute("height",he(l+a)),t.width.number>0){var o=vt(t.width,e);i.setAttribute("width",he(o))}return i.setAttribute("src",t.src),i}});ge({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:l}=t,a=Ge(e[0],"size");if(i.settings.strict){var o=l[1]==="m",c=a.value.unit==="mu";o?(c||i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" supports only mu units, "+("not "+a.value.unit+" units")),i.mode!=="math"&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" works only in math mode")):c&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" doesn't support mu units")}return{type:"kern",mode:i.mode,dimension:a.value}},htmlBuilder(t,e){return O.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var i=vt(t.dimension,e);return new oe.SpaceNode(i)}});ge({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"lap",mode:i.mode,alignment:l.slice(5),body:a}},htmlBuilder:(t,e)=>{var i;t.alignment==="clap"?(i=O.makeSpan([],[Je(t.body,e)]),i=O.makeSpan(["inner"],[i],e)):i=O.makeSpan(["inner"],[Je(t.body,e)]);var l=O.makeSpan(["fix"],[]),a=O.makeSpan([t.alignment],[i,l],e),o=O.makeSpan(["strut"]);return o.style.height=he(a.height+a.depth),a.depth&&(o.style.verticalAlign=he(-a.depth)),a.children.unshift(o),a=O.makeSpan(["thinbox"],[a],e),O.makeSpan(["mord","vbox"],[a],e)},mathmlBuilder:(t,e)=>{var i=new oe.MathNode("mpadded",[ot(t.body,e)]);if(t.alignment!=="rlap"){var l=t.alignment==="llap"?"-1":"-0.5";i.setAttribute("lspace",l+"width")}return i.setAttribute("width","0px"),i}});ge({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:i,parser:l}=t,a=l.mode;l.switchMode("math");var o=i==="\\("?"\\)":"$",c=l.parseExpression(!1,o);return l.expect(o),l.switchMode(a),{type:"styling",mode:l.mode,style:"text",body:c}}});ge({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ue("Mismatched "+t.funcName)}});var G4=(t,e)=>{switch(e.style.size){case Re.DISPLAY.size:return t.display;case Re.TEXT.size:return t.text;case Re.SCRIPT.size:return t.script;case Re.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ge({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"mathchoice",mode:i.mode,display:wt(e[0]),text:wt(e[1]),script:wt(e[2]),scriptscript:wt(e[3])}},htmlBuilder:(t,e)=>{var i=G4(t,e),l=kt(i,e,!1);return O.makeFragment(l)},mathmlBuilder:(t,e)=>{var i=G4(t,e);return ar(i,e)}});var Ig=(t,e,i,l,a,o,c)=>{t=O.makeSpan([],[t]);var f=i&&$e.isCharacterBox(i),m,p;if(e){var x=Je(e,l.havingStyle(a.sup()),l);p={elem:x,kern:Math.max(l.fontMetrics().bigOpSpacing1,l.fontMetrics().bigOpSpacing3-x.depth)}}if(i){var S=Je(i,l.havingStyle(a.sub()),l);m={elem:S,kern:Math.max(l.fontMetrics().bigOpSpacing2,l.fontMetrics().bigOpSpacing4-S.height)}}var T;if(p&&m){var E=l.fontMetrics().bigOpSpacing5+m.elem.height+m.elem.depth+m.kern+t.depth+c;T=O.makeVList({positionType:"bottom",positionData:E,children:[{type:"kern",size:l.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:he(-o)},{type:"kern",size:m.kern},{type:"elem",elem:t},{type:"kern",size:p.kern},{type:"elem",elem:p.elem,marginLeft:he(o)},{type:"kern",size:l.fontMetrics().bigOpSpacing5}]},l)}else if(m){var _=t.height-c;T=O.makeVList({positionType:"top",positionData:_,children:[{type:"kern",size:l.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:he(-o)},{type:"kern",size:m.kern},{type:"elem",elem:t}]},l)}else if(p){var R=t.depth+c;T=O.makeVList({positionType:"bottom",positionData:R,children:[{type:"elem",elem:t},{type:"kern",size:p.kern},{type:"elem",elem:p.elem,marginLeft:he(o)},{type:"kern",size:l.fontMetrics().bigOpSpacing5}]},l)}else return t;var k=[T];if(m&&o!==0&&!f){var U=O.makeSpan(["mspace"],[],l);U.style.marginRight=he(o),k.unshift(U)}return O.makeSpan(["mop","op-limits"],k,l)},Dg=["\\smallint"],_l=(t,e)=>{var i,l,a=!1,o;t.type==="supsub"?(i=t.sup,l=t.sub,o=Ge(t.base,"op"),a=!0):o=Ge(t,"op");var c=e.style,f=!1;c.size===Re.DISPLAY.size&&o.symbol&&!Dg.includes(o.name)&&(f=!0);var m;if(o.symbol){var p=f?"Size2-Regular":"Size1-Regular",x="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(x=o.name.slice(1),o.name=x==="oiint"?"\\iint":"\\iiint"),m=O.makeSymbol(o.name,p,"math",e,["mop","op-symbol",f?"large-op":"small-op"]),x.length>0){var S=m.italic,T=O.staticSvg(x+"Size"+(f?"2":"1"),e);m=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:0},{type:"elem",elem:T,shift:f?.08:0}]},e),o.name="\\"+x,m.classes.unshift("mop"),m.italic=S}}else if(o.body){var E=kt(o.body,e,!0);E.length===1&&E[0]instanceof zn?(m=E[0],m.classes[0]="mop"):m=O.makeSpan(["mop"],E,e)}else{for(var _=[],R=1;R<o.name.length;R++)_.push(O.mathsym(o.name[R],o.mode,e));m=O.makeSpan(["mop"],_,e)}var k=0,U=0;return(m instanceof zn||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(k=(m.height-m.depth)/2-e.fontMetrics().axisHeight,U=m.italic),a?Ig(m,i,l,e,c,U,k):(k&&(m.style.position="relative",m.style.top=he(k)),m)},za=(t,e)=>{var i;if(t.symbol)i=new vn("mo",[Ln(t.name,t.mode)]),Dg.includes(t.name)&&i.setAttribute("largeop","false");else if(t.body)i=new vn("mo",an(t.body,e));else{i=new vn("mi",[new Qn(t.name.slice(1))]);var l=new vn("mo",[Ln("","text")]);t.parentIsSupSub?i=new vn("mrow",[i,l]):i=sg([i,l])}return i},TT={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ge({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=l;return a.length===1&&(a=TT[a]),{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:_l,mathmlBuilder:za});ge({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:wt(l)}},htmlBuilder:_l,mathmlBuilder:za});var wT={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ge({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:_l,mathmlBuilder:za});ge({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:_l,mathmlBuilder:za});ge({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:i}=t,l=i;return l.length===1&&(l=wT[l]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:l}},htmlBuilder:_l,mathmlBuilder:za});var zg=(t,e)=>{var i,l,a=!1,o;t.type==="supsub"?(i=t.sup,l=t.sub,o=Ge(t.base,"operatorname"),a=!0):o=Ge(t,"operatorname");var c;if(o.body.length>0){for(var f=o.body.map(S=>{var T=S.text;return typeof T=="string"?{type:"textord",mode:S.mode,text:T}:S}),m=kt(f,e.withFont("mathrm"),!0),p=0;p<m.length;p++){var x=m[p];x instanceof zn&&(x.text=x.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}c=O.makeSpan(["mop"],m,e)}else c=O.makeSpan(["mop"],[],e);return a?Ig(c,i,l,e,e.style,0,0):c},AT=(t,e)=>{for(var i=an(t.body,e.withFont("mathrm")),l=!0,a=0;a<i.length;a++){var o=i[a];if(!(o instanceof oe.SpaceNode))if(o instanceof oe.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var c=o.children[0];o.children.length===1&&c instanceof oe.TextNode?c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):l=!1;break}default:l=!1}else l=!1}if(l){var f=i.map(x=>x.toText()).join("");i=[new oe.TextNode(f)]}var m=new oe.MathNode("mi",i);m.setAttribute("mathvariant","normal");var p=new oe.MathNode("mo",[Ln("","text")]);return t.parentIsSupSub?new oe.MathNode("mrow",[m,p]):oe.newDocumentFragment([m,p])};ge({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:l}=t,a=e[0];return{type:"operatorname",mode:i.mode,body:wt(a),alwaysHandleSupSub:l==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:zg,mathmlBuilder:AT});M("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ir({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?O.makeFragment(kt(t.body,e,!1)):O.makeSpan(["mord"],kt(t.body,e,!0),e)},mathmlBuilder(t,e){return ar(t.body,e,!0)}});ge({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:i}=t,l=e[0];return{type:"overline",mode:i.mode,body:l}},htmlBuilder(t,e){var i=Je(t.body,e.havingCrampedStyle()),l=O.makeLineSpan("overline-line",e),a=e.fontMetrics().defaultRuleThickness,o=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:3*a},{type:"elem",elem:l},{type:"kern",size:a}]},e);return O.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var i=new oe.MathNode("mo",[new oe.TextNode("")]);i.setAttribute("stretchy","true");var l=new oe.MathNode("mover",[ot(t.body,e),i]);return l.setAttribute("accent","true"),l}});ge({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"phantom",mode:i.mode,body:wt(l)}},htmlBuilder:(t,e)=>{var i=kt(t.body,e.withPhantom(),!1);return O.makeFragment(i)},mathmlBuilder:(t,e)=>{var i=an(t.body,e);return new oe.MathNode("mphantom",i)}});ge({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"hphantom",mode:i.mode,body:l}},htmlBuilder:(t,e)=>{var i=O.makeSpan([],[Je(t.body,e.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var l=0;l<i.children.length;l++)i.children[l].height=0,i.children[l].depth=0;return i=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e),O.makeSpan(["mord"],[i],e)},mathmlBuilder:(t,e)=>{var i=an(wt(t.body),e),l=new oe.MathNode("mphantom",i),a=new oe.MathNode("mpadded",[l]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});ge({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,l=e[0];return{type:"vphantom",mode:i.mode,body:l}},htmlBuilder:(t,e)=>{var i=O.makeSpan(["inner"],[Je(t.body,e.withPhantom())]),l=O.makeSpan(["fix"],[]);return O.makeSpan(["mord","rlap"],[i,l],e)},mathmlBuilder:(t,e)=>{var i=an(wt(t.body),e),l=new oe.MathNode("mphantom",i),a=new oe.MathNode("mpadded",[l]);return a.setAttribute("width","0px"),a}});ge({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t,l=Ge(e[0],"size").value,a=e[1];return{type:"raisebox",mode:i.mode,dy:l,body:a}},htmlBuilder(t,e){var i=Je(t.body,e),l=vt(t.dy,e);return O.makeVList({positionType:"shift",positionData:-l,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){var i=new oe.MathNode("mpadded",[ot(t.body,e)]),l=t.dy.number+t.dy.unit;return i.setAttribute("voffset",l),i}});ge({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ge({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,i){var{parser:l}=t,a=i[0],o=Ge(e[0],"size"),c=Ge(e[1],"size");return{type:"rule",mode:l.mode,shift:a&&Ge(a,"size").value,width:o.value,height:c.value}},htmlBuilder(t,e){var i=O.makeSpan(["mord","rule"],[],e),l=vt(t.width,e),a=vt(t.height,e),o=t.shift?vt(t.shift,e):0;return i.style.borderRightWidth=he(l),i.style.borderTopWidth=he(a),i.style.bottom=he(o),i.width=l,i.height=a+o,i.depth=-o,i.maxFontSize=a*1.125*e.sizeMultiplier,i},mathmlBuilder(t,e){var i=vt(t.width,e),l=vt(t.height,e),a=t.shift?vt(t.shift,e):0,o=e.color&&e.getColor()||"black",c=new oe.MathNode("mspace");c.setAttribute("mathbackground",o),c.setAttribute("width",he(i)),c.setAttribute("height",he(l));var f=new oe.MathNode("mpadded",[c]);return a>=0?f.setAttribute("height",he(a)):(f.setAttribute("height",he(a)),f.setAttribute("depth",he(-a))),f.setAttribute("voffset",he(a)),f}});function Lg(t,e,i){for(var l=kt(t,e,!1),a=e.sizeMultiplier/i.sizeMultiplier,o=0;o<l.length;o++){var c=l[o].classes.indexOf("sizing");c<0?Array.prototype.push.apply(l[o].classes,e.sizingClasses(i)):l[o].classes[c+1]==="reset-size"+e.size&&(l[o].classes[c+1]="reset-size"+i.size),l[o].height*=a,l[o].depth*=a}return O.makeFragment(l)}var q4=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],ET=(t,e)=>{var i=e.havingSize(t.size);return Lg(t.body,i,e)};ge({type:"sizing",names:q4,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:i,funcName:l,parser:a}=t,o=a.parseExpression(!1,i);return{type:"sizing",mode:a.mode,size:q4.indexOf(l)+1,body:o}},htmlBuilder:ET,mathmlBuilder:(t,e)=>{var i=e.havingSize(t.size),l=an(t.body,i),a=new oe.MathNode("mstyle",l);return a.setAttribute("mathsize",he(i.sizeMultiplier)),a}});ge({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,i)=>{var{parser:l}=t,a=!1,o=!1,c=i[0]&&Ge(i[0],"ordgroup");if(c)for(var f="",m=0;m<c.body.length;++m){var p=c.body[m];if(f=p.text,f==="t")a=!0;else if(f==="b")o=!0;else{a=!1,o=!1;break}}else a=!0,o=!0;var x=e[0];return{type:"smash",mode:l.mode,body:x,smashHeight:a,smashDepth:o}},htmlBuilder:(t,e)=>{var i=O.makeSpan([],[Je(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return i;if(t.smashHeight&&(i.height=0,i.children))for(var l=0;l<i.children.length;l++)i.children[l].height=0;if(t.smashDepth&&(i.depth=0,i.children))for(var a=0;a<i.children.length;a++)i.children[a].depth=0;var o=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e);return O.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var i=new oe.MathNode("mpadded",[ot(t.body,e)]);return t.smashHeight&&i.setAttribute("height","0px"),t.smashDepth&&i.setAttribute("depth","0px"),i}});ge({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:l}=t,a=i[0],o=e[0];return{type:"sqrt",mode:l.mode,body:o,index:a}},htmlBuilder(t,e){var i=Je(t.body,e.havingCrampedStyle());i.height===0&&(i.height=e.fontMetrics().xHeight),i=O.wrapFragment(i,e);var l=e.fontMetrics(),a=l.defaultRuleThickness,o=a;e.style.id<Re.TEXT.id&&(o=e.fontMetrics().xHeight);var c=a+o/4,f=i.height+i.depth+c+a,{span:m,ruleWidth:p,advanceWidth:x}=Si.sqrtImage(f,e),S=m.height-p;S>i.height+i.depth+c&&(c=(c+S-i.height-i.depth)/2);var T=m.height-i.height-c-p;i.style.paddingLeft=he(x);var E=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+T)},{type:"elem",elem:m},{type:"kern",size:p}]},e);if(t.index){var _=e.havingStyle(Re.SCRIPTSCRIPT),R=Je(t.index,_,e),k=.6*(E.height-E.depth),U=O.makeVList({positionType:"shift",positionData:-k,children:[{type:"elem",elem:R}]},e),Q=O.makeSpan(["root"],[U]);return O.makeSpan(["mord","sqrt"],[Q,E],e)}else return O.makeSpan(["mord","sqrt"],[E],e)},mathmlBuilder(t,e){var{body:i,index:l}=t;return l?new oe.MathNode("mroot",[ot(i,e),ot(l,e)]):new oe.MathNode("msqrt",[ot(i,e)])}});var P4={display:Re.DISPLAY,text:Re.TEXT,script:Re.SCRIPT,scriptscript:Re.SCRIPTSCRIPT};ge({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:i,funcName:l,parser:a}=t,o=a.parseExpression(!0,i),c=l.slice(1,l.length-5);return{type:"styling",mode:a.mode,style:c,body:o}},htmlBuilder(t,e){var i=P4[t.style],l=e.havingStyle(i).withFont("");return Lg(t.body,l,e)},mathmlBuilder(t,e){var i=P4[t.style],l=e.havingStyle(i),a=an(t.body,l),o=new oe.MathNode("mstyle",a),c={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},f=c[t.style];return o.setAttribute("scriptlevel",f[0]),o.setAttribute("displaystyle",f[1]),o}});var CT=function(e,i){var l=e.base;if(l)if(l.type==="op"){var a=l.limits&&(i.style.size===Re.DISPLAY.size||l.alwaysHandleSupSub);return a?_l:null}else if(l.type==="operatorname"){var o=l.alwaysHandleSupSub&&(i.style.size===Re.DISPLAY.size||l.limits);return o?zg:null}else{if(l.type==="accent")return $e.isCharacterBox(l.base)?gd:null;if(l.type==="horizBrace"){var c=!e.sub;return c===l.isOver?kg:null}else return null}else return null};Ir({type:"supsub",htmlBuilder(t,e){var i=CT(t,e);if(i)return i(t,e);var{base:l,sup:a,sub:o}=t,c=Je(l,e),f,m,p=e.fontMetrics(),x=0,S=0,T=l&&$e.isCharacterBox(l);if(a){var E=e.havingStyle(e.style.sup());f=Je(a,E,e),T||(x=c.height-E.fontMetrics().supDrop*E.sizeMultiplier/e.sizeMultiplier)}if(o){var _=e.havingStyle(e.style.sub());m=Je(o,_,e),T||(S=c.depth+_.fontMetrics().subDrop*_.sizeMultiplier/e.sizeMultiplier)}var R;e.style===Re.DISPLAY?R=p.sup1:e.style.cramped?R=p.sup3:R=p.sup2;var k=e.sizeMultiplier,U=he(.5/p.ptPerEm/k),Q=null;if(m){var J=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(c instanceof zn||J)&&(Q=he(-c.italic))}var ie;if(f&&m){x=Math.max(x,R,f.depth+.25*p.xHeight),S=Math.max(S,p.sub2);var te=p.defaultRuleThickness,V=4*te;if(x-f.depth-(m.height-S)<V){S=V-(x-f.depth)+m.height;var q=.8*p.xHeight-(x-f.depth);q>0&&(x+=q,S-=q)}var ae=[{type:"elem",elem:m,shift:S,marginRight:U,marginLeft:Q},{type:"elem",elem:f,shift:-x,marginRight:U}];ie=O.makeVList({positionType:"individualShift",children:ae},e)}else if(m){S=Math.max(S,p.sub1,m.height-.8*p.xHeight);var W=[{type:"elem",elem:m,marginLeft:Q,marginRight:U}];ie=O.makeVList({positionType:"shift",positionData:S,children:W},e)}else if(f)x=Math.max(x,R,f.depth+.25*p.xHeight),ie=O.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:f,marginRight:U}]},e);else throw new Error("supsub must have either sup or sub.");var be=jc(c,"right")||"mord";return O.makeSpan([be],[c,O.makeSpan(["msupsub"],[ie])],e)},mathmlBuilder(t,e){var i=!1,l,a;t.base&&t.base.type==="horizBrace"&&(a=!!t.sup,a===t.base.isOver&&(i=!0,l=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[ot(t.base,e)];t.sub&&o.push(ot(t.sub,e)),t.sup&&o.push(ot(t.sup,e));var c;if(i)c=l?"mover":"munder";else if(t.sub)if(t.sup){var p=t.base;p&&p.type==="op"&&p.limits&&e.style===Re.DISPLAY||p&&p.type==="operatorname"&&p.alwaysHandleSupSub&&(e.style===Re.DISPLAY||p.limits)?c="munderover":c="msubsup"}else{var m=t.base;m&&m.type==="op"&&m.limits&&(e.style===Re.DISPLAY||m.alwaysHandleSupSub)||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(m.limits||e.style===Re.DISPLAY)?c="munder":c="msub"}else{var f=t.base;f&&f.type==="op"&&f.limits&&(e.style===Re.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||e.style===Re.DISPLAY)?c="mover":c="msup"}return new oe.MathNode(c,o)}});Ir({type:"atom",htmlBuilder(t,e){return O.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var i=new oe.MathNode("mo",[Ln(t.text,t.mode)]);if(t.family==="bin"){var l=md(t,e);l==="bold-italic"&&i.setAttribute("mathvariant",l)}else t.family==="punct"?i.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&i.setAttribute("stretchy","false");return i}});var Ug={mi:"italic",mn:"normal",mtext:"normal"};Ir({type:"mathord",htmlBuilder(t,e){return O.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var i=new oe.MathNode("mi",[Ln(t.text,t.mode,e)]),l=md(t,e)||"italic";return l!==Ug[i.type]&&i.setAttribute("mathvariant",l),i}});Ir({type:"textord",htmlBuilder(t,e){return O.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var i=Ln(t.text,t.mode,e),l=md(t,e)||"normal",a;return t.mode==="text"?a=new oe.MathNode("mtext",[i]):/[0-9]/.test(t.text)?a=new oe.MathNode("mn",[i]):t.text==="\\prime"?a=new oe.MathNode("mo",[i]):a=new oe.MathNode("mi",[i]),l!==Ug[a.type]&&a.setAttribute("mathvariant",l),a}});var Ec={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Cc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ir({type:"spacing",htmlBuilder(t,e){if(Cc.hasOwnProperty(t.text)){var i=Cc[t.text].className||"";if(t.mode==="text"){var l=O.makeOrd(t,e,"textord");return l.classes.push(i),l}else return O.makeSpan(["mspace",i],[O.mathsym(t.text,t.mode,e)],e)}else{if(Ec.hasOwnProperty(t.text))return O.makeSpan(["mspace",Ec[t.text]],[],e);throw new ue('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var i;if(Cc.hasOwnProperty(t.text))i=new oe.MathNode("mtext",[new oe.TextNode("")]);else{if(Ec.hasOwnProperty(t.text))return new oe.MathNode("mspace");throw new ue('Unknown type of space "'+t.text+'"')}return i}});var O4=()=>{var t=new oe.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Ir({type:"tag",mathmlBuilder(t,e){var i=new oe.MathNode("mtable",[new oe.MathNode("mtr",[O4(),new oe.MathNode("mtd",[ar(t.body,e)]),O4(),new oe.MathNode("mtd",[ar(t.tag,e)])])]);return i.setAttribute("width","100%"),i}});var V4={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},F4={"\\textbf":"textbf","\\textmd":"textmd"},NT={"\\textit":"textit","\\textup":"textup"},Y4=(t,e)=>{var i=t.font;if(i){if(V4[i])return e.withTextFontFamily(V4[i]);if(F4[i])return e.withTextFontWeight(F4[i]);if(i==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(NT[i])};ge({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:l}=t,a=e[0];return{type:"text",mode:i.mode,body:wt(a),font:l}},htmlBuilder(t,e){var i=Y4(t,e),l=kt(t.body,i,!0);return O.makeSpan(["mord","text"],l,i)},mathmlBuilder(t,e){var i=Y4(t,e);return ar(t.body,i)}});ge({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"underline",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Je(t.body,e),l=O.makeLineSpan("underline-line",e),a=e.fontMetrics().defaultRuleThickness,o=O.makeVList({positionType:"top",positionData:i.height,children:[{type:"kern",size:a},{type:"elem",elem:l},{type:"kern",size:3*a},{type:"elem",elem:i}]},e);return O.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var i=new oe.MathNode("mo",[new oe.TextNode("")]);i.setAttribute("stretchy","true");var l=new oe.MathNode("munder",[ot(t.body,e),i]);return l.setAttribute("accentunder","true"),l}});ge({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"vcenter",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Je(t.body,e),l=e.fontMetrics().axisHeight,a=.5*(i.height-l-(i.depth+l));return O.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){return new oe.MathNode("mpadded",[ot(t.body,e)],["vcenter"])}});ge({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,i){throw new ue("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var i=j4(t),l=[],a=e.havingStyle(e.style.text()),o=0;o<i.length;o++){var c=i[o];c==="~"&&(c="\\textasciitilde"),l.push(O.makeSymbol(c,"Typewriter-Regular",t.mode,a,["mord","texttt"]))}return O.makeSpan(["mord","text"].concat(a.sizingClasses(e)),O.tryCombineChars(l),a)},mathmlBuilder(t,e){var i=new oe.TextNode(j4(t)),l=new oe.MathNode("mtext",[i]);return l.setAttribute("mathvariant","monospace"),l}});var j4=t=>t.body.replace(/ /g,t.star?"":""),ir=lg,Bg=`[ \r
	]`,MT="\\\\[a-zA-Z@]+",_T="\\\\[^\uD800-\uDFFF]",RT="("+MT+")"+Bg+"*",kT=`\\\\(
|[ \r	]+
?)[ \r	]*`,Qc="[-]",IT=new RegExp(Qc+"+$"),DT="("+Bg+"+)|"+(kT+"|")+"([!-\\[\\]---]"+(Qc+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Qc+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+RT)+("|"+_T+")");class J4{constructor(e,i){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=i,this.tokenRegex=new RegExp(DT,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,i){this.catcodes[e]=i}lex(){var e=this.input,i=this.tokenRegex.lastIndex;if(i===e.length)return new yn("EOF",new ln(this,i,i));var l=this.tokenRegex.exec(e);if(l===null||l.index!==i)throw new ue("Unexpected character: '"+e[i]+"'",new yn(e[i],new ln(this,i,i+1)));var a=l[6]||l[3]||(l[2]?"\\ ":" ");if(this.catcodes[a]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new yn(a,new ln(this,i,this.tokenRegex.lastIndex))}}class zT{constructor(e,i){e===void 0&&(e={}),i===void 0&&(i={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=i,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ue("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var i in e)e.hasOwnProperty(i)&&(e[i]==null?delete this.current[i]:this.current[i]=e[i])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,i,l){if(l===void 0&&(l=!1),l){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=i)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}i==null?delete this.current[e]:this.current[e]=i}}var LT=Cg;M("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});M("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});M("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});M("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});M("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var i=t.future();return e[0].length===1&&e[0][0].text===i.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});M("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");M("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var X4={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};M("\\char",function(t){var e=t.popToken(),i,l="";if(e.text==="'")i=8,e=t.popToken();else if(e.text==='"')i=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")l=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ue("\\char` missing argument");l=e.text.charCodeAt(0)}else i=10;if(i){if(l=X4[e.text],l==null||l>=i)throw new ue("Invalid base-"+i+" digit "+e.text);for(var a;(a=X4[t.future().text])!=null&&a<i;)l*=i,l+=a,t.popToken()}return"\\@char{"+l+"}"});var Ad=(t,e,i,l)=>{var a=t.consumeArg().tokens;if(a.length!==1)throw new ue("\\newcommand's first argument must be a macro name");var o=a[0].text,c=t.isDefined(o);if(c&&!e)throw new ue("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!c&&!i)throw new ue("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var f=0;if(a=t.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var m="",p=t.expandNextToken();p.text!=="]"&&p.text!=="EOF";)m+=p.text,p=t.expandNextToken();if(!m.match(/^\s*[0-9]+\s*$/))throw new ue("Invalid number of arguments: "+m);f=parseInt(m),a=t.consumeArg().tokens}return c&&l||t.macros.set(o,{tokens:a,numArgs:f}),""};M("\\newcommand",t=>Ad(t,!1,!0,!1));M("\\renewcommand",t=>Ad(t,!0,!1,!1));M("\\providecommand",t=>Ad(t,!0,!0,!0));M("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(i=>i.text).join("")),""});M("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(i=>i.text).join("")),""});M("\\show",t=>{var e=t.popToken(),i=e.text;return console.log(e,t.macros.get(i),ir[i],ut.math[i],ut.text[i]),""});M("\\bgroup","{");M("\\egroup","}");M("~","\\nobreakspace");M("\\lq","`");M("\\rq","'");M("\\aa","\\r a");M("\\AA","\\r A");M("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");M("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");M("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");M("","\\mathscr{B}");M("","\\mathscr{E}");M("","\\mathscr{F}");M("","\\mathscr{H}");M("","\\mathscr{I}");M("","\\mathscr{L}");M("","\\mathscr{M}");M("","\\mathscr{R}");M("","\\mathfrak{C}");M("","\\mathfrak{H}");M("","\\mathfrak{Z}");M("\\Bbbk","\\Bbb{k}");M("","\\cdotp");M("\\llap","\\mathllap{\\textrm{#1}}");M("\\rlap","\\mathrlap{\\textrm{#1}}");M("\\clap","\\mathclap{\\textrm{#1}}");M("\\mathstrut","\\vphantom{(}");M("\\underbar","\\underline{\\text{#1}}");M("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');M("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");M("\\ne","\\neq");M("","\\neq");M("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");M("","\\notin");M("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");M("","\\perp");M("","\\mathclose{!\\mkern-0.8mu!}");M("","\\notni");M("","\\ulcorner");M("","\\urcorner");M("","\\llcorner");M("","\\lrcorner");M("","\\copyright");M("","\\textregistered");M("","\\textregistered");M("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');M("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');M("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');M("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');M("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");M("","\\vdots");M("\\varGamma","\\mathit{\\Gamma}");M("\\varDelta","\\mathit{\\Delta}");M("\\varTheta","\\mathit{\\Theta}");M("\\varLambda","\\mathit{\\Lambda}");M("\\varXi","\\mathit{\\Xi}");M("\\varPi","\\mathit{\\Pi}");M("\\varSigma","\\mathit{\\Sigma}");M("\\varUpsilon","\\mathit{\\Upsilon}");M("\\varPhi","\\mathit{\\Phi}");M("\\varPsi","\\mathit{\\Psi}");M("\\varOmega","\\mathit{\\Omega}");M("\\substack","\\begin{subarray}{c}#1\\end{subarray}");M("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");M("\\boxed","\\fbox{$\\displaystyle{#1}$}");M("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");M("\\implies","\\DOTSB\\;\\Longrightarrow\\;");M("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");M("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");M("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var K4={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};M("\\dots",function(t){var e="\\dotso",i=t.expandAfterFuture().text;return i in K4?e=K4[i]:(i.slice(0,4)==="\\not"||i in ut.math&&["bin","rel"].includes(ut.math[i].group))&&(e="\\dotsb"),e});var Ed={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};M("\\dotso",function(t){var e=t.future().text;return e in Ed?"\\ldots\\,":"\\ldots"});M("\\dotsc",function(t){var e=t.future().text;return e in Ed&&e!==","?"\\ldots\\,":"\\ldots"});M("\\cdots",function(t){var e=t.future().text;return e in Ed?"\\@cdots\\,":"\\@cdots"});M("\\dotsb","\\cdots");M("\\dotsm","\\cdots");M("\\dotsi","\\!\\cdots");M("\\dotsx","\\ldots\\,");M("\\DOTSI","\\relax");M("\\DOTSB","\\relax");M("\\DOTSX","\\relax");M("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");M("\\,","\\tmspace+{3mu}{.1667em}");M("\\thinspace","\\,");M("\\>","\\mskip{4mu}");M("\\:","\\tmspace+{4mu}{.2222em}");M("\\medspace","\\:");M("\\;","\\tmspace+{5mu}{.2777em}");M("\\thickspace","\\;");M("\\!","\\tmspace-{3mu}{.1667em}");M("\\negthinspace","\\!");M("\\negmedspace","\\tmspace-{4mu}{.2222em}");M("\\negthickspace","\\tmspace-{5mu}{.277em}");M("\\enspace","\\kern.5em ");M("\\enskip","\\hskip.5em\\relax");M("\\quad","\\hskip1em\\relax");M("\\qquad","\\hskip2em\\relax");M("\\tag","\\@ifstar\\tag@literal\\tag@paren");M("\\tag@paren","\\tag@literal{({#1})}");M("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ue("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});M("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");M("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");M("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");M("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");M("\\newline","\\\\\\relax");M("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Hg=he(Kn["Main-Regular"][84][1]-.7*Kn["Main-Regular"][65][1]);M("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Hg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");M("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Hg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");M("\\hspace","\\@ifstar\\@hspacer\\@hspace");M("\\@hspace","\\hskip #1\\relax");M("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");M("\\ordinarycolon",":");M("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");M("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');M("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');M("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');M("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');M("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');M("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');M("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');M("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');M("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');M("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');M("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');M("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');M("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');M("","\\dblcolon");M("","\\eqcolon");M("","\\coloneqq");M("","\\eqqcolon");M("","\\Coloneqq");M("\\ratio","\\vcentcolon");M("\\coloncolon","\\dblcolon");M("\\colonequals","\\coloneqq");M("\\coloncolonequals","\\Coloneqq");M("\\equalscolon","\\eqqcolon");M("\\equalscoloncolon","\\Eqqcolon");M("\\colonminus","\\coloneq");M("\\coloncolonminus","\\Coloneq");M("\\minuscolon","\\eqcolon");M("\\minuscoloncolon","\\Eqcolon");M("\\coloncolonapprox","\\Colonapprox");M("\\coloncolonsim","\\Colonsim");M("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");M("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");M("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");M("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");M("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");M("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");M("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");M("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");M("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");M("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");M("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");M("\\ngeqq","\\html@mathml{\\@ngeqq}{}");M("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");M("\\nleqq","\\html@mathml{\\@nleqq}{}");M("\\nleqslant","\\html@mathml{\\@nleqslant}{}");M("\\nshortmid","\\html@mathml{\\@nshortmid}{}");M("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");M("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");M("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");M("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");M("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");M("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");M("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");M("\\imath","\\html@mathml{\\@imath}{}");M("\\jmath","\\html@mathml{\\@jmath}{}");M("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");M("","\\llbracket");M("","\\rrbracket");M("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");M("","\\lBrace");M("","\\rBrace");M("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");M("","\\minuso");M("\\darr","\\downarrow");M("\\dArr","\\Downarrow");M("\\Darr","\\Downarrow");M("\\lang","\\langle");M("\\rang","\\rangle");M("\\uarr","\\uparrow");M("\\uArr","\\Uparrow");M("\\Uarr","\\Uparrow");M("\\N","\\mathbb{N}");M("\\R","\\mathbb{R}");M("\\Z","\\mathbb{Z}");M("\\alef","\\aleph");M("\\alefsym","\\aleph");M("\\Alpha","\\mathrm{A}");M("\\Beta","\\mathrm{B}");M("\\bull","\\bullet");M("\\Chi","\\mathrm{X}");M("\\clubs","\\clubsuit");M("\\cnums","\\mathbb{C}");M("\\Complex","\\mathbb{C}");M("\\Dagger","\\ddagger");M("\\diamonds","\\diamondsuit");M("\\empty","\\emptyset");M("\\Epsilon","\\mathrm{E}");M("\\Eta","\\mathrm{H}");M("\\exist","\\exists");M("\\harr","\\leftrightarrow");M("\\hArr","\\Leftrightarrow");M("\\Harr","\\Leftrightarrow");M("\\hearts","\\heartsuit");M("\\image","\\Im");M("\\infin","\\infty");M("\\Iota","\\mathrm{I}");M("\\isin","\\in");M("\\Kappa","\\mathrm{K}");M("\\larr","\\leftarrow");M("\\lArr","\\Leftarrow");M("\\Larr","\\Leftarrow");M("\\lrarr","\\leftrightarrow");M("\\lrArr","\\Leftrightarrow");M("\\Lrarr","\\Leftrightarrow");M("\\Mu","\\mathrm{M}");M("\\natnums","\\mathbb{N}");M("\\Nu","\\mathrm{N}");M("\\Omicron","\\mathrm{O}");M("\\plusmn","\\pm");M("\\rarr","\\rightarrow");M("\\rArr","\\Rightarrow");M("\\Rarr","\\Rightarrow");M("\\real","\\Re");M("\\reals","\\mathbb{R}");M("\\Reals","\\mathbb{R}");M("\\Rho","\\mathrm{P}");M("\\sdot","\\cdot");M("\\sect","\\S");M("\\spades","\\spadesuit");M("\\sub","\\subset");M("\\sube","\\subseteq");M("\\supe","\\supseteq");M("\\Tau","\\mathrm{T}");M("\\thetasym","\\vartheta");M("\\weierp","\\wp");M("\\Zeta","\\mathrm{Z}");M("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");M("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");M("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");M("\\bra","\\mathinner{\\langle{#1}|}");M("\\ket","\\mathinner{|{#1}\\rangle}");M("\\braket","\\mathinner{\\langle{#1}\\rangle}");M("\\Bra","\\left\\langle#1\\right|");M("\\Ket","\\left|#1\\right\\rangle");var Gg=t=>e=>{var i=e.consumeArg().tokens,l=e.consumeArg().tokens,a=e.consumeArg().tokens,o=e.consumeArg().tokens,c=e.macros.get("|"),f=e.macros.get("\\|");e.macros.beginGroup();var m=S=>T=>{t&&(T.macros.set("|",c),a.length&&T.macros.set("\\|",f));var E=S;if(!S&&a.length){var _=T.future();_.text==="|"&&(T.popToken(),E=!0)}return{tokens:E?a:l,numArgs:0}};e.macros.set("|",m(!1)),a.length&&e.macros.set("\\|",m(!0));var p=e.consumeArg().tokens,x=e.expandTokens([...o,...p,...i]);return e.macros.endGroup(),{tokens:x.reverse(),numArgs:0}};M("\\bra@ket",Gg(!1));M("\\bra@set",Gg(!0));M("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");M("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");M("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");M("\\angln","{\\angl n}");M("\\blue","\\textcolor{##6495ed}{#1}");M("\\orange","\\textcolor{##ffa500}{#1}");M("\\pink","\\textcolor{##ff00af}{#1}");M("\\red","\\textcolor{##df0030}{#1}");M("\\green","\\textcolor{##28ae7b}{#1}");M("\\gray","\\textcolor{gray}{#1}");M("\\purple","\\textcolor{##9d38bd}{#1}");M("\\blueA","\\textcolor{##ccfaff}{#1}");M("\\blueB","\\textcolor{##80f6ff}{#1}");M("\\blueC","\\textcolor{##63d9ea}{#1}");M("\\blueD","\\textcolor{##11accd}{#1}");M("\\blueE","\\textcolor{##0c7f99}{#1}");M("\\tealA","\\textcolor{##94fff5}{#1}");M("\\tealB","\\textcolor{##26edd5}{#1}");M("\\tealC","\\textcolor{##01d1c1}{#1}");M("\\tealD","\\textcolor{##01a995}{#1}");M("\\tealE","\\textcolor{##208170}{#1}");M("\\greenA","\\textcolor{##b6ffb0}{#1}");M("\\greenB","\\textcolor{##8af281}{#1}");M("\\greenC","\\textcolor{##74cf70}{#1}");M("\\greenD","\\textcolor{##1fab54}{#1}");M("\\greenE","\\textcolor{##0d923f}{#1}");M("\\goldA","\\textcolor{##ffd0a9}{#1}");M("\\goldB","\\textcolor{##ffbb71}{#1}");M("\\goldC","\\textcolor{##ff9c39}{#1}");M("\\goldD","\\textcolor{##e07d10}{#1}");M("\\goldE","\\textcolor{##a75a05}{#1}");M("\\redA","\\textcolor{##fca9a9}{#1}");M("\\redB","\\textcolor{##ff8482}{#1}");M("\\redC","\\textcolor{##f9685d}{#1}");M("\\redD","\\textcolor{##e84d39}{#1}");M("\\redE","\\textcolor{##bc2612}{#1}");M("\\maroonA","\\textcolor{##ffbde0}{#1}");M("\\maroonB","\\textcolor{##ff92c6}{#1}");M("\\maroonC","\\textcolor{##ed5fa6}{#1}");M("\\maroonD","\\textcolor{##ca337c}{#1}");M("\\maroonE","\\textcolor{##9e034e}{#1}");M("\\purpleA","\\textcolor{##ddd7ff}{#1}");M("\\purpleB","\\textcolor{##c6b9fc}{#1}");M("\\purpleC","\\textcolor{##aa87ff}{#1}");M("\\purpleD","\\textcolor{##7854ab}{#1}");M("\\purpleE","\\textcolor{##543b78}{#1}");M("\\mintA","\\textcolor{##f5f9e8}{#1}");M("\\mintB","\\textcolor{##edf2df}{#1}");M("\\mintC","\\textcolor{##e0e5cc}{#1}");M("\\grayA","\\textcolor{##f6f7f7}{#1}");M("\\grayB","\\textcolor{##f0f1f2}{#1}");M("\\grayC","\\textcolor{##e3e5e6}{#1}");M("\\grayD","\\textcolor{##d6d8da}{#1}");M("\\grayE","\\textcolor{##babec2}{#1}");M("\\grayF","\\textcolor{##888d93}{#1}");M("\\grayG","\\textcolor{##626569}{#1}");M("\\grayH","\\textcolor{##3b3e40}{#1}");M("\\grayI","\\textcolor{##21242c}{#1}");M("\\kaBlue","\\textcolor{##314453}{#1}");M("\\kaGreen","\\textcolor{##71B307}{#1}");var qg={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class UT{constructor(e,i,l){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=i,this.expansionCount=0,this.feed(e),this.macros=new zT(LT,i.macros),this.mode=l,this.stack=[]}feed(e){this.lexer=new J4(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var i,l,a;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;i=this.popToken(),{tokens:a,end:l}=this.consumeArg(["]"])}else({tokens:a,start:i,end:l}=this.consumeArg());return this.pushToken(new yn("EOF",l.loc)),this.pushTokens(a),new yn("",ln.range(i,l))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var i=[],l=e&&e.length>0;l||this.consumeSpaces();var a=this.future(),o,c=0,f=0;do{if(o=this.popToken(),i.push(o),o.text==="{")++c;else if(o.text==="}"){if(--c,c===-1)throw new ue("Extra }",o)}else if(o.text==="EOF")throw new ue("Unexpected end of input in a macro argument, expected '"+(e&&l?e[f]:"}")+"'",o);if(e&&l)if((c===0||c===1&&e[f]==="{")&&o.text===e[f]){if(++f,f===e.length){i.splice(-f,f);break}}else f=0}while(c!==0||l);return a.text==="{"&&i[i.length-1].text==="}"&&(i.pop(),i.shift()),i.reverse(),{tokens:i,start:a,end:o}}consumeArgs(e,i){if(i){if(i.length!==e+1)throw new ue("The length of delimiters doesn't match the number of args!");for(var l=i[0],a=0;a<l.length;a++){var o=this.popToken();if(l[a]!==o.text)throw new ue("Use of the macro doesn't match its definition",o)}}for(var c=[],f=0;f<e;f++)c.push(this.consumeArg(i&&i[f+1]).tokens);return c}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ue("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var i=this.popToken(),l=i.text,a=i.noexpand?null:this._getExpansion(l);if(a==null||e&&a.unexpandable){if(e&&a==null&&l[0]==="\\"&&!this.isDefined(l))throw new ue("Undefined control sequence: "+l);return this.pushToken(i),!1}this.countExpansion(1);var o=a.tokens,c=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){o=o.slice();for(var f=o.length-1;f>=0;--f){var m=o[f];if(m.text==="#"){if(f===0)throw new ue("Incomplete placeholder at end of macro body",m);if(m=o[--f],m.text==="#")o.splice(f+1,1);else if(/^[1-9]$/.test(m.text))o.splice(f,2,...c[+m.text-1]);else throw new ue("Not a valid argument number",m)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new yn(e)]):void 0}expandTokens(e){var i=[],l=this.stack.length;for(this.pushTokens(e);this.stack.length>l;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),i.push(a)}return this.countExpansion(i.length),i}expandMacroAsText(e){var i=this.expandMacro(e);return i&&i.map(l=>l.text).join("")}_getExpansion(e){var i=this.macros.get(e);if(i==null)return i;if(e.length===1){var l=this.lexer.catcodes[e];if(l!=null&&l!==13)return}var a=typeof i=="function"?i(this):i;if(typeof a=="string"){var o=0;if(a.indexOf("#")!==-1)for(var c=a.replace(/##/g,"");c.indexOf("#"+(o+1))!==-1;)++o;for(var f=new J4(a,this.settings),m=[],p=f.lex();p.text!=="EOF";)m.push(p),p=f.lex();m.reverse();var x={tokens:m,numArgs:o};return x}return a}isDefined(e){return this.macros.has(e)||ir.hasOwnProperty(e)||ut.math.hasOwnProperty(e)||ut.text.hasOwnProperty(e)||qg.hasOwnProperty(e)}isExpandable(e){var i=this.macros.get(e);return i!=null?typeof i=="string"||typeof i=="function"||!i.unexpandable:ir.hasOwnProperty(e)&&!ir[e].primitive}}var Q4=/^[]/,ho=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Nc={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},$4={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Fo{constructor(e,i){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new UT(e,i,this.mode),this.settings=i,this.leftrightDepth=0}expect(e,i){if(i===void 0&&(i=!0),this.fetch().text!==e)throw new ue("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());i&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var i=this.nextToken;this.consume(),this.gullet.pushToken(new yn("}")),this.gullet.pushTokens(e);var l=this.parseExpression(!1);return this.expect("}"),this.nextToken=i,l}parseExpression(e,i){for(var l=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(Fo.endOfExpression.indexOf(a.text)!==-1||i&&a.text===i||e&&ir[a.text]&&ir[a.text].infix)break;var o=this.parseAtom(i);if(o){if(o.type==="internal")continue}else break;l.push(o)}return this.mode==="text"&&this.formLigatures(l),this.handleInfixNodes(l)}handleInfixNodes(e){for(var i=-1,l,a=0;a<e.length;a++)if(e[a].type==="infix"){if(i!==-1)throw new ue("only one infix operator per group",e[a].token);i=a,l=e[a].replaceWith}if(i!==-1&&l){var o,c,f=e.slice(0,i),m=e.slice(i+1);f.length===1&&f[0].type==="ordgroup"?o=f[0]:o={type:"ordgroup",mode:this.mode,body:f},m.length===1&&m[0].type==="ordgroup"?c=m[0]:c={type:"ordgroup",mode:this.mode,body:m};var p;return l==="\\\\abovefrac"?p=this.callFunction(l,[o,e[i],c],[]):p=this.callFunction(l,[o,c],[]),[p]}else return e}handleSupSubscript(e){var i=this.fetch(),l=i.text;this.consume(),this.consumeSpaces();var a;do{var o;a=this.parseGroup(e)}while(((o=a)==null?void 0:o.type)==="internal");if(!a)throw new ue("Expected group after '"+l+"'",i);return a}formatUnsupportedCmd(e){for(var i=[],l=0;l<e.length;l++)i.push({type:"textord",mode:"text",text:e[l]});var a={type:"text",mode:this.mode,body:i},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return o}parseAtom(e){var i=this.parseGroup("atom",e);if((i==null?void 0:i.type)==="internal"||this.mode==="text")return i;for(var l,a;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(i&&i.type==="op"){var c=o.text==="\\limits";i.limits=c,i.alwaysHandleSupSub=!0}else if(i&&i.type==="operatorname")i.alwaysHandleSupSub&&(i.limits=o.text==="\\limits");else throw new ue("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(l)throw new ue("Double superscript",o);l=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(a)throw new ue("Double subscript",o);a=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(l)throw new ue("Double superscript",o);var f={type:"textord",mode:this.mode,text:"\\prime"},m=[f];for(this.consume();this.fetch().text==="'";)m.push(f),this.consume();this.fetch().text==="^"&&m.push(this.handleSupSubscript("superscript")),l={type:"ordgroup",mode:this.mode,body:m}}else if(ho[o.text]){var p=Q4.test(o.text),x=[];for(x.push(new yn(ho[o.text])),this.consume();;){var S=this.fetch().text;if(!ho[S]||Q4.test(S)!==p)break;x.unshift(new yn(ho[S])),this.consume()}var T=this.subparse(x);p?a={type:"ordgroup",mode:"math",body:T}:l={type:"ordgroup",mode:"math",body:T}}else break}return l||a?{type:"supsub",mode:this.mode,base:i,sup:l,sub:a}:i}parseFunction(e,i){var l=this.fetch(),a=l.text,o=ir[a];if(!o)return null;if(this.consume(),i&&i!=="atom"&&!o.allowedInArgument)throw new ue("Got function '"+a+"' with no arguments"+(i?" as "+i:""),l);if(this.mode==="text"&&!o.allowedInText)throw new ue("Can't use function '"+a+"' in text mode",l);if(this.mode==="math"&&o.allowedInMath===!1)throw new ue("Can't use function '"+a+"' in math mode",l);var{args:c,optArgs:f}=this.parseArguments(a,o);return this.callFunction(a,c,f,l,e)}callFunction(e,i,l,a,o){var c={funcName:e,parser:this,token:a,breakOnTokenText:o},f=ir[e];if(f&&f.handler)return f.handler(c,i,l);throw new ue("No function handler for "+e)}parseArguments(e,i){var l=i.numArgs+i.numOptionalArgs;if(l===0)return{args:[],optArgs:[]};for(var a=[],o=[],c=0;c<l;c++){var f=i.argTypes&&i.argTypes[c],m=c<i.numOptionalArgs;(i.primitive&&f==null||i.type==="sqrt"&&c===1&&o[0]==null)&&(f="primitive");var p=this.parseGroupOfType("argument to '"+e+"'",f,m);if(m)o.push(p);else if(p!=null)a.push(p);else throw new ue("Null argument, please report this as a bug")}return{args:a,optArgs:o}}parseGroupOfType(e,i,l){switch(i){case"color":return this.parseColorGroup(l);case"size":return this.parseSizeGroup(l);case"url":return this.parseUrlGroup(l);case"math":case"text":return this.parseArgumentGroup(l,i);case"hbox":{var a=this.parseArgumentGroup(l,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",l);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(l)throw new ue("A primitive argument cannot be optional");var c=this.parseGroup(e);if(c==null)throw new ue("Expected group as "+e,this.fetch());return c}case"original":case null:case void 0:return this.parseArgumentGroup(l);default:throw new ue("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,i){var l=this.gullet.scanArgument(i);if(l==null)return null;for(var a="",o;(o=this.fetch()).text!=="EOF";)a+=o.text,this.consume();return this.consume(),l.text=a,l}parseRegexGroup(e,i){for(var l=this.fetch(),a=l,o="",c;(c=this.fetch()).text!=="EOF"&&e.test(o+c.text);)a=c,o+=a.text,this.consume();if(o==="")throw new ue("Invalid "+i+": '"+l.text+"'",l);return l.range(a,o)}parseColorGroup(e){var i=this.parseStringGroup("color",e);if(i==null)return null;var l=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(i.text);if(!l)throw new ue("Invalid color: '"+i.text+"'",i);var a=l[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(e){var i,l=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?i=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):i=this.parseStringGroup("size",e),!i)return null;!e&&i.text.length===0&&(i.text="0pt",l=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(i.text);if(!a)throw new ue("Invalid size: '"+i.text+"'",i);var o={number:+(a[1]+a[2]),unit:a[3]};if(!Q2(o))throw new ue("Invalid unit: '"+o.unit+"'",i);return{type:"size",mode:this.mode,value:o,isBlank:l}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var i=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),i==null)return null;var l=i.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:l}}parseArgumentGroup(e,i){var l=this.gullet.scanArgument(e);if(l==null)return null;var a=this.mode;i&&this.switchMode(i),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var c={type:"ordgroup",mode:this.mode,loc:l.loc,body:o};return i&&this.switchMode(a),c}parseGroup(e,i){var l=this.fetch(),a=l.text,o;if(a==="{"||a==="\\begingroup"){this.consume();var c=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var f=this.parseExpression(!1,c),m=this.fetch();this.expect(c),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:ln.range(l,m),body:f,semisimple:a==="\\begingroup"||void 0}}else if(o=this.parseFunction(i,e)||this.parseSymbol(),o==null&&a[0]==="\\"&&!qg.hasOwnProperty(a)){if(this.settings.throwOnError)throw new ue("Undefined control sequence: "+a,l);o=this.formatUnsupportedCmd(a),this.consume()}return o}formLigatures(e){for(var i=e.length-1,l=0;l<i;++l){var a=e[l],o=a.text;o==="-"&&e[l+1].text==="-"&&(l+1<i&&e[l+2].text==="-"?(e.splice(l,3,{type:"textord",mode:"text",loc:ln.range(a,e[l+2]),text:"---"}),i-=2):(e.splice(l,2,{type:"textord",mode:"text",loc:ln.range(a,e[l+1]),text:"--"}),i-=1)),(o==="'"||o==="`")&&e[l+1].text===o&&(e.splice(l,2,{type:"textord",mode:"text",loc:ln.range(a,e[l+1]),text:o+o}),i-=1)}}parseSymbol(){var e=this.fetch(),i=e.text;if(/^\\verb[^a-zA-Z]/.test(i)){this.consume();var l=i.slice(5),a=l.charAt(0)==="*";if(a&&(l=l.slice(1)),l.length<2||l.charAt(0)!==l.slice(-1))throw new ue(`\\verb assertion failed --
                    please report what input caused this bug`);return l=l.slice(1,-1),{type:"verb",mode:"text",body:l,star:a}}$4.hasOwnProperty(i[0])&&!ut[this.mode][i[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+i[0]+'" used in math mode',e),i=$4[i[0]]+i.slice(1));var o=IT.exec(i);o&&(i=i.substring(0,o.index),i==="i"?i="":i==="j"&&(i=""));var c;if(ut[this.mode][i]){this.settings.strict&&this.mode==="math"&&Yc.indexOf(i)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+i[0]+'" used in math mode',e);var f=ut[this.mode][i].group,m=ln.range(e),p;if(AS.hasOwnProperty(f)){var x=f;p={type:"atom",mode:this.mode,family:x,loc:m,text:i}}else p={type:f,mode:this.mode,loc:m,text:i};c=p}else if(i.charCodeAt(0)>=128)this.settings.strict&&(K2(i.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+i[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+i[0]+'"'+(" ("+i.charCodeAt(0)+")"),e)),c={type:"textord",mode:"text",loc:ln.range(e),text:i};else return null;if(this.consume(),o)for(var S=0;S<o[0].length;S++){var T=o[0][S];if(!Nc[T])throw new ue("Unknown accent ' "+T+"'",e);var E=Nc[T][this.mode]||Nc[T].text;if(!E)throw new ue("Accent "+T+" unsupported in "+this.mode+" mode",e);c={type:"accent",mode:this.mode,loc:ln.range(e),label:E,isStretchy:!1,isShifty:!0,base:c}}return c}}Fo.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Cd=function(e,i){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var l=new Fo(e,i);delete l.gullet.macros.current["\\df@tag"];var a=l.parse();if(delete l.gullet.macros.current["\\current@color"],delete l.gullet.macros.current["\\color"],l.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new ue("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:l.subparse([new yn("\\df@tag")])}]}return a},Pg=function(e,i,l){i.textContent="";var a=Nd(e,l).toNode();i.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Pg=function(){throw new ue("KaTeX doesn't work in quirks mode.")});var BT=function(e,i){var l=Nd(e,i).toMarkup();return l},HT=function(e,i){var l=new od(i);return Cd(e,l)},Og=function(e,i,l){if(l.throwOnError||!(e instanceof ue))throw e;var a=O.makeSpan(["katex-error"],[new zn(i)]);return a.setAttribute("title",e.toString()),a.setAttribute("style","color:"+l.errorColor),a},Nd=function(e,i){var l=new od(i);try{var a=Cd(e,l);return JS(a,e,l)}catch(o){return Og(o,e,l)}},GT=function(e,i){var l=new od(i);try{var a=Cd(e,l);return XS(a,e,l)}catch(o){return Og(o,e,l)}},qT="0.16.27",PT={Span:Da,Anchor:dd,SymbolNode:zn,SvgNode:wi,PathNode:lr,LineNode:Fc},OT={version:qT,render:Pg,renderToString:BT,ParseError:ue,SETTINGS_SCHEMA:go,__parse:HT,__renderToDomTree:Nd,__renderToHTMLTree:GT,__setFontMetrics:gS,__defineSymbol:b,__defineFunction:ge,__defineMacro:M,__domTree:PT};const Z4=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),zt=ve.memo(({content:t,className:e=""})=>{const i=ve.useMemo(()=>{const a=String(t||"");if(!a)return"";const o=a,c=new RegExp("(\\$\\$[\\s\\S]+?\\$\\$|\\\\\\[[\\s\\S]+?\\\\\\]|\\\\\\(.*?\\\\\\)|(?<!\\\\)\\$.*?\\$)","g");let f;try{f=o.split(c)}catch{const p=/(\$\$[\s\S]+?\$\$|\\\[[\s\S]+?\\\]|\\\(.*?\\\))/g;f=o.split(p)}return f.map(m=>m?m.startsWith("$$")&&m.endsWith("$$")||m.startsWith("\\[")&&m.endsWith("\\]")?l(m.slice(2,-2),!0):m.startsWith("\\(")&&m.endsWith("\\)")?l(m.slice(2,-2),!1):m.startsWith("$")&&m.endsWith("$")?l(m.slice(1,-1),!1):Z4(m).replace(/\n/g,"<br/>"):"").join("")},[t]);function l(a,o){try{return OT.renderToString(a,{displayMode:o,throwOnError:!1,output:"html",strict:!1,trust:!0,macros:{"\\RR":"\\mathbb{R}","\\NN":"\\mathbb{N}"}})}catch(c){return console.warn("KaTeX render error for formula:",a,c),`<code class="bg-red-50 text-red-600 px-1 rounded">${Z4(a)}</code>`}}return v.jsx("div",{className:`latex-container ${e} prose prose-slate max-w-none leading-relaxed transition-opacity duration-200`,dangerouslySetInnerHTML:{__html:i}})});zt.displayName="LaTeXRenderer";const VT=({question:t,isSelected:e=!1,onToggleSelect:i,onDelete:l,onRestore:a,onView:o,onEdit:c,onUpdateDifficulty:f,onSelectKnowledgePoint:m,isTrashMode:p=!1})=>{const[x,S]=ve.useState(!1),[T,E]=ve.useState(!1),_=4,R=(q,ae)=>{q.stopPropagation(),f==null||f(t.id,ae)},k=(q,ae)=>{q.stopPropagation(),m==null||m(ae)},U=q=>{q.stopPropagation(),S(!x)},Q=q=>{q.stopPropagation(),E(!T)},J=q=>{q.stopPropagation(),i==null||i()},ie=Array.isArray(t.knowledgePoints)?t.knowledgePoints:[],te=x?ie:ie.slice(0,_),V=ie.length>_;return v.jsxs("div",{className:`bg-white rounded-xl shadow-sm border overflow-hidden hover:shadow-md transition-all flex flex-col h-full group relative cursor-pointer ${e?"border-indigo-500 ring-2 ring-indigo-500/20":"border-slate-200"}`,onClick:()=>o==null?void 0:o(t),children:[v.jsx("div",{className:`absolute top-2 right-2 z-20 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all shadow-sm ${e?"bg-indigo-600 border-indigo-600 scale-110":"bg-white/80 border-slate-300 opacity-0 group-hover:opacity-100 hover:border-indigo-400 backdrop-blur-sm"}`,onClick:J,children:e&&v.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),t.image&&v.jsxs("div",{className:"relative h-40 shrink-0 overflow-hidden bg-slate-100 border-b border-slate-100",children:[v.jsx("img",{src:t.image,alt:"Question",className:"w-full h-full object-contain"}),t.diagramDescription&&v.jsx("div",{className:"absolute top-2 left-2 z-10",children:v.jsx("button",{onClick:Q,className:`p-1.5 rounded-lg backdrop-blur-md transition-all border ${T?"bg-indigo-600 text-white border-indigo-500":"bg-white/70 text-slate-600 border-white/50 hover:bg-white/90 shadow-sm"}`,title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),T&&t.diagramDescription&&v.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm p-4 flex items-center justify-center animate-in fade-in duration-200",children:v.jsxs("div",{className:"relative text-white text-xs leading-relaxed max-h-full overflow-y-auto",children:[v.jsx("p",{className:"font-bold mb-1 flex items-center gap-1 opacity-70",children:""}),t.diagramDescription,v.jsx("button",{onClick:Q,className:"absolute -top-2 -right-2 p-1 text-white/50 hover:text-white",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})]}),v.jsxs("div",{className:`p-4 flex flex-col flex-1 transition-colors ${e?"bg-indigo-50/30":""}`,children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full uppercase",children:t.subject}),v.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((q,ae)=>v.jsx("button",{onClick:W=>R(W,ae+1),className:"focus:outline-none hover:scale-110 transition-transform",children:v.jsx("svg",{className:`w-4 h-4 ${ae<t.difficulty?"fill-current":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},ae))})]}),v.jsx("div",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:v.jsx(zt,{content:t.content})}),v.jsx("div",{className:"mt-auto pt-2 border-t border-slate-50",children:v.jsxs("div",{className:"flex flex-wrap gap-1",children:[te.map((q,ae)=>v.jsxs("button",{onClick:W=>k(W,q),className:"text-[10px] px-1.5 py-0.5 bg-slate-50 text-slate-500 rounded border border-slate-100 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-100 transition-all focus:outline-none",children:["#",q]},ae)),V&&v.jsx("button",{onClick:U,className:"text-[10px] px-1.5 py-0.5 text-indigo-500 hover:text-indigo-700 font-semibold focus:outline-none",children:x?"":`+${t.knowledgePoints.length-_}`})]})}),v.jsxs("div",{className:"flex justify-between items-center border-t border-slate-50 mt-4 pt-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[!p&&t.lastReviewedAt&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded font-bold uppercase tracking-widest",children:""}),p&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded font-bold uppercase tracking-widest",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[!p&&v.jsx("button",{onClick:q=>{q.stopPropagation(),c==null||c(t)},className:"p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),p?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:q=>{q.stopPropagation(),a==null||a(t.id)},className:"p-1 text-emerald-500 hover:bg-emerald-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v.jsx("button",{onClick:q=>{q.stopPropagation(),l==null||l(t.id)},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):v.jsx("button",{onClick:q=>{q.stopPropagation(),l==null||l(t.id)},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})]})},FT=({question:t,isSelected:e=!1,onToggleSelect:i,onDelete:l,onRestore:a,onView:o,onEdit:c,onUpdateDifficulty:f,onSelectKnowledgePoint:m,isTrashMode:p=!1})=>{const x=(E,_)=>{E.stopPropagation(),f==null||f(t.id,_)},S=E=>{E.stopPropagation(),i==null||i()},T=(E,_)=>{E.stopPropagation(),m==null||m(_)};return v.jsxs("tr",{className:`group hover:bg-slate-50 transition-colors cursor-pointer ${e?"bg-indigo-50/50":""}`,onClick:()=>o==null?void 0:o(t),children:[v.jsx("td",{className:"px-6 py-4 text-center",children:v.jsx("div",{onClick:S,className:`w-5 h-5 mx-auto rounded border-2 flex items-center justify-center transition-all ${e?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 hover:border-indigo-400"}`,children:e&&v.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-[10px] font-bold rounded uppercase whitespace-nowrap",children:t.subject})}),v.jsxs("td",{className:"px-6 py-4 min-w-[200px]",children:[v.jsx("div",{className:"text-sm text-slate-700 line-clamp-1 max-w-md",children:v.jsx(zt,{content:t.content,className:"inline"})}),v.jsxs("div",{className:"mt-1 flex gap-2",children:[!p&&t.lastReviewedAt&&v.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded-sm font-bold uppercase tracking-widest",children:""}),p&&v.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded-sm font-bold uppercase tracking-widest",children:["",new Date(t.deletedAt||0).toLocaleDateString()]})]})]}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:"flex flex-wrap gap-1",children:t.knowledgePoints.slice(0,2).map((E,_)=>v.jsxs("button",{onClick:R=>T(R,E),className:"text-[10px] px-1.5 py-0.5 bg-white text-slate-500 rounded border border-slate-200 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",children:["#",E]},_))})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:"flex gap-0.5 text-amber-400",children:[...Array(5)].map((E,_)=>v.jsx("button",{onClick:R=>x(R,_+1),className:"focus:outline-none hover:scale-125 transition-transform",children:v.jsx("svg",{className:`w-3.5 h-3.5 ${_<t.difficulty?"fill-current":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},_))})}),v.jsx("td",{className:"px-6 py-4 text-right",children:v.jsx("div",{className:"flex justify-end gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:p?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:E=>{E.stopPropagation(),a==null||a(t.id)},className:"text-emerald-500 hover:text-emerald-700",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),v.jsx("button",{onClick:E=>{E.stopPropagation(),l==null||l(t.id)},className:"text-red-400 hover:text-red-600",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:E=>{E.stopPropagation(),c==null||c(t)},className:"text-slate-400 hover:text-indigo-600",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),v.jsx("button",{onClick:E=>{E.stopPropagation(),l==null||l(t.id)},className:"text-slate-400 hover:text-red-500",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})})]})},Vg=({imageSrc:t,onCropComplete:e,onCancel:i,title:l="",description:a=""})=>{const o=ve.useRef(null),c=ve.useRef(null),f=ve.useRef(null),[m,p]=ve.useState(t),[x,S]=ve.useState(!1),[T,E]=ve.useState({x:0,y:0}),[_,R]=ve.useState({x:0,y:0}),[k,U]=ve.useState(null);ve.useEffect(()=>{p(t)},[t]);const Q=me=>{const de=new Image;de.src=m,de.onload=()=>{const Te=document.createElement("canvas"),we=Te.getContext("2d");if(!we)return;Te.width=de.height,Te.height=de.width,we.translate(Te.width/2,Te.height/2);const Le=me==="left"?-90:90;we.rotate(Le*Math.PI/180),we.drawImage(de,-de.width/2,-de.height/2),p(Te.toDataURL("image/jpeg",.9)),U(null)}},J=me=>{var se;const de=(se=o.current)==null?void 0:se.getBoundingClientRect();if(!de||me.target.closest("button"))return;const Te="touches"in me?me.touches[0].clientX:me.clientX,we="touches"in me?me.touches[0].clientY:me.clientY,Le=Te-de.left,Y=we-de.top;S(!0),E({x:Le,y:Y}),R({x:Le,y:Y}),U(null)},ie=me=>{var se;if(!x)return;const de=(se=o.current)==null?void 0:se.getBoundingClientRect();if(!de)return;const Te="touches"in me?me.touches[0].clientX:me.clientX,we="touches"in me?me.touches[0].clientY:me.clientY,Le=Math.max(0,Math.min(Te-de.left,de.width)),Y=Math.max(0,Math.min(we-de.top,de.height));R({x:Le,y:Y})},te=()=>{if(!x)return;S(!1);const me=Math.min(T.x,_.x),de=Math.min(T.y,_.y),Te=Math.abs(_.x-T.x),we=Math.abs(_.y-T.y);Te>10&&we>10&&U({x:me,y:de,w:Te,h:we})},V=()=>{if(!k||!c.current||!f.current)return;const me=c.current,de=f.current,Te=de.getContext("2d");if(!Te)return;const we=me.naturalWidth/me.width,Le=me.naturalHeight/me.height;de.width=k.w*we,de.height=k.h*Le,Te.drawImage(me,k.x*we,k.y*Le,k.w*we,k.h*Le,0,0,de.width,de.height),e(de.toDataURL("image/jpeg",.9))},q=Math.min(T.x,_.x),ae=Math.min(T.y,_.y),W=Math.abs(_.x-T.x),be=Math.abs(_.y-T.y);return v.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-900/95 backdrop-blur-md flex flex-col p-4 md:p-8 animate-in fade-in duration-300",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 max-w-5xl mx-auto w-full",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-white",children:l}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:a})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("div",{className:"flex items-center bg-slate-800 rounded-xl mr-2 p-1",children:[v.jsx("button",{onClick:()=>Q("left"),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:" 90",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),v.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),v.jsx("button",{onClick:()=>Q("right"),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:" 90",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6"})})})]}),v.jsx("button",{onClick:i,className:"px-5 py-2 rounded-xl text-slate-300 hover:text-white hover:bg-white/10 transition-colors font-semibold",children:""}),v.jsxs("button",{disabled:!k&&!x,onClick:V,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-900/20 disabled:opacity-50 disabled:grayscale transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),""]})]})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden relative",children:v.jsxs("div",{ref:o,className:"relative max-w-full max-h-full cursor-crosshair select-none touch-none bg-black/40 rounded-lg overflow-hidden border border-white/10",onMouseDown:J,onMouseMove:ie,onMouseUp:te,onTouchStart:J,onTouchMove:ie,onTouchEnd:te,children:[v.jsx("img",{ref:c,src:m,alt:"To crop",className:"max-w-full max-h-[70vh] pointer-events-none",onLoad:me=>{}}),v.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none"}),(x||k)&&v.jsxs("div",{className:"absolute border-2 border-indigo-400/60 bg-transparent shadow-[0_0_0_9999px_rgba(0,0,0,0.5)] z-10",style:{left:q,top:ae,width:W,height:be},children:[v.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-indigo-400/60"}),v.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-indigo-400/60"}),k&&!x&&v.jsx("div",{className:"absolute top-2 left-2 bg-indigo-600 text-white text-[10px] px-1.5 py-0.5 rounded font-black uppercase tracking-widest shadow-lg",children:"Selected Area"})]})]})}),v.jsx("canvas",{ref:f,className:"hidden"}),v.jsx("div",{className:"max-w-5xl mx-auto w-full mt-6 flex justify-center",children:v.jsxs("div",{className:"flex items-center gap-8 text-slate-500 text-xs font-medium",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),v.jsx("span",{children:""})]})]})})]})},Fg=({question:t,onClose:e,onSaved:i})=>{const[l,a]=ve.useState(t.content||""),[o,c]=ve.useState(()=>Array.isArray(t.options)?t.options.map(String):[]),[f,m]=ve.useState(t.answer||""),[p,x]=ve.useState(t.analysis||""),[S,T]=ve.useState(t.learningGuide||""),[E,_]=ve.useState(!1),[R,k]=ve.useState(null),U=ve.useMemo(()=>!(!l.trim()||!p.trim()||!S.trim()),[p,l,S]),Q=(V,q)=>{c(ae=>ae.map((W,be)=>be===V?q:W))},J=()=>{c(V=>[...V,""])},ie=V=>{c(q=>q.filter((ae,W)=>W!==V))},te=async()=>{if(U){_(!0),k(null);try{const V=o.map(ae=>String(ae||"").trim()).filter(ae=>ae.length>0),q=await mt.updateQuestion(t.id,{content:l,options:V,answer:f||void 0,analysis:p,learningGuide:S});k({type:"success",message:""}),i==null||i(q),setTimeout(()=>{e()},800)}catch(V){const q=(V==null?void 0:V.message)||"";k({type:"error",message:`${q}`})}finally{_(!1)}}};return v.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-5xl h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"px-6 py-4 border-b space-y-3",children:[R&&v.jsxs("div",{className:`p-3 rounded-xl border text-sm font-bold flex items-center gap-2 ${R.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[v.jsx("span",{children:R.message}),v.jsx("button",{onClick:()=>k(null),className:"ml-auto text-current opacity-50 hover:opacity-100 transition-opacity",title:"",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-black text-slate-800",children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:" LaTeX $...$ / $$...$$ "})]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all hover:text-slate-600",title:"",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.image&&v.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-3",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),v.jsx("img",{src:t.image,alt:"Original",className:"w-full max-h-48 object-contain rounded-xl bg-white"})]})]}),v.jsxs("div",{className:"flex-1 min-h-0 grid grid-cols-1 lg:grid-cols-2",children:[v.jsxs("div",{className:"min-h-0 overflow-y-auto p-6 space-y-6",children:[v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:l,onChange:V=>a(V.target.value),className:"w-full min-h-[140px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]}),v.jsxs("section",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("button",{onClick:J,className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]})]}),v.jsxs("div",{className:"space-y-2",children:[o.length===0&&v.jsx("div",{className:"text-xs text-slate-400",children:"/"}),o.map((V,q)=>v.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 border border-slate-200 rounded-2xl",children:[v.jsxs("div",{className:"w-8 text-sm font-black text-indigo-600 pt-2",children:[String.fromCharCode(65+q),"."]}),v.jsx("textarea",{value:V,onChange:ae=>Q(q,ae.target.value),className:"flex-1 min-h-[60px] p-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:` ${String.fromCharCode(65+q)} LaTeX`}),v.jsx("button",{onClick:()=>ie(q),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},q))]})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("input",{value:f,onChange:V=>m(V.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",placeholder:"A  3  $x=2$"})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:p,onChange:V=>x(V.target.value),className:"w-full min-h-[120px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]}),v.jsxs("section",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("textarea",{value:S,onChange:V=>T(V.target.value),className:"w-full min-h-[120px] p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm leading-relaxed resize-y",placeholder:" LaTeX"})]})]}),v.jsxs("div",{className:"min-h-0 overflow-y-auto p-6 bg-slate-50 border-l border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:""})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(zt,{content:l||"()",className:"text-slate-800"}),o.length>0&&v.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:o.map((V,q)=>v.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 border border-slate-200 rounded-2xl",children:[v.jsxs("span",{className:"font-black text-indigo-600 shrink-0",children:[String.fromCharCode(65+q),"."]}),v.jsx(zt,{content:V||"()",className:"text-sm text-slate-700"})]},q))})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(zt,{content:f||"()"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(zt,{content:p||"()"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),v.jsx(zt,{content:S||"()"})]})]})]})]}),v.jsxs("div",{className:"px-6 py-4 border-t bg-white flex items-center justify-between",children:[v.jsx("div",{className:"text-xs text-slate-400",children:U?"":" /  /  "}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 border border-slate-200 rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50",disabled:E,children:""}),v.jsx("button",{onClick:te,disabled:!U||E,className:"px-5 py-2 bg-indigo-600 text-white rounded-xl text-sm font-black hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"...":""})]})]})]})})},YT=({question:t,onClose:e,onUpdateDifficulty:i,onUpdateField:l})=>{const[a,o]=ve.useState(!1),[c,f]=ve.useState(!1),[m,p]=ve.useState(!1),x=async R=>{p(!0);try{await mt.updateQuestion(t.id,{croppedDiagram:R}),l==null||l(t.id,"croppedDiagram",R),o(!1)}catch{alert("")}finally{p(!1)}},S=async()=>{if(window.confirm("")){p(!0);try{await mt.updateQuestion(t.id,{croppedDiagram:void 0}),l==null||l(t.id,"croppedDiagram",void 0)}catch{alert("")}finally{p(!1)}}},T=async R=>{p(!0);try{await mt.updateQuestion(t.id,{subject:R}),l==null||l(t.id,"subject",R)}catch{alert("")}finally{p(!1)}},E=async()=>{var U;const R=prompt("");if(!R||!R.trim())return;if((U=t.knowledgePoints)!=null&&U.includes(R.trim())){alert("");return}const k=[...t.knowledgePoints||[],R.trim()];p(!0);try{await mt.updateQuestion(t.id,{knowledgePoints:k}),l==null||l(t.id,"knowledgePoints",k)}catch{alert("")}finally{p(!1)}},_=async R=>{if(!window.confirm(` "${R}" `))return;const k=(t.knowledgePoints||[]).filter(U=>U!==R);p(!0);try{await mt.updateQuestion(t.id,{knowledgePoints:k}),l==null||l(t.id,"knowledgePoints",k)}catch{alert("")}finally{p(!1)}};return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] rounded-none md:rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-center px-4 py-3 md:px-6 md:py-4 border-b",children:[v.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:[v.jsxs("div",{className:"relative group/subject",children:[v.jsx("select",{value:t.subject,onChange:R=>T(R.target.value),className:"appearance-none pl-3 pr-7 py-1 bg-indigo-600 text-white text-sm rounded-md uppercase shadow-sm outline-none cursor-pointer hover:bg-indigo-700 transition-colors font-bold",children:Object.values(Ro).map(R=>v.jsx("option",{value:R,className:"text-slate-800 bg-white",children:R},R))}),v.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-white/80",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})})]}),""]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-all hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-10 space-y-8 md:space-y-10 scrollbar-hide",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),v.jsxs("button",{onClick:()=>f(!0),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors border border-indigo-100 shadow-sm",title:"/",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),""]})]}),v.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 group relative",children:[v.jsx(zt,{content:t.content,className:"text-lg leading-relaxed text-slate-800"}),t.options&&t.options.length>0&&v.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:t.options.map((R,k)=>{const U=typeof R=="object"?R.content||R.text||R.value||JSON.stringify(R):String(R);return v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white border border-slate-200 rounded-2xl shadow-sm hover:border-indigo-200 transition-colors",children:[v.jsxs("span",{className:"font-black text-indigo-600 shrink-0",children:[String.fromCharCode(65+k),"."]}),v.jsx(zt,{content:U,className:"text-sm text-slate-600"})]},k)})}),t.croppedDiagram&&v.jsxs("div",{className:"mt-8 p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 relative group/legend",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),v.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:""})]}),v.jsx("div",{className:"flex justify-center bg-white p-4 rounded-xl shadow-sm border border-indigo-50",children:v.jsx("img",{src:t.croppedDiagram,alt:"Extracted Legend",className:"max-h-64 object-contain"})}),v.jsx("button",{onClick:S,className:"absolute top-4 right-4 p-2 bg-white text-red-500 rounded-lg shadow-sm hover:bg-red-50 transition-colors opacity-0 group-hover/legend:opacity-100",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),t.image&&v.jsxs("div",{className:"mt-8 relative group/img",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("button",{onClick:()=>o(!0),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors border border-indigo-100 shadow-sm",children:[v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758L5 19m0-14l4.121 4.121"})}),""]})]}),v.jsx("div",{className:"flex justify-center bg-white p-6 rounded-2xl border border-slate-200 shadow-sm overflow-hidden min-h-[100px] items-center",children:v.jsx("img",{src:t.image,alt:"Original Capture",className:"max-h-96 object-contain grayscale-[0.3] hover:grayscale-0 transition-all"})})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),""]}),v.jsxs("div",{className:"bg-emerald-50/50 p-8 rounded-3xl border border-emerald-100 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4",children:v.jsxs("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm border border-emerald-100",children:[v.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase mr-1",children:"Correct Answer"}),v.jsx("span",{className:"text-sm font-black text-emerald-600",children:t.answer})]})}),v.jsx("div",{className:"mt-4",children:v.jsx(zt,{content:t.analysis,className:"text-slate-700 leading-relaxed"})})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),""]}),v.jsxs("div",{className:"bg-indigo-50/50 p-8 rounded-3xl border border-indigo-100",children:[v.jsx(zt,{content:t.learningGuide,className:"text-slate-700 leading-relaxed italic"}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-indigo-100/50",children:[v.jsx("h4",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-4",children:" ( + )"}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(t.knowledgePoints)?t.knowledgePoints:[]).map((R,k)=>v.jsxs("span",{className:"group relative px-3 py-1.5 bg-white text-indigo-600 text-xs rounded-xl border border-indigo-200 font-bold shadow-sm pr-7",children:["#",R,v.jsx("button",{onClick:()=>_(R),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-indigo-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},k)),v.jsxs("button",{onClick:E,className:"px-3 py-1.5 bg-indigo-50 text-indigo-400 text-xs rounded-xl border border-dashed border-indigo-300 font-bold hover:bg-indigo-100 hover:text-indigo-600 hover:border-indigo-400 transition-all flex items-center gap-1",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]})]})]})]})]})]})]}),v.jsxs("div",{className:"px-8 py-4 bg-slate-50 border-t flex justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:""}),v.jsx("span",{className:"text-xs text-slate-500 font-medium",children:new Date(t.createdAt).toLocaleString()})]}),v.jsx("div",{className:"flex items-center gap-6",children:v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:""}),v.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((R,k)=>v.jsx("button",{onClick:()=>i==null?void 0:i(t.id,k+1),className:"focus:outline-none hover:scale-125 transition-transform",title:` ${k+1} `,children:v.jsx("svg",{className:`w-5 h-5 ${k<t.difficulty?"fill-amber-400 text-amber-400":"text-slate-200"}`,viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},k))})]})})]})]})}),a&&t.image&&v.jsx(Vg,{imageSrc:t.image,onCropComplete:x,onCancel:()=>o(!1)}),c&&v.jsx(Fg,{question:t,onClose:()=>f(!1),onSaved:R=>{l==null||l(t.id,"content",R.content),l==null||l(t.id,"options",R.options||[]),l==null||l(t.id,"answer",R.answer),l==null||l(t.id,"analysis",R.analysis),l==null||l(t.id,"learningGuide",R.learningGuide)}}),m&&v.jsx("div",{className:"fixed inset-0 z-[200] bg-black/40 backdrop-blur-sm flex items-center justify-center",children:v.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),v.jsx("p",{className:"text-sm font-bold text-slate-700",children:"..."})]})})]})},jT=({onQuestionSaved:t,onCancel:e})=>{const[i,l]=ve.useState([]),[a,o]=ve.useState(!1),[c,f]=ve.useState(!1),[m,p]=ve.useState(null),[x,S]=ve.useState(null),T=ve.useRef(null),E=ve.useRef(null),_=async()=>{try{const V=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});p(V),f(!0),setTimeout(()=>{E.current&&(E.current.srcObject=V)},100)}catch(V){console.error("Camera error:",V),V.name==="NotAllowedError"||V.name==="PermissionDeniedError"?alert(""):window.location.protocol!=="https:"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?alert(" HTTPS  localhost  HTTPS"):alert(`${V.message||""}`)}},R=()=>{m&&(m.getTracks().forEach(V=>V.stop()),p(null)),f(!1)},k=()=>{if(!E.current)return;const V=document.createElement("canvas");V.width=E.current.videoWidth,V.height=E.current.videoHeight;const q=V.getContext("2d");if(q){q.drawImage(E.current,0,0);const ae=V.toDataURL("image/jpeg",.9);S(ae),R()}},U=V=>{const q={id:crypto.randomUUID(),preview:V,status:"pending"};l(ae=>[...ae,q]),S(null)},Q=V=>{const q=Array.from(V.target.files||[]);q.length!==0&&(q.forEach(ae=>{const W=new FileReader;W.onloadend=()=>{S(W.result)},W.readAsDataURL(ae)}),T.current&&(T.current.value=""))},J=V=>{a||l(q=>q.filter(ae=>ae.id!==V))},ie=async()=>{if(a)return;const V=i.filter(q=>q.status==="pending"||q.status==="error");if(V.length!==0){o(!0);for(const q of V){l(ae=>ae.map(W=>W.id===q.id?{...W,status:"analyzing",error:void 0}:W));try{const ae=await mt.analyzeImage(q.preview),W={image:q.preview,...ae};l(be=>be.map(me=>me.id===q.id?{...me,status:"done",result:W}:me)),await t(W)}catch(ae){l(W=>W.map(be=>be.id===q.id?{...be,status:"error",error:ae.message||""}:be))}}o(!1)}},te=ve.useMemo(()=>{const V=i.length,q=i.filter(be=>be.status==="done").length,ae=i.filter(be=>be.status==="error").length,W=i.filter(be=>be.status==="analyzing").length;return{total:V,done:q,error:ae,analyzing:W}},[i]);return v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:[v.jsxs("div",{className:"bg-white w-full max-w-4xl h-full md:h-auto md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:max-h-[90vh]",children:[v.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-5 border-b flex justify-between items-center bg-slate-50",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Gemini "})]}),v.jsx("button",{onClick:e,disabled:a,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-full transition-colors disabled:opacity-30",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:i.length===0?v.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[v.jsxs("div",{onClick:()=>{var V;return(V=T.current)==null?void 0:V.click()},className:"flex-1 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/30 transition-all group p-8",children:[v.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 mb-6 group-hover:scale-110 transition-transform",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),v.jsx("p",{className:"text-xl font-bold text-slate-700 mb-2",children:""}),v.jsx("p",{className:"text-slate-400 text-sm",children:""})]}),v.jsxs("div",{onClick:_,className:"flex-1 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:border-emerald-400 hover:bg-emerald-50/30 transition-all group p-8",children:[v.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 mb-6 group-hover:scale-110 transition-transform",children:v.jsxs("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsx("p",{className:"text-xl font-bold text-slate-700 mb-2",children:""}),v.jsx("p",{className:"text-slate-400 text-sm",children:""})]})]}):v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[i.map(V=>v.jsxs("div",{className:"relative group aspect-square rounded-2xl overflow-hidden border border-slate-200 bg-slate-50 shadow-sm",children:[v.jsx("img",{src:V.preview,className:`w-full h-full object-cover transition-all ${V.status==="analyzing"?"scale-110 blur-[2px] opacity-50":""}`}),V.status==="analyzing"&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-indigo-600/20",children:[v.jsx("div",{className:"w-10 h-10 border-4 border-white/30 border-t-white rounded-full animate-spin mb-2"}),v.jsx("span",{className:"text-[10px] text-white font-black uppercase tracking-tighter",children:"AI "})]}),V.status==="done"&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emerald-500/80 animate-in zoom-in duration-300",children:v.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),V.status==="error"&&v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-500/80 p-3 text-center",children:[v.jsx("svg",{className:"w-8 h-8 text-white mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),v.jsx("span",{className:"text-[10px] text-white font-bold leading-tight",children:V.error})]}),!a&&V.status!=="done"&&v.jsx("button",{onClick:()=>J(V.id),className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500",children:v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},V.id)),!a&&v.jsxs("div",{onClick:()=>{var V;return(V=T.current)==null?void 0:V.click()},className:"aspect-square border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/30 transition-all text-slate-400 hover:text-indigo-600",children:[v.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"text-xs font-bold",children:""})]})]})}),v.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-6 border-t bg-slate-50 flex flex-col md:flex-row items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:""}),v.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[v.jsxs("div",{className:"text-lg font-black text-slate-700",children:[te.done," ",v.jsx("span",{className:"text-slate-300",children:"/"})," ",te.total]}),v.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-500",style:{width:`${te.total>0?te.done/te.total*100:0}%`}})})]})]}),te.error>0&&v.jsxs("div",{className:"px-3 py-1 bg-red-100 text-red-600 text-[10px] font-bold rounded-lg uppercase animate-pulse",children:[te.error," "]})]}),v.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[v.jsx("button",{onClick:e,disabled:a,className:"flex-1 md:flex-none px-6 py-3 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-white transition-colors disabled:opacity-50",children:te.done===te.total&&te.total>0?"":""}),te.done<te.total&&v.jsx("button",{onClick:ie,disabled:a||i.length===0,className:"flex-1 md:flex-none px-8 py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:a?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})})]})]}),v.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*",multiple:!0,onChange:Q})]}),c&&v.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col",children:[v.jsx("div",{className:"relative flex-1 bg-black",children:v.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-contain"})}),v.jsxs("div",{className:"h-24 bg-black/80 flex items-center justify-between px-8 pb-safe",children:[v.jsx("button",{onClick:R,className:"text-white font-bold p-4",children:""}),v.jsx("button",{onClick:k,className:"w-16 h-16 rounded-full bg-white border-4 border-slate-300 shadow-xl active:scale-95 transition-transform"}),v.jsx("div",{className:"w-16"})," "]})]}),x&&v.jsx(Vg,{imageSrc:x,onCropComplete:U,onCancel:()=>{S(null),_()},title:"",description:""})]})},JT=()=>v.jsxs("div",{className:"binding-line print:flex hidden",children:[v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{children:"       "})]}),XT=({questions:t,onClose:e})=>{const[i,l]=ve.useState([]),[a,o]=ve.useState(!1),[c,f]=ve.useState(!0),m=Array.from(new Set(t.flatMap(T=>T.knowledgePoints))),p=T=>{l(E=>E.includes(T)?E.filter(_=>_!==T):[...E,T])},x=t.filter(T=>i.length===0||T.knowledgePoints.some(E=>i.includes(E))),S=()=>{window.print()};return a?v.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto flex flex-col print:bg-white print:block",children:[v.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center print:hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),v.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors",children:[v.jsx("input",{type:"checkbox",checked:c,onChange:T=>f(T.target.checked),className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"}),v.jsx("span",{children:""})]})})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>o(!1),className:"px-5 py-2 text-slate-600 font-semibold bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:""}),v.jsxs("button",{onClick:S,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})," (A4)"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"flex-1 flex justify-center p-8 print:p-0 print:block",children:v.jsxs("div",{className:"bg-white max-w-[210mm] w-full min-h-[297mm] paper-shadow print:shadow-none print:max-w-none relative print-container flex flex-col",children:[v.jsx(JT,{}),v.jsxs("div",{className:"p-12 print:p-4 flex-1",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold mb-4 tracking-widest text-slate-900",children:""}),v.jsxs("div",{className:"flex justify-center gap-8 text-sm text-slate-600 mb-8 font-medium",children:[v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"}),v.jsx("p",{children:"________________"})]}),v.jsxs("div",{className:"border-y-2 border-slate-900 py-2 flex justify-between px-4 text-xs font-bold uppercase tracking-widest",children:[v.jsxs("span",{children:["",i.length>0?i.join(""):""]}),v.jsxs("span",{children:["",new Date().toISOString().slice(0,10).replace(/-/g,"")]})]})]}),v.jsx("div",{className:"space-y-10",children:x.map((T,E)=>v.jsx("div",{className:"relative pb-6 border-b border-slate-50 last:border-0 break-inside-avoid",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("span",{className:"text-lg font-bold font-serif shrink-0 w-8 h-8 flex items-center justify-center bg-slate-900 text-white rounded-md",children:E+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"mb-4",children:v.jsx(zt,{content:T.content,className:"text-lg text-slate-800 leading-relaxed"})}),T.options&&T.options.length>0&&v.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 mb-6 ml-2",children:T.options.map((_,R)=>v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsxs("span",{className:"font-bold text-slate-900",children:[String.fromCharCode(65+R),"."]}),v.jsx(zt,{content:_,className:"text-base text-slate-700"})]},R))}),T.image&&v.jsx("div",{className:"my-6 flex justify-center border border-slate-100 p-4 rounded-lg bg-slate-50/50",children:v.jsx("img",{src:T.image,alt:"Diagram",className:"max-h-80 object-contain"})}),v.jsx("div",{className:"mt-8 border-t border-dashed border-slate-200 pt-16 print:block hidden",children:v.jsx("p",{className:"text-[10px] text-slate-300 text-right italic",children:""})})]})]})},T.id))}),x.length===0&&v.jsxs("div",{className:"text-center py-20 text-slate-400",children:[v.jsx("p",{className:"text-lg",children:""}),v.jsx("p",{className:"text-sm",children:""})]})]}),c&&x.length>0&&v.jsxs("div",{className:"page-break p-12 print:p-4 border-t-8 border-slate-100",children:[v.jsx("div",{className:"text-center mb-12",children:v.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-widest border-b-2 border-slate-900 inline-block pb-2",children:""})}),v.jsx("div",{className:"space-y-12",children:x.map((T,E)=>v.jsxs("div",{className:"break-inside-avoid bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-slate-200",children:[v.jsxs("span",{className:"font-black text-slate-900",children:[" ",E+1," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:":"}),v.jsx("span",{className:"text-xl font-bold text-indigo-600",children:T.answer})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-indigo-500 rounded-full"}),""]}),v.jsx("div",{className:"text-sm text-slate-700 leading-relaxed",children:v.jsx(zt,{content:T.analysis})})]}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full"}),""]}),v.jsx("div",{className:"text-xs text-slate-600 bg-white p-3 rounded-lg border border-slate-100 italic",children:v.jsx(zt,{content:T.learningGuide})})]}),v.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:T.knowledgePoints.map((_,R)=>v.jsxs("span",{className:"text-[9px] px-2 py-0.5 bg-slate-200 text-slate-600 rounded-full font-bold",children:["#",_]},R))})]})]},T.id))})]}),v.jsxs("div",{className:"mt-auto p-12 text-center text-xs text-slate-400 border-t border-slate-50 print:hidden",children:[v.jsx("p",{children:" 2024 E-Bu  -  Gemini AI "}),v.jsx("p",{className:"mt-1",children:""})]})]})})]}):v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-xl rounded-3xl shadow-2xl p-8 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:""})]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-300 hover:text-slate-500 transition-colors",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 mb-8 space-y-6 scrollbar-hide",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 flex justify-between items-center",children:["",v.jsxs("span",{className:"bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded-full lowercase",children:[" ",i.length," "]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.map(T=>v.jsx("button",{onClick:()=>p(T),className:`px-3 py-1.5 rounded-xl text-sm font-semibold transition-all border ${i.includes(T)?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100":"bg-white text-slate-600 border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30"}`,children:T},T)),m.length===0&&v.jsx("div",{className:"w-full py-8 text-center bg-slate-50 rounded-2xl border border-dashed border-slate-200 text-slate-400 text-sm",children:""})]})]}),v.jsx("section",{className:"bg-indigo-50 rounded-2xl p-5 border border-indigo-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-indigo-900 font-bold",children:""}),v.jsx("p",{className:"text-indigo-600 text-xs mt-0.5",children:""})]}),v.jsxs("div",{className:"text-3xl font-black text-indigo-600",children:[x.length," ",v.jsx("span",{className:"text-sm font-bold text-indigo-400",children:""})]})]})}),v.jsx("section",{className:"space-y-3",children:v.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 p-3 rounded-xl text-xs",children:[v.jsx("svg",{className:"w-4 h-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("span",{children:""})]})})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:e,className:"flex-1 py-3.5 px-6 rounded-2xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:""}),v.jsxs("button",{disabled:x.length===0,onClick:()=>o(!0),className:"flex-1 py-3.5 px-6 rounded-2xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-100 transition-all disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["",v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})})},KT=()=>v.jsxs("div",{className:"binding-line print:flex hidden",children:[v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{className:"punch-hole"}),v.jsx("div",{children:"       "})]}),QT=({questions:t,onClose:e})=>{const[i,l]=ve.useState(!0),[a,o]=ve.useState(""),c=()=>{window.print()};return v.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto flex flex-col print:bg-white print:block",children:[v.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center print:hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col border-r border-slate-200 pr-6 mr-2",children:[v.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider mb-0.5",children:""}),v.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),className:"text-lg font-bold text-slate-800 border-b border-transparent focus:border-indigo-500 hover:border-slate-300 bg-transparent outline-none transition-all w-80 placeholder:text-slate-300"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("p",{className:"text-sm text-slate-500 font-medium bg-slate-100 px-3 py-1 rounded-full",children:[" ",t.length," "]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg hover:bg-slate-100 transition-colors text-sm font-medium text-slate-600",children:[v.jsx("input",{type:"checkbox",checked:i,onChange:f=>l(f.target.checked),className:"w-4 h-4 rounded text-emerald-600 focus:ring-emerald-500 border-slate-300"}),v.jsx("span",{children:""})]})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:c,className:"px-6 py-2 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})," /  PDF"]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"flex-1 flex justify-center p-8 print:p-0 print:block",children:v.jsxs("div",{className:"bg-white max-w-[210mm] w-full min-h-[297mm] paper-shadow print:shadow-none print:max-w-none relative print-container",children:[v.jsx(KT,{}),v.jsxs("div",{className:"pt-12 pb-6 px-12 print:px-4 text-center",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold tracking-widest text-slate-900",children:a}),v.jsxs("div",{className:"flex justify-center gap-6 mt-6 text-xs text-slate-500 border-b pb-8",children:[v.jsxs("span",{children:["",new Date().toLocaleDateString()]}),v.jsxs("span",{children:["",t.length," "]}),v.jsx("span",{children:""})]})]}),v.jsx("div",{className:"flex flex-col",children:t.map((f,m)=>v.jsxs("div",{className:"workbook-row border-b border-slate-100 flex flex-row",children:[v.jsx("div",{className:"workbook-question w-1/2 p-8 border-r border-slate-100 bg-slate-50/20",children:v.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[v.jsx("span",{className:"shrink-0 w-6 h-6 flex items-center justify-center bg-slate-200 text-slate-700 rounded text-xs font-bold",children:m+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx(zt,{content:f.content,className:"text-sm leading-relaxed text-slate-800"}),f.options&&f.options.length>0&&v.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2",children:f.options.map((p,x)=>v.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-600",children:[v.jsxs("span",{className:"font-bold",children:[String.fromCharCode(65+x),"."]}),v.jsx(zt,{content:p})]},x))}),f.croppedDiagram&&v.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-[9px] text-slate-400 mb-1 uppercase tracking-widest font-bold",children:""}),v.jsx("div",{className:"border border-indigo-100 p-2 rounded-lg bg-white shadow-sm",children:v.jsx("img",{src:f.croppedDiagram,alt:"Diagram Legend",className:"max-h-56 object-contain"})})]}),i&&f.image&&v.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-[9px] text-slate-400 mb-1 uppercase tracking-widest font-bold opacity-50",children:""}),v.jsx("div",{className:"border border-slate-100 p-2 rounded-lg bg-white/50",children:v.jsx("img",{src:f.image,alt:"Original Capture",className:"max-h-48 object-contain opacity-80"})})]}),v.jsx("div",{className:"mt-6 flex flex-wrap gap-1",children:f.knowledgePoints.map((p,x)=>v.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 bg-white text-slate-400 rounded-full border",children:["#",p]},x))})]})]})}),v.jsx("div",{className:"workbook-space w-1/2 p-8 workbook-grid relative",children:v.jsx("div",{className:"absolute top-4 right-4 text-[10px] text-slate-300 font-bold uppercase tracking-widest",children:" / Rework Area"})})]},f.id))}),v.jsx("div",{className:"p-12 text-center text-slate-300 text-[10px] print:hidden",children:"---  ---"})]})})]})},$T=({onClose:t,onDataChanged:e})=>{const[i,l]=ve.useState("GUIDE"),a=ve.useRef(null),[o,c]=ve.useState(!1),f=()=>{const S=mt.exportBackup(),T=new Blob([S],{type:"application/json"}),E=URL.createObjectURL(T),_=document.createElement("a");_.href=E,_.download=`E-Bu_Backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(E)},m=()=>{var S;(S=a.current)==null||S.click()},p=async S=>{var _;const T=(_=S.target.files)==null?void 0:_[0];if(!T||!window.confirm(""))return;c(!0);const E=new FileReader;E.onload=async R=>{var k;try{const U=(k=R.target)==null?void 0:k.result;await mt.importBackup(U),alert(""),e==null||e()}catch(U){alert(": "+U.message)}finally{c(!1),a.current&&(a.current.value="")}},E.readAsText(T)},x=({method:S,path:T,desc:E,params:_,payload:R,response:k})=>v.jsxs("div",{className:"mb-12 border border-slate-200 rounded-2xl overflow-hidden bg-white shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 bg-slate-50 border-b border-slate-200",children:[v.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded-md ${S==="GET"?"bg-blue-600 text-white":S==="POST"?"bg-emerald-600 text-white":S==="PATCH"?"bg-amber-500 text-white":"bg-red-600 text-white"}`,children:S}),v.jsx("code",{className:"text-sm text-slate-800 font-mono font-bold",children:T})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsx("p",{className:"text-sm text-slate-600 font-medium",children:E}),_&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Query Parameters"}),v.jsx("pre",{className:"bg-slate-50 p-4 rounded-xl text-xs text-slate-700 border border-slate-100 italic",children:_})]}),R&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Request Body (JSON)"}),v.jsx("div",{className:"relative group",children:v.jsx("pre",{className:"bg-slate-900 p-4 rounded-xl text-xs text-emerald-400 font-mono overflow-x-auto",children:R})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Response Object"}),v.jsx("pre",{className:"bg-slate-900 p-4 rounded-xl text-xs text-indigo-300 font-mono overflow-x-auto",children:k})]})]})]});return v.jsxs("div",{className:"fixed inset-0 z-[100] bg-white flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[v.jsxs("div",{className:"h-16 border-b border-slate-100 flex items-center justify-between px-8 bg-white shrink-0",children:[v.jsx("div",{className:"flex items-center gap-4",children:v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:t,children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h1",{className:"text-xl font-bold text-slate-900 leading-tight",children:"E-Bu"}),v.jsx("div",{className:"px-2 py-0.5 bg-slate-100 border border-slate-200 rounded text-[9px] font-bold text-slate-500 flex items-center gap-1",children:"DEVHUB"})]}),v.jsx("p",{className:"text-xs text-slate-500 font-medium",children:""})]})]})}),v.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[v.jsx("button",{onClick:()=>l("GUIDE"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="GUIDE"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),v.jsx("button",{onClick:()=>l("DATA"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="DATA"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),v.jsx("button",{onClick:()=>l("API"),className:`px-6 py-1.5 rounded-lg text-sm font-bold transition-all ${i==="API"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:" API"})]}),v.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 transition-colors",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[v.jsx("div",{className:"w-64 border-r border-slate-100 bg-slate-50/50 p-6 overflow-y-auto hidden md:block",children:v.jsxs("nav",{className:"space-y-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:""}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("GUIDE"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("GUIDE"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:"LaTeX "})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:""}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("DATA"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("DATA"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"API "}),v.jsxs("ul",{className:"space-y-3 text-sm font-medium text-slate-600",children:[v.jsx("li",{onClick:()=>l("API"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:""}),v.jsx("li",{onClick:()=>l("API"),className:"hover:text-indigo-600 cursor-pointer flex items-center gap-2",children:"AI "})]})]})]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-10 bg-slate-50/30",children:v.jsx("div",{className:"max-w-4xl mx-auto",children:i==="GUIDE"?v.jsxs("div",{className:"prose prose-slate max-w-none",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-6",children:""}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[v.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100",children:[v.jsx("div",{className:"w-10 h-10 bg-indigo-600 text-white rounded-xl flex items-center justify-center font-bold mb-4",children:"1"}),v.jsx("h3",{className:"text-lg font-bold text-indigo-900 mb-2",children:""}),v.jsx("p",{className:"text-sm text-indigo-700/80 leading-relaxed",children:"AI  OCR "})]}),v.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100",children:[v.jsx("div",{className:"w-10 h-10 bg-emerald-600 text-white rounded-xl flex items-center justify-center font-bold mb-4",children:"2"}),v.jsx("h3",{className:"text-lg font-bold text-emerald-900 mb-2",children:""}),v.jsx("p",{className:"text-sm text-emerald-700/80 leading-relaxed",children:'""'})]})]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"AI "}),v.jsx("p",{className:"text-sm text-slate-600 mb-4",children:" AI "}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-blue-500 to-indigo-600"}),v.jsx("h4",{className:"font-bold text-slate-800",children:"Google Gemini"})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" JSON gemini-2.0-flash"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-orange-500 to-red-500"}),v.jsx("h4",{className:"font-bold text-slate-800",children:""})]}),v.jsx("p",{className:"text-xs text-slate-500",children:"qwen-vl-max"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-purple-500 to-pink-500"}),v.jsx("h4",{className:"font-bold text-slate-800",children:""})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" Ark  ID (ep-xxx)"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-emerald-500 to-teal-600"}),v.jsx("h4",{className:"font-bold text-slate-800",children:"OpenAI / "})]}),v.jsx("p",{className:"text-xs text-slate-500",children:" API OpenAI gpt-4o"})]})]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"LaTeX "}),v.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl text-emerald-400 font-mono text-sm leading-relaxed mb-12",children:[v.jsx("p",{className:"text-slate-500 mb-2",children:"//  JSON "}),`"content": " $f(x) = \\\\sqrt{{x^2 + 1}}$ $f'(x)$"`]})]}):i==="DATA"?v.jsxs("div",{className:"space-y-10",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-4",children:""}),v.jsx("p",{className:"text-slate-500",children:""})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm flex flex-col",children:[v.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center mb-6",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-8 flex-1",children:" JSON "}),v.jsx("button",{onClick:f,className:"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]}),v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm flex flex-col",children:[v.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-600 rounded-2xl flex items-center justify-center mb-6",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})]})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-8 flex-1",children:""}),v.jsx("button",{onClick:m,className:"w-full py-3 border-2 border-amber-200 text-amber-600 font-bold rounded-xl hover:bg-amber-50 transition-all",children:o?"...":""}),v.jsx("input",{type:"file",ref:a,className:"hidden",accept:".json",onChange:p})]})]}),v.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 text-slate-300",children:[v.jsxs("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5 text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM5.884 6.607a1 1 0 010-1.414l.707-.707a1 1 0 111.414 1.414l-.707.707a1 1 0 01-1.414 0zm11.314 2.828a1 1 0 11-1.414 0 1 1 0 011.414 0zm-2.828 4.243a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zm-4.243 2.828a1 1 0 100-2v-1a1 1 0 10-2 0v1a1 1 0 100 2zM4.47 14.25a1 1 0 000 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 0zM4 10a1 1 0 110-2 1 1 0 010 2z",clipRule:"evenodd"})}),""]}),v.jsxs("p",{className:"text-sm leading-relaxed opacity-80 mb-2",children:[v.jsx("strong",{className:"text-indigo-300",children:""}),v.jsx("br",{}),"Local-FirstLocalStorage"]}),v.jsxs("p",{className:"text-sm leading-relaxed opacity-80",children:[v.jsx("strong",{className:"text-indigo-300",children:""}),v.jsx("br",{})," JSON "]})]})]}):v.jsxs("div",{className:"space-y-8 pb-20",children:[v.jsxs("div",{className:"mb-10",children:[v.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-4",children:" API "}),v.jsxs("p",{className:"text-slate-500",children:[" ",v.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"Content-Type: application/json"}),""]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-3",children:[v.jsx("span",{className:"w-12 h-[1px] bg-slate-200"}),"",v.jsx("span",{className:"flex-1 h-[1px] bg-slate-200"})]}),v.jsx(x,{method:"GET",path:"/api/questions",desc:"",params:"?subject=&query=&limit=20&offset=0",response:`[
  {
    "id": "uuid-string",
    "subject": "",
    "content": "...",
    "difficulty": 3,
    "createdAt": 1700000000000,
    "knowledgePoints": ["", ""],
    "image": "url_or_base64"
  },
  ...
]`}),v.jsx(x,{method:"POST",path:"/api/questions",desc:"image ",payload:`{
  "subject": "",
  "content": " $m$ ...",
  "options": ["$A. 10N$", "$B. 20N$"],
  "answer": "A",
  "analysis": "...",
  "knowledgePoints": ["", ""],
  "difficulty": 4,
  "image": "data:image/jpeg;base64,..."
}`,response:`{
  "id": "new-uuid",
  "createdAt": 1709253400000,
  "status": "success"
}`})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-3",children:[v.jsx("span",{className:"w-12 h-[1px] bg-slate-200"}),"",v.jsx("span",{className:"flex-1 h-[1px] bg-slate-200"})]}),v.jsx(x,{method:"POST",path:"/api/backup/import",desc:" JSON ",payload:`{
  "version": "1.2.0",
  "data": [ /*  */ ]
}`,response:'{ "importedCount": 150, "status": "ok" }'})]})]})})})]}),v.jsx("div",{className:"h-12 border-t border-slate-100 flex items-center justify-center bg-slate-50 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"E-Bu DevHub   v1.3.0"})]})},W4=["from-pink-500 to-rose-500","from-cyan-500 to-blue-500","from-amber-500 to-orange-500","from-violet-500 to-purple-500","from-lime-500 to-green-500","from-red-500 to-pink-500","from-teal-500 to-cyan-500","from-fuchsia-500 to-pink-500"],ZT=({onClose:t})=>{var $,ce,ye;const[e,i]=ve.useState("AI"),[l,a]=ve.useState({activeProvider:Qe.GEMINI,providers:{},customProviders:[]}),[o,c]=ve.useState(Qe.GEMINI),[f,m]=ve.useState(!1),[p,x]=ve.useState(null),[S,T]=ve.useState(null),[E,_]=ve.useState(!1),[R,k]=ve.useState(""),[U,Q]=ve.useState(null),[J,ie]=ve.useState(!1),[te,V]=ve.useState(!1);ve.useEffect(()=>{if(S){const K=setTimeout(()=>T(null),3e3);return()=>clearTimeout(K)}},[S]),ve.useEffect(()=>{(async()=>{try{const re=await mt.getAIConfig();a(re),c(re.activeProvider)}catch(re){console.error("Failed to load config",re),T({type:"error",message:""})}})()},[]),ve.useEffect(()=>{e==="DB"&&!U&&!J&&q()},[e]);const q=async()=>{try{ie(!0);const K=await mt.getMigrationStatus();Q(K)}catch(K){console.error("Failed to load migration status",K);const re=K instanceof Error?K.message:"";T({type:"error",message:re})}finally{ie(!1)}},ae=async()=>{try{V(!0);const K=await mt.migrateToLatest();T({type:"success",message:` ${K.count||0} `}),await q()}catch(K){console.error("Migration failed",K);const re=K instanceof Error?K.message:"";T({type:"error",message:re})}finally{V(!1)}},W=K=>!Object.values(Qe).includes(K),be=()=>{var K;if(W(o)){const re=(K=l.customProviders)==null?void 0:K.find(Ne=>Ne.id===o);return(re==null?void 0:re.config)||{}}return l.providers[o]||{}},me=K=>{W(o)?a(re=>({...re,customProviders:re.customProviders.map(Ne=>Ne.id===o?{...Ne,config:{...Ne.config,...K}}:Ne)})):a(re=>({...re,providers:{...re.providers,[o]:{...re.providers[o],...K}}}))},de=K=>{c(K),x(null)},Te=()=>{a(K=>({...K,activeProvider:o}))},we=()=>{if(!R.trim())return;const K={id:`custom-${Date.now()}`,name:R.trim(),color:W4[l.customProviders.length%W4.length],config:{}};a(re=>({...re,customProviders:[...re.customProviders,K]})),k(""),_(!1),c(K.id)},Le=K=>{window.confirm("")&&(a(re=>({...re,customProviders:re.customProviders.filter(Ne=>Ne.id!==K),activeProvider:re.activeProvider===K?Qe.GEMINI:re.activeProvider})),o===K&&c(Qe.GEMINI))},Y=async()=>{try{m(!0),x(null),T(null);let K;if(W(l.activeProvider)){const re=l.customProviders.find(Ne=>Ne.id===l.activeProvider);K={type:l.activeProvider,apiKey:re==null?void 0:re.config.apiKey,baseUrl:re==null?void 0:re.config.baseUrl,modelName:re==null?void 0:re.config.modelName,systemPrompt:l.systemPrompt}}else{const re=l.providers[l.activeProvider]||{};K={type:l.activeProvider,apiKey:re.apiKey,baseUrl:re.baseUrl,modelName:re.modelName,systemPrompt:l.systemPrompt}}await v4(K),mt.saveAIConfig(l),T({type:"success",message:""}),x({success:!0,message:""}),e==="AI"&&setTimeout(()=>{t()},1500)}catch(K){const re=K instanceof Error?K.message:"";x({success:!1,message:re}),T({type:"error",message:`: ${re}`})}finally{m(!1)}},se=async()=>{try{m(!0),x(null);let K;if(W(o)){const re=l.customProviders.find(Ne=>Ne.id===o);K={type:o,apiKey:re==null?void 0:re.config.apiKey,baseUrl:re==null?void 0:re.config.baseUrl,modelName:re==null?void 0:re.config.modelName,systemPrompt:l.systemPrompt}}else{const re=l.providers[o]||{};K={type:o,apiKey:re.apiKey,baseUrl:re.baseUrl,modelName:re.modelName,systemPrompt:l.systemPrompt}}await v4(K),x({success:!0,message:""})}catch(K){const re=K instanceof Error?K.message:"";x({success:!1,message:re})}finally{m(!1)}},Ae=()=>{window.confirm("")&&a({...l,systemPrompt:Ao})},qe=[{id:Qe.GEMINI,name:"Google Gemini",desc:" ()",color:"from-blue-500 to-indigo-600"},{id:Qe.QWEN,name:"",desc:"VL",color:"from-orange-500 to-red-500"},{id:Qe.DOUBAO,name:"",desc:"",color:"from-purple-500 to-pink-500"},{id:Qe.OPENAI,name:"OpenAI / ",desc:" API ",color:"from-emerald-500 to-teal-600"}],Ue=be(),L=($=l.customProviders)==null?void 0:$.find(K=>K.id===o);return v.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row h-[700px]",children:[v.jsxs("div",{className:"w-full md:w-48 bg-slate-50 border-r border-slate-100 p-6 flex flex-col",children:[v.jsx("h2",{className:"text-xl font-black text-slate-800 mb-8 px-2",children:""}),v.jsxs("nav",{className:"space-y-2 flex-1",children:[v.jsx("button",{onClick:()=>i("AI"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${e==="AI"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:"AI "}),v.jsx("button",{onClick:()=>i("PROMPT"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${e==="PROMPT"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""}),v.jsx("button",{onClick:()=>i("DB"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${e==="DB"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""}),v.jsx("button",{onClick:()=>i("ABOUT"),className:`w-full text-left px-4 py-2 rounded-xl text-sm font-bold transition-all ${e==="ABOUT"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:""})]}),v.jsx("button",{onClick:t,className:"mt-auto px-4 py-2 text-sm font-bold text-slate-400 hover:text-slate-800 transition-colors",children:""})]}),v.jsxs("div",{className:"flex-1 flex flex-col p-8 overflow-y-auto bg-white",children:[S&&v.jsxs("div",{className:`mb-4 p-4 rounded-2xl border flex items-center gap-3 animate-in slide-in-from-top-2 duration-300 ${S.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[S.type==="success"?v.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):v.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),v.jsx("span",{className:"font-bold text-sm",children:S.message}),v.jsx("button",{onClick:()=>T(null),className:"ml-auto text-current opacity-50 hover:opacity-100 transition-opacity",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e==="AI"?v.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500",children:" AI "})]}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:qe.map(K=>v.jsxs("button",{onClick:()=>de(K.id),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${o===K.id?"border-indigo-600 bg-indigo-50/50 shadow-sm":"border-slate-100 hover:border-slate-200"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${K.color} flex items-center justify-center text-white text-xs`,children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:K.name}),v.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:K.desc})]}),l.activeProvider===K.id&&v.jsx("div",{className:"text-indigo-600 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},K.id))}),l.customProviders&&l.customProviders.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:""}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.customProviders.map(K=>v.jsxs("button",{onClick:()=>de(K.id),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${o===K.id?"border-indigo-600 bg-indigo-50/50 shadow-sm":"border-slate-100 hover:border-slate-200"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${K.color} flex items-center justify-center text-white text-xs font-bold`,children:K.name.charAt(0).toUpperCase()}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:K.name}),v.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:K.description||" OpenAI "})]}),l.activeProvider===K.id&&v.jsx("div",{className:"text-indigo-600 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},K.id))})]}),E?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:R,onChange:K=>k(K.target.value),placeholder:"",className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",autoFocus:!0,onKeyDown:K=>K.key==="Enter"&&we()}),v.jsx("button",{onClick:we,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700",children:""}),v.jsx("button",{onClick:()=>{_(!1),k("")},className:"px-4 py-2 border border-slate-200 text-slate-500 rounded-xl font-bold text-sm hover:bg-slate-50",children:""})]}):v.jsxs("button",{onClick:()=>_(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 text-slate-500 rounded-xl font-bold text-sm hover:border-indigo-300 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),""]}),p&&v.jsx("div",{className:`p-4 rounded-2xl border ${p.success?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:v.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[p.success?v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),p.message]})}),v.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h4",{className:"font-bold text-slate-700",children:[W(o)?L==null?void 0:L.name:(ce=qe.find(K=>K.id===o))==null?void 0:ce.name," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[W(o)&&v.jsx("button",{onClick:()=>Le(o),className:"text-xs bg-rose-100 text-rose-600 px-3 py-1 rounded-full font-bold hover:bg-rose-200 transition-colors",children:""}),l.activeProvider===o?v.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-bold",children:""}):v.jsx("button",{onClick:Te,className:"text-xs bg-slate-200 text-slate-600 px-3 py-1 rounded-full font-bold hover:bg-indigo-100 hover:text-indigo-700 transition-colors",children:""})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (API Key)"}),v.jsx("input",{type:"password",value:Ue.apiKey||"",onChange:K=>me({apiKey:K.target.value}),placeholder:o===Qe.GEMINI?"Google AI API Key":o===Qe.QWEN?"API Key":o===Qe.DOUBAO?"API Key":"sk-...",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]}),o!==Qe.GEMINI&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Base URL)"}),v.jsx("input",{type:"text",value:Ue.baseUrl||"",onChange:K=>me({baseUrl:K.target.value}),placeholder:o===Qe.QWEN?"https://dashscope.aliyuncs.com/compatible-mode/v1":o===Qe.DOUBAO?"https://ark.cn-beijing.volces.com/api/v3":"https://api.openai.com/v1",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" (Model ID)"}),v.jsx("input",{type:"text",value:Ue.modelName||"",onChange:K=>me({modelName:K.target.value}),placeholder:o===Qe.GEMINI?"gemini-2.0-flash":o===Qe.QWEN?"qwen-vl-max":o===Qe.DOUBAO?"ep-xxxxxxxxxx (ID)":"gpt-4o",className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm transition-all shadow-sm"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:se,disabled:f,className:"flex-1 py-4 bg-emerald-600 text-white font-black rounded-2xl hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"...":""}),v.jsx("button",{onClick:Y,disabled:f,className:"flex-1 py-4 bg-indigo-600 text-white font-black rounded-2xl hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"...":""})]})]}):e==="DB"?v.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),v.jsx("p",{className:"text-sm text-slate-500",children:" Docker / "})]}),v.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"DB PATH"}),v.jsx("div",{className:"text-sm font-bold text-slate-700 break-all",children:(U==null?void 0:U.dbPath)||"-"})]}),v.jsx("button",{onClick:q,disabled:J,className:"px-4 py-2 rounded-xl text-sm font-black border-2 border-slate-200 text-slate-600 hover:bg-white transition-all disabled:opacity-50",children:J?"...":""})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CURRENT"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(U==null?void 0:U.current)??"-"})]}),v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"LATEST"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(U==null?void 0:U.latest)??"-"})]}),v.jsxs("div",{className:"p-3 rounded-xl bg-white border border-slate-100",children:[v.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"PENDING"}),v.jsx("div",{className:"text-lg font-black text-slate-800",children:(U==null?void 0:U.pendingCount)??"-"})]})]}),((ye=U==null?void 0:U.pending)==null?void 0:ye.length)>0?v.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-3 rounded-xl",children:[v.jsx("div",{className:"text-xs font-bold text-amber-700 mb-2",children:""}),v.jsx("div",{className:"space-y-1",children:U.pending.map(K=>v.jsxs("div",{className:"text-[11px] text-amber-800 font-mono",children:["v",K.version," - ",K.name]},K.version))})]}):v.jsx("div",{className:"bg-emerald-50 border border-emerald-100 p-3 rounded-xl",children:v.jsx("div",{className:"text-xs font-bold text-emerald-700",children:""})}),v.jsx("button",{onClick:ae,disabled:te,className:"w-full py-3 bg-indigo-600 text-white font-black rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:te?"...":""}),v.jsx("div",{className:"text-[10px] text-slate-400 leading-relaxed",children:" `schema_migrations` "})]})]}):e==="PROMPT"?v.jsxs("div",{className:"flex flex-col h-full animate-in slide-in-from-right-4 duration-300",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"AI "}),v.jsx("p",{className:"text-sm text-slate-500",children:" AI  System Prompt "})]}),v.jsxs("div",{className:"flex-1 min-h-0 flex flex-col gap-4",children:[v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("textarea",{value:l.systemPrompt||Ao,onChange:K=>a({...l,systemPrompt:K.target.value}),className:"w-full h-full p-4 bg-slate-900 text-emerald-400 font-mono text-xs rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 outline-none leading-relaxed resize-none shadow-inner",placeholder:"..."}),v.jsx("div",{className:"absolute top-4 right-4 text-[10px] font-bold text-slate-700 bg-slate-800 px-2 py-1 rounded",children:"SYSTEM_PROMPT"})]}),v.jsx("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:v.jsx("p",{className:"text-[10px] text-amber-700 font-bold leading-relaxed",children:"  AI  JSON  content, analysis "})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:Ae,className:"px-6 py-3 border-2 border-slate-200 text-slate-500 font-bold rounded-xl hover:bg-slate-50 transition-all",children:""}),v.jsx("button",{onClick:Y,className:"flex-1 py-3 bg-indigo-600 text-white font-black rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:""})]})]})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 animate-in zoom-in-95 duration-300",children:[v.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-3xl flex items-center justify-center text-indigo-600 mb-4 shadow-sm",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"E-Bu v1.3.0"}),v.jsx("p",{className:"text-slate-500 text-sm max-w-xs leading-relaxed",children:" AI GeminiOpenAI"}),v.jsxs("div",{className:"pt-8 flex gap-6",children:[v.jsx("a",{href:"#",className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors underline decoration-2 underline-offset-4",children:""}),v.jsx("a",{href:"#",className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors underline decoration-2 underline-offset-4",children:""})]})]})]})]})})},WT=()=>{const[t,e]=ve.useState([]),[i,l]=ve.useState([]),[a,o]=ve.useState("LIBRARY"),[c,f]=ve.useState(!0),[m,p]=ve.useState("ALL"),[x,S]=ve.useState(null),[T,E]=ve.useState(null),[_,R]=ve.useState(!1),[k,U]=ve.useState(!1),[Q,J]=ve.useState(!1),[ie,te]=ve.useState(!1),[V,q]=ve.useState(!1),[ae,W]=ve.useState(""),[be,me]=ve.useState("CARD"),[de,Te]=ve.useState(new Set);ve.useEffect(()=>{mt.syncRemoteConfig()},[]),ve.useEffect(()=>{we()},[a]);const we=async()=>{f(!0);try{if(a==="LIBRARY"){const fe=await mt.fetchQuestions();e(fe)}else{const fe=await mt.fetchTrash();l(fe)}Te(new Set)}catch(fe){console.error("Failed to load questions",fe)}finally{f(!1)}},Le=async fe=>{if(window.confirm(""))try{await mt.deleteQuestion(fe),e(Me=>Me.filter(et=>et.id!==fe));const Pe=t.find(Me=>Me.id===fe);Pe&&l(Me=>[{...Pe,deletedAt:Date.now()},...Me]),(x==null?void 0:x.id)===fe&&S(null),Ae(fe)}catch{alert("")}},Y=async fe=>{try{await mt.restoreQuestion(fe);const Pe=i.find(Me=>Me.id===fe);l(Me=>Me.filter(et=>et.id!==fe)),Pe&&e(Me=>[Pe,...Me]),Ae(fe)}catch{alert("")}},se=async fe=>{if(window.confirm(""))try{await mt.hardDeleteQuestion(fe),l(Pe=>Pe.filter(Me=>Me.id!==fe)),Ae(fe)}catch{alert("")}},Ae=fe=>{Te(Pe=>{const Me=new Set(Pe);return Me.delete(fe),Me})},qe=async(fe,Pe)=>{try{const Me=await mt.updateQuestion(fe,{difficulty:Pe});L(fe,Me)}catch(Me){console.error(Me)}},Ue=(fe,Pe,Me)=>{const et=Ut=>Ut.id===fe?{...Ut,[Pe]:Me}:Ut;e(Ut=>Ut.map(et)),l(Ut=>Ut.map(et)),(x==null?void 0:x.id)===fe&&S(Ut=>Ut?{...Ut,[Pe]:Me}:null)},L=(fe,Pe)=>{a==="LIBRARY"?e(Me=>Me.map(et=>et.id===fe?Pe:et)):l(Me=>Me.map(et=>et.id===fe?Pe:et)),(x==null?void 0:x.id)===fe&&S(Pe)},ce=(a==="LIBRARY"?t:i).filter(fe=>{const Pe=m==="ALL"||fe.subject===m,Me=fe.content.toLowerCase().includes(ae.toLowerCase())||fe.knowledgePoints.some(et=>et.toLowerCase().includes(ae.toLowerCase()));return Pe&&Me}),ye=()=>t.filter(fe=>de.has(fe.id)),K=fe=>{Te(Pe=>{const Me=new Set(Pe);return Me.has(fe)?Me.delete(fe):Me.add(fe),Me})},re=()=>{const fe=ce.map(et=>et.id),Pe=fe.every(et=>de.has(et)),Me=new Set(de);Pe?fe.forEach(et=>Me.delete(et)):fe.forEach(et=>Me.add(et)),Te(Me)},Ne=async()=>{if(window.confirm(` ${de.size} `))try{await Promise.all(Array.from(de).map(fe=>mt.deleteQuestion(fe))),we()}catch{alert("")}},ft=async()=>{if(window.confirm(` ${de.size} `))try{await Promise.all(Array.from(de).map(fe=>mt.hardDeleteQuestion(fe))),we()}catch{alert("")}},it=async()=>{try{await Promise.all(Array.from(de).map(fe=>mt.restoreQuestion(fe))),we()}catch{alert("")}},bn=async fe=>{try{const Pe=await mt.createQuestion(fe);e(Me=>[Pe,...Me])}catch(Pe){throw console.error("Batch save failed",Pe),new Error(Pe.message||"")}},Un=ce.length>0&&ce.every(fe=>de.has(fe.id));return v.jsxs("div",{className:"min-h-screen flex flex-col",children:[v.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-30 px-4 py-3 md:px-6 md:py-4",children:v.jsxs("div",{className:"max-w-7xl mx-auto flex flex-wrap md:flex-nowrap items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer shrink-0 order-1",onClick:()=>o("LIBRARY"),children:[v.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:v.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h1",{className:"text-lg md:text-xl font-bold text-slate-900 leading-tight",children:"E-Bu"}),v.jsxs("div",{className:"px-1.5 py-0.5 md:px-2 bg-slate-100 border border-slate-200 rounded text-[9px] font-bold text-slate-500 flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 bg-emerald-500 rounded-full animate-pulse"}),"AI Enhanced"]})]}),v.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mt-0.5",children:""})]})]}),v.jsxs("div",{className:"w-full md:w-auto md:flex-1 max-w-xl relative order-3 md:order-2",children:[v.jsx("input",{type:"text",placeholder:`${a==="LIBRARY"?"":""}...`,value:ae,onChange:fe=>W(fe.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 bg-slate-100 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 transition-all text-sm"}),v.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),v.jsxs("div",{className:"flex gap-2 md:gap-3 items-center order-2 md:order-3 ml-auto md:ml-0",children:[v.jsxs("div",{className:"hidden min-[400px]:flex items-center gap-0.5 md:gap-1 mr-1 border-r border-slate-200 pr-2 md:pr-3",children:[v.jsx("a",{href:"https://github.com/aymwoo/E-Bu",target:"_blank",rel:"noreferrer",className:"p-2 rounded-xl text-slate-400 hover:text-slate-900 hover:bg-slate-100 transition-all",title:"GitHub Repository",children:v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:v.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),v.jsx("a",{href:"https://gitee.com/aymwoo/E-Bu",target:"_blank",rel:"noreferrer",className:"p-2 rounded-xl hover:bg-red-50 transition-all group",title:"Gitee Repository",children:v.jsx("img",{src:"/gitee.ico",alt:"Gitee",className:"w-6 h-6 object-contain opacity-50 group-hover:opacity-100 transition-opacity"})})]}),v.jsx("button",{onClick:()=>q(!0),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"",children:v.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),v.jsxs("button",{onClick:()=>o(a==="LIBRARY"?"TRASH":"LIBRARY"),className:`relative p-2 rounded-xl border transition-all ${a==="TRASH"?"bg-amber-50 border-amber-200 text-amber-600":"bg-white border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,title:a==="LIBRARY"?"":"",children:[v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a==="LIBRARY"&&i.length>0&&v.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] flex items-center justify-center rounded-full font-bold",children:i.length})]}),v.jsx("button",{onClick:()=>U(!0),className:"hidden sm:block px-4 py-2 text-indigo-600 font-semibold text-sm hover:bg-indigo-50 rounded-xl transition-colors border border-indigo-100",children:""}),v.jsxs("button",{onClick:()=>R(!0),className:"px-3 md:px-4 py-2 bg-indigo-600 text-white font-semibold text-sm rounded-xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),v.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}),v.jsxs("main",{className:"flex-1 max-w-7xl w-full mx-auto p-6",children:[v.jsx("div",{className:"mb-8 flex items-center justify-between",children:v.jsx("div",{children:v.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[a==="LIBRARY"?"":"",v.jsx("span",{className:"text-slate-300 font-light",children:"/"}),v.jsxs("span",{className:"text-sm font-bold text-slate-400",children:[ce.length," "]})]})})}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[v.jsx("div",{className:"flex items-center gap-4 overflow-x-auto pb-2 scrollbar-hide",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>p("ALL"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${m==="ALL"?"bg-indigo-600 text-white":"bg-white text-slate-500"}`,children:""}),Object.values(Ro).map(fe=>v.jsx("button",{onClick:()=>p(fe),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${m===fe?"bg-indigo-600 text-white":"bg-white text-slate-500"}`,children:fe},fe))]})}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-xl overflow-hidden",children:[v.jsx("button",{onClick:()=>me("CARD"),className:`px-3 py-2 text-sm font-bold transition-colors ${be==="CARD"?"bg-indigo-600 text-white":"text-slate-500 hover:bg-slate-50"}`,title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h7v7H4V6zm9 0h7v7h-7V6zM4 15h7v3H4v-3zm9 0h7v3h-7v-3z"})})}),v.jsx("button",{onClick:()=>me("LIST"),className:`px-3 py-2 text-sm font-bold transition-colors ${be==="LIST"?"bg-indigo-600 text-white":"text-slate-500 hover:bg-slate-50"}`,title:"",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})})})]}),v.jsxs("button",{onClick:re,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold border transition-all ${Un?"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200":"bg-white text-slate-600 border-slate-300 hover:bg-slate-50"}`,children:[v.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${Un?"border-white/30 bg-white/20":"border-slate-400 bg-transparent"}`,children:Un&&v.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),Un?"":""]})]})]}),c?v.jsx("div",{className:"flex items-center justify-center py-24",children:"Loading..."}):ce.length>0?be==="CARD"?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 pb-24",children:ce.map(fe=>v.jsx(VT,{question:fe,isSelected:de.has(fe.id),onToggleSelect:()=>K(fe.id),onDelete:a==="TRASH"?se:Le,onRestore:Y,onView:S,onEdit:E,onUpdateDifficulty:qe,isTrashMode:a==="TRASH"},fe.id))}):v.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase tracking-widest",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-4 text-center",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4",children:""}),v.jsx("th",{className:"px-6 py-4 text-right",children:""})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:ce.map(fe=>v.jsx(FT,{question:fe,isSelected:de.has(fe.id),onToggleSelect:()=>K(fe.id),onDelete:a==="TRASH"?se:Le,onRestore:Y,onView:S,onEdit:E,onUpdateDifficulty:qe,isTrashMode:a==="TRASH"},fe.id))})]})})}):v.jsx("div",{className:"text-center py-24",children:""})]}),de.size>0&&v.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-40 bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-6 animate-in slide-in-from-bottom-10 fade-in duration-300",children:[v.jsxs("span",{className:"text-sm font-bold",children:[" ",de.size," "]}),a==="LIBRARY"?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20",children:""}),v.jsx("button",{onClick:Ne,className:"px-4 py-2 text-sm font-bold text-slate-300 hover:text-white hover:bg-white/10 rounded-xl transition-colors",children:""})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:it,className:"px-4 py-2 bg-indigo-600 rounded-xl text-sm font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-900/20",children:""}),v.jsx("button",{onClick:ft,className:"px-4 py-2 text-sm font-bold text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded-xl transition-colors",children:""})]})]}),_&&v.jsx(jT,{onQuestionSaved:bn,onCancel:()=>{R(!1),we()}}),x&&v.jsx(YT,{question:x,onClose:()=>S(null),onUpdateDifficulty:qe,onUpdateField:Ue}),T&&v.jsx(Fg,{question:T,onClose:()=>E(null),onSaved:fe=>{L(fe.id,fe),(x==null?void 0:x.id)===fe.id&&S(fe)}}),k&&v.jsx(XT,{questions:t,onClose:()=>U(!1)}),Q&&v.jsx(QT,{questions:ye(),onClose:()=>J(!1)}),ie&&v.jsx($T,{onClose:()=>te(!1),onDataChanged:we}),V&&v.jsx(ZT,{onClose:()=>q(!1)})]})},Yg=document.getElementById("root");if(!Yg)throw new Error("Could not find root element to mount to");const ew=E3.createRoot(Yg);ew.render(v.jsx(v3.StrictMode,{children:v.jsx(WT,{})}));
